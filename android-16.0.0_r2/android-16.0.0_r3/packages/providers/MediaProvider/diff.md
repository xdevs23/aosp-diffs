```diff
diff --git a/AndroidManifest.xml b/AndroidManifest.xml
index a19e718b5..eeef8bccc 100644
--- a/AndroidManifest.xml
+++ b/AndroidManifest.xml
@@ -95,13 +95,19 @@
             android:forceQueryable="true"
             android:usesCleartextTraffic="true"
             android:crossProfile="true"
-            android:allowBackup="true"
+            android:allowBackup="@bool/platformIsAtLeastBaklava"
             android:fullBackupOnly="true"
             android:backupInForeground="true"
             android:killAfterRestore="false"
             android:restoreAnyVersion="true"
             android:backupAgent="com.android.providers.media.backupandrestore.MediaBackupAgent"
             android:dataExtractionRules="@xml/data_extraction_rules">
+
+        <!-- This property is required to keep media provider alive after restore is completed -->
+        <property
+            android:name="android.app.backup.PROPERTY_USE_RESTRICTED_BACKUP_MODE"
+            android:value="false"/>
+
         <provider
                 android:name="com.android.providers.media.MediaProvider"
                 android:authorities="media"
diff --git a/apex/Android.bp b/apex/Android.bp
index 83f2966c1..af8802e6e 100644
--- a/apex/Android.bp
+++ b/apex/Android.bp
@@ -35,6 +35,10 @@ apex {
         "libpdfclient",
     ],
     compile_multilib: "both",
+    licenses: [
+        "Android-Apache-2.0",
+        "opensourcerequest",
+    ],
 }
 
 apex_defaults {
@@ -129,7 +133,6 @@ bootclasspath_fragment {
             "android.graphics.pdf.models.selection",
             "android.graphics.pdf.logging",
             "android.widget.photopicker",
-            "com.android.providers.media.flags",
         ],
     },
 }
diff --git a/apex/framework/api/current.txt b/apex/framework/api/current.txt
index f62ec73d9..d88847ebf 100644
--- a/apex/framework/api/current.txt
+++ b/apex/framework/api/current.txt
@@ -71,6 +71,7 @@ package android.provider {
     field public static final String EXTRA_SYNC_GENERATION = "android.provider.extra.SYNC_GENERATION";
     field public static final String MANAGE_CLOUD_MEDIA_PROVIDERS_PERMISSION = "com.android.providers.media.permission.MANAGE_CLOUD_MEDIA_PROVIDERS";
     field @FlaggedApi("com.android.providers.media.flags.cloud_media_provider_search") public static final String MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS = "com.android.providers.media.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS";
+    field @FlaggedApi("com.android.providers.media.flags.cloud_provider_albums_as_category_api") public static final String MEDIA_CATEGORY_TYPE_USER_ALBUMS = "com.android.providers.media.MEDIA_CATEGORY_TYPE_USER_ALBUMS";
     field public static final String PROVIDER_INTERFACE = "android.content.action.CLOUD_MEDIA_PROVIDER";
     field @FlaggedApi("com.android.providers.media.flags.cloud_media_provider_search") public static final String SEARCH_SUGGESTION_ALBUM = "com.android.providers.media.SEARCH_SUGGESTION_ALBUM";
     field @FlaggedApi("com.android.providers.media.flags.cloud_media_provider_search") public static final String SEARCH_SUGGESTION_DATE = "com.android.providers.media.SEARCH_SUGGESTION_DATE";
@@ -90,6 +91,7 @@ package android.provider {
 
   @FlaggedApi("com.android.providers.media.flags.enable_cloud_media_provider_capabilities") public static final class CloudMediaProviderContract.Capabilities implements android.os.Parcelable {
     method public int describeContents();
+    method @FlaggedApi("com.android.providers.media.flags.cloud_provider_albums_as_category_api") public boolean isAlbumsAsCategoryEnabled();
     method @FlaggedApi("com.android.providers.media.flags.cloud_media_provider_search") public boolean isMediaCategoriesEnabled();
     method @FlaggedApi("com.android.providers.media.flags.cloud_media_provider_search") public boolean isSearchEnabled();
     method public void writeToParcel(@NonNull android.os.Parcel, int);
@@ -99,6 +101,7 @@ package android.provider {
   @FlaggedApi("com.android.providers.media.flags.enable_cloud_media_provider_capabilities") public static final class CloudMediaProviderContract.Capabilities.Builder {
     ctor public CloudMediaProviderContract.Capabilities.Builder();
     method @NonNull public android.provider.CloudMediaProviderContract.Capabilities build();
+    method @FlaggedApi("com.android.providers.media.flags.cloud_provider_albums_as_category_api") @NonNull public android.provider.CloudMediaProviderContract.Capabilities.Builder setAlbumsAsCategoryEnabled(boolean);
     method @FlaggedApi("com.android.providers.media.flags.cloud_media_provider_search") @NonNull public android.provider.CloudMediaProviderContract.Capabilities.Builder setMediaCategoriesEnabled(boolean);
     method @FlaggedApi("com.android.providers.media.flags.cloud_media_provider_search") @NonNull public android.provider.CloudMediaProviderContract.Capabilities.Builder setSearchEnabled(boolean);
   }
@@ -214,6 +217,8 @@ package android.provider {
     field public static final String EXTRA_OUTPUT = "output";
     field @FlaggedApi("com.android.providers.media.flags.picker_pre_selection_extra") public static final String EXTRA_PICKER_PRE_SELECTION_URIS = "android.provider.extra.PICKER_PRE_SELECTION_URIS";
     field @FlaggedApi("com.android.providers.media.flags.picker_accent_color") public static final String EXTRA_PICK_IMAGES_ACCENT_COLOR = "android.provider.extra.PICK_IMAGES_ACCENT_COLOR";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM = "android.provider.extra.PICK_IMAGES_HIGHLIGHT_ALBUM";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS = "android.provider.extra.PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS";
     field @FlaggedApi("com.android.providers.media.flags.pick_ordered_images") public static final String EXTRA_PICK_IMAGES_IN_ORDER = "android.provider.extra.PICK_IMAGES_IN_ORDER";
     field @FlaggedApi("com.android.providers.media.flags.picker_default_tab") public static final String EXTRA_PICK_IMAGES_LAUNCH_TAB = "android.provider.extra.PICK_IMAGES_LAUNCH_TAB";
     field public static final String EXTRA_PICK_IMAGES_MAX = "android.provider.extra.PICK_IMAGES_MAX";
@@ -229,6 +234,9 @@ package android.provider {
     field public static final String INTENT_ACTION_TEXT_OPEN_FROM_SEARCH = "android.media.action.TEXT_OPEN_FROM_SEARCH";
     field public static final String INTENT_ACTION_VIDEO_CAMERA = "android.media.action.VIDEO_CAMERA";
     field public static final String INTENT_ACTION_VIDEO_PLAY_FROM_SEARCH = "android.media.action.VIDEO_PLAY_FROM_SEARCH";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID = "android.provider.media.key.PICK_IMAGES_HIGHLIGHT_MEDIA_ALBUM_ID";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY = "android.provider.media.key.PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String KEY_PICK_IMAGES_HIGHLIGHT_TYPE = "android.provider.media.key.PICK_IMAGES_HIGHLIGHT_TYPE";
     field public static final int MATCH_DEFAULT = 0; // 0x0
     field public static final int MATCH_EXCLUDE = 2; // 0x2
     field public static final int MATCH_INCLUDE = 1; // 0x1
@@ -237,6 +245,13 @@ package android.provider {
     field public static final String MEDIA_SCANNER_VOLUME = "volume";
     field public static final String META_DATA_REVIEW_GALLERY_PREWARM_SERVICE = "android.media.review_gallery_prewarm_service";
     field public static final String META_DATA_STILL_IMAGE_CAMERA_PREWARM_SERVICE = "android.media.still_image_camera_preview_service";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA = "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS = "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES = "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS = "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS = "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS";
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final int PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED = 0; // 0x0
+    field @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") public static final int PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED = 1; // 0x1
     field @FlaggedApi("com.android.providers.media.flags.picker_default_tab") public static final int PICK_IMAGES_TAB_ALBUMS = 0; // 0x0
     field @FlaggedApi("com.android.providers.media.flags.picker_default_tab") public static final int PICK_IMAGES_TAB_IMAGES = 1; // 0x1
     field public static final String QUERY_ARG_INCLUDE_RECENTLY_UNMOUNTED_VOLUMES = "android:query-arg-recently-unmounted-volumes";
diff --git a/apex/framework/api/system-current.txt b/apex/framework/api/system-current.txt
index f002605a1..a4019bc4e 100644
--- a/apex/framework/api/system-current.txt
+++ b/apex/framework/api/system-current.txt
@@ -80,6 +80,7 @@ package android.provider {
     ctor public OemMetadataService();
     method @NonNull public final android.os.IBinder onBind(@Nullable android.content.Intent);
     method @NonNull public abstract java.util.Map<java.lang.String,java.lang.String> onGetOemCustomData(@NonNull android.os.ParcelFileDescriptor);
+    method @FlaggedApi("com.android.providers.media.flags.enable_oem_metadata_using_mimetype") @NonNull public java.util.Map<java.lang.String,java.lang.String> onGetOemCustomDataUsingMimeType(@NonNull android.os.ParcelFileDescriptor, @NonNull String);
     method @NonNull public abstract java.util.Set<java.lang.String> onGetSupportedMimeTypes();
     field public static final String BIND_OEM_METADATA_SERVICE_PERMISSION = "com.android.providers.media.permission.BIND_OEM_METADATA_SERVICE";
     field public static final String SERVICE_INTERFACE = "android.provider.OemMetadataService";
diff --git a/apex/framework/java/android/provider/CloudMediaProviderContract.java b/apex/framework/java/android/provider/CloudMediaProviderContract.java
index e477af289..017d43407 100644
--- a/apex/framework/java/android/provider/CloudMediaProviderContract.java
+++ b/apex/framework/java/android/provider/CloudMediaProviderContract.java
@@ -143,9 +143,8 @@ public final class CloudMediaProviderContract {
         * This capability is disabled by default.
         *
         * @return true if albums will be returned as a MediaCategory.
-        *
-        * @hide
         */
+        @FlaggedApi(Flags.FLAG_CLOUD_PROVIDER_ALBUMS_AS_CATEGORY_API)
         public boolean isAlbumsAsCategoryEnabled() {
             return mAlbumsAsCategory;
         }
@@ -261,7 +260,7 @@ public final class CloudMediaProviderContract {
             }
 
             /**
-             * If the CloudMediaProvider will return user albums as a grouped category.
+             * Set true if the CloudMediaProvider will return user albums as a grouped category.
              *
              * When this capability is enabled, {@link CloudMediaProvider#onQueryAlbums} will
              * no longer be called to sync the users albums, and it is expected that a
@@ -279,10 +278,9 @@ public final class CloudMediaProviderContract {
              * @see #MEDIA_CATEGORY_TYPE_USER_ALBUMS
              *
              * @param enabled true if this capability is supported, the default value is false.
-             *
-             * @hide
              */
             @NonNull
+           @FlaggedApi(Flags.FLAG_CLOUD_PROVIDER_ALBUMS_AS_CATEGORY_API)
             public Builder setAlbumsAsCategoryEnabled(boolean enabled) {
                 mAlbumsAsCategoryEnabled = enabled;
                 return this;
@@ -903,6 +901,18 @@ public final class CloudMediaProviderContract {
      */
     public static final String EXTRA_MEDIASTORE_THUMB = "android.provider.extra.MEDIASTORE_THUMB";
 
+    /**
+     * A boolean extra indicating the Cloud Media Provider if the PhotoPicker will display
+     * the local device folders or not.
+     * <p>If set to {@code true}, it indicates that the PhotoPicker shows local device folders,
+     * otherwise it indicates that it does not display them.
+     * <p>
+     * Type: BOOLEAN
+     * @hide
+     */
+    public static final String EXTRA_PICKER_SHOWS_DEVICE_FOLDERS =
+            "android.provider.extra.EXTRA_PICKER_SHOWS_DEVICE_FOLDERS";
+
     /**
      * Constant used to execute {@link CloudMediaProvider#onGetMediaCollectionInfo} via
      * {@link ContentProvider#call}.
@@ -1144,7 +1154,10 @@ public final class CloudMediaProviderContract {
      *  for existing user albums and use MediaSet only for supported MediaCategories .
      *
      * The currently supported MediaCategory in photo picker are
-     * {@link #MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS}.
+     * <ul>
+     *   <li>{@link #MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS}
+     *   <li>{@link #MEDIA_CATEGORY_TYPE_USER_ALBUMS}
+     * </ul>
      *
      * These are the fields of a MediaSet.
      *
@@ -1230,8 +1243,10 @@ public final class CloudMediaProviderContract {
      * </ul>
      *
      * The currently supported MediaCategory in photo picker are
-     * {@link #MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS}.
-     *
+     * <ul>
+     *   <li>{@link #MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS}
+     *   <li>{@link #MEDIA_CATEGORY_TYPE_USER_ALBUMS}
+     * </ul>
      * These are the fields of MediaCategory.
      * @see CloudMediaProvider#onQueryMediaCategories
      */
@@ -1347,12 +1362,32 @@ public final class CloudMediaProviderContract {
      * Represents media category related to a user's custom albums.
      * @see MediaCategoryColumns#MEDIA_CATEGORY_TYPE
      * Type: STRING
-     *
-     * @hide
      */
+    /* TODO: b/415912822 add mention of the category type in the calling apis */
+    @FlaggedApi(Flags.FLAG_CLOUD_PROVIDER_ALBUMS_AS_CATEGORY_API)
     public static final String MEDIA_CATEGORY_TYPE_USER_ALBUMS =
             "com.android.providers.media.MEDIA_CATEGORY_TYPE_USER_ALBUMS";
 
+    /**
+     * Represents media category related to device folders on device.
+     * @see MediaCategoryColumns#MEDIA_CATEGORY_TYPE
+     * Type: STRING
+     *
+     * @hide
+     */
+    public static final String MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS =
+            "com.android.providers.media.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS";
+
+    /**
+     * Represents media category related to app folders on device.
+     * @see MediaCategoryColumns#MEDIA_CATEGORY_TYPE
+     * Type: STRING
+     *
+     * @hide
+     */
+    public static final String MEDIA_CATEGORY_TYPE_APP_FOLDERS =
+            "com.android.providers.media.MEDIA_CATEGORY_TYPE_APP_FOLDERS";
+
     /**
      * Defines the types of media categories available and supported in photo picker.
      * All MediaCategories returned must be of any type from the fields available in this class.
@@ -1362,7 +1397,9 @@ public final class CloudMediaProviderContract {
      */
     @StringDef(value = {
             MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS,
-            MEDIA_CATEGORY_TYPE_USER_ALBUMS
+            MEDIA_CATEGORY_TYPE_USER_ALBUMS,
+            MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+            MEDIA_CATEGORY_TYPE_APP_FOLDERS
     })
     @Retention(SOURCE)
     public @interface MediaCategoryType {}
diff --git a/apex/framework/java/android/provider/IOemMetadataService.aidl b/apex/framework/java/android/provider/IOemMetadataService.aidl
index 8b8e02a39..9c4df46a4 100644
--- a/apex/framework/java/android/provider/IOemMetadataService.aidl
+++ b/apex/framework/java/android/provider/IOemMetadataService.aidl
@@ -38,4 +38,11 @@ oneway interface IOemMetadataService {
     * callback.
     */
    void getOemCustomData(in ParcelFileDescriptor fd, in RemoteCallback callback);
+
+   /**
+    * Method to get a callback of OEM custom metadata for file whose file descriptor and mime type
+    * has been passed. A key-value map of metadata is expected. List of keys and values will be set
+    * in the callback.
+    */
+   void getOemCustomDataUsingMimeType(in ParcelFileDescriptor fd, in String mimeType, in RemoteCallback callback);
 }
diff --git a/apex/framework/java/android/provider/MediaStore.java b/apex/framework/java/android/provider/MediaStore.java
index b8ff19503..0a8b3e635 100644
--- a/apex/framework/java/android/provider/MediaStore.java
+++ b/apex/framework/java/android/provider/MediaStore.java
@@ -26,6 +26,7 @@ import android.annotation.NonNull;
 import android.annotation.Nullable;
 import android.annotation.SdkConstant;
 import android.annotation.SdkConstant.SdkConstantType;
+import android.annotation.StringDef;
 import android.annotation.SuppressLint;
 import android.annotation.SystemApi;
 import android.annotation.WorkerThread;
@@ -412,6 +413,13 @@ public final class MediaStore {
     @VisibleForTesting
     public static final String REMOVE_RECOVERY_DATA = "remove_recovery_data";
 
+    /**
+     * Only used for testing.
+     * {@hide}
+     */
+    @VisibleForTesting
+    public static final String MEDIA_SERVICE_V2_CALL = "media_service_v2_call";
+
     /**
      * Only used for testing.
      * {@hide}
@@ -419,6 +427,9 @@ public final class MediaStore {
     @VisibleForTesting
     public static final String DELETE_BACKED_UP_FILE_PATHS = "delete_backed_up_file_paths";
 
+    /** {@hide} */
+    public static final String QUERY_FILE_ATTRS_FROM_LEVELDB = "query_file_attrs_from_leveldb";
+
     /** {@hide} */
     public static final String QUERY_ARG_MIME_TYPE = "android:query-arg-mime_type";
     /** {@hide} */
@@ -1085,6 +1096,216 @@ public final class MediaStore {
     @FlaggedApi("com.android.providers.media.flags.picker_default_tab")
     public static final int PICK_IMAGES_TAB_IMAGES = 1;
 
+    /**
+     * The name of an optional intent-extra used to allow apps to highlight search results in the
+     * photopicker UI whenever feasible based on the given input text query in
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY}
+     * The extra can only be specified in {@link MediaStore#ACTION_PICK_IMAGES}.
+     * <p>
+     * This intent extra will accept a {@link Bundle} object. The bundle object should have two
+     * keys specified.
+     * The first key {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_TYPE} will
+     * specify the type of media highlight the app wants to opt for and should be one of
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED} for a highlighted media section to
+     * be shown when the photopicker launches or
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED} to open the photopicker to show
+     * a highlighted media results grid based on the given input query.
+     * Any other value for this key will result in throwing {@code IllegalArgumentException}.
+     * The second bundle key {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY}
+     * will accept a string value specifying the query for highlighting media results.
+     * If this input value is empty, the request to highlight media will be ignored and
+     * no highlight will be shown at all. In case of null input query,
+     * {@code IllegalArgumentException} is thrown.
+     * Highlighting media results of a photopicker album is also supported. See
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM} for more details.
+     * Only one of {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS} or
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM} should be used at any given time.
+     * Specifying both will result in {@code IllegalArgumentException} to be thrown.
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS =
+            "android.provider.extra.PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS";
+
+    /**
+     * The name of an optional intent-extra used to allow apps to highlight media results of a
+     * photopicker album in the photopicker UI whenever feasible based on the given input album in
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID}.
+     * The extra can only be specified in {@link MediaStore#ACTION_PICK_IMAGES}.
+     * <p>
+     * This intent extra will accept a {@link Bundle} object. The bundle object should have two
+     * keys specified.
+     * The first key {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_TYPE} will
+     * specify the type of media highlight the app wants to opt for and should be one of
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED} for a highlighted media section to
+     * be shown when the photopicker launches or
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED} to open the photopicker to show
+     * a highlighted media results grid based on the given input album.
+     * Any other value for this key will result in throwing {@code IllegalArgumentException}.
+     * The second bundle key {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID}
+     * will specify the album to be highlighted and its value should be one of:
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES} for the Favorites album,
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA} for the Camera album,
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS} for the Screenshots album,
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS} for the Videos album and
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS} for the Downloads album.
+     * Any other value for this key will result in throwing {@code IllegalArgumentException}.
+     * Highlighting media results based on an input string text query is also supported. See
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS} for more details.
+     * Only one of {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS} or
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM} should be used at any given time.
+     * Specifying both will result in {@code IllegalArgumentException} to be thrown.
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM =
+            "android.provider.extra.PICK_IMAGES_HIGHLIGHT_ALBUM";
+
+    /**
+     * One of the {@link Bundle} keys for
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS} specifying the input query for
+     * which the app can request to show highlighted media results in the photopicker.
+     * The photopicker will trigger a search based on this input value to show
+     * highlighted media results.
+     * The value of this key can be any string value for which the app wants to show highlighted
+     * results.
+     * In case the input text query is null, {@code IllegalArgumentException} is thrown.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY =
+            "android.provider.media.key.PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY";
+
+    /**
+     * One of the {@link Bundle} keys for
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM} specifying the photopicker album for
+     * which the app can request to show highlighted media results in the photopicker.
+     * The value of this key should be one of
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES},
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA},
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS},
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS} or
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS}.
+     * Any other value for this key will result in throwing {@code IllegalArgumentException}.
+     * See: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID =
+            "android.provider.media.key.PICK_IMAGES_HIGHLIGHT_MEDIA_ALBUM_ID";
+
+    /**
+     * One of the {@link Bundle} keys for
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS} and
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM} to specify the highlight type
+     * i.e. the way the highlighted media results will be shown in the photopicker.
+     * The value can be one of {@link MediaStore#PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED} to show a
+     * highlight media section in the photopicker or
+     * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED} to show a highlighted media
+     * results grid.
+     * Any other value for this key will result in throwing {@code IllegalArgumentException}.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String KEY_PICK_IMAGES_HIGHLIGHT_TYPE =
+            "android.provider.media.key.PICK_IMAGES_HIGHLIGHT_TYPE";
+
+    /** @hide */
+    @Retention(RetentionPolicy.SOURCE)
+    @IntDef(prefix = { "PICK_IMAGES_HIGHLIGHT_TYPE_" }, value = {
+            PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED,
+            PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED
+    })
+    public @interface PickImagesHighlightType { }
+
+
+    /**
+     * One of the permitted values for
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_TYPE}
+     * to highlight media results as a highlighted media section in the photopicker based on the
+     * given input query in {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY} or the
+     * given input photopicker album in MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID}.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS} and
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final int PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED = 0;
+
+    /**
+     * One of the permitted values for
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_TYPE}
+     * to show a highlighted media results grid based on the given input query in
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY} or the given input
+     * photopicker album in MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID}.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS} and
+     * {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final int PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED = 1;
+
+    /** @hide */
+    @Retention(RetentionPolicy.SOURCE)
+    @StringDef(prefix = { "PICK_IMAGES_HIGHLIGHT_ALBUM_" }, value = {
+            PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES,
+            PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA,
+            PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS,
+            PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS,
+            PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS
+    })
+    public @interface PickImagesHighlightAlbum { }
+
+    /**
+     * One of the possible album highlight values for
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID}
+     * in case an app chooses to highlight media results from an album, in this case, the
+     * Favorites album.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES =
+            "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES";
+
+    /**
+     * One of the possible album highlight values for
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID} in case
+     * an app chooses to highlight media results from an album, in this case, the
+     * Camera album.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA =
+            "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA";
+
+    /**
+     * One of the possible album highlight values for
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID}
+     * in case an app chooses to highlight media results from from an album, in this case, the
+     * Screenshots album.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS =
+            "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS";
+
+    /**
+     * One of the possible album highlight values for
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID} in case
+     * an app chooses to highlight media results from an album, in this case, the
+     * Videos album.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS =
+            "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS";
+
+    /**
+     * One of the possible album highlight values for
+     * {@link MediaStore#KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID} in case
+     * an app chooses to highlight media results from an album, in this case, the
+     * Downloads album.
+     * Read more: {@link MediaStore#EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public static final String PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS =
+            "android.provider.media.PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS";
+
     /**
      * Specify that the caller wants to receive the original media format without transcoding.
      *
@@ -1710,12 +1931,6 @@ public final class MediaStore {
         Objects.requireNonNull(resolver);
         Objects.requireNonNull(uris);
 
-        final ContentValues values = new ContentValues();
-        if (areFavorites) {
-            values.put(MediaColumns.IS_FAVORITE, 1);
-        } else {
-            values.put(MediaColumns.IS_FAVORITE, 0);
-        }
         final Iterator<Uri> it = uris.iterator();
         final ClipData clipData = ClipData.newRawUri(null, it.next());
         while (it.hasNext()) {
@@ -1724,7 +1939,7 @@ public final class MediaStore {
 
         final Bundle extras = new Bundle();
         extras.putParcelable(EXTRA_CLIP_DATA, clipData);
-        extras.putParcelable(EXTRA_CONTENT_VALUES, values);
+        extras.putBoolean(MediaColumns.IS_FAVORITE, areFavorites);
         resolver.call(AUTHORITY, MARK_MEDIA_AS_FAVORITE, null, extras);
     }
 
diff --git a/apex/framework/java/android/provider/OemMetadataService.java b/apex/framework/java/android/provider/OemMetadataService.java
index d2654e30e..dfab5efcc 100644
--- a/apex/framework/java/android/provider/OemMetadataService.java
+++ b/apex/framework/java/android/provider/OemMetadataService.java
@@ -133,6 +133,22 @@ public abstract class OemMetadataService extends Service {
     @NonNull
     public abstract Map<String, String> onGetOemCustomData(@NonNull ParcelFileDescriptor fd);
 
+    /**
+     * Returns a key-value {@link Map} of {@link String} which OEMs wants to store as custom
+     * metadata for a file. Returns an empty map if no custom data is present for the file.
+     *
+     * If not overridden, onGetOemCustomData() is invoked.
+     * @param fd       file descriptor of the file in lower file system
+     * @param mimeType of the file
+     * @return map of key-value pairs of string
+     */
+    @NonNull
+    @FlaggedApi(Flags.FLAG_ENABLE_OEM_METADATA_USING_MIMETYPE)
+    public Map<String, String> onGetOemCustomDataUsingMimeType(
+            @NonNull ParcelFileDescriptor fd, @NonNull String mimeType) {
+        return onGetOemCustomData(fd);
+    }
+
 
     private final IOemMetadataService mInterface = new IOemMetadataService.Stub() {
         @Override
@@ -147,6 +163,13 @@ public abstract class OemMetadataService extends Service {
             sendResultForOemCustomData(oemCustomData, callback);
         }
 
+        @Override
+        public void getOemCustomDataUsingMimeType(ParcelFileDescriptor pfd, String mimeType,
+                RemoteCallback callback) {
+            Map<String, String> oemCustomData = onGetOemCustomDataUsingMimeType(pfd, mimeType);
+            sendResultForOemCustomData(oemCustomData, callback);
+        }
+
         private void sendResultForOemCustomData(Map<String, String> oemCustomData,
                 RemoteCallback callback) {
             Bundle bundle = new Bundle();
diff --git a/apex/framework/java/android/provider/OemMetadataServiceWrapper.java b/apex/framework/java/android/provider/OemMetadataServiceWrapper.java
index 634632589..70049b73b 100644
--- a/apex/framework/java/android/provider/OemMetadataServiceWrapper.java
+++ b/apex/framework/java/android/provider/OemMetadataServiceWrapper.java
@@ -107,6 +107,24 @@ public final class OemMetadataServiceWrapper {
         }).get(mServiceTimeoutInSeconds, TimeUnit.SECONDS);
     }
 
+    /**
+     * Gets OEM custom data from OemMetadataService within certain timeout.
+     */
+    public Map<String, String> getOemCustomDataUsingMimeType(ParcelFileDescriptor pfd,
+            String mimeType) throws ExecutionException, InterruptedException, TimeoutException {
+        if (!Flags.enableOemMetadataUsingMimetype()) {
+            return new HashMap<>();
+        }
+
+        return mExecutorService.submit(() -> {
+            CompletableFuture<Map<String, String>> future = new CompletableFuture<>();
+            RemoteCallback callback = new RemoteCallback(
+                    result -> setResultForGetOemCustomData(result, future));
+            mOemMetadataService.getOemCustomDataUsingMimeType(pfd, mimeType, callback);
+            return future.get();
+        }).get(mServiceTimeoutInSeconds, TimeUnit.SECONDS);
+    }
+
     @FlaggedApi(Flags.FLAG_ENABLE_OEM_METADATA)
     private void setResultForGetSupportedMimeTypes(Bundle result,
             CompletableFuture<Set<String>> future) {
diff --git a/jni/Android.bp b/jni/Android.bp
index bd583cb1f..3268975fc 100644
--- a/jni/Android.bp
+++ b/jni/Android.bp
@@ -59,7 +59,7 @@ cc_library_shared {
         "-Wthread-safety",
 
         "-D_FILE_OFFSET_BITS=64",
-        "-DFUSE_USE_VERSION=34",
+        "-DFUSE_USE_VERSION=312",
     ],
 
     tidy: true,
diff --git a/jni/FuseDaemon.cpp b/jni/FuseDaemon.cpp
index d22758bba..0e5024c3f 100644
--- a/jni/FuseDaemon.cpp
+++ b/jni/FuseDaemon.cpp
@@ -2408,11 +2408,6 @@ static struct fuse_lowlevel_ops ops{
     /*.copy_file_range = pf_copy_file_range,*/
 };
 
-static struct fuse_loop_config config = {
-        .clone_fd = 1,
-        .max_idle_threads = 10,
-};
-
 static std::unordered_map<enum fuse_log_level, enum android_LogPriority> fuse_to_android_loglevel({
     {FUSE_LOG_EMERG, ANDROID_LOG_FATAL},
     {FUSE_LOG_ALERT, ANDROID_LOG_ERROR},
@@ -2620,7 +2615,18 @@ void FuseDaemon::Start(android::base::unique_fd fd, const std::string& path,
     // fuse_session_loop(se);
     // Multi-threaded
     LOG(INFO) << "Starting fuse...";
-    fuse_session_loop_mt(se, &config);
+
+    struct fuse_loop_config* config = fuse_loop_cfg_create();
+    if (!config) {
+        PLOG(ERROR) << "Failed to create config";
+        return;
+    }
+
+    fuse_loop_cfg_set_clone_fd(config, 1);
+    fuse_loop_cfg_set_max_threads(config, 100);
+    fuse_loop_cfg_set_idle_threads(config, 10);
+    fuse_session_loop_mt(se, config);
+    fuse_loop_cfg_destroy(config);
     fuse->active->store(false, std::memory_order_release);
     LOG(INFO) << "Ending fuse...";
 
diff --git a/jni/com_android_providers_media_FuseDaemon.cpp b/jni/com_android_providers_media_FuseDaemon.cpp
index 483320b73..a2ecec985 100644
--- a/jni/com_android_providers_media_FuseDaemon.cpp
+++ b/jni/com_android_providers_media_FuseDaemon.cpp
@@ -33,9 +33,13 @@ namespace {
 
 constexpr const char* FUSE_DAEMON_CLASS_NAME = "com/android/providers/media/fuse/FuseDaemon";
 constexpr const char* FD_ACCESS_RESULT_CLASS_NAME = "com/android/providers/media/FdAccessResult";
+constexpr const char* FILE_ACCESS_ATTRIBUTES_CLASS_NAME =
+        "com/android/providers/media/FileAccessAttributes";
 static jclass gFuseDaemonClass;
 static jclass gFdAccessResultClass;
 static jmethodID gFdAccessResultCtor;
+static jclass gFileAccessAttributesClass;
+static jmethodID gFileAccessAttributesCtor;
 
 static std::vector<std::string> convert_object_array_to_string_vector(
         JNIEnv* env, jobjectArray java_object_array, const std::string& element_description) {
@@ -255,6 +259,102 @@ jobjectArray com_android_providers_media_FuseDaemon_read_backed_up_file_paths(
                                                   utf_chars_lastReadValue.c_str(), limit));
 }
 
+jobject com_android_providers_media_FuseDaemon_query_file_access_attributes(JNIEnv* env,
+                                                                            jobject self,
+                                                                            jlong java_daemon,
+                                                                            jstring path) {
+    fuse::FuseDaemon* const daemon = reinterpret_cast<fuse::FuseDaemon*>(java_daemon);
+    ScopedUtfChars utf_chars_path(env, path);
+    if (!utf_chars_path.c_str()) {
+        LOG(WARNING) << "Couldn't initialise FUSE device id";
+        return nullptr;
+    }
+
+    std::string value = daemon->ReadBackedUpDataFromLevelDb(utf_chars_path.c_str());
+    if (value.empty()) {
+        LOG(DEBUG) << "No backed up data found for path " << path;
+        return nullptr;
+    }
+
+    size_t prev = 0, pos = 0;
+    std::string delimiter = "::";
+
+    auto deserialize_bool = [&](size_t& prev, size_t& pos) -> bool {
+        pos = value.find(delimiter, prev);
+        bool result = value.substr(prev, pos - prev) == "1";
+        prev = pos + delimiter.length();
+        return result;
+    };
+
+    auto deserialize_int = [&](size_t& prev, size_t& pos) -> int {
+        pos = value.find(delimiter, prev);
+        int result = std::atoi(value.substr(prev, pos - prev).c_str());
+        prev = pos + delimiter.length();
+        return result;
+    };
+
+    auto deserialize_long = [&](size_t& prev, size_t& pos) -> int {
+        pos = value.find(delimiter, prev);
+        long result = std::atol(value.substr(prev, pos - prev).c_str());
+        prev = pos + delimiter.length();
+        return result;
+    };
+
+    bool is_dirty = deserialize_bool(prev, pos);
+    if (is_dirty) {
+        LOG(DEBUG) << "Backed up data for path {" << path << "} is dirty";
+        return nullptr;
+    }
+
+    long row_id = deserialize_long(prev, pos);
+    if (row_id == -1) {
+        LOG(DEBUG) << "Error deserializing row id for path {" << path << "} from backed up data";
+        return nullptr;
+    }
+
+    bool is_favorite = deserialize_bool(prev, pos);
+    bool is_pending = deserialize_bool(prev, pos);
+    bool is_trashed = deserialize_bool(prev, pos);
+
+    int media_type = deserialize_int(prev, pos);
+    if (media_type == -1) {
+        LOG(DEBUG) << "Error deserializing media type for path {" << path << "} from backed up data";
+        return nullptr;
+    }
+
+    int user_id = deserialize_int(prev, pos);
+    if (user_id == -1) {
+        LOG(DEBUG) << "Error deserializing user id for path {" << path << "} from backed up data";
+        return nullptr;
+    }
+
+    pos = value.find(delimiter, prev);
+    std::string key = value.substr(prev, pos - prev);
+    int owner_pkg_id = std::atoi(key.c_str());
+
+    if (owner_pkg_id == -1) {
+        LOG(DEBUG) << "Error deserializing owner package id for path {" << path
+                   << "} from backed up data";
+        return nullptr;
+    }
+
+    std::string owner_pkg_identifier = daemon->ReadOwnership(key);
+    if (owner_pkg_identifier.empty()) {
+        LOG(DEBUG) << "No ownership information found for owner id " << owner_pkg_id;
+        return nullptr;
+    }
+    std::string owner_pkg_name =
+            owner_pkg_identifier.substr(0, owner_pkg_identifier.find(delimiter));
+    if (owner_pkg_name.empty()) {
+        LOG(DEBUG) << "No owner package name found for owner id " << owner_pkg_id;
+        return nullptr;
+    }
+
+    return env->NewObject(gFileAccessAttributesClass, gFileAccessAttributesCtor, row_id, media_type,
+                          is_pending, is_trashed, owner_pkg_id,
+                          env->NewStringUTF(owner_pkg_name.c_str()));
+}
+
 jstring com_android_providers_media_FuseDaemon_read_backed_up_data(JNIEnv* env, jobject self,
                                                                    jlong java_daemon,
                                                                    jstring java_path) {
@@ -355,6 +455,10 @@ const JNINativeMethod methods[] = {
         {"native_read_backed_up_file_paths",
          "(JLjava/lang/String;Ljava/lang/String;I)[Ljava/lang/String;",
          reinterpret_cast<void*>(com_android_providers_media_FuseDaemon_read_backed_up_file_paths)},
+        {"native_query_file_access_attributes",
+         "(JLjava/lang/String;)Lcom/android/providers/media/FileAccessAttributes;",
+         reinterpret_cast<void*>(
+                 com_android_providers_media_FuseDaemon_query_file_access_attributes)},
         {"native_read_backed_up_data", "(JLjava/lang/String;)Ljava/lang/String;",
          reinterpret_cast<void*>(com_android_providers_media_FuseDaemon_read_backed_up_data)},
         {"native_read_ownership", "(JLjava/lang/String;)Ljava/lang/String;",
@@ -372,6 +476,8 @@ void register_android_providers_media_FuseDaemon(JavaVM* vm, JNIEnv* env) {
             static_cast<jclass>(env->NewGlobalRef(env->FindClass(FUSE_DAEMON_CLASS_NAME)));
     gFdAccessResultClass =
             static_cast<jclass>(env->NewGlobalRef(env->FindClass(FD_ACCESS_RESULT_CLASS_NAME)));
+    gFileAccessAttributesClass = static_cast<jclass>(
+            env->NewGlobalRef(env->FindClass(FILE_ACCESS_ATTRIBUTES_CLASS_NAME)));
 
     if (gFuseDaemonClass == nullptr) {
         LOG(FATAL) << "Unable to find class : " << FUSE_DAEMON_CLASS_NAME;
@@ -381,6 +487,10 @@ void register_android_providers_media_FuseDaemon(JavaVM* vm, JNIEnv* env) {
         LOG(FATAL) << "Unable to find class : " << FD_ACCESS_RESULT_CLASS_NAME;
     }
 
+    if (gFileAccessAttributesClass == nullptr) {
+        LOG(FATAL) << "Unable to find class : " << FILE_ACCESS_ATTRIBUTES_CLASS_NAME;
+    }
+
     if (env->RegisterNatives(gFuseDaemonClass, methods, sizeof(methods) / sizeof(methods[0])) < 0) {
         LOG(FATAL) << "Unable to register native methods";
     }
@@ -390,6 +500,12 @@ void register_android_providers_media_FuseDaemon(JavaVM* vm, JNIEnv* env) {
         LOG(FATAL) << "Unable to find ctor for FdAccessResult";
     }
 
+    gFileAccessAttributesCtor =
+            env->GetMethodID(gFileAccessAttributesClass, "<init>", "(JIZZILjava/lang/String;)V");
+    if (gFileAccessAttributesCtor == nullptr) {
+        LOG(FATAL) << "Unable to find ctor for FileAccessAttributes";
+    }
+
     fuse::MediaProviderWrapper::OneTimeInit(vm);
 }
 }  // namespace mediaprovider
diff --git a/mediaprovider_flags.aconfig b/mediaprovider_flags.aconfig
index de617c438..43be368b1 100644
--- a/mediaprovider_flags.aconfig
+++ b/mediaprovider_flags.aconfig
@@ -175,15 +175,6 @@ flag {
     bug: "316356081"
 }
 
-flag {
-    name: "enable_malicious_app_detector"
-    is_exported: true
-    namespace: "mediaprovider"
-    description: "This flag will enable malicious app detector, putting limits on file creation"
-    bug: "293301664"
-    is_fixed_read_only: true
- }
-
 flag {
     name: "enable_mark_media_as_favorite_api"
     is_exported: true
@@ -265,15 +256,6 @@ flag {
     bug: "381310841"
 }
 
-flag {
-    name: "enable_photopicker_expressive_theme"
-    is_exported: false
-    namespace: "mediaprovider"
-    description: "This flag controls the material expressive theme in com.android.photopicker"
-    is_fixed_read_only: true
-    bug: "390142346"
-}
-
 flag {
     name: "exclude_unreliable_volumes"
     is_exported: true
@@ -309,3 +291,101 @@ flag {
     is_fixed_read_only: true
     is_exported: true
 }
+
+flag {
+    name: "enable_appop_permission_checks_cache"
+    namespace: "mediaprovider"
+    description: "This flag enables caching appop checks to optimize noteOp calls and use checkOp wherever possible."
+    is_fixed_read_only: true
+    is_exported: false
+    bug: "323574186"
+}
+
+flag {
+    name: "enable_oem_metadata_using_mimetype"
+    namespace: "mediaprovider"
+    description: "Controls ability to fetch OEM metadata using file mime type"
+    is_fixed_read_only: true
+    is_exported: true
+    bug: "410763330"
+}
+
+flag {
+    name: "query_leveldb_for_file_attributes"
+    namespace: "mediaprovider"
+    description: "This flag enables MP to query file attributes from backup levelDb database for file open calls."
+    is_fixed_read_only: true
+    is_exported: false
+    bug: "388432933"
+}
+
+flag {
+    name: "highlight_search_results_feature"
+    namespace: "mediaprovider"
+    description: "This flag will enable highlighting search results feature in the photopicker."
+    is_fixed_read_only: true
+    is_exported: false
+    bug: "412586210"
+}
+
+flag {
+    name: "enable_media_service_v2"
+    namespace: "mediaprovider"
+    description: "MediaService now upgraded to MediaServiceV2 with WorkManager, replacing deprecated JobIntentService."
+    is_fixed_read_only: true
+    is_exported: false
+    bug: "366095772"
+}
+
+flag {
+    name: "enable_picker_highlight_search_results_apis"
+    is_exported: true
+    namespace: "mediaprovider"
+    description: "This flag will enable highlighting search results APIs in the photopicker."
+    is_fixed_read_only: true
+    bug: "409508015"
+}
+
+flag {
+    name: "cloud_provider_albums_as_category_api"
+    namespace: "mediaprovider"
+    description: "This flags will unhide the user albums category type and make it public."
+    is_fixed_read_only: true
+    is_exported: true
+    bug: "414528325"
+}
+
+flag {
+    name: "fetch_cloud_albums_as_categories"
+    is_exported: false
+    namespace: "mediaprovider"
+    description: "This flag will enable querying cloud albums as a category in the photopicker."
+    is_fixed_read_only: true
+    bug: "416012542"
+}
+
+flag {
+    name: "enable_versioning_for_backup_and_restore"
+    namespace: "mediaprovider"
+    description: "This flag will enable level db versioning for backup and restore feature"
+    bug: "411073246"
+    is_fixed_read_only: true
+}
+
+flag {
+    name: "enable_media_grid_touch_features"
+    is_exported: false
+    namespace: "mediaprovider"
+    description: "This flag controls the advanced touch features in com.android.photopicker such as drag-to-select and pinch-to-zoom."
+    is_fixed_read_only: true
+    bug: "382684468"
+}
+
+flag {
+    name: "enable_path_sanitization"
+    is_exported: false
+    namespace: "mediaprovider"
+    description: "This flag enables file path sanitization before regex checks"
+    is_fixed_read_only: true
+    bug: "377888957"
+}
diff --git a/pdf/framework-v/api/current.txt b/pdf/framework-v/api/current.txt
index 90cf2e276..636ef36f6 100644
--- a/pdf/framework-v/api/current.txt
+++ b/pdf/framework-v/api/current.txt
@@ -36,6 +36,7 @@ package android.graphics.pdf {
     method @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_annotations") @NonNull public java.util.List<android.util.Pair<java.lang.Integer,android.graphics.pdf.component.PdfAnnotation>> getPageAnnotations();
     method @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_page_objects") @NonNull public java.util.List<android.util.Pair<java.lang.Integer,android.graphics.pdf.component.PdfPageObject>> getPageObjects();
     method @FlaggedApi("android.graphics.pdf.flags.enable_pdf_viewer") @NonNull public java.util.List<android.graphics.pdf.content.PdfPageTextContent> getTextContents();
+    method @FlaggedApi("android.graphics.pdf.flags.enable_get_top_pdf_page_object_at_position") @Nullable public android.util.Pair<java.lang.Integer,android.graphics.pdf.component.PdfPageObject> getTopPageObjectAtPosition(@NonNull android.graphics.PointF, @NonNull int[]);
     method @IntRange(from=0) public int getWidth();
     method @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_annotations") public void removePageAnnotation(@IntRange(from=0) int);
     method @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_page_objects") public void removePageObject(@IntRange(from=0) int);
diff --git a/pdf/framework-v/java/android/graphics/pdf/PdfRenderer.java b/pdf/framework-v/java/android/graphics/pdf/PdfRenderer.java
index 0296fd01d..604bcb5ca 100644
--- a/pdf/framework-v/java/android/graphics/pdf/PdfRenderer.java
+++ b/pdf/framework-v/java/android/graphics/pdf/PdfRenderer.java
@@ -31,6 +31,7 @@ import android.compat.annotation.UnsupportedAppUsage;
 import android.graphics.Bitmap;
 import android.graphics.Bitmap.Config;
 import android.graphics.Matrix;
+import android.graphics.PointF;
 import android.graphics.Rect;
 import android.graphics.pdf.component.PdfAnnotation;
 import android.graphics.pdf.component.PdfAnnotationType;
@@ -570,14 +571,25 @@ public final class PdfRenderer implements AutoCloseable {
          * @param destClip    If null, default zoom is applied. In case the value is non-null, the
          *                    value specifies the top top-left corner of the tile.
          * @param transform   Applied to scale the bitmap up/down from default 1/72 points.
-         * @param params      Render params for the changing display mode and/or annotations.
+         * @param params      Render params for the changing display mode, and / or to control the
+         *                    appearance of annotations and PDF form content
          * @throws IllegalStateException If the document/page is closed before invocation.
          */
         @FlaggedApi(Flags.FLAG_ENABLE_PDF_VIEWER)
         public void render(@NonNull Bitmap destination, @Nullable Rect destClip,
                 @Nullable Matrix transform, @NonNull RenderParams params) {
             throwIfDocumentOrPageClosed();
-            boolean renderFormFields = CompatChanges.isChangeEnabled(RENDER_PDF_FORM_FIELDS);
+            // Form fields are rendered when either is true:
+            // 1) The developer has explicitly opted IN via RenderParams
+            // 2) The application is targeting SDK version >= V and the developer has not
+            // explicitly opted OUT via RenderParams
+            int renderFormFieldsMode = params.getRenderFormContentMode();
+            boolean renderFormFields = false;
+            if (renderFormFieldsMode == RenderParams.RENDER_FORM_CONTENT_DEFAULT) {
+                renderFormFields = CompatChanges.isChangeEnabled(RENDER_PDF_FORM_FIELDS);
+            } else if (renderFormFieldsMode == RenderParams.RENDER_FORM_CONTENT_ENABLED) {
+                renderFormFields = true;
+            }
             mPdfProcessor.renderPage(mIndex, destination, destClip, transform, params,
                     renderFormFields);
         }
@@ -722,8 +734,8 @@ public final class PdfRenderer implements AutoCloseable {
         /**
          * Returns information about the widget with {@code widgetIndex}.
          *
-         * @param widgetIndex the index of the widget within the page's "Annot" array in the PDF
-         *                    document, available on results of previous calls to {@link
+         * @param widgetIndex the index of the widget within the page's widget annotations array in
+         *                    the PDF document, available on results of previous calls to {@link
          *                    #getFormWidgetInfos(int[])} or
          *                    {@link #getFormWidgetInfoAtPosition(int, int)} via
          *                    {@link FormWidgetInfo#getWidgetIndex()}.
@@ -794,9 +806,9 @@ public final class PdfRenderer implements AutoCloseable {
          * the supported annotation types.
          *
          * @return A list of pairs representing the supported annotations and their ids on the page.
-         * @throws IllegalStateException    if {@link PdfRenderer} or
-         *                                  {@link PdfRenderer.Page} is closed before
-         *                                  invocation.
+         * @throws IllegalStateException if {@link PdfRenderer} or
+         *                               {@link PdfRenderer.Page} is closed before
+         *                               invocation.
          */
         @FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_ANNOTATIONS)
         @NonNull
@@ -816,9 +828,10 @@ public final class PdfRenderer implements AutoCloseable {
          *
          * @param annotation the {@link PdfAnnotation} object to add
          * @return id of the added annotation, or -1 if the annotation cannot be added. The id is
-         *         guaranteed to be non-negative if the annotation is added successfully.
-         * @throws IllegalArgumentException if the provided annotation is null or of unsupported
-         *                                  type i.e.- {@link PdfAnnotationType#UNKNOWN}
+         * guaranteed to be non-negative if the annotation is added successfully.
+         * @throws IllegalArgumentException if the provided annotation is of unsupported
+         *                                  type i.e.- {@link PdfAnnotationType#UNKNOWN} or if
+         *                                  the add operation failed.
          * @throws IllegalStateException    if {@link PdfRenderer} or {@link PdfRenderer.Page}
          *                                  is closed before invocation.
          */
@@ -842,7 +855,8 @@ public final class PdfRenderer implements AutoCloseable {
          * {@link PdfRenderer#write}.
          *
          * @param annotationId id of the annotation to remove from the page
-         * @throws IllegalArgumentException if annotationId ie negative
+         * @throws IllegalArgumentException if annotationId is negative or invalid or if the
+         *                                  remove operation failed.
          * @throws IllegalStateException    if {@link PdfRenderer} or {@link PdfRenderer.Page} is
          *                                  closed before invocation or if annotation is failed to
          *                                  get removed from the page.
@@ -859,16 +873,22 @@ public final class PdfRenderer implements AutoCloseable {
          * Update the given {@link PdfAnnotation} to the page.
          *
          * <p>
+         * Note: The {@link PdfAnnotationType} of the provided annotation must be the same as the
+         * original annotation being updated.
+         *
+         * <p>
          * {@link PdfRenderer#write} needs to be called to get the updated PDF stream after calling
          * this method. {@link PdfRenderer.Page} instance can be closed before calling
          * {@link PdfRenderer#write}.
          *
          * @param annotationId id corresponding to which the annotation is to be updated
-         * @param annotation the annotation to update
+         * @param annotation   the annotation to update
          * @return true if annotation is updated, false otherwise
-         * @throws IllegalArgumentException if the provided annotation is null or of
+         * @throws IllegalArgumentException if the provided annotation is of
          *                                  unsupported type i.e. {@link PdfAnnotationType#UNKNOWN}
-         *                                  or if the provided annotationId is negative
+         *                                  or if the provided annotationId is negative or
+         *                                  if {@link PdfAnnotationType} of the provided annotation
+         *                                  is different from the original annotation's type
          * @throws IllegalStateException    if {@link PdfRenderer} or {@link PdfRenderer.Page}  is
          *                                  closed before invocation
          */
@@ -908,6 +928,39 @@ public final class PdfRenderer implements AutoCloseable {
             return mPdfProcessor.getPageObjects(mIndex);
         }
 
+        /**
+         * Retrieves the top-most page object at a specified position.
+         *
+         * @param point The coordinates (as a {@link PointF}) on the page to check for page
+         *              objects.
+         * @param types An array of {@link PdfPageObjectType.Type} values. Only page objects whose
+         *              types are included in this array will be considered. If multiple matching
+         *              objects overlap at the specified point, only the one with the highest
+         *              z-index will be returned. The order of types within this array does not
+         *              influence the outcome.
+         *              If this array is empty, known supported {@link PdfPageObjectType}s will be
+         *              considered.
+         * @return A {@link Pair} containing:
+         * <ul>
+         * <li>An {@link Integer} representing the unique ID of the page object.
+         * <li>A {@link PdfPageObject} representing the found page object.</li>
+         * </ul>
+         * Returns null if no page object is found at the given position.
+         * @throws IllegalStateException if the {@link PdfRenderer.Page} is
+         *                               closed before invocation
+         * @throws IllegalArgumentException if the provided type(s) are not supported.
+         */
+        @Nullable
+        @FlaggedApi(Flags.FLAG_ENABLE_GET_TOP_PDF_PAGE_OBJECT_AT_POSITION)
+        public Pair<Integer, PdfPageObject> getTopPageObjectAtPosition(@NonNull PointF point,
+                @NonNull @PdfPageObjectType.Type int[] types) {
+            throwIfDocumentOrPageClosed();
+            Preconditions.checkNotNull(point, "Argument point cannot be null");
+            Preconditions.checkNotNull(types, "Argument types cannot be null");
+            Preconditions.checkValidPageObjectTypes(types);
+            return mPdfProcessor.getTopPageObjectAtPosition(mIndex, point, types);
+        }
+
         /**
          * Adds the given {@link PdfPageObject} to the page.
          * <p>
@@ -918,7 +971,9 @@ public final class PdfRenderer implements AutoCloseable {
          * @param pageObject the {@code PdfPageObject} object to add.
          * @return id of the added page object, or -1 if the page object cannot be added. The
          * id is guaranteed to be non-negative if the page object is added successfully.
-         * @throws IllegalArgumentException if the provided {@link PdfPageObject} is unknown or null
+         * @throws IllegalArgumentException if the provided {@link PdfPageObject} is of
+         *                                  unsupported type i.e. {@link PdfPageObjectType#UNKNOWN}
+         *                                  or if the add operation failed.
          * @throws IllegalStateException    if the {@link PdfRenderer.Page} is closed before
          *                                  invocation.
          */
@@ -937,7 +992,8 @@ public final class PdfRenderer implements AutoCloseable {
          * <p>
          * Note: This method only updates the parameters of the PageObject whose setters
          * are available. Attempting to update fields with no corresponding setters will
-         * have no effect.
+         * have no effect. Furthermore, the {@link PdfPageObjectType} of the provided pageObject
+         * must be the same as the original pageObject being updated.
          *
          * <p>
          * {@link PdfRenderer#write} needs to be called to get the updated PDF stream after calling
@@ -948,7 +1004,9 @@ public final class PdfRenderer implements AutoCloseable {
          * @param pageObject The {@code PdfPageObject} object to update.
          * @return true if page object is updated, false otherwise.
          * @throws IllegalArgumentException if the provided {@link PdfPageObject} is unsupported or
-         *                                  null.
+         *                                  if the {@link PdfPageObjectType} of the
+         *                                  provided pageObject is different from the original
+         *                                  pageObject's type.
          * @throws IllegalStateException    if the {@link PdfRenderer.Page} is closed before
          *                                  invocation.
          */
@@ -973,7 +1031,8 @@ public final class PdfRenderer implements AutoCloseable {
          * {@link PdfRenderer#write}.
          *
          * @param objectId the id of the page object to remove from the page.
-         * @throws IllegalArgumentException if the provided objectId doesn't exist.
+         * @throws IllegalArgumentException if the provided objectId is negative or invalid or
+         *                                  if the remove operation failed.
          * @throws IllegalStateException    if the page object cannot be removed.
          */
         @FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_PAGE_OBJECTS)
diff --git a/pdf/framework/Android.bp b/pdf/framework/Android.bp
index d2d9459e9..620b6d23a 100644
--- a/pdf/framework/Android.bp
+++ b/pdf/framework/Android.bp
@@ -83,6 +83,7 @@ java_aconfig_library {
     aconfig_declarations: "pdf_viewer_flags",
     visibility: [
         "//packages/providers/MediaProvider/pdf:__subpackages__",
+        "//cts/tests/pdf:__subpackages__",
     ],
     min_sdk_version: "31",
     apex_available: [
diff --git a/pdf/framework/api/current.txt b/pdf/framework/api/current.txt
index feef20bcf..e3efa3e4d 100644
--- a/pdf/framework/api/current.txt
+++ b/pdf/framework/api/current.txt
@@ -45,6 +45,7 @@ package android.graphics.pdf {
     method @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_annotations") @NonNull public java.util.List<android.util.Pair<java.lang.Integer,android.graphics.pdf.component.PdfAnnotation>> getPageAnnotations();
     method @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_page_objects") @NonNull public java.util.List<android.util.Pair<java.lang.Integer,android.graphics.pdf.component.PdfPageObject>> getPageObjects();
     method @NonNull public java.util.List<android.graphics.pdf.content.PdfPageTextContent> getTextContents();
+    method @FlaggedApi("android.graphics.pdf.flags.enable_get_top_pdf_page_object_at_position") @Nullable public android.util.Pair<java.lang.Integer,android.graphics.pdf.component.PdfPageObject> getTopPageObjectAtPosition(@NonNull android.graphics.PointF, @NonNull int[]);
     method @IntRange(from=0) public int getWidth();
     method @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_annotations") public void removePageAnnotation(@IntRange(from=0) int);
     method @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_page_objects") public void removePageObject(@IntRange(from=0) int);
@@ -57,11 +58,15 @@ package android.graphics.pdf {
 
   @FlaggedApi("android.graphics.pdf.flags.enable_pdf_viewer") public final class RenderParams {
     method public int getRenderFlags();
+    method @FlaggedApi("android.graphics.pdf.flags.enable_render_params_form_options") public int getRenderFormContentMode();
     method public int getRenderMode();
     field @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_text_annotations") public static final int FLAG_RENDER_FREETEXT_ANNOTATIONS = 16; // 0x10
     field public static final int FLAG_RENDER_HIGHLIGHT_ANNOTATIONS = 4; // 0x4
     field @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_stamp_annotations") public static final int FLAG_RENDER_STAMP_ANNOTATIONS = 8; // 0x8
     field public static final int FLAG_RENDER_TEXT_ANNOTATIONS = 2; // 0x2
+    field @FlaggedApi("android.graphics.pdf.flags.enable_render_params_form_options") public static final int RENDER_FORM_CONTENT_DEFAULT = 3; // 0x3
+    field @FlaggedApi("android.graphics.pdf.flags.enable_render_params_form_options") public static final int RENDER_FORM_CONTENT_DISABLED = 2; // 0x2
+    field @FlaggedApi("android.graphics.pdf.flags.enable_render_params_form_options") public static final int RENDER_FORM_CONTENT_ENABLED = 1; // 0x1
     field public static final int RENDER_MODE_FOR_DISPLAY = 1; // 0x1
     field public static final int RENDER_MODE_FOR_PRINT = 2; // 0x2
   }
@@ -71,6 +76,7 @@ package android.graphics.pdf {
     method @NonNull public android.graphics.pdf.RenderParams build();
     method @NonNull public android.graphics.pdf.RenderParams.Builder setRenderFlags(int);
     method @NonNull public android.graphics.pdf.RenderParams.Builder setRenderFlags(int, int);
+    method @FlaggedApi("android.graphics.pdf.flags.enable_render_params_form_options") @NonNull public android.graphics.pdf.RenderParams.Builder setRenderFormContentMode(int);
   }
 
 }
@@ -91,9 +97,9 @@ package android.graphics.pdf.component {
 
   @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_annotations") public final class HighlightAnnotation extends android.graphics.pdf.component.PdfAnnotation {
     ctor public HighlightAnnotation(@NonNull java.util.List<android.graphics.RectF>);
-    method @NonNull public java.util.List<android.graphics.RectF> getBounds();
+    method @NonNull public java.util.List<android.graphics.RectF> getBoundsList();
     method @ColorInt public int getColor();
-    method public void setBounds(@NonNull java.util.List<android.graphics.RectF>);
+    method public void setBoundsList(@NonNull java.util.List<android.graphics.RectF>);
     method public void setColor(@ColorInt int);
   }
 
@@ -121,13 +127,6 @@ package android.graphics.pdf.component {
     method public void transform(float, float, float, float, float, float);
   }
 
-  @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_page_objects") public final class PdfPageObjectRenderMode {
-    field public static final int FILL = 0; // 0x0
-    field public static final int FILL_STROKE = 2; // 0x2
-    field public static final int STROKE = 1; // 0x1
-    field public static final int UNKNOWN = -1; // 0xffffffff
-  }
-
   @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_page_objects") public final class PdfPageObjectType {
     method public static boolean isValidType(int);
     field public static final int IMAGE = 3; // 0x3
@@ -147,6 +146,10 @@ package android.graphics.pdf.component {
     method public void setStrokeColor(@ColorInt int);
     method public void setStrokeWidth(float);
     method @NonNull public android.graphics.Path toPath();
+    field public static final int RENDER_MODE_FILL = 0; // 0x0
+    field public static final int RENDER_MODE_FILL_STROKE = 2; // 0x2
+    field public static final int RENDER_MODE_STROKE = 1; // 0x1
+    field public static final int RENDER_MODE_UNKNOWN = -1; // 0xffffffff
   }
 
   @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_text_objects") public final class PdfPageTextObject extends android.graphics.pdf.component.PdfPageObject {
@@ -163,6 +166,10 @@ package android.graphics.pdf.component {
     method public void setStrokeColor(@ColorInt int);
     method public void setStrokeWidth(float);
     method public void setText(@NonNull String);
+    field public static final int RENDER_MODE_FILL = 0; // 0x0
+    field public static final int RENDER_MODE_FILL_STROKE = 2; // 0x2
+    field public static final int RENDER_MODE_STROKE = 1; // 0x1
+    field public static final int RENDER_MODE_UNKNOWN = -1; // 0xffffffff
   }
 
   @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_text_objects") public class PdfPageTextObjectFont {
@@ -174,13 +181,10 @@ package android.graphics.pdf.component {
     method public void setBold(boolean);
     method public void setFontFamily(int);
     method public void setItalic(boolean);
-  }
-
-  @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_text_objects") public class PdfPageTextObjectFontFamily {
-    field public static final int COURIER = 0; // 0x0
-    field public static final int HELVETICA = 1; // 0x1
-    field public static final int SYMBOL = 2; // 0x2
-    field public static final int TIMES_NEW_ROMAN = 3; // 0x3
+    field public static final int FONT_FAMILY_COURIER = 0; // 0x0
+    field public static final int FONT_FAMILY_HELVETICA = 1; // 0x1
+    field public static final int FONT_FAMILY_SYMBOL = 2; // 0x2
+    field public static final int FONT_FAMILY_TIMES_NEW_ROMAN = 3; // 0x3
   }
 
   @FlaggedApi("android.graphics.pdf.flags.enable_edit_pdf_stamp_annotations") public final class StampAnnotation extends android.graphics.pdf.component.PdfAnnotation {
diff --git a/pdf/framework/java/android/graphics/pdf/PdfDocumentProxy.java b/pdf/framework/java/android/graphics/pdf/PdfDocumentProxy.java
index 3a1b065a7..cc9c3eb81 100644
--- a/pdf/framework/java/android/graphics/pdf/PdfDocumentProxy.java
+++ b/pdf/framework/java/android/graphics/pdf/PdfDocumentProxy.java
@@ -19,9 +19,11 @@ package android.graphics.pdf;
 import android.annotation.IntRange;
 import android.annotation.NonNull;
 import android.graphics.Bitmap;
+import android.graphics.PointF;
 import android.graphics.Rect;
 import android.graphics.pdf.component.PdfAnnotation;
 import android.graphics.pdf.component.PdfPageObject;
+import android.graphics.pdf.component.PdfPageObjectType;
 import android.graphics.pdf.content.PdfPageGotoLinkContent;
 import android.graphics.pdf.models.FormWidgetInfo;
 import android.graphics.pdf.models.jni.LinkRects;
@@ -31,6 +33,7 @@ import android.graphics.pdf.models.jni.PageSelection;
 import android.graphics.pdf.models.jni.SelectionBoundary;
 import android.graphics.pdf.utils.StrictModeUtils;
 import android.os.ParcelFileDescriptor;
+import android.util.Pair;
 
 import java.util.List;
 
@@ -313,6 +316,29 @@ public class PdfDocumentProxy {
      */
     public native List<PdfPageObject> getPageObjects(int pageNum);
 
+    /**
+     * Retrieves the top-most page object at a specified position.
+     *
+     * @param pageNum current page number.
+     * @param point The coordinates (as a {@link PointF}) on the page to check for page objects.
+     * @param types An array of {@link PdfPageObjectType.Type} values. Only page objects whose types
+     * are included in this array will be considered. If multiple matching objects overlap at the
+     * specified point, only the one with the highest z-index will be returned.
+     * The order of types within this array does not influence the outcome.
+     * If this array is empty, known supported {@link PdfPageObjectType}s will be considered.
+     *
+     * @return A {@link Pair} containing:
+     * <ul>
+     * <li>An {@link Integer} representing the unique ID of the page object.
+     * <li>A {@link PdfPageObject} representing the found page object.</li>
+     * </ul>
+     * Returns null if no page object is found at the given position.
+     * @throws IllegalStateException if the {@link PdfRenderer.Page} is
+     * closed before invocation
+     */
+    public native Pair<Integer, PdfPageObject> getTopPageObjectAtPosition(int pageNum,
+            @NonNull PointF point, @NonNull int[] types);
+
     /**
      * Adds the given page object to the page.
      *
diff --git a/pdf/framework/java/android/graphics/pdf/PdfProcessor.java b/pdf/framework/java/android/graphics/pdf/PdfProcessor.java
index 960d1cffe..223205775 100644
--- a/pdf/framework/java/android/graphics/pdf/PdfProcessor.java
+++ b/pdf/framework/java/android/graphics/pdf/PdfProcessor.java
@@ -26,10 +26,12 @@ import android.annotation.Nullable;
 import android.graphics.Bitmap;
 import android.graphics.Matrix;
 import android.graphics.Point;
+import android.graphics.PointF;
 import android.graphics.Rect;
 import android.graphics.pdf.component.PdfAnnotation;
 import android.graphics.pdf.component.PdfAnnotationType;
 import android.graphics.pdf.component.PdfPageObject;
+import android.graphics.pdf.component.PdfPageObjectType;
 import android.graphics.pdf.content.PdfPageGotoLinkContent;
 import android.graphics.pdf.content.PdfPageImageContent;
 import android.graphics.pdf.content.PdfPageLinkContent;
@@ -608,6 +610,10 @@ public class PdfProcessor {
                                     pdfAnnotations.get(i)));
                 }
             }
+            mPdfEventLogger.logPdfApiUsageReportedEvent(
+                    PdfEventLogger.ApiTypes.UNKNOWN,
+                    PdfEventLogger.ApiResponseTypes.SUCCESS,
+                    PdfEventLogger.OperationTypes.GET);
             return pdfAnnotationIdPairs;
         }
     }
@@ -630,8 +636,16 @@ public class PdfProcessor {
             assertPdfDocumentNotNull();
             int addedAnnotationIndex = mPdfDocument.addPageAnnotation(pageNum, annotation);
             if (addedAnnotationIndex == -1) {
+                mPdfEventLogger.logPdfApiUsageReportedEvent(
+                        getAnnotationApiType(annotation.getPdfAnnotationType()),
+                        PdfEventLogger.ApiResponseTypes.FAILURE,
+                        PdfEventLogger.OperationTypes.ADD);
                 throw new IllegalArgumentException("Failed to add annotation");
             }
+            mPdfEventLogger.logPdfApiUsageReportedEvent(
+                    getAnnotationApiType(annotation.getPdfAnnotationType()),
+                    PdfEventLogger.ApiResponseTypes.SUCCESS,
+                    PdfEventLogger.OperationTypes.ADD);
             return mPageAnnotationsIdManagerMap.get(pageNum).getIdForIndex(addedAnnotationIndex);
         }
     }
@@ -640,8 +654,8 @@ public class PdfProcessor {
      * Removes the annotation with the specified index.
      *
      * @param annotationId the Id of the annotation to remove
-     *                        from the page
-     * @param pageNum         page number from which annotation is to be removed
+     *                     from the page
+     * @param pageNum      page number from which annotation is to be removed
      */
     public void removePageAnnotation(@IntRange(from = 0) int pageNum,
             int annotationId) {
@@ -655,9 +669,17 @@ public class PdfProcessor {
                         + "call never made?");
             }
             if (!mPdfDocument.removePageAnnotation(pageNum, annotationIndex)) {
+                mPdfEventLogger.logPdfApiUsageReportedEvent(
+                        PdfEventLogger.ApiTypes.UNKNOWN,
+                        PdfEventLogger.ApiResponseTypes.FAILURE,
+                        PdfEventLogger.OperationTypes.REMOVE);
                 throw new IllegalArgumentException("Annotation cannot be removed.");
             }
             pdfAnnotationsIdManager.deleteId(annotationId);
+            mPdfEventLogger.logPdfApiUsageReportedEvent(
+                    PdfEventLogger.ApiTypes.UNKNOWN,
+                    PdfEventLogger.ApiResponseTypes.SUCCESS,
+                    PdfEventLogger.OperationTypes.REMOVE);
         }
     }
 
@@ -665,7 +687,7 @@ public class PdfProcessor {
      * Update the given {@link PdfAnnotation} to the page.
      *
      * @param annotationId id corresponding to which the annotation is to be updated
-     * @param annotation the annotation to update
+     * @param annotation   the annotation to update
      * @return true if annotation is updated, false otherwise
      * @throws IllegalArgumentException f the provided annotation is null or of
      *                                  unsupported type i.e. {@link PdfAnnotationType#UNKNOWN}
@@ -683,8 +705,16 @@ public class PdfProcessor {
                         + " call never made?");
             }
             if (!mPdfDocument.updatePageAnnotation(pageNum, annotationIndex, annotation)) {
+                mPdfEventLogger.logPdfApiUsageReportedEvent(
+                        getAnnotationApiType(annotation.getPdfAnnotationType()),
+                        PdfEventLogger.ApiResponseTypes.FAILURE,
+                        PdfEventLogger.OperationTypes.UPDATE);
                 throw new IllegalArgumentException("Update Failed");
             }
+            mPdfEventLogger.logPdfApiUsageReportedEvent(
+                    getAnnotationApiType(annotation.getPdfAnnotationType()),
+                    PdfEventLogger.ApiResponseTypes.SUCCESS,
+                    PdfEventLogger.OperationTypes.UPDATE);
             return true;
         }
     }
@@ -715,10 +745,63 @@ public class PdfProcessor {
                             new Pair<>(pageObjectIdManager.getIdForIndex(i), pageObjects.get(i)));
                 }
             }
+            mPdfEventLogger.logPdfApiUsageReportedEvent(
+                    PdfEventLogger.ApiTypes.UNKNOWN,
+                    PdfEventLogger.ApiResponseTypes.SUCCESS,
+                    PdfEventLogger.OperationTypes.GET);
             return pageObjectIdPairs;
         }
     }
 
+    /**
+     * Retrieves the top-most page object at a specified position.
+     *
+     * @param pageNum current page number.
+     * @param point The coordinates (as a {@link PointF}) on the page to check for page objects.
+     * @param types An array of {@link PdfPageObjectType.Type} values. Only page objects whose types
+     * are included in this array will be considered. If multiple matching objects overlap at the
+     * specified point, only the one with the highest z-index will be returned.
+     * The order of types within this array does not influence the outcome.
+     * If this array is empty, known supported {@link PdfPageObjectType}s will be considered.
+     *
+     * @return A {@link Pair} containing:
+     * <ul>
+     * <li>An {@link Integer} representing the unique ID of the page object.
+     * <li>A {@link PdfPageObject} representing the found page object.</li>
+     * </ul>
+     * Returns null if no page object is found at the given position.
+     * @throws IllegalStateException if the {@link PdfRenderer.Page} is
+     * closed before invocation
+     */
+    @Nullable
+    public Pair<Integer, PdfPageObject> getTopPageObjectAtPosition(int pageNum,
+            @NonNull PointF point,
+            @NonNull @PdfPageObjectType.Type int[] types) {
+        synchronized (sPdfiumLock) {
+            assertPdfDocumentNotNull();
+            PdfPageComponentsIdManager pageObjectIdManager = mPageObjectIdManagerMap.get(pageNum);
+            Pair<Integer, PdfPageObject> pageObjectPair = mPdfDocument.getTopPageObjectAtPosition(
+                    pageNum, point, types);
+
+            if (pageObjectPair.first == -1 || pageObjectPair.second == null) {
+                // No object found of requested type(s) at point or the page
+                // object cannot be populated.
+                mPdfEventLogger.logPdfApiUsageReportedEvent(
+                        PdfEventLogger.ApiTypes.UNKNOWN,
+                        PdfEventLogger.ApiResponseTypes.SUCCESS,
+                        PdfEventLogger.OperationTypes.GET_TOP_PAGE_OBJECT_AT_POSITION);
+                return null;
+            } else {
+                mPdfEventLogger.logPdfApiUsageReportedEvent(
+                        getPageObjectApiType(pageObjectPair.second.getPdfObjectType()),
+                        PdfEventLogger.ApiResponseTypes.SUCCESS,
+                        PdfEventLogger.OperationTypes.GET_TOP_PAGE_OBJECT_AT_POSITION);
+                return new Pair<>(pageObjectIdManager.getIdForIndex(pageObjectPair.first),
+                        pageObjectPair.second);
+            }
+        }
+    }
+
     /**
      * Adds the given {@link PdfPageObject} to the page.
      *
@@ -734,8 +817,16 @@ public class PdfProcessor {
             assertPdfDocumentNotNull();
             int addedObjectIndex = mPdfDocument.addPageObject(pageNum, pageObject);
             if (addedObjectIndex == -1) {
+                mPdfEventLogger.logPdfApiUsageReportedEvent(
+                        getPageObjectApiType(pageObject.getPdfObjectType()),
+                        PdfEventLogger.ApiResponseTypes.FAILURE,
+                        PdfEventLogger.OperationTypes.ADD);
                 throw new IllegalArgumentException("Failed to add PageObject");
             }
+            mPdfEventLogger.logPdfApiUsageReportedEvent(
+                    getPageObjectApiType(pageObject.getPdfObjectType()),
+                    PdfEventLogger.ApiResponseTypes.SUCCESS,
+                    PdfEventLogger.OperationTypes.ADD);
             return mPageObjectIdManagerMap.get(pageNum).getIdForIndex(addedObjectIndex);
         }
     }
@@ -760,8 +851,16 @@ public class PdfProcessor {
                         + "getPageObjects() call never made?");
             }
             if (!mPdfDocument.updatePageObject(pageNum, objectIndex, pageObject)) {
+                mPdfEventLogger.logPdfApiUsageReportedEvent(
+                        getPageObjectApiType(pageObject.getPdfObjectType()),
+                        PdfEventLogger.ApiResponseTypes.FAILURE,
+                        PdfEventLogger.OperationTypes.UPDATE);
                 throw new IllegalArgumentException("Update Failed");
             }
+            mPdfEventLogger.logPdfApiUsageReportedEvent(
+                    getPageObjectApiType(pageObject.getPdfObjectType()),
+                    PdfEventLogger.ApiResponseTypes.SUCCESS,
+                    PdfEventLogger.OperationTypes.UPDATE);
             return true;
         }
     }
@@ -786,9 +885,17 @@ public class PdfProcessor {
                         + "call never made ?");
             }
             if (!mPdfDocument.removePageObject(pageNum, objectIndex)) {
+                mPdfEventLogger.logPdfApiUsageReportedEvent(
+                        PdfEventLogger.ApiTypes.UNKNOWN,
+                        PdfEventLogger.ApiResponseTypes.FAILURE,
+                        PdfEventLogger.OperationTypes.REMOVE);
                 throw new IllegalArgumentException("Page object cannot be removed.");
             }
             pageObjectIdManager.deleteId(objectId);
+            mPdfEventLogger.logPdfApiUsageReportedEvent(
+                    PdfEventLogger.ApiTypes.UNKNOWN,
+                    PdfEventLogger.ApiResponseTypes.SUCCESS,
+                    PdfEventLogger.OperationTypes.REMOVE);
         }
     }
 
@@ -829,4 +936,38 @@ public class PdfProcessor {
         Preconditions.checkNotNull(mPdfDocument, "PdfDocumentProxy cannot be null");
     }
 
+    private @PdfEventLogger.ApiTypes.ApiType int getAnnotationApiType(int annotationType) {
+        switch (annotationType) {
+            case PdfAnnotationType.FREETEXT -> {
+                return PdfEventLogger.ApiTypes.FREE_TEXT_ANNOTATION;
+            }
+            case PdfAnnotationType.HIGHLIGHT -> {
+                return PdfEventLogger.ApiTypes.HIGHLIGHT_ANNOTATION;
+            }
+            case PdfAnnotationType.STAMP -> {
+                return PdfEventLogger.ApiTypes.STAMP_ANNOTATION;
+            }
+            default -> {
+                return PdfEventLogger.ApiTypes.UNKNOWN;
+            }
+        }
+    }
+
+    private @PdfEventLogger.ApiTypes.ApiType int getPageObjectApiType(int pageObjectType) {
+        switch (pageObjectType) {
+            case PdfPageObjectType.TEXT -> {
+                return PdfEventLogger.ApiTypes.TEXT_PAGE_OBJECT;
+            }
+            case PdfPageObjectType.IMAGE -> {
+                return PdfEventLogger.ApiTypes.IMAGE_PAGE_OBJECT;
+            }
+            case PdfPageObjectType.PATH -> {
+                return PdfEventLogger.ApiTypes.PATH_PAGE_OBJECT;
+            }
+            default -> {
+                return PdfEventLogger.ApiTypes.UNKNOWN;
+            }
+        }
+    }
+
 }
diff --git a/pdf/framework/java/android/graphics/pdf/PdfRendererPreV.java b/pdf/framework/java/android/graphics/pdf/PdfRendererPreV.java
index 2ab35f1f3..650309c23 100644
--- a/pdf/framework/java/android/graphics/pdf/PdfRendererPreV.java
+++ b/pdf/framework/java/android/graphics/pdf/PdfRendererPreV.java
@@ -26,6 +26,7 @@ import android.annotation.Nullable;
 import android.annotation.SuppressLint;
 import android.graphics.Bitmap;
 import android.graphics.Matrix;
+import android.graphics.PointF;
 import android.graphics.Rect;
 import android.graphics.pdf.component.PdfAnnotation;
 import android.graphics.pdf.component.PdfAnnotationType;
@@ -372,14 +373,18 @@ public final class PdfRendererPreV implements AutoCloseable {
          * @param destClip    If null, default zoom is applied. In case the value is non-null, the
          *                    value specifies the top top-left corner of the tile.
          * @param transform   Applied to scale the bitmap up/down from default 1/72 points.
-         * @param params      Render params for the changing display mode and/or annotations.
+         * @param params      Render params for the changing display mode, and / or to control the
+         *                    appearance of annotations and PDF form content
          * @throws IllegalStateException If the document/page is closed before invocation.
          */
         public void render(@NonNull Bitmap destination, @Nullable Rect destClip,
                 @Nullable Matrix transform, @NonNull RenderParams params) {
             throwIfDocumentOrPageClosed();
+            // Unlike PdfRenderer, we always render form field content unless the developer has
+            // explicitly opted out via RenderParams.
             mPdfProcessor.renderPage(mIndex, destination, destClip, transform,
-                    params, /* renderFormFields= */ true);
+                    params, /* renderFormFields= */
+                    params.getRenderFormContentMode() != RenderParams.RENDER_FORM_CONTENT_DISABLED);
         }
 
         /**
@@ -548,8 +553,8 @@ public final class PdfRendererPreV implements AutoCloseable {
         /**
          * Returns information about the widget with {@code annotationIndex}.
          *
-         * @param annotationIndex the index of the widget within the page's "Annot" array in the
-         *                        PDF document, available on results of previous calls to
+         * @param annotationIndex the index of the widget within the page's widget annotations array
+         *                        in the PDF document, available on results of previous calls to
          *                        {@link #getFormWidgetInfos(int[])} or
          *                        {@link #getFormWidgetInfoAtPosition(int, int)} via
          *                        {@link FormWidgetInfo#getWidgetIndex()}.
@@ -625,9 +630,9 @@ public final class PdfRendererPreV implements AutoCloseable {
          * the supported annotation types.
          *
          * @return A list of pairs representing the supported annotations and their ids on the page.
-         * @throws IllegalStateException    if {@link PdfRendererPreV} or
-         *                                  {@link PdfRendererPreV.Page} is closed before
-         *                                  invocation.
+         * @throws IllegalStateException if {@link PdfRendererPreV} or
+         *                               {@link PdfRendererPreV.Page} is closed before
+         *                               invocation.
          */
         @FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_ANNOTATIONS)
         @NonNull
@@ -647,9 +652,10 @@ public final class PdfRendererPreV implements AutoCloseable {
          *
          * @param annotation the {@link PdfAnnotation} object to add
          * @return id of the added annotation, or -1 if the annotation cannot be added. The id is
-         *         guaranteed to be non-negative if the annotation is added successfully.
-         * @throws IllegalArgumentException if the provided annotation is null or of unsupported
-         *                                  type i.e. {@link PdfAnnotationType#UNKNOWN}
+         * guaranteed to be non-negative if the annotation is added successfully.
+         * @throws IllegalArgumentException if the provided annotation is of unsupported
+         *                                  type i.e. {@link PdfAnnotationType#UNKNOWN} or if
+         *                                  the add operation failed.
          * @throws IllegalStateException    if {@link PdfRendererPreV} or
          *                                  {@link PdfRendererPreV.Page} is closed before invocation
          */
@@ -674,7 +680,8 @@ public final class PdfRendererPreV implements AutoCloseable {
          * {@link PdfRendererPreV#write}.
          *
          * @param annotationId id of the annotation to remove from the page
-         * @throws IllegalArgumentException if annotationId ie negative
+         * @throws IllegalArgumentException if annotationId is negative or invalid or if the
+         *                                  remove operation failed.
          * @throws IllegalStateException    if {@link PdfRendererPreV} or
          *                                  {@link PdfRendererPreV.Page} is closed before invocation
          *                                  or if annotation is failed to get removed from the page.
@@ -691,16 +698,22 @@ public final class PdfRendererPreV implements AutoCloseable {
          * Update the given {@link PdfAnnotation} to the page.
          *
          * <p>
+         * Note: The {@link PdfAnnotationType} of the provided annotation must be the same as the
+         * original annotation being updated.
+         *
+         * <p>
          * {@link PdfRendererPreV#write} needs to be called to get the updated PDF stream after
          * calling this method. {@link PdfRendererPreV.Page} instance can be closed before calling
          * {@link PdfRendererPreV#write}.
          *
          * @param annotationId id corresponding to which the annotation is to be updated
-         * @param annotation the annotation to update
+         * @param annotation   the annotation to update
          * @return true if annotation is updated, false otherwise
-         * @throws IllegalArgumentException if the provided annotation is null or of
+         * @throws IllegalArgumentException if the provided annotation is of
          *                                  unsupported type i.e. {@link PdfAnnotationType#UNKNOWN}
-         *                                  or if the provided annotationId is negative
+         *                                  or if the provided annotationId is negative or
+         *                                  if {@link PdfAnnotationType} of the provided annotation
+         *                                  is different from the original annotation's type
          * @throws IllegalStateException    if {@link PdfRendererPreV} or
          *                                  {@link PdfRendererPreV.Page}  is closed before
          *                                  invocation
@@ -741,6 +754,39 @@ public final class PdfRendererPreV implements AutoCloseable {
             return mPdfProcessor.getPageObjects(mIndex);
         }
 
+        /**
+         * Retrieves the top-most page object at a specified position.
+         *
+         * @param point The coordinates (as a {@link PointF}) on the page to check for page
+         *              objects.
+         * @param types An array of {@link PdfPageObjectType.Type} values. Only page objects whose
+         *              types are included in this array will be considered. If multiple matching
+         *              objects overlap at the specified point, only the one with the highest
+         *              z-index will be returned. The order of types within this array does not
+         *              influence the outcome.
+         *              If this array is empty, known supported {@link PdfPageObjectType}s will be
+         *              considered.
+         * @return A {@link Pair} containing:
+         * <ul>
+         * <li>An {@link Integer} representing the unique ID of the page object.
+         * <li>A {@link PdfPageObject} representing the found page object.</li>
+         * </ul>
+         * Returns null if no page object is found at the given position.
+         * @throws IllegalStateException if the {@link PdfRenderer.Page} is
+         *                               closed before invocation.
+         * @throws IllegalArgumentException if the provided type(s) are not supported.
+         */
+        @Nullable
+        @FlaggedApi(Flags.FLAG_ENABLE_GET_TOP_PDF_PAGE_OBJECT_AT_POSITION)
+        public Pair<Integer, PdfPageObject> getTopPageObjectAtPosition(@NonNull PointF point,
+                @NonNull @PdfPageObjectType.Type int[] types) {
+            throwIfDocumentOrPageClosed();
+            Preconditions.checkNotNull(point, "Argument point cannot be null");
+            Preconditions.checkNotNull(types, "Argument types cannot be null");
+            Preconditions.checkValidPageObjectTypes(types);
+            return mPdfProcessor.getTopPageObjectAtPosition(mIndex, point, types);
+        }
+
         /**
          * Adds the given {@link PdfPageObject} to the page.
          * <p>
@@ -751,7 +797,9 @@ public final class PdfRendererPreV implements AutoCloseable {
          * @param pageObject the {@code PdfPageObject} object to add.
          * @return id of the added page object, or -1 if the page object cannot be added. The
          * id is guaranteed to be non-negative if the page object is added successfully.
-         * @throws IllegalArgumentException if the provided {@link PdfPageObject} is unknown or null
+         * @throws IllegalArgumentException if the provided {@link PdfPageObject} is of
+         *                                  unsupported type i.e. {@link PdfPageObjectType#UNKNOWN}
+         *                                  or if the add operation failed.
          * @throws IllegalStateException    if the {@link PdfRenderer.Page} is closed before
          *                                  invocation.
          */
@@ -770,7 +818,8 @@ public final class PdfRendererPreV implements AutoCloseable {
          * <p>
          * Note: This method only updates the parameters of the PageObject whose setters
          * are available. Attempting to update fields with no corresponding setters will
-         * have no effect.
+         * have no effect. Furthermore, the {@link PdfPageObjectType} of the provided pageObject
+         * must be the same as the original pageObject being updated.
          *
          * <p>
          * {@link PdfRenderer#write} needs to be called to get the updated PDF stream after calling
@@ -781,7 +830,9 @@ public final class PdfRendererPreV implements AutoCloseable {
          * @param pageObject The {@code PdfPageObject} object to update.
          * @return true if page object is updated, false otherwise.
          * @throws IllegalArgumentException if the provided {@link PdfPageObject} is unsupported or
-         *                                  null.
+         *                                  if the {@link PdfPageObjectType} of the
+         *                                  provided pageObject is different from the original
+         *                                  pageObject's type.
          * @throws IllegalStateException    if the {@link PdfRenderer.Page} is closed before
          *                                  invocation.
          */
@@ -806,7 +857,8 @@ public final class PdfRendererPreV implements AutoCloseable {
          * {@link PdfRenderer#write}.
          *
          * @param objectId the id of the page object to remove from the page.
-         * @throws IllegalArgumentException if the provided objectId doesn't exist.
+         * @throws IllegalArgumentException if the provided objectId is negative or invalid or
+         *                                  if the remove operation failed.
          * @throws IllegalStateException    if the page object cannot be removed.
          */
         @FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_PAGE_OBJECTS)
diff --git a/pdf/framework/java/android/graphics/pdf/RenderParams.java b/pdf/framework/java/android/graphics/pdf/RenderParams.java
index afffda19a..fd84b0633 100644
--- a/pdf/framework/java/android/graphics/pdf/RenderParams.java
+++ b/pdf/framework/java/android/graphics/pdf/RenderParams.java
@@ -74,16 +74,40 @@ public final class RenderParams {
     @FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_TEXT_ANNOTATIONS)
     public static final int FLAG_RENDER_FREETEXT_ANNOTATIONS = 1 << 4;
     // LINT.ThenChange(packages/providers/MediaProvider/pdf/framework/libs/pdfClient/page.h)
+
+    /** Mode to include PDF form content in rendered PDF bitmaps. */
+    @FlaggedApi(Flags.FLAG_ENABLE_RENDER_PARAMS_FORM_OPTIONS)
+    public static final int RENDER_FORM_CONTENT_ENABLED = 1;
+
+    /** Mode to exclude PDF form content from rendered PDF bitmaps. */
+    @FlaggedApi(Flags.FLAG_ENABLE_RENDER_PARAMS_FORM_OPTIONS)
+    public static final int RENDER_FORM_CONTENT_DISABLED = 2;
+
+    /**
+     * Mode to rely on the default behavior with respect to including PDF form content in rendered
+     * PDF bitmaps.
+     *
+     * <p> {@link PdfRenderer} will render form content by default if the application is targeting
+     * SDK version {@link android.os.Build.VERSION_CODES#VANILLA_ICE_CREAM} or higher.
+     *
+     * <p> {@link PdfRendererPreV} will always render form content by default.
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_RENDER_PARAMS_FORM_OPTIONS)
+    public static final int RENDER_FORM_CONTENT_DEFAULT = 3;
+
     private final int mRenderMode;
     private final int mRenderFlags;
 
-    private RenderParams(int renderMode, int renderFlags) {
+    private final int mRenderFormContentMode;
+
+    private RenderParams(int renderMode, int renderFlags,
+            @RenderFormContentMode int renderFormContentMode) {
         this.mRenderMode = renderMode;
         this.mRenderFlags = renderFlags;
+        this.mRenderFormContentMode = renderFormContentMode;
     }
 
     private static int getRenderMask() {
-
         int renderMask = FLAG_RENDER_TEXT_ANNOTATIONS | FLAG_RENDER_HIGHLIGHT_ANNOTATIONS;
         if (android.graphics.pdf.flags.readonly.Flags.enableEditPdfTextAnnotations()) {
             renderMask |= FLAG_RENDER_FREETEXT_ANNOTATIONS;
@@ -110,6 +134,17 @@ public final class RenderParams {
         return mRenderFlags;
     }
 
+    /**
+     * Returns the mode for rendering PDF form content, one of:
+     * {@link #RENDER_FORM_CONTENT_ENABLED}, {@link #RENDER_FORM_CONTENT_DISABLED}, or
+     * {@link #RENDER_FORM_CONTENT_DEFAULT}
+     */
+    @FlaggedApi(Flags.FLAG_ENABLE_RENDER_PARAMS_FORM_OPTIONS)
+    @RenderFormContentMode
+    public int getRenderFormContentMode() {
+        return mRenderFormContentMode;
+    }
+
     /** @hide */
     public int getRenderAnnotations() {
         return mRenderFlags & getRenderMask();
@@ -129,12 +164,22 @@ public final class RenderParams {
             FLAG_RENDER_TEXT_ANNOTATIONS,
             FLAG_RENDER_HIGHLIGHT_ANNOTATIONS,
             FLAG_RENDER_STAMP_ANNOTATIONS,
-            FLAG_RENDER_FREETEXT_ANNOTATIONS
+            FLAG_RENDER_FREETEXT_ANNOTATIONS,
     })
     @Retention(RetentionPolicy.SOURCE)
     public @interface RenderFlags {
     }
 
+    /** @hide */
+    @IntDef({
+            RENDER_FORM_CONTENT_ENABLED,
+            RENDER_FORM_CONTENT_DISABLED,
+            RENDER_FORM_CONTENT_DEFAULT,
+    })
+    @Retention(RetentionPolicy.SOURCE)
+    public @interface RenderFormContentMode {
+    }
+
     /**
      * Builder for constructing {@link RenderParams}.
      */
@@ -145,6 +190,9 @@ public final class RenderParams {
         @RenderFlags
         private int mRenderFlags;
 
+        @RenderFormContentMode
+        private int mRenderFormContentMode = RENDER_FORM_CONTENT_DEFAULT;
+
         /**
          * Create a builder for constructing a {@link RenderParams} object with the render mode.
          *
@@ -208,6 +256,26 @@ public final class RenderParams {
             return this;
         }
 
+        /**
+         * Sets the mode to include or exclude form content in rendered PDF bitmaps. One of:
+         * {@link #RENDER_FORM_CONTENT_ENABLED}, {@link #RENDER_FORM_CONTENT_DISABLED}, or
+         * {@link #RENDER_FORM_CONTENT_DEFAULT}.
+         *
+         * <p>In {@link PdfRenderer} form content is rendered by default for applications targeting
+         * {@link android.os.Build.VERSION_CODES#VANILLA_ICE_CREAM} or higher. This option can be
+         * used to enable this behavior when targeting lower SDK versions, or to disable this
+         * behavior when targeting higher SDK versions.
+         *
+         * <p>In {@link PdfRendererPreV} form content is always rendered by default. This option can
+         * be used to disable this behavior.
+         */
+        @FlaggedApi(Flags.FLAG_ENABLE_RENDER_PARAMS_FORM_OPTIONS)
+        @NonNull
+        public Builder setRenderFormContentMode(@RenderFormContentMode int renderFormContentMode) {
+            this.mRenderFormContentMode = renderFormContentMode;
+            return this;
+        }
+
         /**
          * Builds the {@link RenderParams} after the optional values has been set.
          *
@@ -215,7 +283,7 @@ public final class RenderParams {
          */
         @NonNull
         public RenderParams build() {
-            return new RenderParams(this.mRenderMode, this.mRenderFlags);
+            return new RenderParams(this.mRenderMode, this.mRenderFlags, mRenderFormContentMode);
         }
     }
 }
diff --git a/pdf/framework/java/android/graphics/pdf/component/FreeTextAnnotation.java b/pdf/framework/java/android/graphics/pdf/component/FreeTextAnnotation.java
index 303dd3ff0..36ca122f5 100644
--- a/pdf/framework/java/android/graphics/pdf/component/FreeTextAnnotation.java
+++ b/pdf/framework/java/android/graphics/pdf/component/FreeTextAnnotation.java
@@ -47,13 +47,17 @@ public final class FreeTextAnnotation extends PdfAnnotation {
     /**
      * Creates a new free text annotation with the specified bounds and text content.
      * <p>
-     * The default text color and background color will be black and white respectively
+     * The default text color and background color will be black and white respectively.
+     * Also, transparency of the text color can't be modified i.e. alpha value of the text color
+     * will always be 1
      *
      * @param bounds The bounding rectangle of the annotation.
      * @param textContent The text content of the annotation
      */
     public FreeTextAnnotation(@NonNull RectF bounds, @NonNull String textContent) {
         super(PdfAnnotationType.FREETEXT);
+        Preconditions.checkNotNull(bounds, "Bounds should not be null");
+        Preconditions.checkNotNull(textContent, "Text content should not be null");
         this.mBounds = bounds;
         this.mTextContent = textContent;
         this.mTextColor = Color.BLACK;
@@ -64,7 +68,6 @@ public final class FreeTextAnnotation extends PdfAnnotation {
      * Sets the bounding rectangle of the freetext annotation.
      *
      * @param bounds The new bounding rectangle.
-     * @throws NullPointerException if given bounds is null
      */
     public void setBounds(@NonNull RectF bounds) {
         Preconditions.checkNotNull(bounds, "Bounds should not be null");
@@ -86,6 +89,7 @@ public final class FreeTextAnnotation extends PdfAnnotation {
      * @param text The new text content.
      */
     public void setTextContent(@NonNull String text) {
+        Preconditions.checkNotNull(text, "Text should not be null");
         mTextContent = text;
     }
 
@@ -100,7 +104,10 @@ public final class FreeTextAnnotation extends PdfAnnotation {
 
     /**
      * Sets the text color of the annotation.
-     *
+     * <p>
+     * Please note that the transparency of the color can't be modified. Alpha value of the text
+     * color will always be 1 (i.e. fully opaque) even if a color with different alpha value is
+     * set using this method
      * @param color The new text color.
      */
     public void setTextColor(@ColorInt int color) {
diff --git a/pdf/framework/java/android/graphics/pdf/component/HighlightAnnotation.java b/pdf/framework/java/android/graphics/pdf/component/HighlightAnnotation.java
index 0f2661735..93aea790b 100644
--- a/pdf/framework/java/android/graphics/pdf/component/HighlightAnnotation.java
+++ b/pdf/framework/java/android/graphics/pdf/component/HighlightAnnotation.java
@@ -34,34 +34,34 @@ import java.util.List;
  */
 @FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_ANNOTATIONS)
 public final class HighlightAnnotation extends PdfAnnotation {
-    @NonNull private List<RectF> mBounds;
+    @NonNull private List<RectF> mBoundsList;
     private @ColorInt int mColor;
 
     /**
-     * Creates a new highlight annotation with the specified bounds.
+     * Creates a new highlight annotation with the specified bounds list.
      * <p>
      * The default highlight color is yellow
      *
-     * @param bounds The bounding rectangle of the annotation.
+     * @param boundsList The bounding rectangle of the annotation.
      */
-    public HighlightAnnotation(@NonNull List<RectF> bounds) {
+    public HighlightAnnotation(@NonNull List<RectF> boundsList) {
         super(PdfAnnotationType.HIGHLIGHT);
-        this.mBounds = bounds;
+        Preconditions.checkNotNull(boundsList, "Bounds list should not be null");
+        this.mBoundsList = boundsList;
         this.mColor = Color.YELLOW;
     }
 
     /**
-     * Sets the bounding rectangles of the highlight annotation. Each rect in the list mBounds
+     * Sets the bounding rectangles of the highlight annotation. Each rect in the list mBoundsList
      * represent an absolute position of highlight inside the page of the document
      *
-     * @param bounds The new bounding rectangles.
-     * @throws NullPointerException if given bounds is null
+     * @param boundsList The new bounding rectangles.
      * @throws IllegalArgumentException if the given bounds list is empty
      */
-    public void setBounds(@NonNull List<RectF> bounds) {
-        Preconditions.checkNotNull(bounds, "Bounds should not be null");
-        Preconditions.checkArgument(!bounds.isEmpty(), "Bounds should not be empty");
-        this.mBounds = bounds;
+    public void setBoundsList(@NonNull List<RectF> boundsList) {
+        Preconditions.checkNotNull(boundsList, "Bounds list should not be null");
+        Preconditions.checkArgument(!boundsList.isEmpty(), "Bounds list should not be empty");
+        this.mBoundsList = boundsList;
     }
 
     /**
@@ -69,8 +69,8 @@ public final class HighlightAnnotation extends PdfAnnotation {
      *
      * @return The bounding rectangles.
      */
-    @NonNull public List<RectF> getBounds() {
-        return mBounds;
+    @NonNull public List<RectF> getBoundsList() {
+        return mBoundsList;
     }
 
     /**
diff --git a/pdf/framework/java/android/graphics/pdf/component/PdfPageImageObject.java b/pdf/framework/java/android/graphics/pdf/component/PdfPageImageObject.java
index 5ed71c348..a7d6dd15d 100644
--- a/pdf/framework/java/android/graphics/pdf/component/PdfPageImageObject.java
+++ b/pdf/framework/java/android/graphics/pdf/component/PdfPageImageObject.java
@@ -20,6 +20,7 @@ import android.annotation.FlaggedApi;
 import android.annotation.NonNull;
 import android.graphics.Bitmap;
 import android.graphics.pdf.flags.Flags;
+import android.graphics.pdf.utils.Preconditions;
 
 /**
  * Represents an image object on a PDF page. This class extends
@@ -28,15 +29,20 @@ import android.graphics.pdf.flags.Flags;
  */
 @FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_PAGE_OBJECTS)
 public final class PdfPageImageObject extends PdfPageObject {
-    private Bitmap mImage;
+    private Bitmap mBitmap;
 
     /**
      * Constructor for the PdfPageImageObject. Sets the object type
      * to IMAGE.
+     *
+     * @throws IllegalArgumentException if bitmap config is not ARGB_8888.
      */
-    public PdfPageImageObject(@NonNull Bitmap image) {
+    public PdfPageImageObject(@NonNull Bitmap bitmap) {
         super(PdfPageObjectType.IMAGE);
-        this.mImage = image;
+        Preconditions.checkNotNull(bitmap, "Bitmap should not be null");
+        Preconditions.checkArgument(bitmap.getConfig() == Bitmap.Config.ARGB_8888,
+                "Bitmap should be of type ARGB_8888");
+        this.mBitmap = bitmap;
     }
 
     /**
@@ -46,16 +52,20 @@ public final class PdfPageImageObject extends PdfPageObject {
      */
     @NonNull
     public Bitmap getBitmap() {
-        return mImage;
+        return mBitmap;
     }
 
     /**
      * Sets the bitmap image of the object.
      *
-     * @param image The bitmap image to set.
+     * @param bitmap The bitmap image to set.
+     * @throws IllegalArgumentException if bitmap config is not ARGB_8888.
      */
-    public void setBitmap(@NonNull Bitmap image) {
-        this.mImage = image;
+    public void setBitmap(@NonNull Bitmap bitmap) {
+        Preconditions.checkNotNull(bitmap, "Bitmap should not be null");
+        Preconditions.checkArgument(bitmap.getConfig() == Bitmap.Config.ARGB_8888,
+                "Bitmap should be of type ARGB_8888");
+        this.mBitmap = bitmap;
     }
 
 }
diff --git a/pdf/framework/java/android/graphics/pdf/component/PdfPageObject.java b/pdf/framework/java/android/graphics/pdf/component/PdfPageObject.java
index 890402e50..6e2ee182c 100644
--- a/pdf/framework/java/android/graphics/pdf/component/PdfPageObject.java
+++ b/pdf/framework/java/android/graphics/pdf/component/PdfPageObject.java
@@ -20,6 +20,7 @@ import android.annotation.FlaggedApi;
 import android.annotation.NonNull;
 import android.graphics.Matrix;
 import android.graphics.pdf.flags.Flags;
+import android.graphics.pdf.utils.Preconditions;
 
 /**
  * Represents a page object on a page of a pdf document.
@@ -84,6 +85,7 @@ public abstract class PdfPageObject {
      * @param matrix The transformation matrix of the object.
      */
     public void setMatrix(@NonNull Matrix matrix) {
+        Preconditions.checkNotNull(matrix, "Matrix should not be null");
         this.mTransform = matrix;
     }
 }
diff --git a/pdf/framework/java/android/graphics/pdf/component/PdfPageObjectRenderMode.java b/pdf/framework/java/android/graphics/pdf/component/PdfPageObjectRenderMode.java
deleted file mode 100644
index c8603bb85..000000000
--- a/pdf/framework/java/android/graphics/pdf/component/PdfPageObjectRenderMode.java
+++ /dev/null
@@ -1,72 +0,0 @@
-/*
- * Copyright (C) 2025 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-package android.graphics.pdf.component;
-
-import android.annotation.FlaggedApi;
-import android.annotation.IntDef;
-import android.graphics.pdf.flags.Flags;
-
-import java.lang.annotation.Retention;
-import java.lang.annotation.RetentionPolicy;
-
-/**
- * Defines rendering modes for PDF page objects (fill, stroke, etc.).
- *
- * <p>
- * This final class provides constants for specifying how graphical elements
- * are rendered on a PDF page. It cannot be instantiated.
- *
- * <p>
- * Rendering modes:
- * <ul>
- * <li>{@link #UNKNOWN}: Unknown mode.
- * <li>{@link #FILL}: Fill object.
- * <li>{@link #STROKE}: Stroke object.
- * <li>{@link #FILL_STROKE}: Fill and stroke object. </ul>
- */
-@FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_PAGE_OBJECTS)
-public final class PdfPageObjectRenderMode {
-    // Private constructor
-    private PdfPageObjectRenderMode() {
-    }
-
-    /**
-     * Unknown Mode
-     */
-    public static final int UNKNOWN = -1;
-
-    /**
-     * Fill Mode
-     */
-    public static final int FILL = 0;
-
-    /**
-     * Stroke Mode
-     */
-    public static final int STROKE = 1;
-
-    /**
-     * FillStroke Mode
-     */
-    public static final int FILL_STROKE = 2;
-
-    /** @hide */
-    @Retention(RetentionPolicy.SOURCE)
-    @IntDef({UNKNOWN, FILL, STROKE, FILL_STROKE})
-    public @interface Type {
-    }
-}
diff --git a/pdf/framework/java/android/graphics/pdf/component/PdfPagePathObject.java b/pdf/framework/java/android/graphics/pdf/component/PdfPagePathObject.java
index d19c37ae9..45cdec25f 100644
--- a/pdf/framework/java/android/graphics/pdf/component/PdfPagePathObject.java
+++ b/pdf/framework/java/android/graphics/pdf/component/PdfPagePathObject.java
@@ -18,9 +18,15 @@ package android.graphics.pdf.component;
 
 import android.annotation.ColorInt;
 import android.annotation.FlaggedApi;
+import android.annotation.IntDef;
 import android.annotation.NonNull;
+import android.graphics.Color;
 import android.graphics.Path;
 import android.graphics.pdf.flags.Flags;
+import android.graphics.pdf.utils.Preconditions;
+
+import java.lang.annotation.Retention;
+import java.lang.annotation.RetentionPolicy;
 
 /**
  * Represents a path object on a PDF page. This class extends
@@ -33,7 +39,29 @@ public final class PdfPagePathObject extends PdfPageObject {
     private @ColorInt int mStrokeColor;
     private float mStrokeWidth;
     private @ColorInt int mFillColor;
-    private @PdfPageObjectRenderMode.Type int mRenderMode;
+
+    /**
+     * Unknown Render Mode.
+     */
+    public static final int RENDER_MODE_UNKNOWN = -1;
+
+    /**
+     * Fill Mode : Only the interior of the glyphs is filled with the fill color.
+     */
+    public static final int RENDER_MODE_FILL = 0;
+
+    /**
+     * Stroke Mode : Only the outline of the glyphs is stroked with the stroke color.
+     */
+    public static final int RENDER_MODE_STROKE = 1;
+
+    /**
+     * FillStroke Mode : Both the interior and outline of the glyphs are rendered
+     * using the fill abd stroke colors respectively.
+     */
+    public static final int RENDER_MODE_FILL_STROKE = 2;
+
+    private @RenderMode int mRenderMode;
 
     /**
      * Constructor for the PdfPagePathObject. Sets the object type
@@ -41,8 +69,10 @@ public final class PdfPagePathObject extends PdfPageObject {
      */
     public PdfPagePathObject(@NonNull Path path) {
         super(PdfPageObjectType.PATH);
+        Preconditions.checkNotNull(path, "Path should not be null");
         this.mPath = path;
-        this.mRenderMode = PdfPageObjectRenderMode.FILL;
+        this.mRenderMode = RENDER_MODE_FILL;
+        this.mFillColor = Color.BLACK;
     }
 
     /**
@@ -71,6 +101,10 @@ public final class PdfPagePathObject extends PdfPageObject {
 
     /**
      * Sets the stroke color of the object.
+     * <p>
+     * Note: The strokeColor cannot be transparent and
+     * setting the strokeColor will have no effect if {@link RenderMode} is not
+     * {@link #RENDER_MODE_STROKE} or {@link #RENDER_MODE_FILL_STROKE}.
      *
      * @param strokeColor The stroke color of the object.
      */
@@ -98,6 +132,7 @@ public final class PdfPagePathObject extends PdfPageObject {
 
     /**
      * Returns the fill color of the object.
+     * Returns {@link Color#BLACK} if {@link #mFillColor} is not set.
      *
      * @return The fill color of the object.
      */
@@ -107,6 +142,10 @@ public final class PdfPagePathObject extends PdfPageObject {
 
     /**
      * Sets the fill color of the object.
+     * <p>
+     * Note: The fillColor cannot be transparent and
+     * setting the fillColor will have no effect if {@link RenderMode} is not
+     * {@link #RENDER_MODE_FILL} or {@link #RENDER_MODE_FILL_STROKE}.
      *
      * @param fillColor The fill color of the object.
      */
@@ -115,22 +154,44 @@ public final class PdfPagePathObject extends PdfPageObject {
     }
 
     /**
-     * Returns the {@link PdfPageObjectRenderMode} of the object.
-     * Returns {@link PdfPageObjectRenderMode#FILL} by default
+     * Returns the {@link RenderMode} of the object.
+     * Returns {@link RenderMode#RENDER_MODE_FILL} by default
      * if {@link PdfPagePathObject#mRenderMode} is not set.
      *
-     * @return The {@link PdfPageObjectRenderMode} of the object.
+     * @return The {@link RenderMode} of the object.
      */
-    public @PdfPageObjectRenderMode.Type int getRenderMode() {
+    public @RenderMode int getRenderMode() {
         return mRenderMode;
     }
 
     /**
-     * Sets the {@link PdfPageObjectRenderMode} of the object.
+     * Sets the {@link PdfPagePathObject.RenderMode} of the object.
+     *
+     * @param renderMode The {@link PdfPagePathObject.RenderMode} to be set.
+     * @throws IllegalArgumentException if the provided renderMode is invalid.
+     */
+    public void setRenderMode(@RenderMode int renderMode) {
+        Preconditions.checkArgument(isValidRenderMode(renderMode), "RenderMode is invalid");
+        this.mRenderMode = renderMode;
+    }
+
+    /**
+     * Defines rendering modes for {@link PdfPagePathObject} (fill, stroke, etc.).
      *
-     * @param renderMode The {@link PdfPageObjectRenderMode} to be set.
+     * <p>It provides constants for specifying how graphical elements
+     * are rendered on a PDF page. It dictates whether the glyph is filled, stroked, or both.
+     *
+     * @hide
      */
-    public void setRenderMode(@PdfPageObjectRenderMode.Type int renderMode) {
-        mRenderMode = renderMode;
+    @Retention(RetentionPolicy.SOURCE)
+    @IntDef(prefix = {"RENDER_MODE_"}, value = {RENDER_MODE_UNKNOWN, RENDER_MODE_FILL,
+            RENDER_MODE_STROKE, RENDER_MODE_FILL_STROKE})
+    public @interface RenderMode {
+    }
+
+    private boolean isValidRenderMode(int renderMode) {
+        return renderMode == RENDER_MODE_FILL
+                || renderMode == RENDER_MODE_STROKE
+                || renderMode == RENDER_MODE_FILL_STROKE;
     }
 }
diff --git a/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObject.java b/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObject.java
index 17662308e..6304a01ff 100644
--- a/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObject.java
+++ b/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObject.java
@@ -18,8 +18,14 @@ package android.graphics.pdf.component;
 
 import android.annotation.ColorInt;
 import android.annotation.FlaggedApi;
+import android.annotation.IntDef;
 import android.annotation.NonNull;
+import android.graphics.Color;
 import android.graphics.pdf.flags.Flags;
+import android.graphics.pdf.utils.Preconditions;
+
+import java.lang.annotation.Retention;
+import java.lang.annotation.RetentionPolicy;
 
 /**
  * Represents a text object on a PDF page.
@@ -33,23 +39,49 @@ public final class PdfPageTextObject extends PdfPageObject {
     private @ColorInt int mStrokeColor;
     private float mStrokeWidth = 1.0f;
     private @ColorInt int mFillColor;
-    private @PdfPageObjectRenderMode.Type int mRenderMode;
+
+    /**
+     * Unknown Render Mode.
+     */
+    public static final int RENDER_MODE_UNKNOWN = -1;
+
+    /**
+     * Fill Mode : Only the interior of the glyphs is filled with the fill color.
+     */
+    public static final int RENDER_MODE_FILL = 0;
+
+    /**
+     * Stroke Mode : Only the outline of the glyphs is stroked with the stroke color.
+     */
+    public static final int RENDER_MODE_STROKE = 1;
+
+    /**
+     * FillStroke Mode : Both the interior and outline of the glyphs are rendered
+     * using the fill abd stroke colors respectively.
+     */
+    public static final int RENDER_MODE_FILL_STROKE = 2;
+
+    private @RenderMode int mRenderMode;
 
     /**
      * Constructor for the PdfPageTextObject.
      * Sets the object type to TEXT and initializes the text color to black.
      *
-     * @param font The font of the text.
+     * @param font     The font of the text.
      * @param fontSize The font size of the text.
      */
     public PdfPageTextObject(@NonNull String text, @NonNull PdfPageTextObjectFont font,
             float fontSize) {
         super(PdfPageObjectType.TEXT);
+        Preconditions.checkNotNull(text, "Text should not be null");
+        Preconditions.checkNotNull(font, "Font should not be null");
         this.mText = text;
         this.mFont = font;
         this.mFontSize = fontSize;
+        this.mStrokeColor = Color.BLACK;
+        this.mFillColor = Color.BLACK;
         if (Flags.enableEditPdfPageObjects()) {
-            this.mRenderMode = PdfPageObjectRenderMode.FILL;
+            this.mRenderMode = RENDER_MODE_FILL;
         }
     }
 
@@ -69,6 +101,7 @@ public final class PdfPageTextObject extends PdfPageObject {
      * @param text The text content to set.
      */
     public void setText(@NonNull String text) {
+        Preconditions.checkNotNull(text, "Text should not be null");
         this.mText = text;
     }
 
@@ -93,6 +126,7 @@ public final class PdfPageTextObject extends PdfPageObject {
 
     /**
      * Returns the fill color of the object.
+     * Returns {@link android.graphics.Color#BLACK} by default if not set.
      *
      * @return The fill color of the object.
      */
@@ -102,8 +136,10 @@ public final class PdfPageTextObject extends PdfPageObject {
 
     /**
      * Sets the fill color of the object.
+     * Setting the fillColor will have no effect if {@link RenderMode} is not
+     * {@link #RENDER_MODE_FILL} or {@link #RENDER_MODE_FILL_STROKE}.
      *
-     * @param  fillColor The fill color of the object.
+     * @param fillColor The fill color of the object.
      */
     public void setFillColor(@ColorInt int fillColor) {
         this.mFillColor = fillColor;
@@ -124,11 +160,12 @@ public final class PdfPageTextObject extends PdfPageObject {
      * @param strokeWidth The stroke width of the object.
      */
     public void setStrokeWidth(float strokeWidth) {
-        mStrokeWidth = strokeWidth;
+        this.mStrokeWidth = strokeWidth;
     }
 
     /**
      * Returns the stroke color of the object.
+     * Returns {@link android.graphics.Color#BLACK} by default if not set.
      *
      * @return The stroke color of the object.
      */
@@ -138,6 +175,8 @@ public final class PdfPageTextObject extends PdfPageObject {
 
     /**
      * Sets the stroke color of the object.
+     * Setting the strokeColor will have no effect if {@link RenderMode} is not
+     * {@link #RENDER_MODE_STROKE} or {@link #RENDER_MODE_FILL_STROKE}.
      *
      * @param strokeColor The stroke color of the object.
      */
@@ -150,16 +189,38 @@ public final class PdfPageTextObject extends PdfPageObject {
      *
      * @return The render mode of the object.
      */
-    public @PdfPageObjectRenderMode.Type int getRenderMode() {
+    public @RenderMode int getRenderMode() {
         return mRenderMode;
     }
 
     /**
-     * Sets the render mode of the object.
+     * Sets the {@link PdfPageTextObject.RenderMode} of the object.
      *
-     * @param renderMode The render mode to be set.
+     * @param renderMode The {@link PdfPageTextObject.RenderMode} to be set.
+     * @throws IllegalArgumentException if the provided renderMode is invalid.
      */
-    public void setRenderMode(@PdfPageObjectRenderMode.Type int renderMode) {
-        mRenderMode = renderMode;
+    public void setRenderMode(@RenderMode int renderMode) {
+        Preconditions.checkArgument(isValidRenderMode(renderMode), "RenderMode is invalid");
+        this.mRenderMode = renderMode;
+    }
+
+    /**
+     * Defines rendering modes for {@link PdfPageTextObject} (fill, stroke, etc.).
+     *
+     * <p>It provides constants for specifying how graphical elements
+     * are rendered on a PDF page. It dictates whether the glyph is filled, stroked, or both.
+     *
+     * @hide
+     */
+    @Retention(RetentionPolicy.SOURCE)
+    @IntDef(prefix = {"RENDER_MODE_"}, value = {RENDER_MODE_UNKNOWN, RENDER_MODE_FILL,
+            RENDER_MODE_STROKE, RENDER_MODE_FILL_STROKE})
+    public @interface RenderMode {
+    }
+
+    private boolean isValidRenderMode(int renderMode) {
+        return renderMode == RENDER_MODE_FILL
+                || renderMode == RENDER_MODE_STROKE
+                || renderMode == RENDER_MODE_FILL_STROKE;
     }
 }
diff --git a/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObjectFont.java b/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObjectFont.java
index c38baa156..04029d98b 100644
--- a/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObjectFont.java
+++ b/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObjectFont.java
@@ -17,34 +17,80 @@
 package android.graphics.pdf.component;
 
 import android.annotation.FlaggedApi;
+import android.annotation.IntDef;
 import android.annotation.NonNull;
 import android.graphics.pdf.flags.Flags;
+import android.graphics.pdf.utils.Preconditions;
 
+import java.lang.annotation.Retention;
+import java.lang.annotation.RetentionPolicy;
+
+/**
+ * Represents the font attributes of a {@link PdfPageTextObject}.
+ * This class encapsulates the attributes font family, boldness and italic styling.
+ */
 @FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_TEXT_OBJECTS)
 public class PdfPageTextObjectFont {
-    private @PdfPageTextObjectFontFamily.Type int mFontFamily;
+    private @FontFamily int mFontFamily;
     private boolean mIsBold;
     private boolean mIsItalic;
 
-    public PdfPageTextObjectFont(@PdfPageTextObjectFontFamily.Type int fontFamily,
+    /**
+     * Constant representing the Courier font family.
+     */
+    public static final int FONT_FAMILY_COURIER = 0;
+
+    /**
+     * Constant representing the Helvetica font family.
+     */
+    public static final int FONT_FAMILY_HELVETICA = 1;
+
+    /**
+     * Constant representing the Symbol font family.
+     * Note: This font family only renders symbols and does not support bold or italic.
+     */
+    public static final int FONT_FAMILY_SYMBOL = 2;
+
+    /**
+     * Constant representing the Times New Roman font family.
+     */
+    public static final int FONT_FAMILY_TIMES_NEW_ROMAN = 3;
+
+    /**
+     * Constructs a new {@link PdfPageTextObjectFont} with the specified attributes.
+     *
+     * @param fontFamily The font family, as defined by {@link FontFamily}
+     * @param isBold true if the text should be bold, false otherwise
+     * @param isItalic true if the text should be italic, false otherwise
+     */
+    public PdfPageTextObjectFont(@FontFamily int fontFamily,
             boolean isBold, boolean isItalic) {
-        mFontFamily = fontFamily;
-        mIsBold = isBold;
-        mIsItalic = isItalic;
+        Preconditions.checkArgument(isValidFontFamily(fontFamily), "FontFamily is invalid");
+        this.mFontFamily = fontFamily;
+        this.mIsBold = isBold;
+        this.mIsItalic = isItalic;
     }
 
+    /**
+     * Creates a new {@link PdfPageTextObjectFont} by copying attributes from the another
+     * {@link PdfPageTextObjectFont} instance.
+     *
+     * @param font The {@link PdfPageTextObjectFont} instance to copy attributes from.
+     */
     public PdfPageTextObjectFont(@NonNull PdfPageTextObjectFont font) {
+        Preconditions.checkNotNull(font, "Font should not be null");
         this.mFontFamily = font.getFontFamily();
         this.mIsBold = font.isBold();
         this.mIsItalic = font.isItalic();
     }
 
     /**
-     * Returns the font-family which is of type {@link PdfPageTextObjectFontFamily}
+     * Returns the font-family which is of type {@link FontFamily}, previously set using
+     * {@link PdfPageTextObjectFont#setFontFamily(int)} or the constructor.
      *
      * @return The font-family.
      */
-    public @PdfPageTextObjectFontFamily.Type int getFontFamily() {
+    public @FontFamily int getFontFamily() {
         return mFontFamily;
     }
 
@@ -53,8 +99,9 @@ public class PdfPageTextObjectFont {
      *
      * @param fontFamily The font family to be set.
      */
-    public void setFontFamily(@PdfPageTextObjectFontFamily.Type int fontFamily) {
-        mFontFamily = fontFamily;
+    public void setFontFamily(@FontFamily int fontFamily) {
+        Preconditions.checkArgument(isValidFontFamily(fontFamily), "FontFamily is invalid");
+        this.mFontFamily = fontFamily;
     }
 
     /**
@@ -72,7 +119,7 @@ public class PdfPageTextObjectFont {
      * @param bold true if the text should be bold, false otherwise.
      */
     public void setBold(boolean bold) {
-        mIsBold = bold;
+        this.mIsBold = bold;
     }
 
     /**
@@ -90,6 +137,26 @@ public class PdfPageTextObjectFont {
      * @param italic true if the text should be italic, false otherwise.
      */
     public void setItalic(boolean italic) {
-        mIsItalic = italic;
+        this.mIsItalic = italic;
+    }
+
+    /**
+     * Holds the set of font families supported by {@link PdfPageTextObject}.
+     * The specified font families are standard font families defined
+     * in the PDF Spec 1.7 - Page 146.
+     *
+     * @hide
+     */
+    @Retention(RetentionPolicy.SOURCE)
+    @IntDef({FONT_FAMILY_COURIER, FONT_FAMILY_HELVETICA, FONT_FAMILY_SYMBOL,
+            FONT_FAMILY_TIMES_NEW_ROMAN})
+    public @interface FontFamily {
+    }
+
+    private boolean isValidFontFamily(int fontFamily) {
+        return fontFamily == FONT_FAMILY_COURIER
+               || fontFamily == FONT_FAMILY_HELVETICA
+               || fontFamily == FONT_FAMILY_SYMBOL
+               || fontFamily == FONT_FAMILY_TIMES_NEW_ROMAN;
     }
 }
diff --git a/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObjectFontFamily.java b/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObjectFontFamily.java
deleted file mode 100644
index 4a40f3df5..000000000
--- a/pdf/framework/java/android/graphics/pdf/component/PdfPageTextObjectFontFamily.java
+++ /dev/null
@@ -1,60 +0,0 @@
-/*
- * Copyright (C) 2025 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-package android.graphics.pdf.component;
-
-import android.annotation.FlaggedApi;
-import android.annotation.IntDef;
-import android.graphics.pdf.flags.Flags;
-
-import java.lang.annotation.Retention;
-import java.lang.annotation.RetentionPolicy;
-
-/**
- * The class holds the set of font families supported by {@link PdfPageTextObject}.
- * The specified font families are standard font families defined
- * in the PDF Spec 1.7 - Page 146.
- */
-@FlaggedApi(Flags.FLAG_ENABLE_EDIT_PDF_TEXT_OBJECTS)
-public class PdfPageTextObjectFontFamily {
-    private PdfPageTextObjectFontFamily() {}
-
-    /**
-     * Courier Font
-     */
-    public static final int COURIER = 0;
-
-    /**
-     * Helvetica Font
-     */
-    public static final int HELVETICA = 1;
-
-    /**
-     * Symbol Font (Note: Renders only symbols)
-     */
-    public static final int SYMBOL = 2;
-
-    /**
-     * TimesNewRoman Font
-     */
-    public static final int TIMES_NEW_ROMAN = 3;
-
-    /** @hide */
-    @Retention(RetentionPolicy.SOURCE)
-    @IntDef({COURIER, HELVETICA, SYMBOL, TIMES_NEW_ROMAN})
-    public @interface Type {
-    }
-}
diff --git a/pdf/framework/java/android/graphics/pdf/component/StampAnnotation.java b/pdf/framework/java/android/graphics/pdf/component/StampAnnotation.java
index 3f3279415..ad741048d 100644
--- a/pdf/framework/java/android/graphics/pdf/component/StampAnnotation.java
+++ b/pdf/framework/java/android/graphics/pdf/component/StampAnnotation.java
@@ -47,6 +47,7 @@ public final class StampAnnotation extends PdfAnnotation {
      */
     public StampAnnotation(@NonNull RectF bounds) {
         super(PdfAnnotationType.STAMP);
+        Preconditions.checkNotNull(bounds, "Bounds should not be null");
         mBounds = bounds;
         mObjects = new ArrayList<>();
     }
@@ -55,7 +56,6 @@ public final class StampAnnotation extends PdfAnnotation {
      * Sets the bounding rectangle of the stamp annotation.
      *
      * @param bounds The new bounding rectangle.
-     * @throws NullPointerException if given bounds is null
      */
     public void setBounds(@NonNull RectF bounds) {
         Preconditions.checkNotNull(bounds, "Bounds should not be null");
@@ -81,6 +81,7 @@ public final class StampAnnotation extends PdfAnnotation {
      *         annotation.
      */
     public void addObject(@NonNull PdfPageObject pageObject) {
+        Preconditions.checkNotNull(pageObject, "Page object should not be null");
         Preconditions.checkArgument(pageObject.getPdfObjectType() == PdfPageObjectType.TEXT
                         || pageObject.getPdfObjectType() == PdfPageObjectType.IMAGE
                         || pageObject.getPdfObjectType() == PdfPageObjectType.PATH,
diff --git a/pdf/framework/java/android/graphics/pdf/logging/PdfEventLogger.java b/pdf/framework/java/android/graphics/pdf/logging/PdfEventLogger.java
index 5417ebbab..98f5dac8a 100644
--- a/pdf/framework/java/android/graphics/pdf/logging/PdfEventLogger.java
+++ b/pdf/framework/java/android/graphics/pdf/logging/PdfEventLogger.java
@@ -16,6 +16,8 @@
 
 package android.graphics.pdf.logging;
 
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_GET_TOP_PAGE_OBJECT_AT_POS;
+
 import android.annotation.IntDef;
 import android.graphics.pdf.PdfStatsLog;
 
@@ -95,8 +97,24 @@ public class PdfEventLogger {
     public void logPdfApiUsageReportedEvent(
             @ApiTypes.ApiType int apiType,
             @ApiResponseTypes.ApiResponseType int apiResponse) {
+        logPdfApiUsageReportedEvent(apiType, apiResponse, OperationTypes.UNKNOWN);
+    }
+
+    /**
+     * Logs data related to Pdf API usage events to statsD.
+     *
+     * @param apiType     The type of API being called.
+     * @param apiResponse The response type of the API call.
+     * @param operationType The operation type of the API call.
+     * @see com.android.os.pdf.PdfApiUsageReported
+     */
+    public void logPdfApiUsageReportedEvent(
+            @ApiTypes.ApiType int apiType,
+            @ApiResponseTypes.ApiResponseType int apiResponse,
+            @OperationTypes.OperationType int operationType) {
         PdfStatsLog.write(PdfStatsLog.PDF_API_USAGE_REPORTED, mProcessId, mDocId, apiType,
-                apiResponse);
+                apiResponse, operationType);
+
     }
 
     // Represent the linearization type of the PDF document.
@@ -133,8 +151,21 @@ public class PdfEventLogger {
                 PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_UNKNOWN;
         public static final int SELECT_CONTENT =
                 PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_SELECT_CONTENT;
-
-        @IntDef({UNKNOWN, SELECT_CONTENT})
+        public static final int TEXT_PAGE_OBJECT =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_TEXT_PAGE_OBJECT;
+        public static final int IMAGE_PAGE_OBJECT =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_IMAGE_PAGE_OBJECT;
+        public static final int PATH_PAGE_OBJECT =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_PATH_PAGE_OBJECT;
+        public static final int FREE_TEXT_ANNOTATION =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_FREE_TEXT_ANNOTATION;
+        public static final int HIGHLIGHT_ANNOTATION =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_HIGHLIGHT_ANNOTATION;
+        public static final int STAMP_ANNOTATION =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_STAMP_ANNOTATION;
+
+        @IntDef({UNKNOWN, SELECT_CONTENT, TEXT_PAGE_OBJECT, IMAGE_PAGE_OBJECT, PATH_PAGE_OBJECT,
+            FREE_TEXT_ANNOTATION, HIGHLIGHT_ANNOTATION, STAMP_ANNOTATION})
         @Retention(RetentionPolicy.RUNTIME)
         public @interface ApiType {
         }
@@ -155,4 +186,26 @@ public class PdfEventLogger {
         }
     }
 
+    // Represents the operation types of PdfViewer API being called.
+    public static final class OperationTypes {
+        public static final int UNKNOWN =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UNKNOWN;
+        public static final int GET =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_LIST;
+        public static final int ADD =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_ADD;
+        public static final int UPDATE =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UPDATE;
+        public static final int REMOVE =
+                PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_REMOVE;
+        public static final int GET_TOP_PAGE_OBJECT_AT_POSITION =
+                PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_GET_TOP_PAGE_OBJECT_AT_POS;
+
+
+        @IntDef({UNKNOWN, GET, ADD, UPDATE, REMOVE, GET_TOP_PAGE_OBJECT_AT_POSITION})
+        @Retention(RetentionPolicy.RUNTIME)
+        public @interface OperationType {
+        }
+    }
+
 }
diff --git a/pdf/framework/java/android/graphics/pdf/models/FormEditRecord.java b/pdf/framework/java/android/graphics/pdf/models/FormEditRecord.java
index 7b07c4db9..2a5de6256 100644
--- a/pdf/framework/java/android/graphics/pdf/models/FormEditRecord.java
+++ b/pdf/framework/java/android/graphics/pdf/models/FormEditRecord.java
@@ -117,7 +117,8 @@ public final class FormEditRecord implements Parcelable {
     }
 
     /**
-     * @return the index of the widget within the page's "Annot" array in the PDF document
+     * @return the index of the widget within the page's widget annotations array in the PDF
+     * document
      */
     @IntRange(from = 0)
     public int getWidgetIndex() {
@@ -231,7 +232,8 @@ public final class FormEditRecord implements Parcelable {
          *
          * @param type        the type of {@link FormEditRecord} to create
          * @param pageNumber  the page number of which the record is
-         * @param widgetIndex the index of the widget within the page's "Annot" array in the PDF
+         * @param widgetIndex the index of the widget within the page's widget annotations array in
+         *                    the PDF
          * @throws IllegalArgumentException if a negative page number or widget index is provided
          */
         public Builder(
diff --git a/pdf/framework/java/android/graphics/pdf/utils/Preconditions.java b/pdf/framework/java/android/graphics/pdf/utils/Preconditions.java
index 61f811a78..d1b20d828 100644
--- a/pdf/framework/java/android/graphics/pdf/utils/Preconditions.java
+++ b/pdf/framework/java/android/graphics/pdf/utils/Preconditions.java
@@ -16,12 +16,27 @@
 
 package android.graphics.pdf.utils;
 
+import static android.graphics.pdf.component.PdfPageObjectType.IMAGE;
+import static android.graphics.pdf.component.PdfPageObjectType.PATH;
+import static android.graphics.pdf.component.PdfPageObjectType.TEXT;
+
+import android.graphics.pdf.component.PdfPageObjectType;
+import android.graphics.pdf.flags.Flags;
+
+import java.util.Arrays;
+import java.util.Collections;
+import java.util.HashSet;
+import java.util.Set;
+
 /**
  * Utility class comprising of static methods to check correct constructor or method invocation.
  *
  * @hide
  */
 public final class Preconditions {
+    private static final Set<Integer> VALID_TYPES = Flags.enableEditPdfPageObjects()
+            ? new HashSet<>(Arrays.asList(TEXT, PATH, IMAGE))
+            : Collections.emptySet();
     /**
      * Ensures that an object reference passed as a parameter to the calling method is not null.
      *
@@ -49,4 +64,17 @@ public final class Preconditions {
             throw new IllegalArgumentException(errorMessage);
         }
     }
+
+    /**
+     * Ensures if all specified page object types are valid.
+     *
+     * @param types An array of {@link PdfPageObjectType.Type} values.
+     */
+    public static void checkValidPageObjectTypes(int[] types) {
+        for (int type : types) {
+            if (!VALID_TYPES.contains(type)) {
+                throw new IllegalArgumentException("input type(s) not supported.");
+            }
+        }
+    }
 }
diff --git a/pdf/framework/libs/pdfClient/annotation.cc b/pdf/framework/libs/pdfClient/annotation.cc
index 653f62ac6..9ab23020b 100644
--- a/pdf/framework/libs/pdfClient/annotation.cc
+++ b/pdf/framework/libs/pdfClient/annotation.cc
@@ -186,13 +186,18 @@ bool HighlightAnnotation::PopulateFromPdfiumInstance(FPDF_ANNOTATION fpdf_annot,
     unsigned int B;
     unsigned int A;
 
+    AppearanceStreams ap_streams(fpdf_annot);
+    ap_streams.GetAndClear();
+
     if (!FPDFAnnot_GetColor(fpdf_annot, FPDFANNOT_COLORTYPE_Color, &R, &G, &B, &A)) {
         LOGE("Couldn't get color of highlight annotation");
+        ap_streams.Set();
         return false;
     }
 
     Color color(R, G, B, A);
     this->SetColor(color);
+    ap_streams.Set();
     return true;
 }
 
@@ -249,12 +254,18 @@ bool HighlightAnnotation::UpdatePdfiumInstance(FPDF_ANNOTATION fpdf_annot, FPDF_
         }
     }
 
+    AppearanceStreams ap_streams(fpdf_annot);
+    ap_streams.GetAndClear();
+
     Color new_color = this->GetColor();
     if (!FPDFAnnot_SetColor(fpdf_annot, FPDFANNOT_COLORTYPE_Color, new_color.r, new_color.g,
                             new_color.b, new_color.a)) {
         LOGE("Highlight Annotation color couldn't be updated");
+        ap_streams.Set();
         return false;
     }
+
+    ap_streams.Set();
     return true;
 }
 
@@ -283,18 +294,24 @@ bool FreeTextAnnotation::PopulateFromPdfiumInstance(FPDF_ANNOTATION fpdf_annot,
         return false;
     }
 
+    AppearanceStreams ap_streams(fpdf_annot);
+    ap_streams.GetAndClear();
     // Get color
     if (!FPDFAnnot_GetColor(fpdf_annot, FPDFANNOT_COLORTYPE_Color, &text_color_.r, &text_color_.g,
                             &text_color_.b, &text_color_.a)) {
         LOGE("Couldn't get text color of freetext annotation");
+        ap_streams.Set();
         return false;
     }
 
     if (!FPDFAnnot_GetColor(fpdf_annot, FPDFANNOT_COLORTYPE_InteriorColor, &background_color_.r,
                             &background_color_.g, &background_color_.b, &background_color_.a)) {
         LOGE("Couldn't get background color of freetext annotation");
+        ap_streams.Set();
         return false;
     }
+
+    ap_streams.Set();
     return true;
 }
 
@@ -334,19 +351,71 @@ bool FreeTextAnnotation::UpdatePdfiumInstance(FPDF_ANNOTATION fpdf_annot, FPDF_D
         LOGE("FreeText Annotation text content could not be updated");
     }
 
+    AppearanceStreams ap_streams(fpdf_annot);
+    ap_streams.GetAndClear();
+
     if (!FPDFAnnot_SetColor(fpdf_annot, FPDFANNOT_COLORTYPE_Color, text_color_.r, text_color_.g,
                             text_color_.b, text_color_.a)) {
         LOGE("FreeText Annotation text color couldn't be updated");
+        ap_streams.Set();
         return false;
     }
 
     if (!FPDFAnnot_SetColor(fpdf_annot, FPDFANNOT_COLORTYPE_InteriorColor, background_color_.r,
                             background_color_.g, background_color_.b, background_color_.a)) {
         LOGE("FreeText Annotation background color couldn't be updated");
+        ap_streams.Set();
         return false;
     }
 
+    ap_streams.Set();
     return true;
 }
 
+void AppearanceStreams::GetAndClear() {
+    normal_length = FPDFAnnot_GetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_NORMAL, nullptr, 0);
+    rollover_length = FPDFAnnot_GetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_ROLLOVER, nullptr, 0);
+    down_length = FPDFAnnot_GetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_DOWN, nullptr, 0);
+    count_length = FPDFAnnot_GetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_COUNT, nullptr, 0);
+
+    normal_buffer = std::make_unique<FPDF_WCHAR[]>(normal_length);
+    rollover_buffer = std::make_unique<FPDF_WCHAR[]>(rollover_length);
+    down_buffer = std::make_unique<FPDF_WCHAR[]>(down_length);
+    count_buffer = std::make_unique<FPDF_WCHAR[]>(count_length);
+
+    // Check if AP is set, then get it and clear it
+    if (normal_length > 2 || rollover_length > 2 || down_length > 2 || count_length > 2) {
+        FPDFAnnot_GetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_NORMAL, normal_buffer.get(),
+                        normal_length);
+        FPDFAnnot_SetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_NORMAL, nullptr);
+
+        FPDFAnnot_GetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_ROLLOVER, rollover_buffer.get(),
+                        rollover_length);
+        FPDFAnnot_SetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_ROLLOVER, nullptr);
+
+        FPDFAnnot_GetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_DOWN, down_buffer.get(),
+                                                                               down_length);
+        FPDFAnnot_SetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_DOWN, nullptr);
+
+        FPDFAnnot_GetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_COUNT, count_buffer.get(),
+                        count_length);
+        FPDFAnnot_SetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_COUNT, nullptr);
+    }
+}
+
+void AppearanceStreams::Set() const {
+    if (normal_length > 2) {
+        FPDFAnnot_SetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_NORMAL, normal_buffer.get());
+    }
+    if (rollover_length > 2) {
+        FPDFAnnot_SetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_ROLLOVER,
+                                                                     rollover_buffer.get());
+    }
+    if (down_length > 2) {
+        FPDFAnnot_SetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_DOWN, down_buffer.get());
+    }
+    if (count_length > 2) {
+        FPDFAnnot_SetAP(fpdf_annot_, FPDF_ANNOT_APPEARANCEMODE_COUNT, count_buffer.get());
+    }
+}
 }  // namespace pdfClient
\ No newline at end of file
diff --git a/pdf/framework/libs/pdfClient/annotation.h b/pdf/framework/libs/pdfClient/annotation.h
index 518c45c64..e66a2dbfc 100644
--- a/pdf/framework/libs/pdfClient/annotation.h
+++ b/pdf/framework/libs/pdfClient/annotation.h
@@ -18,17 +18,37 @@
 #define MEDIAPROVIDER_PDF_JNI_PDFCLIENT_ANNOTATION_H_
 
 #include <map>
+#include <vector>
 
 #include "fpdf_annot.h"
 #include "fpdfview.h"
 #include "page_object.h"
 #include "rect.h"
+#include "utils/pdf_strings.h"
 
 using pdfClient::Color;
 using pdfClient::PageObject;
 using pdfClient::Rectangle_f;
 
 namespace pdfClient {
+
+struct AppearanceStreams {
+    AppearanceStreams(FPDF_ANNOTATION fpdf_annot) : fpdf_annot_(fpdf_annot) {}
+    unsigned long normal_length = 0;
+    unsigned long rollover_length = 0;
+    unsigned long down_length = 0;
+    unsigned long count_length = 0;
+    ScopedFPDFWChar normal_buffer;
+    ScopedFPDFWChar rollover_buffer;
+    ScopedFPDFWChar down_buffer;
+    ScopedFPDFWChar count_buffer;
+
+    void GetAndClear();
+    void Set() const;
+
+  private:
+    FPDF_ANNOTATION fpdf_annot_;
+};
 // Base class for different type of annotations
 class Annotation {
   public:
@@ -114,7 +134,7 @@ class FreeTextAnnotation : public Annotation {
     void SetBounds(Rectangle_f bounds) { bounds_ = bounds; }
 
     std::wstring GetTextContent() const { return text_content_; }
-    void SetTextContent(std::wstring textContent) { text_content_ = textContent; }
+    void SetTextContent(const std::wstring& textContent) { text_content_ = textContent; }
 
     Color GetTextColor() const { return text_color_; }
     void SetTextColor(Color color) { text_color_ = color; }
@@ -138,4 +158,4 @@ class FreeTextAnnotation : public Annotation {
 
 }  // namespace pdfClient
 
-#endif
\ No newline at end of file
+#endif
diff --git a/pdf/framework/libs/pdfClient/form_filler.cc b/pdf/framework/libs/pdfClient/form_filler.cc
index 6bb8b17e0..c48c11848 100644
--- a/pdf/framework/libs/pdfClient/form_filler.cc
+++ b/pdf/framework/libs/pdfClient/form_filler.cc
@@ -144,7 +144,7 @@ FormWidgetInfo FormFiller::GetFormWidgetInfo(FPDF_PAGE page, FPDF_ANNOTATION ann
 
     FormWidgetInfo result;
     result.set_widget_type(type);
-    result.set_widget_index(GetAnnotationIndex(page, annotation));
+    result.set_annot_index(GetAnnotationIndex(page, annotation));
     result.set_widget_rect(GetAnnotationRect(annotation));
     result.set_accessibility_label(GetAccessibilityLabel(annotation));
 
@@ -200,14 +200,18 @@ void FormFiller::GetFormWidgetInfos(FPDF_PAGE page, const std::unordered_set<int
     }
 
     bool filter_by_type = !type_ids.empty();
+    int widget_index = 0;
     for (const auto& widget_annot : widget_annots) {
         if (filter_by_type &&
             !(type_ids.find(GetFormFieldType(page, widget_annot.get())) != type_ids.end())) {
+            widget_index++;
             continue;
         }
         FormWidgetInfo result = GetFormWidgetInfo(page, widget_annot.get());
         if (result.FoundWidget()) {
+            result.set_widget_index(widget_index);
             widget_infos->push_back(std::move(result));
+            widget_index++;
         }
     }
 }
diff --git a/pdf/framework/libs/pdfClient/form_widget_info.cc b/pdf/framework/libs/pdfClient/form_widget_info.cc
index 894989090..ae7302aa6 100644
--- a/pdf/framework/libs/pdfClient/form_widget_info.cc
+++ b/pdf/framework/libs/pdfClient/form_widget_info.cc
@@ -30,6 +30,7 @@ const float kAutoSizeFontSize = 0;
 
 FormWidgetInfo::FormWidgetInfo()
     : widget_type_(-1),
+      annot_index_(-1),
       widget_index_(-1),
       widget_rect_(kDefaultRect),
       read_only_(false),
@@ -61,6 +62,14 @@ void FormWidgetInfo::set_widget_type(int widget_type) {
     widget_type_ = widget_type;
 }
 
+int FormWidgetInfo::annot_index() const {
+    return annot_index_;
+}
+
+void FormWidgetInfo::set_annot_index(int annot_index) {
+    annot_index_ = annot_index;
+}
+
 int FormWidgetInfo::widget_index() const {
     return widget_index_;
 }
diff --git a/pdf/framework/libs/pdfClient/form_widget_info.h b/pdf/framework/libs/pdfClient/form_widget_info.h
index 650ba16e7..273570018 100644
--- a/pdf/framework/libs/pdfClient/form_widget_info.h
+++ b/pdf/framework/libs/pdfClient/form_widget_info.h
@@ -43,6 +43,8 @@ class FormWidgetInfo {
 
     int widget_type() const;
     void set_widget_type(int widget_type);
+    int annot_index() const;
+    void set_annot_index(int annot_index);
     int widget_index() const;
     void set_widget_index(int widget_index);
     Rectangle_i widget_rect() const;
@@ -68,6 +70,9 @@ class FormWidgetInfo {
 
   private:
     int widget_type_;
+    // Index of this widget in page's complete annotations array
+    int annot_index_;
+    // Index of this widget in page's widget annotations array
     int widget_index_;
     Rectangle_i widget_rect_;
     bool read_only_;
diff --git a/pdf/framework/libs/pdfClient/image_object.cc b/pdf/framework/libs/pdfClient/image_object.cc
index 69dedb0bc..9f4d38633 100644
--- a/pdf/framework/libs/pdfClient/image_object.cc
+++ b/pdf/framework/libs/pdfClient/image_object.cc
@@ -21,6 +21,7 @@
 
 #include "fpdf_edit.h"
 #include "logging.h"
+#include "rect.h"
 
 #define LOG_TAG "image_object"
 
@@ -49,10 +50,12 @@ ScopedFPDFPageObject ImageObject::CreateFPDFInstance(FPDF_DOCUMENT document, FPD
     // Create a scoped PDFium image object.
     ScopedFPDFPageObject scoped_image_object(FPDFPageObj_NewImageObj(document));
     if (!scoped_image_object) {
+        LOGE("Object creation failed");
         return nullptr;
     }
     // Update attributes of PDFium image object.
     if (!UpdateFPDFInstance(scoped_image_object.get(), page)) {
+        LOGE("Create update failed");
         return nullptr;
     }
     return scoped_image_object;
@@ -60,21 +63,25 @@ ScopedFPDFPageObject ImageObject::CreateFPDFInstance(FPDF_DOCUMENT document, FPD
 
 bool ImageObject::UpdateFPDFInstance(FPDF_PAGEOBJECT image_object, FPDF_PAGE page) {
     if (!image_object) {
+        LOGE("Object NULL");
         return false;
     }
 
     // Check for Type Correctness.
     if (FPDFPageObj_GetType(image_object) != FPDF_PAGEOBJ_IMAGE) {
+        LOGE("TypeCast failed");
         return false;
     }
 
     // Set the updated bitmap.
     if (!FPDFImageObj_SetBitmap(nullptr, 0, image_object, bitmap_.get())) {
+        LOGE("SetBitmap failed");
         return false;
     }
 
     // Set the updated matrix.
     if (!SetDeviceToPageMatrix(image_object, page)) {
+        LOGE("SetDeviceToPageMatrix failed");
         return false;
     }
 
@@ -92,11 +99,13 @@ bool ImageObject::PopulateFromFPDFInstance(FPDF_PAGEOBJECT image_object, FPDF_PA
     // Get bitmap.
     bitmap_ = ScopedFPDFBitmap(FPDFImageObj_GetBitmap(image_object));
     if (bitmap_.get() == nullptr) {
+        LOGE("Bitmap not present");
         return false;
     }
 
     // Get matrix.
     if (!GetPageToDeviceMatrix(image_object, page)) {
+        LOGE("GetPageToDeviceMatrix failed");
         return false;
     }
 
@@ -117,6 +126,58 @@ void* ImageObject::GetBitmapBuffer() const {
     return FPDFBitmap_GetBuffer(bitmap_.get());
 }
 
+bool ImageObject::GetPageToDeviceMatrix(FPDF_PAGEOBJECT image_object, FPDF_PAGE page) {
+    Matrix page_matrix;
+    if (!FPDFPageObj_GetMatrix(image_object, reinterpret_cast<FS_MATRIX*>(&page_matrix))) {
+        LOGE("GetPageMatrix failed!");
+        return false;
+    }
+
+    // Set identity transformation for GetBounds.
+    Matrix identity = {1, 0, 0, 1, 0, 0};
+    FPDFPageObj_SetMatrix(image_object, reinterpret_cast<FS_MATRIX*>(&identity));
+
+    // Get Bounds.
+    Rectangle_f bounds;
+    FPDFPageObj_GetBounds(image_object, &bounds.left, &bounds.bottom, &bounds.right, &bounds.top);
+
+    // Reset the original page matrix.
+    FPDFPageObj_SetMatrix(image_object, reinterpret_cast<FS_MATRIX*>(&page_matrix));
+
+    float page_height = FPDF_GetPageHeightF(page);
+
+    // Page to device matrix.
+    device_matrix_.a = page_matrix.a;
+    device_matrix_.b = (page_matrix.b != 0) ? -page_matrix.b : 0;
+    device_matrix_.c = (page_matrix.c != 0) ? -page_matrix.c : 0;
+    device_matrix_.d = page_matrix.d;
+    device_matrix_.e = page_matrix.e + (bounds.top * page_matrix.c);
+    device_matrix_.f = page_height - page_matrix.f - (bounds.top * page_matrix.d);
+
+    return true;
+}
+
+bool ImageObject::SetDeviceToPageMatrix(FPDF_PAGEOBJECT image_object, FPDF_PAGE page) {
+    // Reset Previous Transformation.
+    Matrix identity = {1, 0, 0, 1, 0, 0};
+    if (!FPDFPageObj_SetMatrix(image_object, reinterpret_cast<FS_MATRIX*>(&identity))) {
+        LOGE("SetMatrix failed!");
+        return false;
+    }
+
+    Rectangle_f bounds;
+    FPDFPageObj_GetBounds(image_object, &bounds.left, &bounds.bottom, &bounds.right, &bounds.top);
+
+    float page_height = FPDF_GetPageHeightF(page);
+
+    FPDFPageObj_Transform(image_object, 1, 0, 0, 1, 0, -bounds.top);
+    FPDFPageObj_Transform(image_object, device_matrix_.a, -device_matrix_.b, -device_matrix_.c,
+                          device_matrix_.d, device_matrix_.e, -device_matrix_.f);
+    FPDFPageObj_Transform(image_object, 1, 0, 0, 1, 0, page_height);
+
+    return true;
+}
+
 ImageObject::~ImageObject() = default;
 
 }  // namespace pdfClient
\ No newline at end of file
diff --git a/pdf/framework/libs/pdfClient/image_object.h b/pdf/framework/libs/pdfClient/image_object.h
index e3563ba8e..35d8db92b 100644
--- a/pdf/framework/libs/pdfClient/image_object.h
+++ b/pdf/framework/libs/pdfClient/image_object.h
@@ -50,6 +50,10 @@ class ImageObject : public PageObject {
     size_t height_ = 0;
     BitmapFormat bitmap_format_ = BitmapFormat::Unknown;
     ScopedFPDFBitmap bitmap_;
+
+  protected:
+    bool GetPageToDeviceMatrix(FPDF_PAGEOBJECT image_object, FPDF_PAGE page) override;
+    bool SetDeviceToPageMatrix(FPDF_PAGEOBJECT image_object, FPDF_PAGE page) override;
 };
 
 }  // namespace pdfClient
diff --git a/pdf/framework/libs/pdfClient/jni_conversion.cc b/pdf/framework/libs/pdfClient/jni_conversion.cc
index 46d5b2d9e..485a0deb8 100644
--- a/pdf/framework/libs/pdfClient/jni_conversion.cc
+++ b/pdf/framework/libs/pdfClient/jni_conversion.cc
@@ -81,6 +81,8 @@ static const char* kMatrix = "android/graphics/Matrix";
 static const char* kPath = "android/graphics/Path";
 static const char* kRect = "android/graphics/Rect";
 static const char* kRectF = "android/graphics/RectF";
+static const char* kPointF = "android/graphics/PointF";
+static const char* kPair = "android/util/Pair";
 static const char* kInteger = "java/lang/Integer";
 static const char* kString = "java/lang/String";
 static const char* kObject = "java/lang/Object";
@@ -256,6 +258,14 @@ SelectionBoundary ToNativeBoundary(JNIEnv* env, jobject jBoundary) {
             env->GetIntField(jBoundary, y_field), env->GetBooleanField(jBoundary, rtl_field));
 }
 
+Point_f ToNativePointF(JNIEnv* env, jobject jPoint) {
+    static jclass point_class = GetPermClassRef(env, kPointF);
+    static jfieldID x_field = env->GetFieldID(point_class, "x", "F");
+    static jfieldID y_field = env->GetFieldID(point_class, "y", "F");
+
+    return Point_f(env->GetFloatField(jPoint, x_field), env->GetFloatField(jPoint, y_field));
+}
+
 int ToNativeInteger(JNIEnv* env, jobject jInteger) {
     static jclass integer_class = GetPermClassRef(env, kInteger);
     static jmethodID get_int_value = env->GetMethodID(integer_class, "intValue", "()I");
@@ -415,7 +425,8 @@ jobject ToJavaFormWidgetInfo(JNIEnv* env, const FormWidgetInfo& form_action_resu
     jobject java_text_value = ToJavaString(env, form_action_result.text_value());
     jobject java_accessibility_label = ToJavaString(env, form_action_result.accessibility_label());
     jobject java_choice_options = ToJavaList(env, form_action_result.options(), &ToJavaChoiceOption);
-
+    // Java FormWidgetInfo will store widget_index (index of the widget in page's widget
+    // annotations array) as its mIndex
     return env->NewObject(click_result_class, init, form_action_result.widget_type(),
                           form_action_result.widget_index(), java_widget_rect,
                           form_action_result.read_only(), java_text_value, java_accessibility_label,
@@ -709,23 +720,21 @@ jobject ToJavaPdfPathObject(JNIEnv* env, const PathObject* path_object,
     // Create Java PdfPathObject Instance.
     jobject java_path_object = env->NewObject(path_object_class, init_path, java_path);
 
-    // Set Java PdfPathObject FillColor.
-    if (path_object->is_fill_) {
-        static jmethodID set_fill_color =
-                env->GetMethodID(path_object_class, "setFillColor", funcsig("V", "I").c_str());
+    // Set Java PdfPathObject Render Mode.
+    int render_mode = static_cast<int>(path_object->render_mode_);
+    static jmethodID set_render_mode = env->GetMethodID(path_object_class, "setRenderMode", "(I)V");
+    env->CallVoidMethod(java_path_object, set_render_mode, render_mode);
 
-        env->CallVoidMethod(java_path_object, set_fill_color,
-                            ToJavaColorInt(path_object->fill_color_));
-    }
+    // Set Java PdfPathObject FillColor.
+    static jmethodID set_fill_color =
+            env->GetMethodID(path_object_class, "setFillColor", funcsig("V", "I").c_str());
+    env->CallVoidMethod(java_path_object, set_fill_color, ToJavaColorInt(path_object->fill_color_));
 
     // Set Java PdfPathObject StrokeColor.
-    if (path_object->is_stroke_) {
-        static jmethodID set_stroke_color =
-                env->GetMethodID(path_object_class, "setStrokeColor", funcsig("V", "I").c_str());
-
-        env->CallVoidMethod(java_path_object, set_stroke_color,
-                            ToJavaColorInt(path_object->stroke_color_));
-    }
+    static jmethodID set_stroke_color =
+            env->GetMethodID(path_object_class, "setStrokeColor", funcsig("V", "I").c_str());
+    env->CallVoidMethod(java_path_object, set_stroke_color,
+                        ToJavaColorInt(path_object->stroke_color_));
 
     // Set Java Stroke Width.
     static jmethodID set_stroke_width =
@@ -770,6 +779,11 @@ jobject ToJavaPdfPageObject(JNIEnv* env, const PageObject* page_object,
     jobject java_page_object = NULL;
 
     switch (page_object->GetType()) {
+        case PageObject::Type::Text: {
+            const TextObject* text_object = static_cast<const TextObject*>(page_object);
+            java_page_object = ToJavaPdfTextObject(env, text_object);
+            break;
+        }
         case PageObject::Type::Path: {
             const PathObject* path_object = static_cast<const PathObject*>(page_object);
             java_page_object = ToJavaPdfPathObject(env, path_object, converter);
@@ -806,6 +820,18 @@ jobject ToJavaPdfPageObjects(JNIEnv* env, const vector<PageObject*>& page_object
     return ToJavaList(env, page_objects, converter, &ToJavaPdfPageObject);
 }
 
+jobject ToJavaIndexPageObjectPair(JNIEnv* env, int index, PageObject* page_object,
+                                  ICoordinateConverter* converter) {
+    jobject jIndex = ToJavaInteger(env, index);
+    jobject java_page_object = ToJavaPdfPageObject(env, page_object, converter);
+    jclass pair_class = env->FindClass(kPair);
+    jmethodID init_pair =
+            env->GetMethodID(pair_class, "<init>", funcsig("V", kObject, kObject).c_str());
+    jobject java_pair = env->NewObject(pair_class, init_pair, jIndex, java_page_object);
+    env->DeleteLocalRef(pair_class);
+    return java_pair;
+}
+
 Color ToNativeColor(jint java_color_int) {
     // Decoding RGBA components
     unsigned int red = (java_color_int >> 16) & 0xFF;
@@ -967,27 +993,46 @@ std::unique_ptr<PathObject> ToNativePathObject(JNIEnv* env, jobject java_path_ob
         }
     }
 
+    // Get Java PathObject Render Mode.
+    static jmethodID get_render_mode =
+            env->GetMethodID(path_object_class, "getRenderMode", funcsig("I").c_str());
+    jint java_render_mode = env->CallIntMethod(java_path_object, get_render_mode);
+
+    // Set PathObject Data Render Mode.
+    switch (static_cast<PathObject::RenderMode>(java_render_mode)) {
+        case PathObject::RenderMode::Fill: {
+            path_object->render_mode_ = PathObject::RenderMode::Fill;
+            break;
+        }
+        case PathObject::RenderMode::Stroke: {
+            path_object->render_mode_ = PathObject::RenderMode::Stroke;
+            break;
+        }
+        case PathObject::RenderMode::FillStroke: {
+            path_object->render_mode_ = PathObject::RenderMode::FillStroke;
+            break;
+        }
+        default: {
+            path_object->render_mode_ = PathObject::RenderMode::Unknown;
+            break;
+        }
+    }
+
     // Get Java PathObject Fill Color.
     static jmethodID get_fill_color =
             env->GetMethodID(path_object_class, "getFillColor", funcsig("I").c_str());
     jint java_fill_color = env->CallIntMethod(java_path_object, get_fill_color);
 
-    // Set PathObject Data Fill Mode and Fill Color
-    path_object->is_fill_ = (java_fill_color != 0);
-    if (path_object->is_fill_) {
-        path_object->fill_color_ = ToNativeColor(java_fill_color);
-    }
+    // Set PathObject Data Fill Color
+    path_object->fill_color_ = ToNativeColor(java_fill_color);
 
     // Get Java PathObject Stroke Color.
     static jmethodID get_stroke_color =
             env->GetMethodID(path_object_class, "getStrokeColor", funcsig("I").c_str());
     jint java_stroke_color = env->CallIntMethod(java_path_object, get_stroke_color);
 
-    // Set PathObject Data Stroke Mode and Stroke Color.
-    path_object->is_stroke_ = (java_stroke_color != 0);
-    if (path_object->is_stroke_) {
-        path_object->stroke_color_ = ToNativeColor(java_stroke_color);
-    }
+    // Set PathObject Data Stroke Color.
+    path_object->stroke_color_ = ToNativeColor(java_stroke_color);
 
     // Get Java PathObject Stroke Width.
     static jmethodID get_stroke_width =
@@ -1073,6 +1118,10 @@ std::unique_ptr<PageObject> ToNativePageObject(JNIEnv* env, jobject java_page_ob
     std::unique_ptr<PageObject> page_object = nullptr;
 
     switch (static_cast<PageObject::Type>(page_object_type)) {
+        case PageObject::Type::Text: {
+            page_object = ToNativeTextObject(env, java_page_object);
+            break;
+        }
         case PageObject::Type::Path: {
             page_object = ToNativePathObject(env, java_page_object, converter);
             break;
@@ -1271,7 +1320,7 @@ std::unique_ptr<Annotation> ToNativeHighlightAnnotation(JNIEnv* env, jobject jav
     static jclass highlight_annotation_class = GetPermClassRef(env, kHighlightAnnotation);
 
     jmethodID get_bounds =
-            env->GetMethodID(highlight_annotation_class, "getBounds", funcsig(kList).c_str());
+            env->GetMethodID(highlight_annotation_class, "getBoundsList", funcsig(kList).c_str());
     jobject java_bounds = env->CallObjectMethod(java_annotation, get_bounds);
 
     vector<Rectangle_f> native_bounds;
diff --git a/pdf/framework/libs/pdfClient/jni_conversion.h b/pdf/framework/libs/pdfClient/jni_conversion.h
index 30b784250..01d6b8983 100644
--- a/pdf/framework/libs/pdfClient/jni_conversion.h
+++ b/pdf/framework/libs/pdfClient/jni_conversion.h
@@ -61,6 +61,9 @@ Document* GetPdfDocPtr(JNIEnv* env, jobject jPdfDocument);
 // Convert a Java SelectionBoundary to a C++ SelectionBoundary.
 SelectionBoundary ToNativeBoundary(JNIEnv* env, jobject jBoundary);
 
+// Convert a Java PointF to a C++ Point_f.
+Point_f ToNativePointF(JNIEnv* env, jobject jPoint);
+
 // Convert a Java Integer to an C++ int.
 int ToNativeInteger(JNIEnv* env, jobject jInteger);
 
@@ -132,6 +135,9 @@ jobject ToJavaPdfPageObject(JNIEnv* env, const PageObject* page_object,
 jobject ToJavaPdfPageObjects(JNIEnv* env, const vector<PageObject*>& page_objects,
                              ICoordinateConverter* converter);
 
+jobject ToJavaIndexPageObjectPair(JNIEnv* env, int index, PageObject* page_object,
+                                  ICoordinateConverter* converter);
+
 Color ToNativeColor(JNIEnv* env, jobject java_color);
 
 std::unique_ptr<PageObject> ToNativePageObject(JNIEnv* env, jobject java_page_object,
diff --git a/pdf/framework/libs/pdfClient/page.cc b/pdf/framework/libs/pdfClient/page.cc
index faa84b34b..474c51226 100644
--- a/pdf/framework/libs/pdfClient/page.cc
+++ b/pdf/framework/libs/pdfClient/page.cc
@@ -64,7 +64,12 @@ Page::Page(FPDF_DOCUMENT doc, int page_num, FormFiller* form_filler)
       page_(FPDF_LoadPage(doc, page_num)),
       form_filler_(form_filler),
       invalid_rect_(kEmptyIntRectangle),
-      page_num_(page_num) {}
+      page_num_(page_num) {
+    // For corrupted pdf invalid pages result in -1 page object count return.
+    if (FPDFPage_CountObjects(page_.get()) > 0) {
+        page_objects_.resize(FPDFPage_CountObjects(page_.get()));
+    }
+}
 
 Page::Page(Page&& p) = default;
 
@@ -362,6 +367,33 @@ void Page::TerminateFormFilling() {
     form_filler_->NotifyBeforePageClose(page_.get());
 }
 
+int Page::FindWidgetAnnotationIndex(int widget_index) {
+    std::vector<FormWidgetInfo> widget_infos;
+    // Passing empty type_ids list to get all form widgets
+    form_filler_->GetFormWidgetInfos(page_.get(), {}, &widget_infos);
+
+    if (widget_index >= widget_infos.size()) {
+        return -1;
+    }
+
+    int annotation_index = widget_infos[widget_index].annot_index();
+    return annotation_index;
+}
+
+int Page::FindWidgetIndex(int annot_index) {
+    std::vector<FormWidgetInfo> widget_infos;
+    // Passing empty type_ids list to get all form widgets
+    form_filler_->GetFormWidgetInfos(page_.get(), {}, &widget_infos);
+
+    for (int widget_index = 0; widget_index < widget_infos.size(); widget_index++) {
+        if (widget_infos[widget_index].annot_index() == annot_index) {
+            return widget_index;
+        }
+    }
+
+    return -1;
+}
+
 FormWidgetInfo Page::GetFormWidgetInfo(Point_i point) {
     Point_d page_point = UnapplyPageTransform(point);
     FormWidgetInfo result = form_filler_->GetFormWidgetInfo(page_.get(), page_point);
@@ -370,6 +402,10 @@ FormWidgetInfo Page::GetFormWidgetInfo(Point_i point) {
         // returning to user.
         Rectangle_i transformed_widget_rect = ApplyPageTransform(result.widget_rect());
         result.set_widget_rect(transformed_widget_rect);
+
+        // set widget_index
+        int widget_index = FindWidgetIndex(result.annot_index());
+        result.set_widget_index(widget_index);
     }
 
     // Consume any rectangle that was invalidated by this action. Some
@@ -379,13 +415,23 @@ FormWidgetInfo Page::GetFormWidgetInfo(Point_i point) {
     return result;
 }
 
-FormWidgetInfo Page::GetFormWidgetInfo(int annotation_index) {
+FormWidgetInfo Page::GetFormWidgetInfo(int widget_index) {
+    int annotation_index = FindWidgetAnnotationIndex(widget_index);
+
+    if (annotation_index == -1) {
+        LOGE("There is no widget annotation at given widget_index");
+        return FormWidgetInfo();
+    }
+
     FormWidgetInfo result = form_filler_->GetFormWidgetInfo(page_.get(), annotation_index);
     if (result.FoundWidget()) {
         // widget_rect is in page coords; transform to device coords before
         // returning to user.
         Rectangle_i transformed_widget_rect = ApplyPageTransform(result.widget_rect());
         result.set_widget_rect(transformed_widget_rect);
+
+        // set widget_index
+        result.set_widget_index(widget_index);
     }
 
     // Consume any rectangle that was invalidated by this action. Some
@@ -415,11 +461,21 @@ bool Page::ClickOnPoint(Point_i point) {
     Point_d page_point = UnapplyPageTransform(point);
     return form_filler_->ClickOnPoint(page_.get(), page_point);
 }
-bool Page::SetFormFieldText(int annotation_index, std::string_view text) {
+bool Page::SetFormFieldText(int widget_index, std::string_view text) {
+    int annotation_index = FindWidgetAnnotationIndex(widget_index);
+    if (annotation_index == -1) {
+        LOGE("There is no form widget at the given widget_index");
+        return false;
+    }
     return form_filler_->SetText(page_.get(), annotation_index, text);
 }
 
-bool Page::SetChoiceSelection(int annotation_index, std::span<const int> selected_indices) {
+bool Page::SetChoiceSelection(int widget_index, std::span<const int> selected_indices) {
+    int annotation_index = FindWidgetAnnotationIndex(widget_index);
+    if (annotation_index == -1) {
+        LOGE("There is no form widget at the given widget_index");
+        return false;
+    }
     return form_filler_->SetChoiceSelection(page_.get(), annotation_index, selected_indices);
 }
 void Page::NotifyInvalidRect(Rectangle_i rect) {
@@ -453,7 +509,7 @@ void* Page::Get() {
 }
 
 std::vector<PageObject*> Page::GetPageObjects(bool refetch) {
-    PopulatePageObjects(refetch);
+    PopulateAllPageObjects(refetch);
 
     std::vector<PageObject*> page_objects;
     for (const auto& page_object : page_objects_) {
@@ -463,6 +519,41 @@ std::vector<PageObject*> Page::GetPageObjects(bool refetch) {
     return page_objects;
 }
 
+std::pair<int, PageObject*> Page::GetTopPageObjectAtPosition(
+        Point_f point, const std::unordered_set<int>& type_ids) {
+    int object_count = FPDFPage_CountObjects(page_.get());
+    // Iterate in reverse order to get the top most page object
+    for (int index = object_count - 1; index >= 0; --index) {
+        FPDF_PAGEOBJECT page_object = FPDFPage_GetObject(page_.get(), index);
+        int type = FPDFPageObj_GetType(page_object);
+
+        // If specific object type(s) are provided for filtering, and the current object's
+        // type isn't in that set, skip it.
+        if (!type_ids.empty() && !type_ids.contains(type)) {
+            continue;
+        }
+
+        Rectangle_f bounds{};
+        FPDFPageObj_GetBounds(page_object, &bounds.left, &bounds.bottom,
+                              &bounds.right, &bounds.top);
+
+        // Check if the page point is within the object's bounding box
+        // Note: PDF coordinates typically have Y increasing upwards.
+        // The bounds are (left, bottom, right, top).
+        if (point.x >= bounds.left && point.x <= bounds.right && point.y >= bounds.bottom &&
+            point.y <= bounds.top) {
+          // Found the topmost object containing the point
+            if (!page_objects_[index]) {
+                PopulatePageObject(index);
+            }
+
+            return {index, page_objects_[index].get()};
+        }
+    }
+
+    return {-1, nullptr};
+}
+
 int Page::AddPageObject(std::unique_ptr<PageObject> pageObject) {
     // Create a scoped PDFium page object.
     ScopedFPDFPageObject scoped_page_object(pageObject->CreateFPDFInstance(document_, page_.get()));
@@ -476,15 +567,18 @@ int Page::AddPageObject(std::unique_ptr<PageObject> pageObject) {
     FPDFPage_InsertObject(page_.get(), scoped_page_object.release());
     FPDFPage_GenerateContent(page_.get());
 
-    // Add pageObject in stored list if populated.
-    if (!page_objects_.empty()) {
-        page_objects_.push_back(std::move(pageObject));
-    }
+    // Add pageObject in stored list.
+    page_objects_.push_back(std::move(pageObject));
 
     return FPDFPage_CountObjects(page_.get()) - 1;
 }
 
 bool Page::RemovePageObject(int index) {
+    // Check for valid index
+    if (index < 0 || index >= FPDFPage_CountObjects(page_.get())) {
+        return false;
+    }
+
     FPDF_PAGEOBJECT page_object = FPDFPage_GetObject(page_.get(), index);
     // Remove FPDF PageObject
     if (!FPDFPage_RemoveObject(page_.get(), page_object)) {
@@ -518,6 +612,9 @@ bool Page::UpdatePageObject(int index, std::unique_ptr<PageObject> pageObject) {
 
     FPDFPage_GenerateContent(page_.get());
 
+    // Update pageObject from stored list.
+    PopulatePageObject(index);
+
     return true;
 }
 
@@ -791,43 +888,53 @@ bool Page::IsUrlLink(FPDF_LINK link) const {
     return action != nullptr && FPDFAction_GetType(action) == PDFACTION_URI;
 }
 
-void Page::PopulatePageObjects(bool refetch) {
-    if (!refetch && !page_objects_.empty()) {
-        return;
+void Page::PopulateAllPageObjects(bool refetch) {
+    int object_count = FPDFPage_CountObjects(page_.get());
+    for (int index = 0; index < object_count; ++index) {
+        if (!page_objects_[index] || refetch) {
+            PopulatePageObject(index);
+        }
     }
+}
 
-    int object_count = FPDFPage_CountObjects(page_.get());
-    // Resize PageObjects
-    page_objects_.resize(object_count);
+void Page::PopulatePageObject(int index) {
+    // Check for valid index
+    if (index < 0 || index >= FPDFPage_CountObjects(page_.get())) {
+        LOGE("Invalid page object index");
+        return;
+    }
 
-    for (int index = 0; index < object_count; ++index) {
-        FPDF_PAGEOBJECT page_object = FPDFPage_GetObject(page_.get(), index);
-        int type = FPDFPageObj_GetType(page_object);
+    FPDF_PAGEOBJECT page_object = FPDFPage_GetObject(page_.get(), index);
+    if (!page_object) {
+        LOGE("Page object not found!");
+        return;
+    }
+    int type = FPDFPageObj_GetType(page_object);
 
-        // Pointer to PageObject
-        std::unique_ptr<PageObject> page_object_ = nullptr;
+    // Pointer to PageObject
+    std::unique_ptr<PageObject> page_object_ = nullptr;
 
-        switch (type) {
-            case FPDF_PAGEOBJ_TEXT: {
-                page_object_ = std::make_unique<TextObject>();
-                break;
-            }
-            case FPDF_PAGEOBJ_PATH: {
-                page_object_ = std::make_unique<PathObject>();
-                break;
-            }
-            case FPDF_PAGEOBJ_IMAGE: {
-                page_object_ = std::make_unique<ImageObject>();
-                break;
-            }
-            default:
-                break;
+    switch (type) {
+        case FPDF_PAGEOBJ_TEXT: {
+            page_object_ = std::make_unique<TextObject>();
+            break;
         }
-
-        // Populate PageObject From Page
-        if (page_object_ && page_object_->PopulateFromFPDFInstance(page_object, page_.get())) {
-            page_objects_[index] = std::move(page_object_);
+        case FPDF_PAGEOBJ_PATH: {
+            page_object_ = std::make_unique<PathObject>();
+            break;
+        }
+        case FPDF_PAGEOBJ_IMAGE: {
+            page_object_ = std::make_unique<ImageObject>();
+            break;
         }
+        default:
+            break;
+    }
+
+    // Populate PageObject From Page
+    if (page_object_ &&
+        page_object_->PopulateFromFPDFInstance(page_object, page_.get())) {
+        page_objects_[index] = std::move(page_object_);
     }
 }
 
@@ -909,7 +1016,8 @@ void Page::PopulateAnnotations() {
         }
 
         if (!annotation ||
-            !annotation->PopulateFromPdfiumInstance(scoped_annot.get(), page_.get())) {
+            !annotation->PopulateFromPdfiumInstance(scoped_annot.get(),
+                                                    page_.get())) {
             LOGE("Failed to create a pdfClient's instance of annotation using pdfium "
                  "instance");
         }
@@ -975,7 +1083,8 @@ bool Page::UpdatePageAnnotation(int index, std::unique_ptr<Annotation> annotatio
         return false;
     }
 
-    if (!annotation->UpdatePdfiumInstance(scoped_annot.get(), document_, page_.get())) {
+    if (!annotation->UpdatePdfiumInstance(scoped_annot.get(), document_,
+                                          page_.get())) {
         LOGE("Failed to update pdfium annotation's instance");
         return false;
     }
diff --git a/pdf/framework/libs/pdfClient/page.h b/pdf/framework/libs/pdfClient/page.h
index cc73a1f52..1c58e850a 100644
--- a/pdf/framework/libs/pdfClient/page.h
+++ b/pdf/framework/libs/pdfClient/page.h
@@ -249,6 +249,10 @@ class Page : public ICoordinateConverter {
     // Get all PageObjects on this Page. Ownership of PageObjects is with Page.
     std::vector<PageObject*> GetPageObjects(bool refetch = false);
 
+    // Get top PageObject at specified point by the given type(s).
+    std::pair<int, PageObject*> GetTopPageObjectAtPosition(Point_f point,
+                                                           const std::unordered_set<int>& type_ids);
+
     // Add PageObject to Page.
     int AddPageObject(std::unique_ptr<PageObject> page_object);
 
@@ -382,13 +386,24 @@ class Page : public ICoordinateConverter {
     // Page Objects
     std::vector<std::unique_ptr<PageObject>> page_objects_;
 
-    // Populates page_objects_ with PageObjects on Page.
-    void PopulatePageObjects(bool refetch);
+    // Populates page_objects_ with all supported pageObjects on page.
+    void PopulateAllPageObjects(bool refetch);
+
+    // Populates page_objects_ at given index on page.
+    void PopulatePageObject(int index);
 
     // Annotations
     std::vector<std::unique_ptr<Annotation>> annotations_;
 
     void PopulateAnnotations();
+
+    // Returns annot_index of a form widget annot corresponding to given widget_index if exists,
+    // else returns -1
+    int FindWidgetAnnotationIndex(int widget_index);
+
+    // Returns widget_index of a form widget annot corresponding to given annot_index if exists,
+    // else returns -1
+    int FindWidgetIndex(int annot_index);
 };
 
 }  // namespace pdfClient
diff --git a/pdf/framework/libs/pdfClient/page_object.cc b/pdf/framework/libs/pdfClient/page_object.cc
index c8cfd8313..e78d0fd0b 100644
--- a/pdf/framework/libs/pdfClient/page_object.cc
+++ b/pdf/framework/libs/pdfClient/page_object.cc
@@ -23,7 +23,6 @@
 #include "fpdf_edit.h"
 #include "fpdfview.h"
 #include "logging.h"
-#include "rect.h"
 
 #define LOG_TAG "page_object"
 
@@ -35,58 +34,6 @@ PageObject::Type PageObject::GetType() const {
     return type_;
 }
 
-bool PageObject::GetPageToDeviceMatrix(FPDF_PAGEOBJECT page_object, FPDF_PAGE page) {
-    Matrix page_matrix;
-    if (!FPDFPageObj_GetMatrix(page_object, reinterpret_cast<FS_MATRIX*>(&page_matrix))) {
-        LOGE("GetPageMatrix failed!");
-        return false;
-    }
-
-    // Set identity transformation for GetBounds.
-    Matrix identity = {1, 0, 0, 1, 0, 0};
-    FPDFPageObj_SetMatrix(page_object, reinterpret_cast<FS_MATRIX*>(&identity));
-
-    // Get Bounds.
-    Rectangle_f bounds;
-    FPDFPageObj_GetBounds(page_object, &bounds.left, &bounds.bottom, &bounds.right, &bounds.top);
-
-    // Reset the original page matrix.
-    FPDFPageObj_SetMatrix(page_object, reinterpret_cast<FS_MATRIX*>(&page_matrix));
-
-    float page_height = FPDF_GetPageHeightF(page);
-
-    // Page to device matrix.
-    device_matrix_.a = page_matrix.a;
-    device_matrix_.b = (page_matrix.b != 0) ? -page_matrix.b : 0;
-    device_matrix_.c = (page_matrix.c != 0) ? -page_matrix.c : 0;
-    device_matrix_.d = page_matrix.d;
-    device_matrix_.e = page_matrix.e + ((bounds.top + bounds.bottom) * page_matrix.c);
-    device_matrix_.f = page_height - page_matrix.f - ((bounds.top + bounds.bottom) * page_matrix.d);
-
-    return true;
-}
-
-bool PageObject::SetDeviceToPageMatrix(FPDF_PAGEOBJECT page_object, FPDF_PAGE page) {
-    // Reset Previous Transformation.
-    Matrix identity = {1, 0, 0, 1, 0, 0};
-    if (!FPDFPageObj_SetMatrix(page_object, reinterpret_cast<FS_MATRIX*>(&identity))) {
-        LOGE("SetMatrix failed!");
-        return false;
-    }
-
-    Rectangle_f bounds;
-    FPDFPageObj_GetBounds(page_object, &bounds.left, &bounds.bottom, &bounds.right, &bounds.top);
-
-    float page_height = FPDF_GetPageHeightF(page);
-
-    FPDFPageObj_Transform(page_object, 1, 0, 0, 1, 0, -(bounds.top + bounds.bottom));
-    FPDFPageObj_Transform(page_object, device_matrix_.a, -device_matrix_.b, -device_matrix_.c,
-                          device_matrix_.d, device_matrix_.e, -device_matrix_.f);
-    FPDFPageObj_Transform(page_object, 1, 0, 0, 1, 0, page_height);
-
-    return true;
-}
-
 PageObject::~PageObject() = default;
 
 }  // namespace pdfClient
\ No newline at end of file
diff --git a/pdf/framework/libs/pdfClient/page_object.h b/pdf/framework/libs/pdfClient/page_object.h
index 50df89616..8db75aebd 100644
--- a/pdf/framework/libs/pdfClient/page_object.h
+++ b/pdf/framework/libs/pdfClient/page_object.h
@@ -18,6 +18,7 @@
 #define MEDIAPROVIDER_PDF_JNI_PDFCLIENT_PAGE_OBJECT_H_
 
 #include <stdint.h>
+#include <stdlib.h>
 
 #include <algorithm>
 
@@ -92,8 +93,8 @@ class PageObject {
   protected:
     PageObject(Type type = Type::Unknown);
 
-    virtual bool GetPageToDeviceMatrix(FPDF_PAGEOBJECT page_object, FPDF_PAGE page);
-    virtual bool SetDeviceToPageMatrix(FPDF_PAGEOBJECT page_object, FPDF_PAGE page);
+    virtual bool GetPageToDeviceMatrix(FPDF_PAGEOBJECT page_object, FPDF_PAGE page) = 0;
+    virtual bool SetDeviceToPageMatrix(FPDF_PAGEOBJECT page_object, FPDF_PAGE page) = 0;
 
   private:
     Type type_;
diff --git a/pdf/framework/libs/pdfClient/page_test.cc b/pdf/framework/libs/pdfClient/page_test.cc
index 79dfeea84..a861d013b 100644
--- a/pdf/framework/libs/pdfClient/page_test.cc
+++ b/pdf/framework/libs/pdfClient/page_test.cc
@@ -49,6 +49,7 @@ using ::pdfClient::Matrix;
 using ::pdfClient::Page;
 using ::pdfClient::PageObject;
 using ::pdfClient::PathObject;
+using ::pdfClient::Point_f;
 using ::pdfClient::Rectangle_i;
 using ::pdfClient::StampAnnotation;
 using ::pdfClient::Symbol;
@@ -59,6 +60,7 @@ static const std::string kTestdata = "testdata";
 static const std::string kSekretNoPassword = "sekret_no_password.pdf";
 static const std::string kPageObject = "page_object.pdf";
 static const std::string kAnnotation = "annotation.pdf";
+static const std::string kOverlappingPageObject = "overlapping_page_object.pdf";
 
 std::string GetTestDataDir() {
     return android::base::GetExecutableDirectory();
@@ -236,6 +238,64 @@ TEST(Test, GetPageObjectsTest) {
     ASSERT_EQ(PageObject::Type::Text, pageObjects[2]->GetType());
 }
 
+TEST(Test, GetTopPageObjectAtPosition_AtOrigin) {
+    Document doc(LoadTestDocument(kOverlappingPageObject), false);
+    std::shared_ptr<Page> page = doc.GetPage(0);
+
+    auto testPoint = Point_f(0, 0);
+    auto mappedTestPoint = page->DeviceToPage(testPoint);
+    std::unordered_set<int> types;
+    types.insert(3);  // image type
+
+    auto result = page->GetTopPageObjectAtPosition(mappedTestPoint, types);
+
+    // Assert no page object found at origin
+    assert(null == result.second);
+}
+
+TEST(Test, GetTopPageObjectAtPosition_AtImagePoint) {
+    Document doc(LoadTestDocument(kOverlappingPageObject), false);
+    std::shared_ptr<Page> page = doc.GetPage(0);
+
+    auto testPoint = Point_f(310, 400);  // position of image object
+    auto mappedTestPoint = page->DeviceToPage(testPoint);
+    std::unordered_set<int> types;
+    types.insert(1);  // text type
+    types.insert(3);  // image type
+
+    auto result = page->GetTopPageObjectAtPosition(mappedTestPoint, types);
+
+    // Check for the first PageObject to be ImageObject.
+    ASSERT_EQ(PageObject::Type::Image, result.second->GetType());
+}
+
+TEST(Test, GetTopPageObjectAtPosition_WithTextType) {
+    Document doc(LoadTestDocument(kOverlappingPageObject), false);
+    std::shared_ptr<Page> page = doc.GetPage(0);
+    // provide test point where image is top object
+    auto testPoint = Point_f(310, 400);
+    auto mappedTestPoint = page->DeviceToPage(testPoint);
+    std::unordered_set<int> types;
+    types.insert(1);  // text type
+
+    auto result = page->GetTopPageObjectAtPosition(mappedTestPoint, types);
+    // since image is present at test point and we queried only for text type, assert null returned.
+    assert(null == result.second);
+}
+
+TEST(Test, GetTopPageObjectAtPosition_WithAllType) {
+    Document doc(LoadTestDocument(kOverlappingPageObject), false);
+    std::shared_ptr<Page> page = doc.GetPage(0);
+
+    auto testPoint = Point_f(80, 100);  // Position of path object
+    auto mappedTestPoint = page->DeviceToPage(testPoint);
+    std::unordered_set<int> types;
+
+    auto result = page->GetTopPageObjectAtPosition(mappedTestPoint, types);
+
+    ASSERT_EQ(PageObject::Type::Path, result.second->GetType());
+}
+
 TEST(Test, AddImagePageObjectTest) {
     Document doc(LoadTestDocument(kPageObject), false);
     std::shared_ptr<Page> page = doc.GetPage(0);
@@ -255,6 +315,20 @@ TEST(Test, AddImagePageObjectTest) {
     // Add the page object.
     ASSERT_EQ(page->AddPageObject(std::move(imageObject)), initialPageObjects.size());
 
+    // Get Cache Updated PageObjects
+    std::vector<PageObject*> cacheUpdatedPageObjects = page->GetPageObjects();
+
+    // Assert that the size has increased by one.
+    ASSERT_EQ(initialPageObjects.size() + 1, cacheUpdatedPageObjects.size());
+    // Check for the first PageObject to be ImageObject.
+    ASSERT_EQ(PageObject::Type::Image, cacheUpdatedPageObjects[0]->GetType());
+    // Check for the second PageObject to be PathObject.
+    ASSERT_EQ(PageObject::Type::Path, cacheUpdatedPageObjects[1]->GetType());
+    // Check for the third PageObject to be TextObject.
+    ASSERT_EQ(PageObject::Type::Text, cacheUpdatedPageObjects[2]->GetType());
+    // Check for the fourth PageObject to be ImageObject.
+    ASSERT_EQ(PageObject::Type::Image, cacheUpdatedPageObjects[3]->GetType());
+
     // Get Updated PageObjects
     std::vector<PageObject*> updatedPageObjects = page->GetPageObjects(true);
 
@@ -284,9 +358,8 @@ TEST(Test, AddPathPageObject) {
     pathObject->segments_.emplace_back(PathObject::Segment::Command::Line, 100.0f, 150.0f);
     pathObject->segments_.emplace_back(PathObject::Segment::Command::Line, 150.0f, 150.0f);
 
-    // Set Draw Mode
-    pathObject->is_fill_ = false;
-    pathObject->is_stroke_ = true;
+    // Set Render Mode
+    pathObject->render_mode_ = PathObject::RenderMode::Stroke;
 
     // Set PathObject Matrix.
     pathObject->device_matrix_ = {1.0f, 0, 0, 1.0f, 0, 0};
@@ -294,6 +367,28 @@ TEST(Test, AddPathPageObject) {
     // Add the page object.
     ASSERT_EQ(page->AddPageObject(std::move(pathObject)), initialPageObjects.size());
 
+    // Get Cache Updated PageObjects
+    std::vector<PageObject*> cacheUpdatedPageObjects = page->GetPageObjects();
+
+    // Assert that the size has increased by one.
+    ASSERT_EQ(initialPageObjects.size() + 1, cacheUpdatedPageObjects.size());
+    // Check for the first PageObject to be ImageObject.
+    ASSERT_EQ(PageObject::Type::Image, cacheUpdatedPageObjects[0]->GetType());
+    // Check for the second PageObject to be PathObject.
+    ASSERT_EQ(PageObject::Type::Path, cacheUpdatedPageObjects[1]->GetType());
+    // Check for the third PageObject to be TextObject.
+    ASSERT_EQ(PageObject::Type::Text, cacheUpdatedPageObjects[2]->GetType());
+    // Check for the fourth PageObject to be PathObject.
+    ASSERT_EQ(PageObject::Type::Path, cacheUpdatedPageObjects[3]->GetType());
+
+    // Verify data attributes of newly added PathObject.
+    PathObject* newPathObject = static_cast<PathObject*>(cacheUpdatedPageObjects[3]);
+
+    // Check for added render mode.
+    ASSERT_EQ(newPathObject->render_mode_, PathObject::RenderMode::Stroke);
+    // Check for added matrix.
+    ASSERT_EQ(newPathObject->device_matrix_, Matrix(1.0f, 0, 0, 1.0f, 0, 0));
+
     // Get Updated PageObjects
     std::vector<PageObject*> updatedPageObjects = page->GetPageObjects(true);
 
@@ -307,6 +402,14 @@ TEST(Test, AddPathPageObject) {
     ASSERT_EQ(PageObject::Type::Text, updatedPageObjects[2]->GetType());
     // Check for the fourth PageObject to be PathObject.
     ASSERT_EQ(PageObject::Type::Path, updatedPageObjects[3]->GetType());
+
+    // Verify data attributes of newly added PathObject.
+    newPathObject = static_cast<PathObject*>(updatedPageObjects[3]);
+
+    // Check for added render mode.
+    ASSERT_EQ(newPathObject->render_mode_, PathObject::RenderMode::Stroke);
+    // Check for added matrix.
+    ASSERT_EQ(newPathObject->device_matrix_, Matrix(1.0f, 0, 0, 1.0f, 0, 0));
 }
 
 TEST(Test, AddTextPageObject) {
@@ -354,6 +457,22 @@ TEST(Test, AddTextPageObject) {
         }
     }
 
+    // Get Cache Updated PageObjects
+    std::vector<PageObject*> cacheUpdatedPageObjects = page->GetPageObjects();
+
+    // Assert that the size has increased by three.
+    ASSERT_EQ(initialPageObjects.size() + 3, cacheUpdatedPageObjects.size());
+    // Check for the first PageObject to be ImageObject.
+    ASSERT_EQ(PageObject::Type::Image, cacheUpdatedPageObjects[0]->GetType());
+    // Check for the second PageObject to be PathObject.
+    ASSERT_EQ(PageObject::Type::Path, cacheUpdatedPageObjects[1]->GetType());
+    // Check for the third PageObject to be TextObject.
+    ASSERT_EQ(PageObject::Type::Text, cacheUpdatedPageObjects[2]->GetType());
+    // Check for the added PageObjects to be TextObjects.
+    for (int index = 3; index < page_objects_size; index++) {
+        ASSERT_EQ(PageObject::Type::Text, cacheUpdatedPageObjects[index]->GetType());
+    }
+
     // Get Updated PageObjects
     std::vector<PageObject*> updatedPageObjects = page->GetPageObjects(true);
 
@@ -380,7 +499,13 @@ TEST(Test, RemovePageObjectTest) {
 
     // Remove a pageObject
     EXPECT_TRUE(page->RemovePageObject(0));
-    // Get Updated PageObjects after removal
+
+    // Get Cache Updated PageObjects after removal.
+    std::vector<PageObject*> cacheUpdatedPageObjects = page->GetPageObjects();
+
+    ASSERT_EQ(initialPageObjects.size() - 1, cacheUpdatedPageObjects.size());
+
+    // Get Updated PageObjects after removal.
     std::vector<PageObject*> updatedPageObjects = page->GetPageObjects(true);
 
     ASSERT_EQ(initialPageObjects.size() - 1, updatedPageObjects.size());
@@ -407,6 +532,23 @@ TEST(Test, UpdateImagePageObjectTest) {
     // Update the page object.
     EXPECT_TRUE(page->UpdatePageObject(0, std::move(imageObject)));
 
+    // Get the cache updated page objects.
+    std::vector<PageObject*> cacheUpdatedPageObjects = page->GetPageObjects();
+
+    // Check for size equality.
+    ASSERT_EQ(initialPageObjects.size(), cacheUpdatedPageObjects.size());
+
+    // Check for updated bitmap.
+    ASSERT_EQ(FPDFBitmap_GetWidth(
+                      static_cast<ImageObject*>(cacheUpdatedPageObjects[0])->bitmap_.get()),
+              100);
+    ASSERT_EQ(FPDFBitmap_GetHeight(
+                      static_cast<ImageObject*>(cacheUpdatedPageObjects[0])->bitmap_.get()),
+              110);
+
+    // Check for updated matrix.
+    ASSERT_EQ(cacheUpdatedPageObjects[0]->device_matrix_, update_matrix);
+
     // Get the updated page objects.
     std::vector<PageObject*> updatedPageObjects = page->GetPageObjects(true);
 
@@ -438,8 +580,7 @@ TEST(Test, UpdatePathPageObjectTest) {
     pathObject->fill_color_ = update_fill_color;
 
     // Update Draw Mode.
-    pathObject->is_fill_ = true;
-    pathObject->is_stroke_ = false;
+    pathObject->render_mode_ = PathObject::RenderMode::Fill;
 
     // Set Matrix.
     Matrix update_matrix = {2.0f, -3.0f, 2.0f, 2.0f, -1.0f, 2.0f};
@@ -448,6 +589,19 @@ TEST(Test, UpdatePathPageObjectTest) {
     // Update the page object.
     EXPECT_TRUE(page->UpdatePageObject(1, std::move(pathObject)));
 
+    // Get cache updated page objects
+    std::vector<PageObject*> cacheUpdatedPageObjects = page->GetPageObjects();
+
+    // Check for updated fill Color.
+    ASSERT_EQ(cacheUpdatedPageObjects[1]->fill_color_, update_fill_color);
+
+    // Check for updated Draw Mode.
+    ASSERT_EQ(static_cast<PathObject*>(cacheUpdatedPageObjects[1])->render_mode_,
+              PathObject::RenderMode::Fill);
+
+    // Check for updated matrix.
+    ASSERT_EQ(cacheUpdatedPageObjects[1]->device_matrix_, update_matrix);
+
     // Get the updated page objects.
     std::vector<PageObject*> updatedPageObjects = page->GetPageObjects(true);
 
@@ -455,8 +609,8 @@ TEST(Test, UpdatePathPageObjectTest) {
     ASSERT_EQ(updatedPageObjects[1]->fill_color_, update_fill_color);
 
     // Check for updated Draw Mode.
-    ASSERT_EQ(static_cast<PathObject*>(updatedPageObjects[1])->is_fill_, true);
-    ASSERT_EQ(static_cast<PathObject*>(updatedPageObjects[1])->is_stroke_, false);
+    ASSERT_EQ(static_cast<PathObject*>(updatedPageObjects[1])->render_mode_,
+              PathObject::RenderMode::Fill);
 
     // Check for updated matrix.
     ASSERT_EQ(updatedPageObjects[1]->device_matrix_, update_matrix);
@@ -482,8 +636,9 @@ TEST(Test, UpdateTextPageObjectTest) {
     ASSERT_EQ(initialTextObject->render_mode_, TextObject::RenderMode::Fill);
 
     // Check for initial matrix.
-    Matrix initial_matrix(1.0f, 0.0f, 0.0f, 1.0f, 0.0f, 759.424f);
-    ASSERT_LT(initialTextObject->device_matrix_ - initial_matrix, 0.01f);
+    // Initial values are obtained from source code which generated the PDF.
+    Matrix initial_matrix(1.0f, 0.0f, 0.0f, 1.0f, 0.0f, 770.0f);
+    ASSERT_EQ(initialTextObject->device_matrix_, initial_matrix);
 
     // Check for initial fill color.
     ASSERT_EQ(initialTextObject->fill_color_, Color(0, 255, 0, 255));
@@ -509,6 +664,22 @@ TEST(Test, UpdateTextPageObjectTest) {
     // Update the page object.
     EXPECT_TRUE(page->UpdatePageObject(2, std::move(textObject)));
 
+    // Get cache updated page objects
+    std::vector<PageObject*> cacheUpdatedPageObjects = page->GetPageObjects();
+
+    // Check for updated text.
+    ASSERT_EQ(static_cast<TextObject*>(cacheUpdatedPageObjects[2])->text_, update_text);
+
+    // Check for updated text render mode.
+    ASSERT_EQ(static_cast<TextObject*>(cacheUpdatedPageObjects[2])->render_mode_,
+              TextObject::RenderMode::FillStroke);
+
+    // Check for updated fill Color.
+    ASSERT_EQ(cacheUpdatedPageObjects[2]->fill_color_, update_fill_color);
+
+    // Check for updated matrix
+    ASSERT_EQ(cacheUpdatedPageObjects[2]->device_matrix_, update_matrix);
+
     // Get the updated page objects.
     std::vector<PageObject*> updatedPageObjects = page->GetPageObjects(true);
 
@@ -522,13 +693,8 @@ TEST(Test, UpdateTextPageObjectTest) {
     // Check for updated fill Color.
     ASSERT_EQ(updatedPageObjects[2]->fill_color_, update_fill_color);
 
-    /*
-     *  TextObject Transformation is dependent upon its bounds values.
-     *  Pdfium calculation for bounds shows a little fluctuation which results
-     *  in return matrix values to be not exactly the same. We should tolerate
-     *  the difference which does not make any visible difference.
-     */
-    ASSERT_LT(updatedPageObjects[2]->device_matrix_ - update_matrix, 0.01f);
+    // Check for updated matrix
+    ASSERT_EQ(updatedPageObjects[2]->device_matrix_, update_matrix);
 }
 
 TEST(Test, GetPageAnnotationsTest) {
@@ -587,9 +753,8 @@ TEST(Test, AddStampAnnotationTest) {
     pathObject->segments_.emplace_back(PathObject::Segment::Command::Line, 100.0f, 150.0f);
     pathObject->segments_.emplace_back(PathObject::Segment::Command::Line, 150.0f, 150.0f);
 
-    // Set Draw Mode
-    pathObject->is_fill_ = false;
-    pathObject->is_stroke_ = true;
+    // Set Render Mode
+    pathObject->render_mode_ = PathObject::RenderMode::Stroke;
 
     // Set PathObject Matrix.
     pathObject->device_matrix_ = {1.0f, 2.0f, 3.0f, 1.0f, 3.0f, 2.0f};
diff --git a/pdf/framework/libs/pdfClient/path_object.cc b/pdf/framework/libs/pdfClient/path_object.cc
index a0d68a95e..da7325fef 100644
--- a/pdf/framework/libs/pdfClient/path_object.cc
+++ b/pdf/framework/libs/pdfClient/path_object.cc
@@ -27,11 +27,50 @@
 
 namespace pdfClient {
 
+int GetFillMode(PathObject::RenderMode render_mode) {
+    switch (render_mode) {
+        case PathObject::RenderMode::Fill:
+        case PathObject::RenderMode::FillStroke: {
+            return FPDF_FILLMODE_WINDING;
+        }
+        case PathObject::RenderMode::Stroke:
+        default: {
+            return FPDF_FILLMODE_NONE;
+        }
+    }
+}
+
+int GetStrokeMode(PathObject::RenderMode render_mode) {
+    switch (render_mode) {
+        case PathObject::RenderMode::Stroke:
+        case PathObject::RenderMode::FillStroke: {
+            return 1;
+        }
+        case PathObject::RenderMode::Fill:
+        default: {
+            return 0;
+        }
+    }
+}
+
+PathObject::RenderMode GetRenderMode(int fill_mode, int stroke) {
+    if (fill_mode && stroke) {
+        return PathObject::RenderMode::FillStroke;
+    } else if (fill_mode) {
+        return PathObject::RenderMode::Fill;
+    } else if (stroke) {
+        return PathObject::RenderMode::Stroke;
+    } else {
+        return PathObject::RenderMode::Unknown;
+    }
+}
+
 PathObject::PathObject() : PageObject(Type::Path) {}
 
 ScopedFPDFPageObject PathObject::CreateFPDFInstance(FPDF_DOCUMENT document, FPDF_PAGE page) {
     int segment_count = segments_.size();
     if (segment_count == 0) {
+        LOGE("Segment count 0");
         return nullptr;
     }
     // Get Start Points
@@ -41,6 +80,7 @@ ScopedFPDFPageObject PathObject::CreateFPDFInstance(FPDF_DOCUMENT document, FPDF
     // Create a scoped PDFium path object.
     ScopedFPDFPageObject scoped_path_object(FPDFPageObj_CreateNewPath(x, y));
     if (!scoped_path_object) {
+        LOGE("Object creation failed");
         return nullptr;
     }
 
@@ -58,8 +98,10 @@ ScopedFPDFPageObject PathObject::CreateFPDFInstance(FPDF_DOCUMENT document, FPDF
                 FPDFPath_LineTo(scoped_path_object.get(), x, y);
                 break;
             }
-            default:
-                break;
+            default: {
+                LOGE("Segment type not supported");
+                return nullptr;
+            }
         }
         if (segments_[i].is_closed) {
             FPDFPath_Close(scoped_path_object.get());
@@ -68,6 +110,7 @@ ScopedFPDFPageObject PathObject::CreateFPDFInstance(FPDF_DOCUMENT document, FPDF
 
     // Update attributes of PDFium path object.
     if (!UpdateFPDFInstance(scoped_path_object.get(), page)) {
+        LOGE("Create update failed");
         return nullptr;
     }
 
@@ -76,33 +119,53 @@ ScopedFPDFPageObject PathObject::CreateFPDFInstance(FPDF_DOCUMENT document, FPDF
 
 bool PathObject::UpdateFPDFInstance(FPDF_PAGEOBJECT path_object, FPDF_PAGE page) {
     if (!path_object) {
+        LOGE("Object NULL");
         return false;
     }
 
     // Check for Type Correctness.
     if (FPDFPageObj_GetType(path_object) != FPDF_PAGEOBJ_PATH) {
+        LOGE("TypeCast failed");
         return false;
     }
 
-    // Set the updated Draw Mode
-    int fill_mode = this->is_fill_ ? FPDF_FILLMODE_WINDING : FPDF_FILLMODE_NONE;
-    if (!FPDFPath_SetDrawMode(path_object, fill_mode, is_stroke_)) {
+    // Set the updated render mode.
+    if (render_mode_ == RenderMode::Unknown) {
+        LOGE("RenderMode Unknown");
+        return false;
+    }
+    int fill_mode = GetFillMode(render_mode_);
+    int stroke_mode = GetStrokeMode(render_mode_);
+    if (!FPDFPath_SetDrawMode(path_object, fill_mode, stroke_mode)) {
+        LOGE("SetDrawMode failed");
         return false;
     }
 
     // Set the updated matrix.
     if (!SetDeviceToPageMatrix(path_object, page)) {
+        LOGE("SetDeviceToPageMatrix failed");
         return false;
     }
 
-    // Set the updated Stroke Width
-    FPDFPageObj_SetStrokeWidth(path_object, stroke_width_);
-    // Set the updated Stroke Color
-    FPDFPageObj_SetStrokeColor(path_object, stroke_color_.r, stroke_color_.g, stroke_color_.b,
-                               stroke_color_.a);
-    // Set the updated Fill Color
-    FPDFPageObj_SetFillColor(path_object, fill_color_.r, fill_color_.g, fill_color_.b,
-                             fill_color_.a);
+    // Set updated stroke width.
+    if (!FPDFPageObj_SetStrokeWidth(path_object, stroke_width_)) {
+        LOGE("SetStrokeWidth failed");
+        return false;
+    }
+
+    // Set updated stroke color.
+    if (!FPDFPageObj_SetStrokeColor(path_object, stroke_color_.r, stroke_color_.g, stroke_color_.b,
+                                    stroke_color_.a)) {
+        LOGE("SetStrokeColor failed");
+        return false;
+    }
+
+    // Set the updated fill color.
+    if (!FPDFPageObj_SetFillColor(path_object, fill_color_.r, fill_color_.g, fill_color_.b,
+                                  fill_color_.a)) {
+        LOGE("SetFillColor failed");
+        return false;
+    }
 
     return true;
 }
@@ -111,6 +174,7 @@ bool PathObject::PopulateFromFPDFInstance(FPDF_PAGEOBJECT path_object, FPDF_PAGE
     // Count the number of segments in the Path
     int segment_count = FPDFPath_CountSegments(path_object);
     if (segment_count == 0) {
+        LOGE("FPDF segment count 0");
         return false;
     }
 
@@ -122,6 +186,7 @@ bool PathObject::PopulateFromFPDFInstance(FPDF_PAGEOBJECT path_object, FPDF_PAGE
         int type = FPDFPathSegment_GetType(path_segment);
         if (type == FPDF_SEGMENT_UNKNOWN || type == FPDF_SEGMENT_BEZIERTO) {
             // Control point extraction of bezier curve is not supported by Pdfium as of now.
+            LOGE("FPDF segment type not supported");
             return false;
         }
 
@@ -142,27 +207,42 @@ bool PathObject::PopulateFromFPDFInstance(FPDF_PAGEOBJECT path_object, FPDF_PAGE
 
     // Get Draw Mode
     int fill_mode;
-    FPDF_BOOL stroke;
+    int stroke;
     if (!FPDFPath_GetDrawMode(path_object, &fill_mode, &stroke)) {
         LOGE("Path GetDrawMode Failed!");
         return false;
     }
-    is_fill_ = fill_mode;
-    is_stroke_ = stroke;
+    render_mode_ = GetRenderMode(fill_mode, stroke);
+    if (render_mode_ == RenderMode::Unknown) {
+        LOGE("GetRenderMode unknown");
+        return false;
+    }
 
     // Get Matrix
     if (!GetPageToDeviceMatrix(path_object, page)) {
+        LOGE("GetPageToDeviceMatrix failed");
         return false;
     }
 
-    // Get Fill Color
-    FPDFPageObj_GetFillColor(path_object, &fill_color_.r, &fill_color_.g, &fill_color_.b,
-                             &fill_color_.a);
-    // Get Stroke Color
-    FPDFPageObj_GetStrokeColor(path_object, &stroke_color_.r, &stroke_color_.g, &stroke_color_.b,
-                               &stroke_color_.a);
-    // Get Stroke Width
-    FPDFPageObj_GetStrokeWidth(path_object, &stroke_width_);
+    // Get stroke width.
+    if (!FPDFPageObj_GetStrokeWidth(path_object, &stroke_width_)) {
+        LOGE("GetStrokeWidth failed");
+        return false;
+    }
+
+    // Get stroke color.
+    if (!FPDFPageObj_GetStrokeColor(path_object, &stroke_color_.r, &stroke_color_.g,
+                                    &stroke_color_.b, &stroke_color_.a)) {
+        LOGE("GetStrokeColor failed");
+        return false;
+    }
+
+    // Get fill color.
+    if (!FPDFPageObj_GetFillColor(path_object, &fill_color_.r, &fill_color_.g, &fill_color_.b,
+                                  &fill_color_.a)) {
+        LOGE("GetFillColor failed");
+        return false;
+    }
 
     return true;
 }
diff --git a/pdf/framework/libs/pdfClient/path_object.h b/pdf/framework/libs/pdfClient/path_object.h
index fee76f70e..c566794e1 100644
--- a/pdf/framework/libs/pdfClient/path_object.h
+++ b/pdf/framework/libs/pdfClient/path_object.h
@@ -56,9 +56,14 @@ class PathObject : public PageObject {
             : command(command), x(x), y(y), is_closed(is_closed) {}
     };
 
-    bool is_fill_ = false;
-    bool is_stroke_ = false;
+    enum class RenderMode {
+        Unknown = -1,
+        Fill,
+        Stroke,
+        FillStroke,
+    };
 
+    RenderMode render_mode_;
     std::vector<Segment> segments_;
 
   protected:
diff --git a/pdf/framework/libs/pdfClient/pdf_document_jni.cc b/pdf/framework/libs/pdfClient/pdf_document_jni.cc
index d6896d2ae..f3fa88fda 100644
--- a/pdf/framework/libs/pdfClient/pdf_document_jni.cc
+++ b/pdf/framework/libs/pdfClient/pdf_document_jni.cc
@@ -480,6 +480,23 @@ JNIEXPORT jobject JNICALL Java_android_graphics_pdf_PdfDocumentProxy_getPageObje
     return convert::ToJavaPdfPageObjects(env, page_objects, page.get());
 }
 
+JNIEXPORT jobject JNICALL Java_android_graphics_pdf_PdfDocumentProxy_getTopPageObjectAtPosition(
+        JNIEnv* env, jobject jPdfDocument, jint pageNum, jobject jPoint, jintArray jTypeIds) {
+    std::unique_lock<std::mutex> lock(mutex_);
+    Document* doc = convert::GetPdfDocPtr(env, jPdfDocument);
+    std::shared_ptr<Page> page = doc->GetPage(pageNum, true);
+
+    // Convert to native models
+    std::unordered_set<int> type_ids = convert::ToNativeIntegerUnorderedSet(env, jTypeIds);
+    Point_f point = page->DeviceToPage(convert::ToNativePointF(env, jPoint));
+    // Fetch top object at point
+    std::pair<int, PageObject*> topPageObject = page->GetTopPageObjectAtPosition(point, type_ids);
+
+    doc->ReleaseRetainedPage(pageNum);
+    return convert::ToJavaIndexPageObjectPair(env, topPageObject.first, topPageObject.second,
+                                              page.get());
+}
+
 JNIEXPORT jboolean JNICALL Java_android_graphics_pdf_PdfDocumentProxy_removePageObject(
         JNIEnv* env, jobject jPdfDocument, jint pageNum, jint index) {
     std::unique_lock<std::mutex> lock(mutex_);
diff --git a/pdf/framework/libs/pdfClient/pdf_document_jni.h b/pdf/framework/libs/pdfClient/pdf_document_jni.h
index ac7ce191e..0205b831c 100644
--- a/pdf/framework/libs/pdfClient/pdf_document_jni.h
+++ b/pdf/framework/libs/pdfClient/pdf_document_jni.h
@@ -115,6 +115,9 @@ JNIEXPORT jint JNICALL Java_android_graphics_pdf_PdfDocumentProxy_addPageObject(
 JNIEXPORT jobject JNICALL Java_android_graphics_pdf_PdfDocumentProxy_getPageObjects(
         JNIEnv* env, jobject jPdfDocument, jint pageNum);
 
+JNIEXPORT jobject JNICALL Java_android_graphics_pdf_PdfDocumentProxy_getTopPageObjectAtPosition(
+        JNIEnv* env, jobject jPdfDocument, jint pageNum, jobject jPoint, jintArray jTypeIds);
+
 JNIEXPORT jboolean JNICALL Java_android_graphics_pdf_PdfDocumentProxy_removePageObject(
         JNIEnv* env, jobject jPdfDocument, jint pageNum, jint index);
 
diff --git a/pdf/framework/libs/pdfClient/testdata/overlapping_page_object.pdf b/pdf/framework/libs/pdfClient/testdata/overlapping_page_object.pdf
new file mode 100644
index 000000000..ca326a0f0
Binary files /dev/null and b/pdf/framework/libs/pdfClient/testdata/overlapping_page_object.pdf differ
diff --git a/pdf/framework/libs/pdfClient/text_object.cc b/pdf/framework/libs/pdfClient/text_object.cc
index ba1e6a599..45fcf2578 100644
--- a/pdf/framework/libs/pdfClient/text_object.cc
+++ b/pdf/framework/libs/pdfClient/text_object.cc
@@ -95,6 +95,7 @@ std::optional<std::wstring> GetText(FPDF_PAGEOBJECT text_object, FPDF_PAGE page)
     // Get text page.
     ScopedFPDFTextPage text_page(FPDFText_LoadPage(page));
     if (!text_page) {
+        LOGE("TextPage load failed");
         return std::nullopt;
     }
 
@@ -182,7 +183,7 @@ bool TextObject::UpdateFPDFInstance(FPDF_PAGEOBJECT text_object, FPDF_PAGE page)
 
     // Set the updated device matrix.
     if (!SetDeviceToPageMatrix(text_object, page)) {
-        LOGE("SetMatrix failed");
+        LOGE("SetDeviceToPageMatrix failed");
         return false;
     }
 
@@ -241,7 +242,7 @@ bool TextObject::PopulateFromFPDFInstance(FPDF_PAGEOBJECT text_object, FPDF_PAGE
 
     // Get device matrix.
     if (!GetPageToDeviceMatrix(text_object, page)) {
-        LOGE("GetMatrix failed");
+        LOGE("GetPageToDeviceMatrix failed");
         return false;
     }
 
@@ -268,6 +269,43 @@ bool TextObject::PopulateFromFPDFInstance(FPDF_PAGEOBJECT text_object, FPDF_PAGE
     return true;
 }
 
+bool TextObject::GetPageToDeviceMatrix(FPDF_PAGEOBJECT text_object, FPDF_PAGE page) {
+    Matrix page_matrix;
+    if (!FPDFPageObj_GetMatrix(text_object, reinterpret_cast<FS_MATRIX*>(&page_matrix))) {
+        LOGE("GetPageMatrix failed!");
+        return false;
+    }
+
+    float page_height = FPDF_GetPageHeightF(page);
+
+    // Page to device matrix.
+    device_matrix_.a = page_matrix.a;
+    device_matrix_.b = (page_matrix.b != 0) ? -page_matrix.b : 0;
+    device_matrix_.c = (page_matrix.c != 0) ? -page_matrix.c : 0;
+    device_matrix_.d = page_matrix.d;
+    device_matrix_.e = page_matrix.e;
+    device_matrix_.f = page_height - page_matrix.f;
+
+    return true;
+}
+
+bool TextObject::SetDeviceToPageMatrix(FPDF_PAGEOBJECT text_object, FPDF_PAGE page) {
+    // Reset Previous Transformation.
+    Matrix identity = {1, 0, 0, 1, 0, 0};
+    if (!FPDFPageObj_SetMatrix(text_object, reinterpret_cast<FS_MATRIX*>(&identity))) {
+        LOGE("SetMatrix failed!");
+        return false;
+    }
+
+    float page_height = FPDF_GetPageHeightF(page);
+
+    FPDFPageObj_Transform(text_object, device_matrix_.a, -device_matrix_.b, -device_matrix_.c,
+                          device_matrix_.d, device_matrix_.e, -device_matrix_.f);
+    FPDFPageObj_Transform(text_object, 1, 0, 0, 1, 0, page_height);
+
+    return true;
+}
+
 TextObject::~TextObject() = default;
 
 // Font Mapper
diff --git a/pdf/framework/libs/pdfClient/text_object.h b/pdf/framework/libs/pdfClient/text_object.h
index 84a150b6b..1ef700325 100644
--- a/pdf/framework/libs/pdfClient/text_object.h
+++ b/pdf/framework/libs/pdfClient/text_object.h
@@ -76,6 +76,10 @@ class TextObject : public PageObject {
     float font_size_;
     RenderMode render_mode_;
     std::wstring text_;
+
+  protected:
+    bool GetPageToDeviceMatrix(FPDF_PAGEOBJECT text_object, FPDF_PAGE page) override;
+    bool SetDeviceToPageMatrix(FPDF_PAGEOBJECT text_object, FPDF_PAGE page) override;
 };
 
 // Define font names as constants
diff --git a/pdf/framework/libs/pdfClient/utils/pdf_strings.h b/pdf/framework/libs/pdfClient/utils/pdf_strings.h
index c1a5da898..8fa3e5b19 100644
--- a/pdf/framework/libs/pdfClient/utils/pdf_strings.h
+++ b/pdf/framework/libs/pdfClient/utils/pdf_strings.h
@@ -17,6 +17,7 @@
 #ifndef MEDIAPROVIDER_PDF_JNI_PDFCLIENT_UTILS_PDF_STRINGS_H
 #define MEDIAPROVIDER_PDF_JNI_PDFCLIENT_UTILS_PDF_STRINGS_H
 
+#include <memory>
 #include <string>
 
 #include "fpdfview.h"
diff --git a/pdf/framework/pdf_viewer_flags.aconfig b/pdf/framework/pdf_viewer_flags.aconfig
index 0759473be..bbf99138f 100644
--- a/pdf/framework/pdf_viewer_flags.aconfig
+++ b/pdf/framework/pdf_viewer_flags.aconfig
@@ -66,3 +66,21 @@ flag {
     bug: "379008090"
     is_fixed_read_only: true
 }
+
+flag {
+    name: "enable_render_params_form_options"
+    is_exported: true
+    namespace: "pdf_viewer"
+    description: "This flag guards the addition of new options in RenderParams to enable or disable the rendering of form field content"
+    bug: "410009817"
+}
+
+
+flag {
+    name: "enable_get_top_pdf_page_object_at_position"
+    is_exported: true
+    namespace: "pdf_viewer"
+    description: "This flag controls whether to enable get top page object at position API."
+    bug: "414328853"
+    is_fixed_read_only: true
+}
diff --git a/pdf/tests/src/android/graphics/pdf/logging/PdfEventLoggerTest.java b/pdf/tests/src/android/graphics/pdf/logging/PdfEventLoggerTest.java
index 0b0b99c0a..79970417b 100644
--- a/pdf/tests/src/android/graphics/pdf/logging/PdfEventLoggerTest.java
+++ b/pdf/tests/src/android/graphics/pdf/logging/PdfEventLoggerTest.java
@@ -20,8 +20,20 @@ import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED;
 import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_FAILURE;
 import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS;
 import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_UNKNOWN;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_FREE_TEXT_ANNOTATION;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_HIGHLIGHT_ANNOTATION;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_IMAGE_PAGE_OBJECT;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_PATH_PAGE_OBJECT;
 import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_SELECT_CONTENT;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_STAMP_ANNOTATION;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_TEXT_PAGE_OBJECT;
 import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_UNKNOWN;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_ADD;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_GET_TOP_PAGE_OBJECT_AT_POS;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_LIST;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_REMOVE;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UNKNOWN;
+import static android.graphics.pdf.PdfStatsLog.PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UPDATE;
 import static android.graphics.pdf.PdfStatsLog.PDF_LOAD_REPORTED;
 import static android.graphics.pdf.PdfStatsLog.PDF_LOAD_REPORTED__LOAD_RESULT__RESULT_ERROR;
 import static android.graphics.pdf.PdfStatsLog.PDF_LOAD_REPORTED__LOAD_RESULT__RESULT_LOADED;
@@ -44,7 +56,6 @@ import static android.graphics.pdf.logging.PdfEventLogger.PdfLoadResults.UNKNOWN
 import static android.graphics.pdf.logging.PdfEventLogger.PdfLoadResults.WRONG_PASSWORD;
 
 import static org.mockito.ArgumentMatchers.eq;
-import static org.mockito.Mockito.times;
 
 import android.graphics.pdf.PdfStatsLog;
 
@@ -83,7 +94,7 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(() -> PdfStatsLog.write(eq(PDF_LOAD_REPORTED), eq(PROCESS_UID),
                 eq(LOAD_DURATION_MILLIS), eq(PDF_SIZE_IN_KB),
                 eq(PDF_LOAD_REPORTED__LOAD_RESULT__RESULT_LOADED),
-                eq(PDF_LOAD_REPORTED__TYPE__UNKNOWN_TYPE), eq(NUM_PAGES), eq(DOC_ID)), times(1));
+                eq(PDF_LOAD_REPORTED__TYPE__UNKNOWN_TYPE), eq(NUM_PAGES), eq(DOC_ID)));
     }
 
     @Test
@@ -95,7 +106,7 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(() -> PdfStatsLog.write(eq(PDF_LOAD_REPORTED), eq(PROCESS_UID),
                 eq(LOAD_DURATION_MILLIS), eq(PDF_SIZE_IN_KB),
                 eq(PDF_LOAD_REPORTED__LOAD_RESULT__RESULT_ERROR),
-                eq(PDF_LOAD_REPORTED__TYPE__UNKNOWN_TYPE), eq(NUM_PAGES), eq(DOC_ID)), times(1));
+                eq(PDF_LOAD_REPORTED__TYPE__UNKNOWN_TYPE), eq(NUM_PAGES), eq(DOC_ID)));
     }
 
     @Test
@@ -107,7 +118,7 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(() -> PdfStatsLog.write(eq(PDF_LOAD_REPORTED), eq(PROCESS_UID),
                 eq(LOAD_DURATION_MILLIS), eq(PDF_SIZE_IN_KB),
                 eq(PDF_LOAD_REPORTED__LOAD_RESULT__RESULT_WRONG_PASSWORD),
-                eq(PDF_LOAD_REPORTED__TYPE__UNKNOWN_TYPE), eq(NUM_PAGES), eq(DOC_ID)), times(1));
+                eq(PDF_LOAD_REPORTED__TYPE__UNKNOWN_TYPE), eq(NUM_PAGES), eq(DOC_ID)));
     }
 
     @Test
@@ -119,7 +130,7 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(() -> PdfStatsLog.write(eq(PDF_LOAD_REPORTED), eq(PROCESS_UID),
                 eq(LOAD_DURATION_MILLIS), eq(PDF_SIZE_IN_KB),
                 eq(PDF_LOAD_REPORTED__LOAD_RESULT__RESULT_UNKNOWN),
-                eq(PDF_LOAD_REPORTED__TYPE__LINEARIZED_TYPE), eq(NUM_PAGES), eq(DOC_ID)), times(1));
+                eq(PDF_LOAD_REPORTED__TYPE__LINEARIZED_TYPE), eq(NUM_PAGES), eq(DOC_ID)));
     }
 
     @Test
@@ -132,8 +143,7 @@ public class PdfEventLoggerTest {
                         eq(LOAD_DURATION_MILLIS), eq(PDF_SIZE_IN_KB),
                         eq(PDF_LOAD_REPORTED__LOAD_RESULT__RESULT_UNKNOWN),
                         eq(PDF_LOAD_REPORTED__TYPE__NON_LINEARIZED_TYPE), eq(NUM_PAGES),
-                        eq(DOC_ID)),
-                times(1));
+                        eq(DOC_ID)));
     }
 
     @Test
@@ -145,7 +155,7 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(() -> PdfStatsLog.write(eq(PDF_SEARCH_REPORTED), eq(PROCESS_UID),
                 eq(LOAD_DURATION_MILLIS), eq(QUERY_LENGTH), eq(QUERY_PAGE_NUMBER),
                 eq(PDF_SEARCH_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS), eq(DOC_ID),
-                eq(NUM_PAGES), eq(MATCH_COUNT)), times(1));
+                eq(NUM_PAGES), eq(MATCH_COUNT)));
     }
 
     @Test
@@ -157,7 +167,7 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(() -> PdfStatsLog.write(eq(PDF_SEARCH_REPORTED), eq(PROCESS_UID),
                 eq(LOAD_DURATION_MILLIS), eq(QUERY_LENGTH), eq(QUERY_PAGE_NUMBER),
                 eq(PDF_SEARCH_REPORTED__API_RESPONSE_STATUS__RESPONSE_FAILURE), eq(DOC_ID),
-                eq(NUM_PAGES), eq(MATCH_COUNT)), times(1));
+                eq(NUM_PAGES), eq(MATCH_COUNT)));
     }
 
     @Test
@@ -168,8 +178,8 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(
                 () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
                         eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_SELECT_CONTENT),
-                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS)),
-                times(1));
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UNKNOWN)));
     }
 
     @Test
@@ -180,8 +190,8 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(
                 () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
                         eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_SELECT_CONTENT),
-                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_FAILURE)),
-                times(1));
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_FAILURE),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UNKNOWN)));
     }
 
     @Test
@@ -193,7 +203,124 @@ public class PdfEventLoggerTest {
         ExtendedMockito.verify(
                 () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
                         eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_UNKNOWN),
-                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_UNKNOWN)),
-                times(1));
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_UNKNOWN),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UNKNOWN)));
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_textPageObject_withSuccess_withOperationAdd() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.TEXT_PAGE_OBJECT,
+                PdfEventLogger.ApiResponseTypes.SUCCESS, PdfEventLogger.OperationTypes.ADD);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_TEXT_PAGE_OBJECT),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_ADD)));
+
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_pathPageObject_withFailure_withOperationRemove() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.PATH_PAGE_OBJECT,
+                PdfEventLogger.ApiResponseTypes.FAILURE, PdfEventLogger.OperationTypes.REMOVE);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_PATH_PAGE_OBJECT),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_FAILURE),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_REMOVE)));
+
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_imagePageObject_withSuccess_withOperationUpdate() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.IMAGE_PAGE_OBJECT,
+                PdfEventLogger.ApiResponseTypes.SUCCESS, PdfEventLogger.OperationTypes.UPDATE);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_IMAGE_PAGE_OBJECT),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UPDATE)));
+
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_highlightAnnotation_withSuccess_withOperationAdd() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.HIGHLIGHT_ANNOTATION,
+                PdfEventLogger.ApiResponseTypes.SUCCESS, PdfEventLogger.OperationTypes.ADD);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_HIGHLIGHT_ANNOTATION),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_ADD)));
+
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_withOperationGet() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.UNKNOWN,
+                PdfEventLogger.ApiResponseTypes.SUCCESS, PdfEventLogger.OperationTypes.GET);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_UNKNOWN),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_LIST)));
+
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_withFailure_withOperationRemove() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.UNKNOWN,
+                PdfEventLogger.ApiResponseTypes.FAILURE, PdfEventLogger.OperationTypes.REMOVE);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_UNKNOWN),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_FAILURE),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_REMOVE)));
+
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_stampAnnotation_withFailure_withOperationAdd() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.STAMP_ANNOTATION,
+                PdfEventLogger.ApiResponseTypes.FAILURE, PdfEventLogger.OperationTypes.ADD);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_STAMP_ANNOTATION),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_FAILURE),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_ADD)));
+
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_freeTextAnnotation_withFailure_withOperationUpdate() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.FREE_TEXT_ANNOTATION,
+                PdfEventLogger.ApiResponseTypes.FAILURE, PdfEventLogger.OperationTypes.UPDATE);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_FREE_TEXT_ANNOTATION),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_FAILURE),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_UPDATE)));
+
+    }
+
+    @Test
+    public void logPdfApiUsageReportedEvent_getPageTopObject_witImagePageObjectType() {
+        mPdfEventLogger.logPdfApiUsageReportedEvent(PdfEventLogger.ApiTypes.IMAGE_PAGE_OBJECT,
+                SUCCESS, PdfEventLogger.OperationTypes.GET_TOP_PAGE_OBJECT_AT_POSITION);
+
+        ExtendedMockito.verify(
+                () -> PdfStatsLog.write(eq(PDF_API_USAGE_REPORTED), eq(PROCESS_UID), eq(DOC_ID),
+                        eq(PDF_API_USAGE_REPORTED__API_TYPE__API_TYPE_IMAGE_PAGE_OBJECT),
+                        eq(PDF_API_USAGE_REPORTED__API_RESPONSE_STATUS__RESPONSE_SUCCESS),
+                        eq(PDF_API_USAGE_REPORTED__OPERATION_TYPE__OPERATION_TYPE_GET_TOP_PAGE_OBJECT_AT_POS
+                        )));
     }
 }
diff --git a/photopicker/framework/Android.bp b/photopicker/framework/Android.bp
index 2cf4cbd57..d5b992680 100644
--- a/photopicker/framework/Android.bp
+++ b/photopicker/framework/Android.bp
@@ -32,14 +32,14 @@ java_sdk_library {
 
     permitted_packages: [
         "android.widget.photopicker",
-        "com.android.providers.media.flags",
+        "android.provider.media.internal.flags",
     ],
     libs: [
         "androidx.annotation_annotation",
         "framework-media.stubs.module_lib",
         "unsupportedappusage",
-    ],
-    static_libs: [
+        "framework-mediaprovider.impl",
+        // Flag installed in framework-mediaprovider
         "mediaprovider_flags_java_lib",
     ],
     apex_available: [
diff --git a/photopicker/framework/api/current.txt b/photopicker/framework/api/current.txt
index bc218f8aa..0aef5f838 100644
--- a/photopicker/framework/api/current.txt
+++ b/photopicker/framework/api/current.txt
@@ -12,6 +12,8 @@ package android.widget.photopicker {
   @FlaggedApi("com.android.providers.media.flags.enable_embedded_photopicker") public final class EmbeddedPhotoPickerFeatureInfo implements android.os.Parcelable {
     method public int describeContents();
     method @ColorLong public long getAccentColor();
+    method @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") @NonNull public String getHighlightAlbumId();
+    method @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") @NonNull public String getHighlightSearchMediaTextQuery();
     method public int getMaxSelectionLimit();
     method @NonNull public java.util.List<java.lang.String> getMimeTypes();
     method @NonNull public java.util.List<android.net.Uri> getPreSelectedUris();
@@ -25,6 +27,8 @@ package android.widget.photopicker {
     ctor public EmbeddedPhotoPickerFeatureInfo.Builder();
     method @NonNull public android.widget.photopicker.EmbeddedPhotoPickerFeatureInfo build();
     method @NonNull public android.widget.photopicker.EmbeddedPhotoPickerFeatureInfo.Builder setAccentColor(@ColorLong long);
+    method @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") @NonNull public android.widget.photopicker.EmbeddedPhotoPickerFeatureInfo.Builder setHighlightAlbumId(@android.provider.MediaStore.PickImagesHighlightAlbum @NonNull String);
+    method @FlaggedApi("com.android.providers.media.flags.enable_picker_highlight_search_results_apis") @NonNull public android.widget.photopicker.EmbeddedPhotoPickerFeatureInfo.Builder setHighlightSearchMediaTextQuery(@NonNull String);
     method @NonNull public android.widget.photopicker.EmbeddedPhotoPickerFeatureInfo.Builder setMaxSelectionLimit(@IntRange(from=1) int);
     method @NonNull public android.widget.photopicker.EmbeddedPhotoPickerFeatureInfo.Builder setMimeTypes(@NonNull java.util.List<java.lang.String>);
     method @NonNull public android.widget.photopicker.EmbeddedPhotoPickerFeatureInfo.Builder setOrderedSelection(boolean);
diff --git a/photopicker/framework/jarjar_rules.txt b/photopicker/framework/jarjar_rules.txt
new file mode 100644
index 000000000..f6d4c5e5a
--- /dev/null
+++ b/photopicker/framework/jarjar_rules.txt
@@ -0,0 +1 @@
+rule com.android.providers.media.flags.** android.provider.media.internal.flags.@1
diff --git a/photopicker/framework/java/android/widget/photopicker/EmbeddedPhotoPickerFeatureInfo.java b/photopicker/framework/java/android/widget/photopicker/EmbeddedPhotoPickerFeatureInfo.java
index 23ae5fe81..4b221e0bb 100644
--- a/photopicker/framework/java/android/widget/photopicker/EmbeddedPhotoPickerFeatureInfo.java
+++ b/photopicker/framework/java/android/widget/photopicker/EmbeddedPhotoPickerFeatureInfo.java
@@ -26,10 +26,13 @@ import android.net.Uri;
 import android.os.Build;
 import android.os.Parcel;
 import android.os.Parcelable;
+import android.provider.MediaStore.PickImagesHighlightAlbum;
 
 import androidx.annotation.ColorLong;
 import androidx.annotation.IntRange;
 
+import com.android.providers.media.flags.Flags;
+
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.List;
@@ -48,6 +51,8 @@ import java.util.Locale;
  * <li> Max selection media count restriction
  * <li> Pre-selected uris
  * <li> Theme night mode
+ * <li> Highlighting media results based on a given input query including highlighting media
+ *      results from certain albums
  * </ul>
  *
  * <p> Callers should use {@link Builder} to set the desired features.
@@ -62,6 +67,8 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
     private final int mMaxSelectionLimit;
     private final List<Uri> mPreSelectedUris;
     private final int mThemeNightMode;
+    @NonNull private final String mHighlightSearchMediaTextQuery;
+    @NonNull private final String mHighlightAlbumId;
 
     private EmbeddedPhotoPickerFeatureInfo(
             List<String> mimeTypes,
@@ -69,13 +76,17 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
             boolean orderedSelection,
             int maxSelectionLimit,
             List<Uri> preSelectedUris,
-            int themeNightMode) {
+            int themeNightMode,
+            String highlightSearchMediaQuery,
+            String highlightAlbumId) {
         this.mMimeTypes = mimeTypes;
         this.mAccentColor = accentColor;
         this.mOrderedSelection = orderedSelection;
         this.mMaxSelectionLimit = maxSelectionLimit;
         this.mPreSelectedUris = preSelectedUris;
         this.mThemeNightMode = themeNightMode;
+        this.mHighlightSearchMediaTextQuery = highlightSearchMediaQuery;
+        this.mHighlightAlbumId = highlightAlbumId;
     }
     @NonNull
     public List<Uri> getPreSelectedUris() {
@@ -99,6 +110,24 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
         return this.mThemeNightMode;
     }
 
+    /**
+     * Returns the highlight media text query set by the app
+     */
+    @NonNull
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public String getHighlightSearchMediaTextQuery() {
+        return this.mHighlightSearchMediaTextQuery;
+    }
+
+    /**
+     * Returns the highlight album set by the app
+     */
+    @NonNull
+    @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    public String getHighlightAlbumId() {
+        return this.mHighlightAlbumId;
+    }
+
     public static final class Builder {
         //All mime-types are returned by default.
         @NonNull private static final List<String> DEFAULT_MIME_TYPES =
@@ -114,6 +143,8 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
         @NonNull
         private static final List<Uri> DEFAULT_PRE_SELECTED_URIS = Arrays.asList();
         private static final int DEFAULT_NIGHT_MODE = Configuration.UI_MODE_NIGHT_UNDEFINED;
+        private static final String DEFAULT_HIGHLIGHT_SEARCH_MEDIA_TEXT_QUERY = "";
+        private static final String DEFAULT_HIGHLIGHT_ALBUM_ID = "";
 
         private List<String> mMimeTypes = DEFAULT_MIME_TYPES;
         private long mAccentColor = DEFAULT_ACCENT_COLOR;
@@ -121,6 +152,8 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
         private int mMaxSelectionLimit = DEFAULT_MAX_SELECTION_LIMIT;
         private List<Uri> mPreSelectedUris = DEFAULT_PRE_SELECTED_URIS;
         private int mThemeNightMode = DEFAULT_NIGHT_MODE;
+        private String mHighlightSearchMediaTextQuery = DEFAULT_HIGHLIGHT_SEARCH_MEDIA_TEXT_QUERY;
+        private String mHighlightAlbumId = DEFAULT_HIGHLIGHT_ALBUM_ID;
 
         public Builder() {}
 
@@ -178,6 +211,77 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
             return this;
         }
 
+        /**
+         * The app can choose to highlight media items in the embedded photopicker in its
+         * expanded state. The media items in this highlighted section are based on the string
+         * input query set in this method. The photopicker will trigger a search based on this input
+         * value to show media results in this section.This can be any string literal for which the
+         * app wants to highlight media results.
+         *
+         * <p> The value of this string param must not be empty or null in case the app wants to
+         * show a highlighted media section. An empty value will result in simply ignoring
+         * the request for a highlighted media section. A null value will result in
+         * {@code IllegalArgumentException}
+         * The app can also choose to highlight a specific photopicker album using
+         * {@link EmbeddedPhotoPickerFeatureInfo#setHighlightAlbumName}. Only one of album
+         * highlight or text highlight should be used at any point. Using both will result in
+         * {@code IllegalArgumentException} to be thrown.
+         *
+         * @param highlightSearchMediaTextQuery A String param based on which the highlighted
+         *                                      results shown.
+         * @throws IllegalArgumentException in case input string query is null
+         */
+        @NonNull
+        @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+        public Builder setHighlightSearchMediaTextQuery(
+                @NonNull String highlightSearchMediaTextQuery
+        ) {
+            if (highlightSearchMediaTextQuery == null) {
+                throw new IllegalArgumentException(
+                        "Input search highlight text query cannot be null"
+                );
+            }
+            mHighlightSearchMediaTextQuery = highlightSearchMediaTextQuery;
+            return this;
+        }
+
+        /**
+         * The app can choose to highlight media items of a photopicker album in the embedded
+         * photopicker in its expanded state. These can be one of Favorites, Camera, Screenshots,
+         * Videos or Downloads. In order to do so, the input value should be one of the album
+         * values:
+         * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES} for the Favorites album,
+         * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA} for the Camera album,
+         * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS} for the Screenshots album,
+         * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS} for the Videos album and
+         * {@link MediaStore#PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS} for the Downloads album.
+         *
+         * <p> The value of this string param must not be empty or null in case the app wants to
+         * show a highlighted album media section. An empty value will result in simply ignoring
+         * the request for a highlighted media section. A null value will result in
+         * {@code IllegalArgumentException} being thrown. Any other value except the ones
+         * specified will also result in {@code IllegalArgumentException} to be thrown.
+         * The app can also choose to highlight media items based on a text query using
+         * {@link EmbeddedPhotoPickerFeatureInfo#setHighlightMediaTextQuery}. Only one of album
+         * highlight or text highlight should be used at any point. Using both will result in
+         * {@code IllegalArgumentException} to be thrown.
+         *
+         * @param highlightAlbumId One of the above mentioned string params specifying the
+         *                           album name.
+         * @throws IllegalArgumentException in case input album is null
+         */
+        @NonNull
+        @FlaggedApi(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+        public Builder setHighlightAlbumId(
+                @NonNull @PickImagesHighlightAlbum String highlightAlbumId
+        ) {
+            if (highlightAlbumId == null) {
+                throw new IllegalArgumentException("Input highlight album cannot be null");
+            }
+            mHighlightAlbumId = highlightAlbumId;
+            return this;
+        }
+
         /**
          * Sets ordered selection of media items i.e. this allows user to view/receive items in
          * their selected order
@@ -266,7 +370,9 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
                     mOrderedSelection,
                     mMaxSelectionLimit,
                     mPreSelectedUris,
-                    mThemeNightMode);
+                    mThemeNightMode,
+                    mHighlightSearchMediaTextQuery,
+                    mHighlightAlbumId);
         }
     }
     private EmbeddedPhotoPickerFeatureInfo(Parcel in) {
@@ -280,6 +386,8 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
         in.readTypedList(preSelectedUris, Uri.CREATOR);
         this.mPreSelectedUris = preSelectedUris;
         this.mThemeNightMode = in.readInt();
+        this.mHighlightSearchMediaTextQuery = in.readString();
+        this.mHighlightAlbumId = in.readString();
     }
 
     @Override
@@ -290,6 +398,8 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
         dest.writeInt(mMaxSelectionLimit);
         dest.writeTypedList(mPreSelectedUris, flags);
         dest.writeInt(mThemeNightMode);
+        dest.writeString(mHighlightSearchMediaTextQuery);
+        dest.writeString(mHighlightAlbumId);
     }
 
     @Override
@@ -320,6 +430,8 @@ public final class EmbeddedPhotoPickerFeatureInfo implements Parcelable {
                 + ", mMaxSelectionLimit=" + mMaxSelectionLimit
                 + ", mPreSelectedUris=" + mPreSelectedUris
                 + ", mThemeNightMode=" + mThemeNightMode
+                + ", mHighlightSearchMediaQuery=" + mHighlightSearchMediaTextQuery
+                + ", mHighlightAlbumId=" + mHighlightAlbumId
                 + '}';
     }
 }
diff --git a/photopicker/framework/java/android/widget/photopicker/EmbeddedPhotoPickerSessionWrapper.java b/photopicker/framework/java/android/widget/photopicker/EmbeddedPhotoPickerSessionWrapper.java
index 9a2f3370c..a94cc812c 100644
--- a/photopicker/framework/java/android/widget/photopicker/EmbeddedPhotoPickerSessionWrapper.java
+++ b/photopicker/framework/java/android/widget/photopicker/EmbeddedPhotoPickerSessionWrapper.java
@@ -76,11 +76,12 @@ class EmbeddedPhotoPickerSessionWrapper implements EmbeddedPhotoPickerSession,
 
     @Override
     public void close() {
-        mProvider.onSessionClosed(mClient);
         try {
             mSession.close();
         } catch (RemoteException e) {
             e.rethrowAsRuntimeException();
+        } finally {
+            mProvider.onSessionClosed(mClient);
         }
     }
 
diff --git a/photopicker/res/mipmap-anydpi-v26/photopicker_app_icon.xml b/photopicker/res/mipmap-anydpi-v26/photopicker_app_icon.xml
index 823e794c2..1b5d378b3 100644
--- a/photopicker/res/mipmap-anydpi-v26/photopicker_app_icon.xml
+++ b/photopicker/res/mipmap-anydpi-v26/photopicker_app_icon.xml
@@ -17,5 +17,5 @@
 
 <adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
     <background android:drawable="@color/icon_background" />
-    <foreground android:drawable="@drawable/photopicker_icon_foreground" />
+    <foreground android:drawable="@mipmap/photopicker_icon_foreground" />
 </adaptive-icon>
diff --git a/photopicker/res/mipmap-anydpi-v26/photopicker_icon_foreground.xml b/photopicker/res/mipmap-anydpi-v26/photopicker_icon_foreground.xml
new file mode 100644
index 000000000..5d7723c6f
--- /dev/null
+++ b/photopicker/res/mipmap-anydpi-v26/photopicker_icon_foreground.xml
@@ -0,0 +1,30 @@
+<!--
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+  -->
+
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+        android:width="108dp"
+        android:height="108dp"
+        android:viewportWidth="108"
+        android:viewportHeight="108">
+    <group android:scaleX="2.295"
+           android:scaleY="2.295"
+           android:translateX="26.46"
+           android:translateY="26.46">
+        <path
+            android:pathData="M9,14h10l-3.45,-4.5 -2.3,3 -1.55,-2ZM8,18q-0.825,0 -1.412,-0.587Q6,16.825 6,16L6,4q0,-0.825 0.588,-1.413Q7.175,2 8,2h12q0.825,0 1.413,0.587Q22,3.175 22,4v12q0,0.825 -0.587,1.413Q20.825,18 20,18ZM8,16h12L20,4L8,4v12ZM4,22q-0.825,0 -1.412,-0.587Q2,20.825 2,20L2,6h2v14h14v2ZM8,4v12L8,4Z"
+            android:fillColor="@color/icon_foreground"/>
+    </group>
+</vector>
\ No newline at end of file
diff --git a/photopicker/res/values-af/core_strings.xml b/photopicker/res/values-af/core_strings.xml
index 2aef9aa04..aecaaf107 100644
--- a/photopicker/res/values-af/core_strings.xml
+++ b/photopicker/res/values-af/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Kies tot <xliff:g id="COUNT">%1$s</xliff:g> items"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Nog geen foto\'s nie"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Begin om fotos en videos vas te vang"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Fotos en videos wat deur jou kamera-app vasgevang is, sal hier verskyn"</string>
diff --git a/photopicker/res/values-af/feature_category_grid_strings.xml b/photopicker/res/values-af/feature_category_grid_strings.xml
index bf8e2e320..3bb5af1e7 100644
--- a/photopicker/res/values-af/feature_category_grid_strings.xml
+++ b/photopicker/res/values-af/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Versamelings"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Nog geen mense en troeteldiere nie"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Fotos en videos, gegroepeer volgens soortgelyke gesigte, sal hier verskyn"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Laai tans fotos en videos"</string>
 </resources>
diff --git a/photopicker/res/values-af/feature_highlight_search_results_strings.xml b/photopicker/res/values-af/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..dc37f326f
--- /dev/null
+++ b/photopicker/res/values-af/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Sien alles"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Voorstelle"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Onlangs"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Gunstelinge"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Skermskote"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Aflaaie"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Video\'s"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Navraag oor gemerkte mediaresultate word tans gelaai"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Gemerkte mediaresultate word tans gelaai"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Gemerkte mediaresultate"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Voorstelle vir"</string>
+</resources>
diff --git a/photopicker/res/values-af/feature_overflow_menu_strings.xml b/photopicker/res/values-af/feature_overflow_menu_strings.xml
index 0904b56d1..215e5262e 100644
--- a/photopicker/res/values-af/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-af/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Meer"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Wolkmedia-app"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Instellings"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Blaai"</string>
 </resources>
diff --git a/photopicker/res/values-am/core_strings.xml b/photopicker/res/values-am/core_strings.xml
index bffdfc41e..a7d744e9f 100644
--- a/photopicker/res/values-am/core_strings.xml
+++ b/photopicker/res/values-am/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>   "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"       "</string>
diff --git a/photopicker/res/values-am/feature_category_grid_strings.xml b/photopicker/res/values-am/feature_category_grid_strings.xml
index dc4e348ca..085a6d495 100644
--- a/photopicker/res/values-am/feature_category_grid_strings.xml
+++ b/photopicker/res/values-am/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"       "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-am/feature_highlight_search_results_strings.xml b/photopicker/res/values-am/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..e312c9f65
--- /dev/null
+++ b/photopicker/res/values-am/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">" "</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"  "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-am/feature_overflow_menu_strings.xml b/photopicker/res/values-am/feature_overflow_menu_strings.xml
index 0d8497e09..85b4578fa 100644
--- a/photopicker/res/values-am/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-am/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-ar/core_strings.xml b/photopicker/res/values-ar/core_strings.xml
index 702f38e9f..5d81a61f1 100644
--- a/photopicker/res/values-ar/core_strings.xml
+++ b/photopicker/res/values-ar/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"  <xliff:g id="COUNT">%1$s</xliff:g>    "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"    "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"   "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"         "</string>
diff --git a/photopicker/res/values-ar/feature_category_grid_strings.xml b/photopicker/res/values-ar/feature_category_grid_strings.xml
index 7e290a060..a24967c7e 100644
--- a/photopicker/res/values-ar/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ar/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"     \"  \"  "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"         "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"   "</string>
 </resources>
diff --git a/photopicker/res/values-ar/feature_highlight_search_results_strings.xml b/photopicker/res/values-ar/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..6a6a58451
--- /dev/null
+++ b/photopicker/res/values-ar/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">" "</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"       "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-ar/feature_overflow_menu_strings.xml b/photopicker/res/values-ar/feature_overflow_menu_strings.xml
index 7c3af26a9..e9e19a1e1 100644
--- a/photopicker/res/values-ar/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ar/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"    "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-as/core_strings.xml b/photopicker/res/values-as/core_strings.xml
index ffa78e65e..1f4b2f752 100644
--- a/photopicker/res/values-as/core_strings.xml
+++ b/photopicker/res/values-as/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>     "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"       "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"          "</string>
diff --git a/photopicker/res/values-as/feature_category_grid_strings.xml b/photopicker/res/values-as/feature_category_grid_strings.xml
index 25be39553..42ce20a99 100644
--- a/photopicker/res/values-as/feature_category_grid_strings.xml
+++ b/photopicker/res/values-as/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"           "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"      "</string>
 </resources>
diff --git a/photopicker/res/values-as/feature_highlight_search_results_strings.xml b/photopicker/res/values-as/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..f677a3994
--- /dev/null
+++ b/photopicker/res/values-as/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"        "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"       "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  "</string>
+</resources>
diff --git a/photopicker/res/values-as/feature_overflow_menu_strings.xml b/photopicker/res/values-as/feature_overflow_menu_strings.xml
index 899c819f0..19be995cd 100644
--- a/photopicker/res/values-as/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-as/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-az/core_strings.xml b/photopicker/res/values-az/core_strings.xml
index 07fb85de4..493114811 100644
--- a/photopicker/res/values-az/core_strings.xml
+++ b/photopicker/res/values-az/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Maksimum <xliff:g id="COUNT">%1$s</xliff:g> element sein"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Foto"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albomlar"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videolar"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Hl foto yoxdur"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Foto v videolar kmy balayn"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Kamera ttbiqi il kiln foto v videolar burada grnck"</string>
diff --git a/photopicker/res/values-az/feature_category_grid_strings.xml b/photopicker/res/values-az/feature_category_grid_strings.xml
index 9dc516da0..3def52984 100644
--- a/photopicker/res/values-az/feature_category_grid_strings.xml
+++ b/photopicker/res/values-az/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Kolleksiyalar"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Hl insan v ev heyvanlar yoxdur"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Bnzr zlr sasnda qrupladrlm foto v videolar burada grnck"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Foto v videolar yklnir"</string>
 </resources>
diff --git a/photopicker/res/values-az/feature_highlight_search_results_strings.xml b/photopicker/res/values-az/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..86256a9c1
--- /dev/null
+++ b/photopicker/res/values-az/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Hamsna baxn"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Tkliflr"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Sonuncular"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Sevimlilr"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Skrinotlar"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Endirmlr"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videolar"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Vurulanm media nticlri il bal soru yklnir"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Vurulanm media nticlri yklnir"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Vurulanm media nticlri"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Tkliflr:"</string>
+</resources>
diff --git a/photopicker/res/values-az/feature_overflow_menu_strings.xml b/photopicker/res/values-az/feature_overflow_menu_strings.xml
index c6c21aaf1..2d3eb82e0 100644
--- a/photopicker/res/values-az/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-az/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Ard"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Bulud media ttbiqi"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Ayarlar"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Gzdn keirin"</string>
 </resources>
diff --git a/photopicker/res/values-b+sr+Latn/core_strings.xml b/photopicker/res/values-b+sr+Latn/core_strings.xml
index 6cc97babe..11fe4390d 100644
--- a/photopicker/res/values-b+sr+Latn/core_strings.xml
+++ b/photopicker/res/values-b+sr+Latn/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Najvei broj stavki koje moete da izaberete je <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Slike"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumi"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videi"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Jo nema slika"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Ponite da snimate slike i video snimke"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Slike i videi koje je snimila aplikacija za kameru e se prikazati ovde"</string>
diff --git a/photopicker/res/values-b+sr+Latn/feature_category_grid_strings.xml b/photopicker/res/values-b+sr+Latn/feature_category_grid_strings.xml
index 8c4970879..5c06cb2f4 100644
--- a/photopicker/res/values-b+sr+Latn/feature_category_grid_strings.xml
+++ b/photopicker/res/values-b+sr+Latn/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Kolekcije"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Jo nema ljudi ni kunih ljubimaca"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Ovde e se prikazivati slike i videi grupisani prema slinim licima"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Slike i videi se uitavaju"</string>
 </resources>
diff --git a/photopicker/res/values-b+sr+Latn/feature_highlight_search_results_strings.xml b/photopicker/res/values-b+sr+Latn/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..722977f9f
--- /dev/null
+++ b/photopicker/res/values-b+sr+Latn/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Prikai sve"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Predlozi"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Nedavno"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Omiljeno"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Snimci ekrana"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Preuzimanja"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videi"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Uitava se upit za istaknute rezultate medija"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Uitavaju se istaknuti rezultati medija"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Istaknuti rezultati medija"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Predlozi za"</string>
+</resources>
diff --git a/photopicker/res/values-b+sr+Latn/feature_overflow_menu_strings.xml b/photopicker/res/values-b+sr+Latn/feature_overflow_menu_strings.xml
index 4d67d5cfc..e2d35331a 100644
--- a/photopicker/res/values-b+sr+Latn/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-b+sr+Latn/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Jo"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Medijska aplikacija u klaudu"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Podeavanja"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Pregledaj"</string>
 </resources>
diff --git a/photopicker/res/values-be/core_strings.xml b/photopicker/res/values-be/core_strings.xml
index 1ec0b517c..1138bc557 100644
--- a/photopicker/res/values-be/core_strings.xml
+++ b/photopicker/res/values-be/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"  (   <xliff:g id="COUNT">%1$s</xliff:g>)"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"     ,    \"\""</string>
diff --git a/photopicker/res/values-be/feature_category_grid_strings.xml b/photopicker/res/values-be/feature_category_grid_strings.xml
index 2f9020cca..7a1290efd 100644
--- a/photopicker/res/values-be/feature_category_grid_strings.xml
+++ b/photopicker/res/values-be/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"     ,    "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"   "</string>
 </resources>
diff --git a/photopicker/res/values-be/feature_highlight_search_results_strings.xml b/photopicker/res/values-be/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..e75c831b2
--- /dev/null
+++ b/photopicker/res/values-be/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-be/feature_overflow_menu_strings.xml b/photopicker/res/values-be/feature_overflow_menu_strings.xml
index c62d3c22c..39997aea2 100644
--- a/photopicker/res/values-be/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-be/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-bg/core_strings.xml b/photopicker/res/values-bg/core_strings.xml
index c7984b152..8a483075e 100644
--- a/photopicker/res/values-bg/core_strings.xml
+++ b/photopicker/res/values-bg/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" - <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"  ,      ,    "</string>
diff --git a/photopicker/res/values-bg/feature_category_grid_strings.xml b/photopicker/res/values-bg/feature_category_grid_strings.xml
index 5bab8e73a..67a249a62 100644
--- a/photopicker/res/values-bg/feature_category_grid_strings.xml
+++ b/photopicker/res/values-bg/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"      ,    "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-bg/feature_highlight_search_results_strings.xml b/photopicker/res/values-bg/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..9a8dc03cb
--- /dev/null
+++ b/photopicker/res/values-bg/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"  "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"         "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"       "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"     "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-bg/feature_overflow_menu_strings.xml b/photopicker/res/values-bg/feature_overflow_menu_strings.xml
index d46e6fdb0..c748fa9c7 100644
--- a/photopicker/res/values-bg/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-bg/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"    "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-bn/core_strings.xml b/photopicker/res/values-bn/core_strings.xml
index b43df6578..31d3469d9 100644
--- a/photopicker/res/values-bn/core_strings.xml
+++ b/photopicker/res/values-bn/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>   "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"           "</string>
diff --git a/photopicker/res/values-bn/feature_category_grid_strings.xml b/photopicker/res/values-bn/feature_category_grid_strings.xml
index 0bfd40d7b..79d3e1875 100644
--- a/photopicker/res/values-bn/feature_category_grid_strings.xml
+++ b/photopicker/res/values-bn/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"            "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"     "</string>
 </resources>
diff --git a/photopicker/res/values-bn/feature_highlight_search_results_strings.xml b/photopicker/res/values-bn/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..3a29d1682
--- /dev/null
+++ b/photopicker/res/values-bn/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"       "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"      "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"    "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  "</string>
+</resources>
diff --git a/photopicker/res/values-bn/feature_overflow_menu_strings.xml b/photopicker/res/values-bn/feature_overflow_menu_strings.xml
index e4c1a34f0..ffb092ec2 100644
--- a/photopicker/res/values-bn/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-bn/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-bs/core_strings.xml b/photopicker/res/values-bs/core_strings.xml
index 8c9eaac2b..7556896b3 100644
--- a/photopicker/res/values-bs/core_strings.xml
+++ b/photopicker/res/values-bs/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g> je maksimalni broj stavki koje moete odabrati"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotografije"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumi"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videozapisi"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Jo uvijek nema fotografija"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Ponite snimati fotografije i videozapise"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Ovdje e se prikazivati fotografije i videozapisi snimljeni aplikacijom za kameru"</string>
diff --git a/photopicker/res/values-bs/feature_category_grid_strings.xml b/photopicker/res/values-bs/feature_category_grid_strings.xml
index 30d39eed8..f36e1e1de 100644
--- a/photopicker/res/values-bs/feature_category_grid_strings.xml
+++ b/photopicker/res/values-bs/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Kolekcije"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Jo uvijek nema osoba ni kunih ljubimaca"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Ovdje e se prikazivati fotografije i videozapisi grupisani prema slinim licima"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Uitavanje fotografija i videozapisa"</string>
 </resources>
diff --git a/photopicker/res/values-bs/feature_highlight_search_results_strings.xml b/photopicker/res/values-bs/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..7f75e5a67
--- /dev/null
+++ b/photopicker/res/values-bs/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Prikai sve"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Prijedlozi"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Nedavno"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Omiljeno"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Snimci ekrana"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Preuzimanja"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videozapisi"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Uitavanje upita o istaknutim rezultatima medija"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Uitavanje istaknutih rezultata medija"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Istaknuti rezultati medija"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Prijedlozi za"</string>
+</resources>
diff --git a/photopicker/res/values-bs/feature_overflow_menu_strings.xml b/photopicker/res/values-bs/feature_overflow_menu_strings.xml
index 65b91a989..3cebd9624 100644
--- a/photopicker/res/values-bs/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-bs/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Vie"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Medijska aplikacija u oblaku"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Postavke"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Pregledajte"</string>
 </resources>
diff --git a/photopicker/res/values-ca/core_strings.xml b/photopicker/res/values-ca/core_strings.xml
index 6fdbed8af..c551554c9 100644
--- a/photopicker/res/values-ca/core_strings.xml
+++ b/photopicker/res/values-ca/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Selecciona fins a <xliff:g id="COUNT">%1$s</xliff:g> elements"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"lbums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vdeos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Encara no hi ha cap foto"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Comena a capturar fotos i vdeos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Les fotos i vdeos que hagis capturat amb la cmera es mostraran aqu"</string>
diff --git a/photopicker/res/values-ca/feature_category_grid_strings.xml b/photopicker/res/values-ca/feature_category_grid_strings.xml
index caacde428..2ba35192c 100644
--- a/photopicker/res/values-ca/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ca/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Colleccions"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Encara no hi ha persones ni animals de companyia"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Les fotos i els vdeos, agrupats per cares semblants, es mostraran aqu"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"S\'estan carregant les fotos i els vdeos"</string>
 </resources>
diff --git a/photopicker/res/values-ca/feature_highlight_search_results_strings.xml b/photopicker/res/values-ca/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..4d11685e0
--- /dev/null
+++ b/photopicker/res/values-ca/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Mostra-ho tot"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggeriments"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recents"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Preferits"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Captures de pantalla"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Cmera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Baixades"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vdeos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"S\'est carregant la consulta de resultats multimdia marcats"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"S\'estan carregant els resultats multimdia marcats"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Resultats multimdia marcats"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggeriments per a"</string>
+</resources>
diff --git a/photopicker/res/values-ca/feature_overflow_menu_strings.xml b/photopicker/res/values-ca/feature_overflow_menu_strings.xml
index 42b7bd083..6e785f4c0 100644
--- a/photopicker/res/values-ca/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ca/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Ms"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"App de contingut multimdia al nvol"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Configuraci"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Navega"</string>
 </resources>
diff --git a/photopicker/res/values-cs/core_strings.xml b/photopicker/res/values-cs/core_strings.xml
index 1aefb9e89..829964694 100644
--- a/photopicker/res/values-cs/core_strings.xml
+++ b/photopicker/res/values-cs/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Vyberte maximln <xliff:g id="COUNT">%1$s</xliff:g>poloky"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotky"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Alba"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videa"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Zatm dn fotky"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Zante poizovat fotky avidea"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Zde se budou zobrazovat fotky avidea pozen aplikac pro fotografovn"</string>
diff --git a/photopicker/res/values-cs/feature_category_grid_strings.xml b/photopicker/res/values-cs/feature_category_grid_strings.xml
index 586e7557b..737335c51 100644
--- a/photopicker/res/values-cs/feature_category_grid_strings.xml
+++ b/photopicker/res/values-cs/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Sbrky"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Vkategorii Lid ajejich mazlci zatm nic nemte"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Tady se zobraz fotky avidea seskupen podle podobnch obliej"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Natn fotek avide"</string>
 </resources>
diff --git a/photopicker/res/values-cs/feature_highlight_search_results_strings.xml b/photopicker/res/values-cs/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..bdceab884
--- /dev/null
+++ b/photopicker/res/values-cs/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Zobrazit ve"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Nvrhy"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Posledn"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Oblben"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Snmky obrazovky"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Fotoapart"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Stahovn"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videa"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Natn dotazu na zvraznn vsledky vyhledvn mdi"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Natn zvraznnch vsledk vyhledvn mdi"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Zvraznn vsledky vyhledvn mdi"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Doporuen pro"</string>
+</resources>
diff --git a/photopicker/res/values-cs/feature_overflow_menu_strings.xml b/photopicker/res/values-cs/feature_overflow_menu_strings.xml
index ae0b27f44..b0b923b5a 100644
--- a/photopicker/res/values-cs/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-cs/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Dal"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplikace pro mdia vcloudu"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Nastaven"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Prochzet"</string>
 </resources>
diff --git a/photopicker/res/values-da/core_strings.xml b/photopicker/res/values-da/core_strings.xml
index 1fbeb1dd0..be673248f 100644
--- a/photopicker/res/values-da/core_strings.xml
+++ b/photopicker/res/values-da/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Vlg hjst <xliff:g id="COUNT">%1$s</xliff:g> elementer"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Billeder"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Album"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videoer"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Der er ingen billeder endnu"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Kom i gang med at tage billeder og optage videoer"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Billeder og videoer, de er taget med din kameraapp, vises her"</string>
diff --git a/photopicker/res/values-da/feature_category_grid_strings.xml b/photopicker/res/values-da/feature_category_grid_strings.xml
index 9dbd88be4..5315df7cc 100644
--- a/photopicker/res/values-da/feature_category_grid_strings.xml
+++ b/photopicker/res/values-da/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Samlinger"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Der er ingen personer eller kledyr endnu"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Billeder og videoer, der er grupperet efter lignende ansigter, vises her"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Billeder og videoer indlses"</string>
 </resources>
diff --git a/photopicker/res/values-da/feature_highlight_search_results_strings.xml b/photopicker/res/values-da/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..08e983802
--- /dev/null
+++ b/photopicker/res/values-da/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Se alle"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Forslag"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Seneste"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoritter"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshots"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videoer"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Foresprgsel om fremhvede medieresultater indlses"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Fremhvede medieresultater indlses"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Fremhvede medieresultater"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Forslag til"</string>
+</resources>
diff --git a/photopicker/res/values-da/feature_overflow_menu_strings.xml b/photopicker/res/values-da/feature_overflow_menu_strings.xml
index 5cdcb2d67..9712b14c5 100644
--- a/photopicker/res/values-da/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-da/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Mere"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Skymedieapp"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Indstillinger"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Gennemse"</string>
 </resources>
diff --git a/photopicker/res/values-de/core_strings.xml b/photopicker/res/values-de/core_strings.xml
index 750cf36a3..ab70dde39 100644
--- a/photopicker/res/values-de/core_strings.xml
+++ b/photopicker/res/values-de/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Maximal <xliff:g id="COUNT">%1$s</xliff:g>Elemente auswhlen"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Alben"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Noch keine Fotos"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Nimm Fotos und Videos auf"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Fotos und Videos, die du mit deiner Kamera aufgenommen hast, werden hier angezeigt"</string>
diff --git a/photopicker/res/values-de/feature_category_grid_strings.xml b/photopicker/res/values-de/feature_category_grid_strings.xml
index e483c9a52..40091a5f5 100644
--- a/photopicker/res/values-de/feature_category_grid_strings.xml
+++ b/photopicker/res/values-de/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Sammlungen"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Noch keine Personen&amp; Haustiere"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Hier werden nach hnlichen Gesichtern gruppierte Fotos und Videos angezeigt"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Fotos und Videos werden geladen"</string>
 </resources>
diff --git a/photopicker/res/values-de/feature_highlight_search_results_strings.xml b/photopicker/res/values-de/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..07f1e6003
--- /dev/null
+++ b/photopicker/res/values-de/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Alle ansehen"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Vorschlge"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Zuletzt verwendet"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoriten"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshots"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Abfrage fr hervorgehobene Medienergebnisse wird geladen"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Hervorgehobene Medienergebnisse werden geladen"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Hervorgehobene Medienergebnisse"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Vorschlge fr"</string>
+</resources>
diff --git a/photopicker/res/values-de/feature_overflow_menu_strings.xml b/photopicker/res/values-de/feature_overflow_menu_strings.xml
index adcc71fcb..c288ebed7 100644
--- a/photopicker/res/values-de/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-de/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Mehr"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Cloud-Medien-App"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Einstellungen"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Durchsuchen"</string>
 </resources>
diff --git a/photopicker/res/values-el/core_strings.xml b/photopicker/res/values-el/core_strings.xml
index d9b753760..25f3256ef 100644
--- a/photopicker/res/values-el/core_strings.xml
+++ b/photopicker/res/values-el/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"   <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"             ,   "</string>
diff --git a/photopicker/res/values-el/feature_category_grid_strings.xml b/photopicker/res/values-el/feature_category_grid_strings.xml
index ee3e26b89..17a00bf92 100644
--- a/photopicker/res/values-el/feature_category_grid_strings.xml
+++ b/photopicker/res/values-el/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"        "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"    ,      ,   "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-el/feature_highlight_search_results_strings.xml b/photopicker/res/values-el/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..ced2a22ae
--- /dev/null
+++ b/photopicker/res/values-el/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"   "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-el/feature_overflow_menu_strings.xml b/photopicker/res/values-el/feature_overflow_menu_strings.xml
index f8e10282a..5eb536575 100644
--- a/photopicker/res/values-el/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-el/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"   cloud"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-en-rAU/core_strings.xml b/photopicker/res/values-en-rAU/core_strings.xml
index 773c8c262..1792d9c35 100644
--- a/photopicker/res/values-en-rAU/core_strings.xml
+++ b/photopicker/res/values-en-rAU/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Select up to <xliff:g id="COUNT">%1$s</xliff:g> items"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Photos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"No photos yet"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Start capturing photos and videos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Photos and videos captured by your camera app will appear here"</string>
diff --git a/photopicker/res/values-en-rAU/feature_category_grid_strings.xml b/photopicker/res/values-en-rAU/feature_category_grid_strings.xml
index 4b9e44baa..52147d906 100644
--- a/photopicker/res/values-en-rAU/feature_category_grid_strings.xml
+++ b/photopicker/res/values-en-rAU/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Collections"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"No people and pets yet"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Photos and videos, grouped by similar faces, will appear here"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Loading photos and videos"</string>
 </resources>
diff --git a/photopicker/res/values-en-rAU/feature_highlight_search_results_strings.xml b/photopicker/res/values-en-rAU/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..bf86f4f65
--- /dev/null
+++ b/photopicker/res/values-en-rAU/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"See all"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggestions"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recent"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favourites"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshots"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Camera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Loading highlighted media results query"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Loading highlighted media results"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Highlighted media results"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggestions for"</string>
+</resources>
diff --git a/photopicker/res/values-en-rAU/feature_overflow_menu_strings.xml b/photopicker/res/values-en-rAU/feature_overflow_menu_strings.xml
index 5f9dd3c52..2c45b1811 100644
--- a/photopicker/res/values-en-rAU/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-en-rAU/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"More"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Cloud media app"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Settings"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Browse"</string>
 </resources>
diff --git a/photopicker/res/values-en-rCA/core_strings.xml b/photopicker/res/values-en-rCA/core_strings.xml
index d40dad299..7fa3f7031 100644
--- a/photopicker/res/values-en-rCA/core_strings.xml
+++ b/photopicker/res/values-en-rCA/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Select up to <xliff:g id="COUNT">%1$s</xliff:g> items"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Photos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"No photos yet"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Start capturing photos and videos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Photos and videos captured by your camera app will appear here"</string>
diff --git a/photopicker/res/values-en-rCA/feature_category_grid_strings.xml b/photopicker/res/values-en-rCA/feature_category_grid_strings.xml
index ed8e2ef3f..a051a90ff 100644
--- a/photopicker/res/values-en-rCA/feature_category_grid_strings.xml
+++ b/photopicker/res/values-en-rCA/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Collections"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"No people &amp; pets yet"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Photos and videos, grouped by similar faces, will appear here"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Loading photos and videos"</string>
 </resources>
diff --git a/photopicker/res/values-en-rCA/feature_highlight_search_results_strings.xml b/photopicker/res/values-en-rCA/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..05d2af292
--- /dev/null
+++ b/photopicker/res/values-en-rCA/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"See All"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggestions"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recents"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favorites"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshots"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Camera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Loading highlighted media results query"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Loading highlighted media results"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Highlighted media results"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggestions for"</string>
+</resources>
diff --git a/photopicker/res/values-en-rCA/feature_overflow_menu_strings.xml b/photopicker/res/values-en-rCA/feature_overflow_menu_strings.xml
index 5f9dd3c52..2c45b1811 100644
--- a/photopicker/res/values-en-rCA/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-en-rCA/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"More"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Cloud media app"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Settings"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Browse"</string>
 </resources>
diff --git a/photopicker/res/values-en-rGB/core_strings.xml b/photopicker/res/values-en-rGB/core_strings.xml
index 773c8c262..1792d9c35 100644
--- a/photopicker/res/values-en-rGB/core_strings.xml
+++ b/photopicker/res/values-en-rGB/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Select up to <xliff:g id="COUNT">%1$s</xliff:g> items"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Photos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"No photos yet"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Start capturing photos and videos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Photos and videos captured by your camera app will appear here"</string>
diff --git a/photopicker/res/values-en-rGB/feature_category_grid_strings.xml b/photopicker/res/values-en-rGB/feature_category_grid_strings.xml
index 4b9e44baa..52147d906 100644
--- a/photopicker/res/values-en-rGB/feature_category_grid_strings.xml
+++ b/photopicker/res/values-en-rGB/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Collections"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"No people and pets yet"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Photos and videos, grouped by similar faces, will appear here"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Loading photos and videos"</string>
 </resources>
diff --git a/photopicker/res/values-en-rGB/feature_highlight_search_results_strings.xml b/photopicker/res/values-en-rGB/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..bf86f4f65
--- /dev/null
+++ b/photopicker/res/values-en-rGB/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"See all"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggestions"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recent"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favourites"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshots"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Camera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Loading highlighted media results query"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Loading highlighted media results"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Highlighted media results"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggestions for"</string>
+</resources>
diff --git a/photopicker/res/values-en-rGB/feature_overflow_menu_strings.xml b/photopicker/res/values-en-rGB/feature_overflow_menu_strings.xml
index 5f9dd3c52..2c45b1811 100644
--- a/photopicker/res/values-en-rGB/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-en-rGB/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"More"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Cloud media app"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Settings"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Browse"</string>
 </resources>
diff --git a/photopicker/res/values-en-rIN/core_strings.xml b/photopicker/res/values-en-rIN/core_strings.xml
index 773c8c262..1792d9c35 100644
--- a/photopicker/res/values-en-rIN/core_strings.xml
+++ b/photopicker/res/values-en-rIN/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Select up to <xliff:g id="COUNT">%1$s</xliff:g> items"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Photos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"No photos yet"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Start capturing photos and videos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Photos and videos captured by your camera app will appear here"</string>
diff --git a/photopicker/res/values-en-rIN/feature_category_grid_strings.xml b/photopicker/res/values-en-rIN/feature_category_grid_strings.xml
index 4b9e44baa..52147d906 100644
--- a/photopicker/res/values-en-rIN/feature_category_grid_strings.xml
+++ b/photopicker/res/values-en-rIN/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Collections"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"No people and pets yet"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Photos and videos, grouped by similar faces, will appear here"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Loading photos and videos"</string>
 </resources>
diff --git a/photopicker/res/values-en-rIN/feature_highlight_search_results_strings.xml b/photopicker/res/values-en-rIN/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..bf86f4f65
--- /dev/null
+++ b/photopicker/res/values-en-rIN/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"See all"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggestions"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recent"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favourites"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshots"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Camera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Loading highlighted media results query"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Loading highlighted media results"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Highlighted media results"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggestions for"</string>
+</resources>
diff --git a/photopicker/res/values-en-rIN/feature_overflow_menu_strings.xml b/photopicker/res/values-en-rIN/feature_overflow_menu_strings.xml
index 5f9dd3c52..2c45b1811 100644
--- a/photopicker/res/values-en-rIN/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-en-rIN/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"More"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Cloud media app"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Settings"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Browse"</string>
 </resources>
diff --git a/photopicker/res/values-es-rUS/core_strings.xml b/photopicker/res/values-es-rUS/core_strings.xml
index c1c02cbb5..2720cc33f 100644
--- a/photopicker/res/values-es-rUS/core_strings.xml
+++ b/photopicker/res/values-es-rUS/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Elige <xliff:g id="COUNT">%1$s</xliff:g> elementos como mximo"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"lbumes"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Todava no hay fotos"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Empieza a tomar fotos y videos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Las fotos y los videos que se capturen con la app de Cmara aparecern aqu"</string>
diff --git a/photopicker/res/values-es-rUS/feature_category_grid_strings.xml b/photopicker/res/values-es-rUS/feature_category_grid_strings.xml
index 40a13d3d1..93beff7af 100644
--- a/photopicker/res/values-es-rUS/feature_category_grid_strings.xml
+++ b/photopicker/res/values-es-rUS/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Colecciones"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"An no hay personas ni mascotas"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Aqu aparecern las fotos y los videos agrupados por rostros similares"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Cargando fotos y videos"</string>
 </resources>
diff --git a/photopicker/res/values-es-rUS/feature_highlight_search_results_strings.xml b/photopicker/res/values-es-rUS/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..73f2e2f9c
--- /dev/null
+++ b/photopicker/res/values-es-rUS/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Ver todo"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Sugerencias"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recientes"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoritos"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Capturas de pantalla"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Cmara"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Descargas"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Cargando consulta de resultados de contenido multimedia destacados"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Cargando resultados de contenido multimedia destacados"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Resultados de contenido multimedia destacados"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Sugerencias para"</string>
+</resources>
diff --git a/photopicker/res/values-es-rUS/feature_overflow_menu_strings.xml b/photopicker/res/values-es-rUS/feature_overflow_menu_strings.xml
index 87298723b..25d7bac56 100644
--- a/photopicker/res/values-es-rUS/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-es-rUS/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Ms"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"App multimedia en la nube"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Configuracin"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Explorar"</string>
 </resources>
diff --git a/photopicker/res/values-es/core_strings.xml b/photopicker/res/values-es/core_strings.xml
index dfa3deb3c..4aa354b15 100644
--- a/photopicker/res/values-es/core_strings.xml
+++ b/photopicker/res/values-es/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Selecciona hasta <xliff:g id="COUNT">%1$s</xliff:g> elementos"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"lbumes"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vdeos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"An no hay fotos"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Empieza a hacer fotos y a grabar vdeos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Las fotos y vdeos capturados por tu aplicacin de cmara aparecern aqu"</string>
diff --git a/photopicker/res/values-es/feature_category_grid_strings.xml b/photopicker/res/values-es/feature_category_grid_strings.xml
index 17585850c..2581d2c89 100644
--- a/photopicker/res/values-es/feature_category_grid_strings.xml
+++ b/photopicker/res/values-es/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Colecciones"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"An no hay personas ni mascotas"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Las fotos y los vdeos, agrupados por caras similares, aparecern aqu"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Cargando fotos y vdeos"</string>
 </resources>
diff --git a/photopicker/res/values-es/feature_highlight_search_results_strings.xml b/photopicker/res/values-es/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..306a3b928
--- /dev/null
+++ b/photopicker/res/values-es/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Ver todo"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Sugerencias"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recientes"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoritos"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Capturas de pantalla"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Cmara"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Descargas"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vdeos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Cargando consulta de resultados de contenido multimedia destacados"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Cargando resultados de contenido multimedia destacados"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Resultados de contenido multimedia destacados"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Sugerencias para"</string>
+</resources>
diff --git a/photopicker/res/values-es/feature_overflow_menu_strings.xml b/photopicker/res/values-es/feature_overflow_menu_strings.xml
index 3bb693e47..790ce4a1a 100644
--- a/photopicker/res/values-es/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-es/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Ms"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplicacin de fotos en la nube"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Ajustes"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Buscar"</string>
 </resources>
diff --git a/photopicker/res/values-et/core_strings.xml b/photopicker/res/values-et/core_strings.xml
index a00d8706f..3e69676cd 100644
--- a/photopicker/res/values-et/core_strings.xml
+++ b/photopicker/res/values-et/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Valige kuni <xliff:g id="COUNT">%1$s</xliff:g> ksust"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotod"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumid"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videod"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Fotosid ei ole veel"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Alustage fotode ja videote jdvustamist"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Siin kuvatakse teie kaamerarakendusega jdvustatud fotod ja videod"</string>
diff --git a/photopicker/res/values-et/feature_category_grid_strings.xml b/photopicker/res/values-et/feature_category_grid_strings.xml
index 0e7ed573c..d935474c6 100644
--- a/photopicker/res/values-et/feature_category_grid_strings.xml
+++ b/photopicker/res/values-et/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Kogud"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Inimesi ja lemmikloomi veel pole"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Siin kuvatakse sarnaste ngude alusel rhmitatud fotod ja videod"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Fotode ja videote laadimine"</string>
 </resources>
diff --git a/photopicker/res/values-et/feature_highlight_search_results_strings.xml b/photopicker/res/values-et/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..46161b22d
--- /dev/null
+++ b/photopicker/res/values-et/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Kuva kik"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Soovitused"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Hiljutised"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Lemmikud"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Ekraanipildid"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kaamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Allalaadimised"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videod"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Esiletstetud meediatulemuste pringu laadimine"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Esiletstetud meediatulemuste laadimine"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Esiletstetud meediatulemused"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Soovitused"</string>
+</resources>
diff --git a/photopicker/res/values-et/feature_overflow_menu_strings.xml b/photopicker/res/values-et/feature_overflow_menu_strings.xml
index 99b630875..5d11516b0 100644
--- a/photopicker/res/values-et/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-et/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Rohkem"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Pilvemeediarakendus"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Seaded"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Sirvimine"</string>
 </resources>
diff --git a/photopicker/res/values-eu/core_strings.xml b/photopicker/res/values-eu/core_strings.xml
index 3015023f5..c45ece027 100644
--- a/photopicker/res/values-eu/core_strings.xml
+++ b/photopicker/res/values-eu/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Hautatu <xliff:g id="COUNT">%1$s</xliff:g> elementu, gehienez"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Argazkiak"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumak"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Bideoak"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Ez dago argazkirik oraindik"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Hasi argazkiak eta bideoak egiten"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Hemen agertuko dira Kamera aplikazioaren bidez ateratako argazki eta bideoak"</string>
diff --git a/photopicker/res/values-eu/feature_category_grid_strings.xml b/photopicker/res/values-eu/feature_category_grid_strings.xml
index 1a147cab9..90bc7c1c2 100644
--- a/photopicker/res/values-eu/feature_category_grid_strings.xml
+++ b/photopicker/res/values-eu/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Bildumak"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Oraindik ez dago pertsonarik, ezta konpainia-animaliarik ere"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Antzeko aurpegien arabera taldekatutako argazkiak eta bideoak agertuko dira hemen"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Argazkiak eta bideoak kargatzen"</string>
 </resources>
diff --git a/photopicker/res/values-eu/feature_highlight_search_results_strings.xml b/photopicker/res/values-eu/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..00e142f0f
--- /dev/null
+++ b/photopicker/res/values-eu/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Ikusi guztiak"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Iradokizunak"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Azkenaldikoak"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Gogokoak"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Pantaila-argazkiak"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Deskargak"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Bideoak"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Multimedia-edukiaren emaitza aipagarriei buruzko kontsulta kargatzen"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Multimedia-edukiaren emaitza aipagarriak kargatzen"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Multimedia-edukiaren emaitza aipagarriak"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Hauen iradokizunak:"</string>
+</resources>
diff --git a/photopicker/res/values-eu/feature_overflow_menu_strings.xml b/photopicker/res/values-eu/feature_overflow_menu_strings.xml
index a43b3126a..98d5d065b 100644
--- a/photopicker/res/values-eu/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-eu/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Gehiago"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Hodeiko multimedia-aplikazioa"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Ezarpenak"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Arakatu"</string>
 </resources>
diff --git a/photopicker/res/values-fa/core_strings.xml b/photopicker/res/values-fa/core_strings.xml
index c78966a0d..e9eba29c7 100644
--- a/photopicker/res/values-fa/core_strings.xml
+++ b/photopicker/res/values-fa/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>   "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"          "</string>
diff --git a/photopicker/res/values-fa/feature_category_grid_strings.xml b/photopicker/res/values-fa/feature_category_grid_strings.xml
index 39a4ffe41..153f44641 100644
--- a/photopicker/res/values-fa/feature_category_grid_strings.xml
+++ b/photopicker/res/values-fa/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"             "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"     "</string>
 </resources>
diff --git a/photopicker/res/values-fa/feature_highlight_search_results_strings.xml b/photopicker/res/values-fa/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..ca7e5c91e
--- /dev/null
+++ b/photopicker/res/values-fa/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">" "</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">" "</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"     "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-fa/feature_overflow_menu_strings.xml b/photopicker/res/values-fa/feature_overflow_menu_strings.xml
index b95063e2d..f5487c862 100644
--- a/photopicker/res/values-fa/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-fa/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-fa/feature_privacy_explainer_strings.xml b/photopicker/res/values-fa/feature_privacy_explainer_strings.xml
index a719b0ff1..9a6eeb07c 100644
--- a/photopicker/res/values-fa/feature_privacy_explainer_strings.xml
+++ b/photopicker/res/values-fa/feature_privacy_explainer_strings.xml
@@ -17,7 +17,7 @@
 
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="photopicker_privacy_explainer" msgid="4607406928962678061">"<xliff:g id="APP_NAME">%1$s</xliff:g>          "</string>
-    <string name="photopicker_privacy_explainer_permission_mode" msgid="6875197264505249268">"      <xliff:g id="APP_NAME">%1$s</xliff:g>    "</string>
+    <string name="photopicker_privacy_explainer" msgid="4607406928962678061">"<xliff:g id="APP_NAME">%1$s</xliff:g>          "</string>
+    <string name="photopicker_privacy_explainer_permission_mode" msgid="6875197264505249268">"      <xliff:g id="APP_NAME">%1$s</xliff:g>    "</string>
     <string name="photopicker_privacy_explainer_generic_app_name" msgid="765602231395858098">" "</string>
 </resources>
diff --git a/photopicker/res/values-fi/core_strings.xml b/photopicker/res/values-fi/core_strings.xml
index e5494aaf7..5e28675cc 100644
--- a/photopicker/res/values-fi/core_strings.xml
+++ b/photopicker/res/values-fi/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Valitse enintn <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Kuvat"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumit"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videot"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Ei viel kuvia"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Aloita kuvaaminen"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Kamerasovelluksen ottamat kuvat ja videot nkyvt tll"</string>
diff --git a/photopicker/res/values-fi/feature_category_grid_strings.xml b/photopicker/res/values-fi/feature_category_grid_strings.xml
index 27df276a8..a7e11d37f 100644
--- a/photopicker/res/values-fi/feature_category_grid_strings.xml
+++ b/photopicker/res/values-fi/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Kokoelmat"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Ei viel ihmisi ja lemmikkej"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Samanlaisten kasvojen mukaan ryhmitellyt kuvat ja videot nkyvt tll"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Kuvia ja videoita ladataan"</string>
 </resources>
diff --git a/photopicker/res/values-fi/feature_highlight_search_results_strings.xml b/photopicker/res/values-fi/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..2f442059c
--- /dev/null
+++ b/photopicker/res/values-fi/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Nyt kaikki"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Ehdotukset"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Viimeaikaiset"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Suosikit"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Kuvakaappaukset"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Lataukset"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videot"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Ladataan korostettujen mediatulosten kysely"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Ladataan korostettuja mediatuloksia"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Korostetut mediatulokset"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Ehdotuksia:"</string>
+</resources>
diff --git a/photopicker/res/values-fi/feature_overflow_menu_strings.xml b/photopicker/res/values-fi/feature_overflow_menu_strings.xml
index 82e6709f2..dcebf328c 100644
--- a/photopicker/res/values-fi/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-fi/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Lis"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Pilvimediasovellus"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Asetukset"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Selaa"</string>
 </resources>
diff --git a/photopicker/res/values-fr-rCA/core_strings.xml b/photopicker/res/values-fr-rCA/core_strings.xml
index 4cfb3d8e5..4eb0a3ff7 100644
--- a/photopicker/res/values-fr-rCA/core_strings.xml
+++ b/photopicker/res/values-fr-rCA/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Slectionnez jusqu\' <xliff:g id="COUNT">%1$s</xliff:g>lments"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Photos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vidos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Aucune photo pour l\'instant"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Commencez  capturer des photos et des vidos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Les photos et les vidos captures par votre appli Appareil photo s\'afficheront ici"</string>
diff --git a/photopicker/res/values-fr-rCA/feature_category_grid_strings.xml b/photopicker/res/values-fr-rCA/feature_category_grid_strings.xml
index 063bd5651..0a7e11d84 100644
--- a/photopicker/res/values-fr-rCA/feature_category_grid_strings.xml
+++ b/photopicker/res/values-fr-rCA/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Collections"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Pas encore de personnes ni d\'animaux"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Les photos et les vidos, regroupes par visages similaires, s\'afficheront ici"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Chargement de photos et de vidos en cours"</string>
 </resources>
diff --git a/photopicker/res/values-fr-rCA/feature_highlight_search_results_strings.xml b/photopicker/res/values-fr-rCA/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..debc88301
--- /dev/null
+++ b/photopicker/res/values-fr-rCA/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Tout afficher"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggestions"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Rcents"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoris"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Captures d\'cran"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Appareil photo"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Tlchargements"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vidos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Chargement de la requte des rsultats provenant de mdias mis en vidence en cours"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Chargement des rsultats provenant de mdias mis en vidence en cours"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Rsultats provenant de mdias mis en vidence"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggestions pour"</string>
+</resources>
diff --git a/photopicker/res/values-fr-rCA/feature_overflow_menu_strings.xml b/photopicker/res/values-fr-rCA/feature_overflow_menu_strings.xml
index 5eb1923f2..3fae5eca8 100644
--- a/photopicker/res/values-fr-rCA/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-fr-rCA/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Plus"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Appli multimdia infonuagique"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Paramtres"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Parcourir"</string>
 </resources>
diff --git a/photopicker/res/values-fr-rCA/feature_search_strings.xml b/photopicker/res/values-fr-rCA/feature_search_strings.xml
index 7e9c7b336..20f6485dd 100644
--- a/photopicker/res/values-fr-rCA/feature_search_strings.xml
+++ b/photopicker/res/values-fr-rCA/feature_search_strings.xml
@@ -17,7 +17,7 @@
 
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="photopicker_search_placeholder_text" msgid="2056650487029735317">"Rechercher"</string>
+    <string name="photopicker_search_placeholder_text" msgid="2056650487029735317">"Recherchez"</string>
     <string name="photopicker_search_photos_placeholder_text" msgid="4193624269605283280">"Rechercher des photos"</string>
     <string name="photopicker_search_videos_placeholder_text" msgid="6373176950925263103">"Rechercher des vidos"</string>
     <string name="photopicker_search_clear_text" msgid="864128584605615045">"Effacer le texte de recherche"</string>
diff --git a/photopicker/res/values-fr/core_strings.xml b/photopicker/res/values-fr/core_strings.xml
index 20315291b..131c17f65 100644
--- a/photopicker/res/values-fr/core_strings.xml
+++ b/photopicker/res/values-fr/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Slectionnez <xliff:g id="COUNT">%1$s</xliff:g>lments maximum"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Photos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vidos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Aucune photo pour le moment"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Commencez  prendre des photos et des vidos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Les photos et vidos captures par votre appli d\'appareil photo apparatront ici"</string>
diff --git a/photopicker/res/values-fr/feature_category_grid_strings.xml b/photopicker/res/values-fr/feature_category_grid_strings.xml
index af27cee05..0b014deb2 100644
--- a/photopicker/res/values-fr/feature_category_grid_strings.xml
+++ b/photopicker/res/values-fr/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Collections"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Pas de personnes ni d\'animaux pour l\'instant"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Les photos et vidos, regroupes par visages similaires, s\'afficheront ici"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Chargement des photos et vidos"</string>
 </resources>
diff --git a/photopicker/res/values-fr/feature_highlight_search_results_strings.xml b/photopicker/res/values-fr/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..93c034239
--- /dev/null
+++ b/photopicker/res/values-fr/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Tout afficher"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggestions"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Rcents"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoris"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Captures d\'cran"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Appareil photo"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Tlchargements"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vidos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Chargement de la requte de rsultats multimdias mis en avant"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Chargement des rsultats multimdias mis en avant"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Rsultats multimdias mis en avant"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggestions pour"</string>
+</resources>
diff --git a/photopicker/res/values-fr/feature_overflow_menu_strings.xml b/photopicker/res/values-fr/feature_overflow_menu_strings.xml
index ef92acabc..3fae5eca8 100644
--- a/photopicker/res/values-fr/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-fr/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Plus"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Appli multimdia cloud"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Paramtres"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Parcourir"</string>
 </resources>
diff --git a/photopicker/res/values-gl/core_strings.xml b/photopicker/res/values-gl/core_strings.xml
index 18395296c..983210ee6 100644
--- a/photopicker/res/values-gl/core_strings.xml
+++ b/photopicker/res/values-gl/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Selecciona ata <xliff:g id="COUNT">%1$s</xliff:g> elementos"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"lbums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vdeos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"De momento, non hai ningunha foto"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Empeza a facer fotos e vdeos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Aqu mostraranse as fotos que faga e os vdeos que grave a aplicacin da cmara"</string>
diff --git a/photopicker/res/values-gl/feature_category_grid_strings.xml b/photopicker/res/values-gl/feature_category_grid_strings.xml
index fe5fb9e27..8f0693032 100644
--- a/photopicker/res/values-gl/feature_category_grid_strings.xml
+++ b/photopicker/res/values-gl/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Coleccins"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Anda non hai ningunha persoa nin mascota"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"As fotos e os vdeos, agrupados por caras similares, aparecern aqu"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Cargando fotos e vdeos"</string>
 </resources>
diff --git a/photopicker/res/values-gl/feature_highlight_search_results_strings.xml b/photopicker/res/values-gl/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..df88c1d75
--- /dev/null
+++ b/photopicker/res/values-gl/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Ver todo"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suxestins"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recentes"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoritos"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Capturas de pantalla"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Cmara"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Descargas"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vdeos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Cargando consulta de resultados de contido multimedia destacado"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Cargando resultados de contido multimedia destacado"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Resultados de contido multimedia destacado"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suxestins para"</string>
+</resources>
diff --git a/photopicker/res/values-gl/feature_overflow_menu_strings.xml b/photopicker/res/values-gl/feature_overflow_menu_strings.xml
index 5694657f9..40a0ba9cf 100644
--- a/photopicker/res/values-gl/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-gl/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Mis"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplicacin multimedia na nube"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Configuracin"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Navegar"</string>
 </resources>
diff --git a/photopicker/res/values-gu/core_strings.xml b/photopicker/res/values-gu/core_strings.xml
index ec2d00ed0..ff7f49391 100644
--- a/photopicker/res/values-gu/core_strings.xml
+++ b/photopicker/res/values-gu/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"  <xliff:g id="COUNT">%1$s</xliff:g>   "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"    "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"          "</string>
diff --git a/photopicker/res/values-gu/feature_category_grid_strings.xml b/photopicker/res/values-gu/feature_category_grid_strings.xml
index dd835947d..d52c328ca 100644
--- a/photopicker/res/values-gu/feature_category_grid_strings.xml
+++ b/photopicker/res/values-gu/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"       "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"         "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"      "</string>
 </resources>
diff --git a/photopicker/res/values-gu/feature_highlight_search_results_strings.xml b/photopicker/res/values-gu/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..1b9530b33
--- /dev/null
+++ b/photopicker/res/values-gu/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"        "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"       "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  "</string>
+</resources>
diff --git a/photopicker/res/values-gu/feature_overflow_menu_strings.xml b/photopicker/res/values-gu/feature_overflow_menu_strings.xml
index ed05b1c6f..8d9ff63fe 100644
--- a/photopicker/res/values-gu/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-gu/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-hi/core_strings.xml b/photopicker/res/values-hi/core_strings.xml
index 5ec0e7712..ff1c4f6c7 100644
--- a/photopicker/res/values-hi/core_strings.xml
+++ b/photopicker/res/values-hi/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"   <xliff:g id="COUNT">%1$s</xliff:g>  "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">",        "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"           "</string>
diff --git a/photopicker/res/values-hi/feature_category_grid_strings.xml b/photopicker/res/values-hi/feature_category_grid_strings.xml
index cd0125c41..26110fd3b 100644
--- a/photopicker/res/values-hi/feature_category_grid_strings.xml
+++ b/photopicker/res/values-hi/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"            "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"        -       "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"      "</string>
 </resources>
diff --git a/photopicker/res/values-hi/feature_highlight_search_results_strings.xml b/photopicker/res/values-hi/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..0cf54fd55
--- /dev/null
+++ b/photopicker/res/values-hi/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"   "</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"           "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"         "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"     "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  "</string>
+</resources>
diff --git a/photopicker/res/values-hi/feature_overflow_menu_strings.xml b/photopicker/res/values-hi/feature_overflow_menu_strings.xml
index fc222ac6e..f57cea69d 100644
--- a/photopicker/res/values-hi/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-hi/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">" "</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-hr/core_strings.xml b/photopicker/res/values-hr/core_strings.xml
index 2e61773e6..d1256eaeb 100644
--- a/photopicker/res/values-hr/core_strings.xml
+++ b/photopicker/res/values-hr/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Odaberite najvie ovoliko stavki: <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotografije"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumi"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videozapisi"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Jo nema fotografija"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Ponite snimati fotografije i videozapise"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Fotografije i videozapisi koje snimi kamera vae aplikacije pojavit e se ovdje"</string>
diff --git a/photopicker/res/values-hr/feature_category_grid_strings.xml b/photopicker/res/values-hr/feature_category_grid_strings.xml
index 0205ffb28..53e1ef410 100644
--- a/photopicker/res/values-hr/feature_category_grid_strings.xml
+++ b/photopicker/res/values-hr/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Zbirke"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Jo nema osoba i kunih ljubimaca"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Ovdje se prikazuju fotografije i videozapisi grupirani po slinim licima"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Uitavanje fotografija i videozapisa"</string>
 </resources>
diff --git a/photopicker/res/values-hr/feature_highlight_search_results_strings.xml b/photopicker/res/values-hr/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..3eb75dd14
--- /dev/null
+++ b/photopicker/res/values-hr/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Prikai sve"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Prijedlozi"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Nedavno"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoriti"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Snimke zaslona"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Preuzimanja"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videozapisi"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Uitavanje upita za istaknute medijske rezultate"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Uitavanje istaknutih medijskih rezultata"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Istaknuti medijski rezultati"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Prijedlozi za"</string>
+</resources>
diff --git a/photopicker/res/values-hr/feature_overflow_menu_strings.xml b/photopicker/res/values-hr/feature_overflow_menu_strings.xml
index 33d9adb1a..a806b0c33 100644
--- a/photopicker/res/values-hr/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-hr/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Vie"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplikacija za medijske sadraje u oblaku"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Postavke"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Pregled"</string>
 </resources>
diff --git a/photopicker/res/values-hu/core_strings.xml b/photopicker/res/values-hu/core_strings.xml
index a2b29c3fd..ddf4e2e1a 100644
--- a/photopicker/res/values-hu/core_strings.xml
+++ b/photopicker/res/values-hu/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Legfeljebb <xliff:g id="COUNT">%1$s</xliff:g> elemet jellhet ki"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotk"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumok"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videk"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Mg nincsenek fotk"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Kezdjen el fotkat vagy videkat rgzteni"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Itt jelennek majd meg az n kameraalkalmazsa ltal rgztett fotk s videk"</string>
diff --git a/photopicker/res/values-hu/feature_category_grid_strings.xml b/photopicker/res/values-hu/feature_category_grid_strings.xml
index aff14f534..eae24bfa5 100644
--- a/photopicker/res/values-hu/feature_category_grid_strings.xml
+++ b/photopicker/res/values-hu/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Gyjtemnyek"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Mg nincsenek szemlyek s hzillatok"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Itt jelennek meg a hasonl arcok alapjn csoportostott fotk s videk"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Fotk s videk betltse"</string>
 </resources>
diff --git a/photopicker/res/values-hu/feature_highlight_search_results_strings.xml b/photopicker/res/values-hu/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..eb2997cb8
--- /dev/null
+++ b/photopicker/res/values-hu/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Az sszes megtekintse"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Javaslatok"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Legutbbiak"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Kedvencek"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Kpernykpek"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Letltsek"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videk"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Kiemelt mdiatartalom-tallatok lekrdezsnek betltse"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Kiemelt mdiatartalom-tallatok betltse"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Kiemelt mdiatartalom-tallatok"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Kvetkezvel kapcsolatos javaslatok:"</string>
+</resources>
diff --git a/photopicker/res/values-hu/feature_overflow_menu_strings.xml b/photopicker/res/values-hu/feature_overflow_menu_strings.xml
index eee5095e2..cde580f29 100644
--- a/photopicker/res/values-hu/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-hu/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Tovbbiak"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Felhbeli mdiaalkalmazs"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Belltsok"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Bngszs"</string>
 </resources>
diff --git a/photopicker/res/values-hy/core_strings.xml b/photopicker/res/values-hy/core_strings.xml
index aef5d1437..f001be45f 100644
--- a/photopicker/res/values-hy/core_strings.xml
+++ b/photopicker/res/values-hy/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"  <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"   "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"        "</string>
diff --git a/photopicker/res/values-hy/feature_category_grid_strings.xml b/photopicker/res/values-hy/feature_category_grid_strings.xml
index dfd35628f..731a896ed 100644
--- a/photopicker/res/values-hy/feature_category_grid_strings.xml
+++ b/photopicker/res/values-hy/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"     "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"      ,  "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-hy/feature_highlight_search_results_strings.xml b/photopicker/res/values-hy/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..a86227588
--- /dev/null
+++ b/photopicker/res/values-hy/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  "</string>
+</resources>
diff --git a/photopicker/res/values-hy/feature_overflow_menu_strings.xml b/photopicker/res/values-hy/feature_overflow_menu_strings.xml
index 00fc45982..f4b4470f3 100644
--- a/photopicker/res/values-hy/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-hy/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-in/core_strings.xml b/photopicker/res/values-in/core_strings.xml
index 8ae0fca56..0ecf0807b 100644
--- a/photopicker/res/values-in/core_strings.xml
+++ b/photopicker/res/values-in/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Pilih hingga <xliff:g id="COUNT">%1$s</xliff:g> item"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Foto"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Album"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Video"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Belum ada foto"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Mulai mengambil foto dan merekam video"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Foto dan video yang diambil dengan aplikasi kamera Anda akan muncul di sini"</string>
diff --git a/photopicker/res/values-in/feature_category_grid_strings.xml b/photopicker/res/values-in/feature_category_grid_strings.xml
index 1b66af533..ebdf535a2 100644
--- a/photopicker/res/values-in/feature_category_grid_strings.xml
+++ b/photopicker/res/values-in/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Koleksi"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Belum ada orang &amp; hewan peliharaan"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Foto dan video, yang dikelompokkan menurut wajah yang mirip, akan muncul di sini"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Memuat foto dan video"</string>
 </resources>
diff --git a/photopicker/res/values-in/feature_highlight_search_results_strings.xml b/photopicker/res/values-in/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..729e52bcb
--- /dev/null
+++ b/photopicker/res/values-in/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Lihat Semua"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Saran"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Terbaru"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favorit"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshot"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Download"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Video"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Memuat kueri hasil media yang ditandai"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Memuat hasil media yang ditandai"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Hasil media yang ditandai"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Saran untuk"</string>
+</resources>
diff --git a/photopicker/res/values-in/feature_overflow_menu_strings.xml b/photopicker/res/values-in/feature_overflow_menu_strings.xml
index b67950148..5335bea52 100644
--- a/photopicker/res/values-in/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-in/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Lainnya"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplikasi media cloud"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Setelan"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Cari"</string>
 </resources>
diff --git a/photopicker/res/values-is/core_strings.xml b/photopicker/res/values-is/core_strings.xml
index 74a215f68..b9c5153cc 100644
--- a/photopicker/res/values-is/core_strings.xml
+++ b/photopicker/res/values-is/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Veldu allt a <xliff:g id="COUNT">%1$s</xliff:g> atrii"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Myndir"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albm"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vde"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Engar myndir enn"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Byrjau a taka myndir og vde"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Myndir og vde r myndavlarforritinu birtast hr"</string>
diff --git a/photopicker/res/values-is/feature_category_grid_strings.xml b/photopicker/res/values-is/feature_category_grid_strings.xml
index 1ae4d4102..30253b55f 100644
--- a/photopicker/res/values-is/feature_category_grid_strings.xml
+++ b/photopicker/res/values-is/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Sfn"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Ekkert flk og gludr enn"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Myndir og vde, flokku eftir svipuum andlitum, birtast hr"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Hleur myndum og vdeum"</string>
 </resources>
diff --git a/photopicker/res/values-is/feature_highlight_search_results_strings.xml b/photopicker/res/values-is/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..2ba1ec7e5
--- /dev/null
+++ b/photopicker/res/values-is/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Sj allt"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Tillgur"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Nlegt"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Upphald"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Skjmyndir"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Myndavl"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Niurhal"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vde"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Hleur fyrirspurn fyrir aukenndar leitarniurstur fyrir margmilun"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Hleur aukenndum leitarniurstum fyrir margmilun"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Aukenndar leitarniurstur fyrir margmilun"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Tillgur a"</string>
+</resources>
diff --git a/photopicker/res/values-is/feature_overflow_menu_strings.xml b/photopicker/res/values-is/feature_overflow_menu_strings.xml
index 35d65d362..b51414437 100644
--- a/photopicker/res/values-is/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-is/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Meira"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Efnisforrit  ski"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Stillingar"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Skoa"</string>
 </resources>
diff --git a/photopicker/res/values-it/core_strings.xml b/photopicker/res/values-it/core_strings.xml
index 82cb910c7..9397e825e 100644
--- a/photopicker/res/values-it/core_strings.xml
+++ b/photopicker/res/values-it/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Seleziona massimo <xliff:g id="COUNT">%1$s</xliff:g> elementi"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Foto"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Album"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Video"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Ancora nessuna foto"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Inizia a scattare foto e registrare video"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Le foto e i video acquisiti dall\'app Fotocamera verranno visualizzati qui"</string>
diff --git a/photopicker/res/values-it/feature_category_grid_strings.xml b/photopicker/res/values-it/feature_category_grid_strings.xml
index 06e0ce0ea..e47433647 100644
--- a/photopicker/res/values-it/feature_category_grid_strings.xml
+++ b/photopicker/res/values-it/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Raccolte"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Ancora nessuna persona e nessun animale domestico"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Le foto e i video raggruppati per volti simili verranno visualizzati qui"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Caricamento di foto e video in corso"</string>
 </resources>
diff --git a/photopicker/res/values-it/feature_highlight_search_results_strings.xml b/photopicker/res/values-it/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..94fcb2bf1
--- /dev/null
+++ b/photopicker/res/values-it/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Mostra tutto"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggerimenti"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recenti"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Preferiti"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshot"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Fotocamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Download"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Video"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Caricamento della query dei risultati dei contenuti multimediali in evidenza in corso"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Caricamento dei risultati di ricerca dei contenuti multimediali in evidenza in corso"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Risultati dei contenuti multimediali in evidenza"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggerimenti per"</string>
+</resources>
diff --git a/photopicker/res/values-it/feature_overflow_menu_strings.xml b/photopicker/res/values-it/feature_overflow_menu_strings.xml
index fbe264826..52120fec0 100644
--- a/photopicker/res/values-it/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-it/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Altro"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"App multimediale cloud"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Impostazioni"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Sfoglia"</string>
 </resources>
diff --git a/photopicker/res/values-iw/core_strings.xml b/photopicker/res/values-iw/core_strings.xml
index 0feb62abc..128deebb2 100644
--- a/photopicker/res/values-iw/core_strings.xml
+++ b/photopicker/res/values-iw/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"   <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"      "</string>
diff --git a/photopicker/res/values-iw/feature_category_grid_strings.xml b/photopicker/res/values-iw/feature_category_grid_strings.xml
index fc487779b..0fc49fd49 100644
--- a/photopicker/res/values-iw/feature_category_grid_strings.xml
+++ b/photopicker/res/values-iw/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"    "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"       "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"  "</string>
 </resources>
diff --git a/photopicker/res/values-iw/feature_highlight_search_results_strings.xml b/photopicker/res/values-iw/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..66b4e632e
--- /dev/null
+++ b/photopicker/res/values-iw/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">" "</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"   "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-iw/feature_overflow_menu_strings.xml b/photopicker/res/values-iw/feature_overflow_menu_strings.xml
index ad4fc8dd0..fe02c6b76 100644
--- a/photopicker/res/values-iw/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-iw/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-ja/core_strings.xml b/photopicker/res/values-ja/core_strings.xml
index 1ab868629..0c815296b 100644
--- a/photopicker/res/values-ja/core_strings.xml
+++ b/photopicker/res/values-ja/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">""</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">""</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">""</string>
diff --git a/photopicker/res/values-ja/feature_category_grid_strings.xml b/photopicker/res/values-ja/feature_category_grid_strings.xml
index 6343d4ef6..a28895281 100644
--- a/photopicker/res/values-ja/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ja/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">""</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">""</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">""</string>
 </resources>
diff --git a/photopicker/res/values-ja/feature_cloud_strings.xml b/photopicker/res/values-ja/feature_cloud_strings.xml
index 9695b794e..005395ce0 100644
--- a/photopicker/res/values-ja/feature_cloud_strings.xml
+++ b/photopicker/res/values-ja/feature_cloud_strings.xml
@@ -25,7 +25,7 @@
     <string name="photopicker_banner_cloud_media_available_message" msgid="6224134038092008505">"<xliff:g id="APP_NAME">%1$s</xliff:g>  <xliff:g id="USER_ACCOUNT">%2$s</xliff:g> "</string>
     <string name="photopicker_banner_cloud_choose_account_title" msgid="286679907089224434">"<xliff:g id="APP_NAME">%1$s</xliff:g> "</string>
     <string name="photopicker_banner_cloud_choose_account_message" msgid="5173210485511611652">"<xliff:g id="APP_NAME">%1$s</xliff:g> "</string>
-    <string name="photopicker_banner_cloud_choose_account_button" msgid="3407910358624445230">""</string>
+    <string name="photopicker_banner_cloud_choose_account_button" msgid="3407910358624445230">""</string>
     <string name="photopicker_banner_cloud_choose_provider_title" msgid="992613053341538886">" "</string>
     <string name="photopicker_banner_cloud_choose_provider_message" msgid="1102889303996108506">"[]  "</string>
     <string name="photopicker_banner_cloud_choose_app_button" msgid="8228365266860220123">""</string>
diff --git a/photopicker/res/values-ja/feature_highlight_search_results_strings.xml b/photopicker/res/values-ja/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..a60e298a9
--- /dev/null
+++ b/photopicker/res/values-ja/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">""</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">""</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">""</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">""</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">":"</string>
+</resources>
diff --git a/photopicker/res/values-ja/feature_overflow_menu_strings.xml b/photopicker/res/values-ja/feature_overflow_menu_strings.xml
index ba40d54ea..da611389a 100644
--- a/photopicker/res/values-ja/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ja/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">" "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-ka/core_strings.xml b/photopicker/res/values-ka/core_strings.xml
index af192c112..26fa1d022 100644
--- a/photopicker/res/values-ka/core_strings.xml
+++ b/photopicker/res/values-ka/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>- "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"       "</string>
diff --git a/photopicker/res/values-ka/feature_category_grid_strings.xml b/photopicker/res/values-ka/feature_category_grid_strings.xml
index ff55d1ef4..0064edb92 100644
--- a/photopicker/res/values-ka/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ka/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"        "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-ka/feature_highlight_search_results_strings.xml b/photopicker/res/values-ka/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..b7794165a
--- /dev/null
+++ b/photopicker/res/values-ka/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">":"</string>
+</resources>
diff --git a/photopicker/res/values-ka/feature_overflow_menu_strings.xml b/photopicker/res/values-ka/feature_overflow_menu_strings.xml
index 8dadafda0..0d6abca1d 100644
--- a/photopicker/res/values-ka/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ka/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-kk/core_strings.xml b/photopicker/res/values-kk/core_strings.xml
index d9306f052..ba598ace4 100644
--- a/photopicker/res/values-kk/core_strings.xml
+++ b/photopicker/res/values-kk/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>   ."</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"A"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"   ."</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"        ."</string>
diff --git a/photopicker/res/values-kk/feature_category_grid_strings.xml b/photopicker/res/values-kk/feature_category_grid_strings.xml
index 4172b7a23..ebc65918f 100644
--- a/photopicker/res/values-kk/feature_category_grid_strings.xml
+++ b/photopicker/res/values-kk/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"     "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"         ."</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-kk/feature_highlight_search_results_strings.xml b/photopicker/res/values-kk/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..fb47b1cb1
--- /dev/null
+++ b/photopicker/res/values-kk/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">" "</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">" "</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">""</string>
+</resources>
diff --git a/photopicker/res/values-kk/feature_overflow_menu_strings.xml b/photopicker/res/values-kk/feature_overflow_menu_strings.xml
index abfdd3cf8..8e975a7df 100644
--- a/photopicker/res/values-kk/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-kk/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-km/core_strings.xml b/photopicker/res/values-km/core_strings.xml
index 06d1840f9..94c06b5e7 100644
--- a/photopicker/res/values-km/core_strings.xml
+++ b/photopicker/res/values-km/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">""</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">" "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">" "</string>
diff --git a/photopicker/res/values-km/feature_category_grid_strings.xml b/photopicker/res/values-km/feature_category_grid_strings.xml
index bcafdd23c..e5f86f40f 100644
--- a/photopicker/res/values-km/feature_category_grid_strings.xml
+++ b/photopicker/res/values-km/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">" "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">" "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">" "</string>
 </resources>
diff --git a/photopicker/res/values-km/feature_highlight_search_results_strings.xml b/photopicker/res/values-km/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..b98e71936
--- /dev/null
+++ b/photopicker/res/values-km/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">""</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">""</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">""</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">""</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">""</string>
+</resources>
diff --git a/photopicker/res/values-km/feature_overflow_menu_strings.xml b/photopicker/res/values-km/feature_overflow_menu_strings.xml
index 401e7404a..309b44edd 100644
--- a/photopicker/res/values-km/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-km/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">""</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-kn/core_strings.xml b/photopicker/res/values-kn/core_strings.xml
index 519b3c72a..df8f603ac 100644
--- a/photopicker/res/values-kn/core_strings.xml
+++ b/photopicker/res/values-kn/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>  "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"     "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"        "</string>
diff --git a/photopicker/res/values-kn/feature_category_grid_strings.xml b/photopicker/res/values-kn/feature_category_grid_strings.xml
index 0e62e45bf..4910fc097 100644
--- a/photopicker/res/values-kn/feature_category_grid_strings.xml
+++ b/photopicker/res/values-kn/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"    "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"          "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-kn/feature_highlight_search_results_strings.xml b/photopicker/res/values-kn/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..c3763d994
--- /dev/null
+++ b/photopicker/res/values-kn/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"     "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-kn/feature_overflow_menu_strings.xml b/photopicker/res/values-kn/feature_overflow_menu_strings.xml
index 5bbfbdf63..fef26054b 100644
--- a/photopicker/res/values-kn/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-kn/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-ko/core_strings.xml b/photopicker/res/values-ko/core_strings.xml
index f6677d2cd..3e74aede0 100644
--- a/photopicker/res/values-ko/core_strings.xml
+++ b/photopicker/res/values-ko/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>  "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">" "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"       "</string>
diff --git a/photopicker/res/values-ko/feature_category_grid_strings.xml b/photopicker/res/values-ko/feature_category_grid_strings.xml
index 2e891ade0..ec83a4f19 100644
--- a/photopicker/res/values-ko/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ko/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"    "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"       ."</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-ko/feature_highlight_search_results_strings.xml b/photopicker/res/values-ko/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..67419bdee
--- /dev/null
+++ b/photopicker/res/values-ko/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">" "</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"     "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  "</string>
+</resources>
diff --git a/photopicker/res/values-ko/feature_overflow_menu_strings.xml b/photopicker/res/values-ko/feature_overflow_menu_strings.xml
index 282efd132..20466b44b 100644
--- a/photopicker/res/values-ko/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ko/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-ky/core_strings.xml b/photopicker/res/values-ky/core_strings.xml
index 05d8823b1..2dfcd9b77 100644
--- a/photopicker/res/values-ky/core_strings.xml
+++ b/photopicker/res/values-ky/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>  "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"    "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"        "</string>
diff --git a/photopicker/res/values-ky/feature_category_grid_strings.xml b/photopicker/res/values-ky/feature_category_grid_strings.xml
index dc7f454dc..808d45da6 100644
--- a/photopicker/res/values-ky/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ky/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"         "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"   "</string>
 </resources>
diff --git a/photopicker/res/values-ky/feature_highlight_search_results_strings.xml b/photopicker/res/values-ky/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..cd495a718
--- /dev/null
+++ b/photopicker/res/values-ky/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">" "</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"     "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"    "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  :"</string>
+</resources>
diff --git a/photopicker/res/values-ky/feature_overflow_menu_strings.xml b/photopicker/res/values-ky/feature_overflow_menu_strings.xml
index 40826c72a..c1762342f 100644
--- a/photopicker/res/values-ky/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ky/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-lo/core_strings.xml b/photopicker/res/values-lo/core_strings.xml
index 1d56fd551..64f7f9a44 100644
--- a/photopicker/res/values-lo/core_strings.xml
+++ b/photopicker/res/values-lo/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">""</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"  "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"  "</string>
diff --git a/photopicker/res/values-lo/feature_category_grid_strings.xml b/photopicker/res/values-lo/feature_category_grid_strings.xml
index 7794c330f..03d931196 100644
--- a/photopicker/res/values-lo/feature_category_grid_strings.xml
+++ b/photopicker/res/values-lo/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"  "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"  "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"  "</string>
 </resources>
diff --git a/photopicker/res/values-lo/feature_highlight_search_results_strings.xml b/photopicker/res/values-lo/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..18f917a78
--- /dev/null
+++ b/photopicker/res/values-lo/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">""</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">""</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">""</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">""</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">""</string>
+</resources>
diff --git a/photopicker/res/values-lo/feature_overflow_menu_strings.xml b/photopicker/res/values-lo/feature_overflow_menu_strings.xml
index 51805306f..c54926a83 100644
--- a/photopicker/res/values-lo/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-lo/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">""</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-lt/core_strings.xml b/photopicker/res/values-lt/core_strings.xml
index 06ceb2d57..f20032991 100644
--- a/photopicker/res/values-lt/core_strings.xml
+++ b/photopicker/res/values-lt/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Pasirinkite iki <xliff:g id="COUNT">%1$s</xliff:g> elemen."</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Nuotraukos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumai"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vaizdo raai"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Dar nra nuotrauk"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Pradkite ufiksuoti nuotraukas ir vaizdo raus"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"ia bus rodomos Fotoaparato programos ufiksuotos nuotraukos ir vaizdo raai"</string>
diff --git a/photopicker/res/values-lt/feature_category_grid_strings.xml b/photopicker/res/values-lt/feature_category_grid_strings.xml
index 61bf620f0..f69b52d3c 100644
--- a/photopicker/res/values-lt/feature_category_grid_strings.xml
+++ b/photopicker/res/values-lt/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Rinkiniai"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Dar nra moni ir augintini"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"ia bus rodomos pagal panaius veidus sugrupuotos nuotraukos ir vaizdo raai"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"keliamos nuotraukos ir vaizdo raai"</string>
 </resources>
diff --git a/photopicker/res/values-lt/feature_highlight_search_results_strings.xml b/photopicker/res/values-lt/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..3744d5759
--- /dev/null
+++ b/photopicker/res/values-lt/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"r. visk"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Pasilymai"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Naujausia"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Mgstamiausi"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Ekrano kopijos"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Vaizdo kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Atsisiuntimai"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vaizdo raai"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"keliama parykint medijos rezultat uklausa"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"keliami parykinti medijos rezultatai"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Parykinti medijos rezultatai"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Pasilymai, skirti"</string>
+</resources>
diff --git a/photopicker/res/values-lt/feature_overflow_menu_strings.xml b/photopicker/res/values-lt/feature_overflow_menu_strings.xml
index d4e738d08..1d3c9813f 100644
--- a/photopicker/res/values-lt/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-lt/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Daugiau"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Medijos debesyje programa"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Nustatymai"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Naryti"</string>
 </resources>
diff --git a/photopicker/res/values-lv/core_strings.xml b/photopicker/res/values-lv/core_strings.xml
index 0bd82f772..646c56114 100644
--- a/photopicker/res/values-lv/core_strings.xml
+++ b/photopicker/res/values-lv/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Varat atlast ne vairk k <xliff:g id="COUNT">%1$s</xliff:g>vienumu(-us)."</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotoattli"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumi"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videoklipi"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Vl nav fotoattlu"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Sciet uzemt fotoattlus un videoklipus"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"eit tiks rdti fotoattli un videoklipi, ko uzemsiet kameras lietotn"</string>
diff --git a/photopicker/res/values-lv/feature_category_grid_strings.xml b/photopicker/res/values-lv/feature_category_grid_strings.xml
index 7dfe600e8..ab26b27e0 100644
--- a/photopicker/res/values-lv/feature_category_grid_strings.xml
+++ b/photopicker/res/values-lv/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Kolekcijas"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Vl nav nevienas personas un mjdzvnieka"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"eit bs redzami fotoattli un videoklipi, kas sagrupti pc ldzgm sejm."</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Notiek fotoattlu un videoklipu ielde"</string>
 </resources>
diff --git a/photopicker/res/values-lv/feature_highlight_search_results_strings.xml b/photopicker/res/values-lv/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..e8a4f7716
--- /dev/null
+++ b/photopicker/res/values-lv/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Skatt visus"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Ieteikumi"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Nesens"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Izlase"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Ekrnuzmumi"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Lejupieldes"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videoklipi"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Notiek izcelto multivides rezulttu vaicjuma ielde"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Notiek izcelto multivides rezulttu ielde"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Izceltie multivides rezultti"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Ieteikumi:"</string>
+</resources>
diff --git a/photopicker/res/values-lv/feature_overflow_menu_strings.xml b/photopicker/res/values-lv/feature_overflow_menu_strings.xml
index ff999f0c0..524ab8643 100644
--- a/photopicker/res/values-lv/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-lv/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Vairk"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Mkoa multivides lietotne"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Iestatjumi"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Prlkot"</string>
 </resources>
diff --git a/photopicker/res/values-mk/core_strings.xml b/photopicker/res/values-mk/core_strings.xml
index c16ef7fce..70b2888ba 100644
--- a/photopicker/res/values-mk/core_strings.xml
+++ b/photopicker/res/values-mk/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"  <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"     "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"            "</string>
diff --git a/photopicker/res/values-mk/feature_category_grid_strings.xml b/photopicker/res/values-mk/feature_category_grid_strings.xml
index ff2a09532..b972cfb36 100644
--- a/photopicker/res/values-mk/feature_category_grid_strings.xml
+++ b/photopicker/res/values-mk/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"     "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"          "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-mk/feature_highlight_search_results_strings.xml b/photopicker/res/values-mk/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..06fe10096
--- /dev/null
+++ b/photopicker/res/values-mk/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"  "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"  "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"        "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"      "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"    "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-mk/feature_overflow_menu_strings.xml b/photopicker/res/values-mk/feature_overflow_menu_strings.xml
index e3f9cd7f2..7761e1776 100644
--- a/photopicker/res/values-mk/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-mk/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"     "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-ml/core_strings.xml b/photopicker/res/values-ml/core_strings.xml
index eb3b98217..6ff140694 100644
--- a/photopicker/res/values-ml/core_strings.xml
+++ b/photopicker/res/values-ml/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>   "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">" "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"   "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">" Camera      "</string>
diff --git a/photopicker/res/values-ml/feature_category_grid_strings.xml b/photopicker/res/values-ml/feature_category_grid_strings.xml
index 56bcf3729..3aa03d07c 100644
--- a/photopicker/res/values-ml/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ml/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"   "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"        "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"   "</string>
 </resources>
diff --git a/photopicker/res/values-ml/feature_highlight_search_results_strings.xml b/photopicker/res/values-ml/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..2f34e7cda
--- /dev/null
+++ b/photopicker/res/values-ml/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"       "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"     "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-ml/feature_overflow_menu_strings.xml b/photopicker/res/values-ml/feature_overflow_menu_strings.xml
index 39d109425..ed3109724 100644
--- a/photopicker/res/values-ml/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ml/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-mn/core_strings.xml b/photopicker/res/values-mn/core_strings.xml
index 8672cda66..542e42823 100644
--- a/photopicker/res/values-mn/core_strings.xml
+++ b/photopicker/res/values-mn/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>    "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"    "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">" ,    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"        "</string>
diff --git a/photopicker/res/values-mn/feature_category_grid_strings.xml b/photopicker/res/values-mn/feature_category_grid_strings.xml
index 99733cd66..6efcd621b 100644
--- a/photopicker/res/values-mn/feature_category_grid_strings.xml
+++ b/photopicker/res/values-mn/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"   ,   "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"   ,    "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">",   "</string>
 </resources>
diff --git a/photopicker/res/values-mn/feature_highlight_search_results_strings.xml b/photopicker/res/values-mn/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..ce9471564
--- /dev/null
+++ b/photopicker/res/values-mn/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  "</string>
+</resources>
diff --git a/photopicker/res/values-mn/feature_overflow_menu_strings.xml b/photopicker/res/values-mn/feature_overflow_menu_strings.xml
index 0bb3d0460..083322dac 100644
--- a/photopicker/res/values-mn/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-mn/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-mr/core_strings.xml b/photopicker/res/values-mr/core_strings.xml
index dd48bf4cd..cf315a593 100644
--- a/photopicker/res/values-mr/core_strings.xml
+++ b/photopicker/res/values-mr/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>  "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"         "</string>
diff --git a/photopicker/res/values-mr/feature_category_grid_strings.xml b/photopicker/res/values-mr/feature_category_grid_strings.xml
index b720f9982..683da22ed 100644
--- a/photopicker/res/values-mr/feature_category_grid_strings.xml
+++ b/photopicker/res/values-mr/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"         "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"     "</string>
 </resources>
diff --git a/photopicker/res/values-mr/feature_highlight_search_results_strings.xml b/photopicker/res/values-mr/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..04386e8ac
--- /dev/null
+++ b/photopicker/res/values-mr/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"        "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"      "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-mr/feature_overflow_menu_strings.xml b/photopicker/res/values-mr/feature_overflow_menu_strings.xml
index e8e07c342..509d916a6 100644
--- a/photopicker/res/values-mr/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-mr/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-ms/core_strings.xml b/photopicker/res/values-ms/core_strings.xml
index 794e6074e..8616dd85d 100644
--- a/photopicker/res/values-ms/core_strings.xml
+++ b/photopicker/res/values-ms/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Pilih hingga <xliff:g id="COUNT">%1$s</xliff:g> item"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Photos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Album"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Video"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Belum ada foto lagi"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Mula merakam foto dan video"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Foto dan video yang dirakam oleh apl kamera anda akan dipaparkan disini"</string>
diff --git a/photopicker/res/values-ms/feature_category_grid_strings.xml b/photopicker/res/values-ms/feature_category_grid_strings.xml
index da16254f5..8ce1bcab9 100644
--- a/photopicker/res/values-ms/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ms/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Koleksi"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Tiada orang &amp; haiwan kesayangan lagi"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Foto dan video, dikumpulkan mengikut wajah yang serupa, akan dipaparkan di sini"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Memuatkan foto dan video"</string>
 </resources>
diff --git a/photopicker/res/values-ms/feature_highlight_search_results_strings.xml b/photopicker/res/values-ms/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..f1da51c19
--- /dev/null
+++ b/photopicker/res/values-ms/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Lihat Semua"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Cadangan"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Terbaharu"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Kegemaran"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Tangkapan skrin"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Muat turun"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Video"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Memuatkan pertanyaan hasil carian media yang diserlahkan"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Memuatkan hasil carian media yang diserlahkan"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Hasil carian media yang diserlahkan"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Cadangan untuk"</string>
+</resources>
diff --git a/photopicker/res/values-ms/feature_overflow_menu_strings.xml b/photopicker/res/values-ms/feature_overflow_menu_strings.xml
index 9ce95f67e..15f526573 100644
--- a/photopicker/res/values-ms/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ms/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Lagi"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Apl media awan"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Tetapan"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Semak imbas"</string>
 </resources>
diff --git a/photopicker/res/values-my/core_strings.xml b/photopicker/res/values-my/core_strings.xml
index 74597a6ae..f49b2382f 100644
--- a/photopicker/res/values-my/core_strings.xml
+++ b/photopicker/res/values-my/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>  "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">" "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"  "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"     "</string>
diff --git a/photopicker/res/values-my/feature_category_grid_strings.xml b/photopicker/res/values-my/feature_category_grid_strings.xml
index fc37f2d7b..4ce6d92f5 100644
--- a/photopicker/res/values-my/feature_category_grid_strings.xml
+++ b/photopicker/res/values-my/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"  "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"     "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"  "</string>
 </resources>
diff --git a/photopicker/res/values-my/feature_highlight_search_results_strings.xml b/photopicker/res/values-my/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..4bc9567ba
--- /dev/null
+++ b/photopicker/res/values-my/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"   "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"  "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">" "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">""</string>
+</resources>
diff --git a/photopicker/res/values-my/feature_overflow_menu_strings.xml b/photopicker/res/values-my/feature_overflow_menu_strings.xml
index 2112492df..8380d9c4b 100644
--- a/photopicker/res/values-my/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-my/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Cloud "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-nb/core_strings.xml b/photopicker/res/values-nb/core_strings.xml
index 5c06dc1ae..ce770ec9c 100644
--- a/photopicker/res/values-nb/core_strings.xml
+++ b/photopicker/res/values-nb/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Velg opptil <xliff:g id="COUNT">%1$s</xliff:g>elementer"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Bilder"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Album"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videoer"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Ingen bilder enn"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Begynn  ta bilder og ta opp videoer"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Bilder og videoer som tas med kameraappen din, vises her"</string>
diff --git a/photopicker/res/values-nb/feature_category_grid_strings.xml b/photopicker/res/values-nb/feature_category_grid_strings.xml
index 3864780bd..6d03c8b10 100644
--- a/photopicker/res/values-nb/feature_category_grid_strings.xml
+++ b/photopicker/res/values-nb/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Samlinger"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Ingen personer eller kjledyr enn"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Bilder og videoer, gruppert etter ansikter som ligner hverandre, vises her"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Laster inn bilder og videoer"</string>
 </resources>
diff --git a/photopicker/res/values-nb/feature_highlight_search_results_strings.xml b/photopicker/res/values-nb/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..c796749fd
--- /dev/null
+++ b/photopicker/res/values-nb/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Se alle"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Forslag"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Nylige"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoritter"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Skjermbilder"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Nedlastinger"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videoer"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Laster inn sket etter fremhevede medieresultater"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Laster inn fremhevede medieresultater"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Fremhevede medieresultater"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Forslag for"</string>
+</resources>
diff --git a/photopicker/res/values-nb/feature_overflow_menu_strings.xml b/photopicker/res/values-nb/feature_overflow_menu_strings.xml
index c3992483a..75ca4b6f5 100644
--- a/photopicker/res/values-nb/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-nb/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Flere"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Skymedieapp"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Innstillinger"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Bla gjennom"</string>
 </resources>
diff --git a/photopicker/res/values-ne/core_strings.xml b/photopicker/res/values-ne/core_strings.xml
index 477090a60..b95b231c7 100644
--- a/photopicker/res/values-ne/core_strings.xml
+++ b/photopicker/res/values-ne/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>    "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"    "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"         "</string>
diff --git a/photopicker/res/values-ne/feature_category_grid_strings.xml b/photopicker/res/values-ne/feature_category_grid_strings.xml
index c201c872f..fcb6f79c1 100644
--- a/photopicker/res/values-ne/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ne/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"         "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"         "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"     "</string>
 </resources>
diff --git a/photopicker/res/values-ne/feature_highlight_search_results_strings.xml b/photopicker/res/values-ne/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..2f7be4716
--- /dev/null
+++ b/photopicker/res/values-ne/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"  "</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"  "</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"       "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"      "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  :"</string>
+</resources>
diff --git a/photopicker/res/values-ne/feature_overflow_menu_strings.xml b/photopicker/res/values-ne/feature_overflow_menu_strings.xml
index 3dedd3fe3..a2b02ef3b 100644
--- a/photopicker/res/values-ne/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ne/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-nl/core_strings.xml b/photopicker/res/values-nl/core_strings.xml
index fb4a07ea4..d7bc5dfed 100644
--- a/photopicker/res/values-nl/core_strings.xml
+++ b/photopicker/res/values-nl/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Selecteer maximaal <xliff:g id="COUNT">%1$s</xliff:g> items"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Foto\'s"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albums"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Video\'s"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Nog geen foto\'s"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Maak nu foto\'s en video\'s"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Foto\'s en video\'s die met je camera-app zijn gemaakt, verschijnen hier"</string>
diff --git a/photopicker/res/values-nl/feature_category_grid_strings.xml b/photopicker/res/values-nl/feature_category_grid_strings.xml
index d386411c4..81840ff62 100644
--- a/photopicker/res/values-nl/feature_category_grid_strings.xml
+++ b/photopicker/res/values-nl/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Collecties"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Nog geen mensen en huisdieren"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Hier verschijnen foto\'s en video\'s, gegroepeerd op vergelijkbare gezichten"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Foto\'s en video\'s laden"</string>
 </resources>
diff --git a/photopicker/res/values-nl/feature_highlight_search_results_strings.xml b/photopicker/res/values-nl/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..1697bb3ef
--- /dev/null
+++ b/photopicker/res/values-nl/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Alles weergeven"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Suggesties"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recent"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favorieten"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Screenshots"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Camera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Video\'s"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Opdracht voor gemarkeerde mediaresultaten laden"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Gemarkeerde mediaresultaten laden"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Gemarkeerde mediaresultaten"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Suggesties voor"</string>
+</resources>
diff --git a/photopicker/res/values-nl/feature_overflow_menu_strings.xml b/photopicker/res/values-nl/feature_overflow_menu_strings.xml
index 81fcd79b0..a4a771660 100644
--- a/photopicker/res/values-nl/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-nl/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Meer"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Cloudmedia-app"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Instellingen"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Browsen"</string>
 </resources>
diff --git a/photopicker/res/values-or/core_strings.xml b/photopicker/res/values-or/core_strings.xml
index c8183ce39..cce29600f 100644
--- a/photopicker/res/values-or/core_strings.xml
+++ b/photopicker/res/values-or/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>    "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"          "</string>
diff --git a/photopicker/res/values-or/feature_category_grid_strings.xml b/photopicker/res/values-or/feature_category_grid_strings.xml
index a74865dd6..8b387bf9b 100644
--- a/photopicker/res/values-or/feature_category_grid_strings.xml
+++ b/photopicker/res/values-or/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"      "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"         "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-or/feature_highlight_search_results_strings.xml b/photopicker/res/values-or/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..cffb77f50
--- /dev/null
+++ b/photopicker/res/values-or/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"     "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-or/feature_overflow_menu_strings.xml b/photopicker/res/values-or/feature_overflow_menu_strings.xml
index bed38cbb3..8e91a897f 100644
--- a/photopicker/res/values-or/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-or/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-pa/core_strings.xml b/photopicker/res/values-pa/core_strings.xml
index 0e40ce35b..37d49d18e 100644
--- a/photopicker/res/values-pa/core_strings.xml
+++ b/photopicker/res/values-pa/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>   "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"     "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"       "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"            "</string>
diff --git a/photopicker/res/values-pa/feature_category_grid_strings.xml b/photopicker/res/values-pa/feature_category_grid_strings.xml
index c0db732b4..41514204e 100644
--- a/photopicker/res/values-pa/feature_category_grid_strings.xml
+++ b/photopicker/res/values-pa/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"            "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"-          "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"       "</string>
 </resources>
diff --git a/photopicker/res/values-pa/feature_highlight_search_results_strings.xml b/photopicker/res/values-pa/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..5f617fde6
--- /dev/null
+++ b/photopicker/res/values-pa/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"           "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"        "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"  "</string>
+</resources>
diff --git a/photopicker/res/values-pa/feature_overflow_menu_strings.xml b/photopicker/res/values-pa/feature_overflow_menu_strings.xml
index ccb9cf8fd..60b63f51b 100644
--- a/photopicker/res/values-pa/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-pa/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-pl/core_strings.xml b/photopicker/res/values-pl/core_strings.xml
index d98962fb4..fb9e6c657 100644
--- a/photopicker/res/values-pl/core_strings.xml
+++ b/photopicker/res/values-pl/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Maksymalna liczba elementw, ktre mona wybra:<xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Zdjcia"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumy"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Filmy"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Jeszcze nie masz zdj"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Zacznij robi zdjcia inagrywa filmy"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Wtym miejscu bd widoczne zdjcia ifilmy zapisane przez aplikacj kamery"</string>
diff --git a/photopicker/res/values-pl/feature_category_grid_strings.xml b/photopicker/res/values-pl/feature_category_grid_strings.xml
index bace04b3f..2865bfd54 100644
--- a/photopicker/res/values-pl/feature_category_grid_strings.xml
+++ b/photopicker/res/values-pl/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Kolekcje"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Brak osb izwierzt"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Wtym miejscu bd widoczne zdjcia ifilmy pogrupowane wedug podobnych twarzy"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Wczytuj zdjcia ifilmy"</string>
 </resources>
diff --git a/photopicker/res/values-pl/feature_highlight_search_results_strings.xml b/photopicker/res/values-pl/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..e0dc49214
--- /dev/null
+++ b/photopicker/res/values-pl/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Zobacz wszystkie"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Sugestie"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Ostatnie"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Ulubione"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Zrzuty ekranu"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Aparat"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Pobrane"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Filmy"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Wczytuj zapytanie owyrnione wyniki wyszukiwania multimediw"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Wczytuj wyrnione wyniki wyszukiwania multimediw"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Wyrnione wyniki wyszukiwania multimediw"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Sugestie dotyczce tych wynikw"</string>
+</resources>
diff --git a/photopicker/res/values-pl/feature_overflow_menu_strings.xml b/photopicker/res/values-pl/feature_overflow_menu_strings.xml
index ccc79cb3b..fbbbb7dc0 100644
--- a/photopicker/res/values-pl/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-pl/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Wicej"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplikacja do multimediw wchmurze"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Ustawienia"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Przegldaj"</string>
 </resources>
diff --git a/photopicker/res/values-pt-rBR/core_strings.xml b/photopicker/res/values-pt-rBR/core_strings.xml
index 671940483..1ddbcc06b 100644
--- a/photopicker/res/values-pt-rBR/core_strings.xml
+++ b/photopicker/res/values-pt-rBR/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Selecione at <xliff:g id="COUNT">%1$s</xliff:g> itens"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"lbuns"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vdeos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Ainda no h fotos"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Comece a tirar fotos e gravar vdeos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"As fotos e os vdeos capturados pelo seu app de cmera vo aparecer aqui"</string>
diff --git a/photopicker/res/values-pt-rBR/feature_category_grid_strings.xml b/photopicker/res/values-pt-rBR/feature_category_grid_strings.xml
index 3e3c4fb8a..989e5a6e7 100644
--- a/photopicker/res/values-pt-rBR/feature_category_grid_strings.xml
+++ b/photopicker/res/values-pt-rBR/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Colees"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Ainda no h pessoas e animais de estimao"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Fotos e vdeos agrupados por reconhecimento facial vo aparecer aqui"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Carregando fotos e vdeos"</string>
 </resources>
diff --git a/photopicker/res/values-pt-rBR/feature_highlight_search_results_strings.xml b/photopicker/res/values-pt-rBR/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..a0af6864f
--- /dev/null
+++ b/photopicker/res/values-pt-rBR/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Ver tudo"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Sugestes"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recentes"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoritos"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Capturas de tela"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Cmera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vdeos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Carregando a consulta de resultados de mdia em destaque"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Carregando resultados de mdia em destaque"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Resultados de mdia em destaque"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Sugestes para"</string>
+</resources>
diff --git a/photopicker/res/values-pt-rBR/feature_overflow_menu_strings.xml b/photopicker/res/values-pt-rBR/feature_overflow_menu_strings.xml
index 4a45dabfe..a234a8bee 100644
--- a/photopicker/res/values-pt-rBR/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-pt-rBR/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Mais"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"App de mdia em nuvem"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Configuraes"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Procurar"</string>
 </resources>
diff --git a/photopicker/res/values-pt-rPT/core_strings.xml b/photopicker/res/values-pt-rPT/core_strings.xml
index a35f15dfa..e84c61d8f 100644
--- a/photopicker/res/values-pt-rPT/core_strings.xml
+++ b/photopicker/res/values-pt-rPT/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Selecione at <xliff:g id="COUNT">%1$s</xliff:g> itens"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"lbuns"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vdeos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Ainda no tem fotos"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Comece a capturar fotos e vdeos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"As fotos e os vdeos capturados pela app da cmara so apresentados aqui."</string>
diff --git a/photopicker/res/values-pt-rPT/feature_category_grid_strings.xml b/photopicker/res/values-pt-rPT/feature_category_grid_strings.xml
index 868dc0a70..4085fffa4 100644
--- a/photopicker/res/values-pt-rPT/feature_category_grid_strings.xml
+++ b/photopicker/res/values-pt-rPT/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Colees"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Ainda no existem pessoas nem animais de estimao"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"As fotos e os vdeos, agrupados por caras semelhantes, so apresentados aqui"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"A carregar fotos e vdeos"</string>
 </resources>
diff --git a/photopicker/res/values-pt-rPT/feature_highlight_search_results_strings.xml b/photopicker/res/values-pt-rPT/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..810e45468
--- /dev/null
+++ b/photopicker/res/values-pt-rPT/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Ver tudo"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Sugestes"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recentes"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoritos"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Capturas de ecr"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Cmara"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Transferncias"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vdeos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"A carregar a consulta de resultados de multimdia realados"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"A carregar resultados de multimdia realados"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Resultados de multimdia realados"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Sugestes para"</string>
+</resources>
diff --git a/photopicker/res/values-pt-rPT/feature_overflow_menu_strings.xml b/photopicker/res/values-pt-rPT/feature_overflow_menu_strings.xml
index 36d0c2b89..ca3a49865 100644
--- a/photopicker/res/values-pt-rPT/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-pt-rPT/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Mais"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"App de multimdia na nuvem"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Definies"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Procurar"</string>
 </resources>
diff --git a/photopicker/res/values-pt/core_strings.xml b/photopicker/res/values-pt/core_strings.xml
index 671940483..1ddbcc06b 100644
--- a/photopicker/res/values-pt/core_strings.xml
+++ b/photopicker/res/values-pt/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Selecione at <xliff:g id="COUNT">%1$s</xliff:g> itens"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotos"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"lbuns"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vdeos"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Ainda no h fotos"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Comece a tirar fotos e gravar vdeos"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"As fotos e os vdeos capturados pelo seu app de cmera vo aparecer aqui"</string>
diff --git a/photopicker/res/values-pt/feature_category_grid_strings.xml b/photopicker/res/values-pt/feature_category_grid_strings.xml
index 3e3c4fb8a..989e5a6e7 100644
--- a/photopicker/res/values-pt/feature_category_grid_strings.xml
+++ b/photopicker/res/values-pt/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Colees"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Ainda no h pessoas e animais de estimao"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Fotos e vdeos agrupados por reconhecimento facial vo aparecer aqui"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Carregando fotos e vdeos"</string>
 </resources>
diff --git a/photopicker/res/values-pt/feature_highlight_search_results_strings.xml b/photopicker/res/values-pt/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..a0af6864f
--- /dev/null
+++ b/photopicker/res/values-pt/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Ver tudo"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Sugestes"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recentes"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoritos"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Capturas de tela"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Cmera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Downloads"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vdeos"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Carregando a consulta de resultados de mdia em destaque"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Carregando resultados de mdia em destaque"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Resultados de mdia em destaque"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Sugestes para"</string>
+</resources>
diff --git a/photopicker/res/values-pt/feature_overflow_menu_strings.xml b/photopicker/res/values-pt/feature_overflow_menu_strings.xml
index 4a45dabfe..a234a8bee 100644
--- a/photopicker/res/values-pt/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-pt/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Mais"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"App de mdia em nuvem"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Configuraes"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Procurar"</string>
 </resources>
diff --git a/photopicker/res/values-ro/core_strings.xml b/photopicker/res/values-ro/core_strings.xml
index ca48889be..a54248083 100644
--- a/photopicker/res/values-ro/core_strings.xml
+++ b/photopicker/res/values-ro/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Selecteaz maximum <xliff:g id="COUNT">%1$s</xliff:g> elemente"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotografii"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albume"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videoclipuri"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Nicio fotografie nc"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"ncepe s realizezi fotografii i videoclipuri"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Fotografiile i videoclipurile surprinse de aplicaia camer foto vor aprea aici"</string>
diff --git a/photopicker/res/values-ro/feature_category_grid_strings.xml b/photopicker/res/values-ro/feature_category_grid_strings.xml
index b4e43fbd3..19343de1b 100644
--- a/photopicker/res/values-ro/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ro/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Colecii"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"nc nu exist persoane i animale de companie"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Fotografiile i videoclipurile, grupate dup chipuri similare, vor aprea aici"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Se ncarc fotografiile i videoclipurile"</string>
 </resources>
diff --git a/photopicker/res/values-ro/feature_highlight_search_results_strings.xml b/photopicker/res/values-ro/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..5684d7a37
--- /dev/null
+++ b/photopicker/res/values-ro/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Afieaz-le pe toate"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Sugestii"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Recente"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Preferate"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Capturi de ecran"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Camer foto"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Descrcri"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videoclipuri"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Se ncarc termenul de cutare pentru rezultatele media evideniate"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Se ncarc rezultatele media evideniate"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Rezultate media evideniate"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Sugestii pentru"</string>
+</resources>
diff --git a/photopicker/res/values-ro/feature_overflow_menu_strings.xml b/photopicker/res/values-ro/feature_overflow_menu_strings.xml
index a048c5c03..4a89773b7 100644
--- a/photopicker/res/values-ro/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ro/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Mai multe"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplicaia media n cloud"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Setri"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Rsfoiete"</string>
 </resources>
diff --git a/photopicker/res/values-ru/core_strings.xml b/photopicker/res/values-ru/core_strings.xml
index e0951ff38..41437f6c0 100644
--- a/photopicker/res/values-ru/core_strings.xml
+++ b/photopicker/res/values-ru/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"  (  <xliff:g id="COUNT">%1$s</xliff:g>)."</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    ."</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"    ,   "</string>
diff --git a/photopicker/res/values-ru/feature_category_grid_strings.xml b/photopicker/res/values-ru/feature_category_grid_strings.xml
index 8d2be0e94..6d9836d28 100644
--- a/photopicker/res/values-ru/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ru/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"  \"   \"  "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"     ,    ."</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"   "</string>
 </resources>
diff --git a/photopicker/res/values-ru/feature_highlight_search_results_strings.xml b/photopicker/res/values-ru/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..96a83cb20
--- /dev/null
+++ b/photopicker/res/values-ru/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">" "</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"     "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">":"</string>
+</resources>
diff --git a/photopicker/res/values-ru/feature_overflow_menu_strings.xml b/photopicker/res/values-ru/feature_overflow_menu_strings.xml
index 41243a8b6..cb8b8514f 100644
--- a/photopicker/res/values-ru/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ru/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"    "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-si/core_strings.xml b/photopicker/res/values-si/core_strings.xml
index b82181691..30ad47325 100644
--- a/photopicker/res/values-si/core_strings.xml
+++ b/photopicker/res/values-si/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>  "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"     "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"             "</string>
diff --git a/photopicker/res/values-si/feature_category_grid_strings.xml b/photopicker/res/values-si/feature_category_grid_strings.xml
index bfc5dad6c..4ff4d7d53 100644
--- a/photopicker/res/values-si/feature_category_grid_strings.xml
+++ b/photopicker/res/values-si/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"     "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"        ,    "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-si/feature_highlight_search_results_strings.xml b/photopicker/res/values-si/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..b5e8015f9
--- /dev/null
+++ b/photopicker/res/values-si/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"     "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-si/feature_overflow_menu_strings.xml b/photopicker/res/values-si/feature_overflow_menu_strings.xml
index 847b3bf82..ba5397348 100644
--- a/photopicker/res/values-si/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-si/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-sk/core_strings.xml b/photopicker/res/values-sk/core_strings.xml
index 419b64eb9..f9faf4750 100644
--- a/photopicker/res/values-sk/core_strings.xml
+++ b/photopicker/res/values-sk/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Maximlny povolen poet vybratch poloiek: <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotky"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumy"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Vide"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Zatia iadne fotky"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Zanite snma fotky avide"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Fotky avide nasnman vaou kamerovou aplikciou sa bud zobrazova tu"</string>
diff --git a/photopicker/res/values-sk/feature_category_grid_strings.xml b/photopicker/res/values-sk/feature_category_grid_strings.xml
index fd40f3e2a..1c4df39b2 100644
--- a/photopicker/res/values-sk/feature_category_grid_strings.xml
+++ b/photopicker/res/values-sk/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Zbierky"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Zatia iadni udia ani zvierat"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Tu sa bud zobrazova fotky avide zoskupen poda podobnch tvr"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Natavaj sa fotky avide"</string>
 </resources>
diff --git a/photopicker/res/values-sk/feature_highlight_search_results_strings.xml b/photopicker/res/values-sk/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..8b714b36a
--- /dev/null
+++ b/photopicker/res/values-sk/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Zobrazi vetko"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Nvrhy"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Nedvne"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Obben"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Snmky obrazovky"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Stiahnut"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Vide"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Natava sa dopyt kzvraznenm vsledkom mdi"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Natavaj sa zvraznen vsledky mdi"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Zvraznen vsledky mdi"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Nvrhy pre"</string>
+</resources>
diff --git a/photopicker/res/values-sk/feature_overflow_menu_strings.xml b/photopicker/res/values-sk/feature_overflow_menu_strings.xml
index abbf991d5..7d5957c45 100644
--- a/photopicker/res/values-sk/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-sk/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Viac"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplikcia na prstup kmdim vcloude"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Nastavenia"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Prehliada"</string>
 </resources>
diff --git a/photopicker/res/values-sl/core_strings.xml b/photopicker/res/values-sl/core_strings.xml
index 18ac15d27..78aefaae4 100644
--- a/photopicker/res/values-sl/core_strings.xml
+++ b/photopicker/res/values-sl/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Izberite najve toliko elementov: <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotografije"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumi"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videoposnetki"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Ni e fotografij"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Zanite zajemati fotografije in videoposnetke"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Tukaj bodo prikazane fotografije in videoposnetki, ki jih boste posneli s fotografsko aplikacijo"</string>
diff --git a/photopicker/res/values-sl/feature_category_grid_strings.xml b/photopicker/res/values-sl/feature_category_grid_strings.xml
index d066f304e..5abd3a188 100644
--- a/photopicker/res/values-sl/feature_category_grid_strings.xml
+++ b/photopicker/res/values-sl/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Zbirke"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Ni e oseb in hinih ljubljenkov"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Tukaj bodo prikazane fotografije in videoposnetki, razvreni po podobnih obrazih"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Nalaganje fotografij in videoposnetkov"</string>
 </resources>
diff --git a/photopicker/res/values-sl/feature_highlight_search_results_strings.xml b/photopicker/res/values-sl/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..75f4f3a99
--- /dev/null
+++ b/photopicker/res/values-sl/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Pokai vse"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Predlogi"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Nedavno"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Priljubljeno"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Posnetki zaslona"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Fotoaparat"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Prenosi"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videoposnetki"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Nalaganje poizvedbe za oznaene rezultate predstavnosti"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Nalaganje oznaenih rezultatov predstavnosti"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Oznaeni rezultati predstavnosti"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Predlogi za"</string>
+</resources>
diff --git a/photopicker/res/values-sl/feature_overflow_menu_strings.xml b/photopicker/res/values-sl/feature_overflow_menu_strings.xml
index 0fa7795c9..e6a4071a6 100644
--- a/photopicker/res/values-sl/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-sl/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Ve"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplikacija za predstavnost v oblaku"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Nastavitve"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Brskanje "</string>
 </resources>
diff --git a/photopicker/res/values-sq/core_strings.xml b/photopicker/res/values-sq/core_strings.xml
index ed38d7178..7b3c7a5a6 100644
--- a/photopicker/res/values-sq/core_strings.xml
+++ b/photopicker/res/values-sq/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Zgjidh deri n <xliff:g id="COUNT">%1$s</xliff:g> artikuj"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotografit"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albumet"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videot"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Nuk ka ende asnj fotografi"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Fillo t regjistrosh fotografi dhe video"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Fotografit dhe videot e regjistruara nga aplikacioni i kamers do t shfaqen ktu"</string>
diff --git a/photopicker/res/values-sq/feature_category_grid_strings.xml b/photopicker/res/values-sq/feature_category_grid_strings.xml
index 9ee7a1389..2a1150db7 100644
--- a/photopicker/res/values-sq/feature_category_grid_strings.xml
+++ b/photopicker/res/values-sq/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Koleksionet"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Nuk ka ende persona dhe kafsh shtpiake"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Fotografit dhe videot, t grupuara sipas fytyrave t ngjashme, do t shfaqen ktu"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Po ngarkohen fotografit dhe videot"</string>
 </resources>
diff --git a/photopicker/res/values-sq/feature_highlight_search_results_strings.xml b/photopicker/res/values-sq/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..298ea3617
--- /dev/null
+++ b/photopicker/res/values-sq/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Shiko t gjitha"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Sugjerime"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"T fundit"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"T preferuarat"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Pamjet e ekranit"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Shkarkimet"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videot"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Pyetja e rezultateve t medias s theksuar po ngarkohet"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Rezultatet e medias s theksuara po ngarkohen"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Rezultatet e theksuara t medias"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Sugjerimet pr"</string>
+</resources>
diff --git a/photopicker/res/values-sq/feature_overflow_menu_strings.xml b/photopicker/res/values-sq/feature_overflow_menu_strings.xml
index 40d18b041..c2f7d7bbd 100644
--- a/photopicker/res/values-sq/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-sq/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"M shum"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Aplikacioni i medias n ren kompjuterike"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Cilsimet"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Shfleto"</string>
 </resources>
diff --git a/photopicker/res/values-sr/core_strings.xml b/photopicker/res/values-sr/core_strings.xml
index 21c79b7a5..692cc80d6 100644
--- a/photopicker/res/values-sr/core_strings.xml
+++ b/photopicker/res/values-sr/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"        <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"            "</string>
diff --git a/photopicker/res/values-sr/feature_category_grid_strings.xml b/photopicker/res/values-sr/feature_category_grid_strings.xml
index e66bd20f3..13cc16311 100644
--- a/photopicker/res/values-sr/feature_category_grid_strings.xml
+++ b/photopicker/res/values-sr/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"     "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"          "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"    "</string>
 </resources>
diff --git a/photopicker/res/values-sr/feature_highlight_search_results_strings.xml b/photopicker/res/values-sr/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..81e3eebe7
--- /dev/null
+++ b/photopicker/res/values-sr/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"  "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-sr/feature_overflow_menu_strings.xml b/photopicker/res/values-sr/feature_overflow_menu_strings.xml
index c83bb7cfc..ae7d45aed 100644
--- a/photopicker/res/values-sr/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-sr/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"   "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-sv/core_strings.xml b/photopicker/res/values-sv/core_strings.xml
index 2f6b3075d..54c61bd14 100644
--- a/photopicker/res/values-sv/core_strings.xml
+++ b/photopicker/res/values-sv/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Vlj upp till <xliff:g id="COUNT">%1$s</xliff:g>objekt"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Foton"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Album"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videor"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Inga foton nnu"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Brja ta foton eller spela in video"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Foton som tagits och videor som spelats in med kameraappen visas hr"</string>
diff --git a/photopicker/res/values-sv/feature_category_grid_strings.xml b/photopicker/res/values-sv/feature_category_grid_strings.xml
index 2147b8a80..6b5c825e9 100644
--- a/photopicker/res/values-sv/feature_category_grid_strings.xml
+++ b/photopicker/res/values-sv/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Samlingar"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Inga personer eller husdjur n"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Foton och videor, grupperade efter liknande ansikten, visas hr"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Lser in foton och videor"</string>
 </resources>
diff --git a/photopicker/res/values-sv/feature_highlight_search_results_strings.xml b/photopicker/res/values-sv/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..cb9dc63fd
--- /dev/null
+++ b/photopicker/res/values-sv/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Visa alla"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Frslag"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Senaste"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoriter"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Skrmbilder"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Nedladdningar"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videor"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Lser in frga om markerade medieresultat"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Lser in markerade medieresultat"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Markerade medieresultat"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Frslag fr"</string>
+</resources>
diff --git a/photopicker/res/values-sv/feature_overflow_menu_strings.xml b/photopicker/res/values-sv/feature_overflow_menu_strings.xml
index f6ab9ef35..baf1febb1 100644
--- a/photopicker/res/values-sv/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-sv/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Mer"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Molnmedieapp"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Instllningar"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Blddra"</string>
 </resources>
diff --git a/photopicker/res/values-sw/core_strings.xml b/photopicker/res/values-sw/core_strings.xml
index d3582b40e..e81c60ad5 100644
--- a/photopicker/res/values-sw/core_strings.xml
+++ b/photopicker/res/values-sw/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Chagua hadi vipengee <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Picha"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albamu"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Video"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Bado hakuna picha"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Anza kunasa picha na video"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Picha na video zilizonaswa na programu yako ya kamera zitaonekana hapa"</string>
diff --git a/photopicker/res/values-sw/feature_category_grid_strings.xml b/photopicker/res/values-sw/feature_category_grid_strings.xml
index 0f222cf9f..602d470a7 100644
--- a/photopicker/res/values-sw/feature_category_grid_strings.xml
+++ b/photopicker/res/values-sw/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Mikusanyiko"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Bado hakuna watu na wanyama vipenzi"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Picha na video, zilizopangwa kulingana na nyuso zinazofanana, zitaonekana hapa"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Inapakia picha na video"</string>
 </resources>
diff --git a/photopicker/res/values-sw/feature_highlight_search_results_strings.xml b/photopicker/res/values-sw/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..db2217ddb
--- /dev/null
+++ b/photopicker/res/values-sw/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Angalia Zote"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Mapendekezo"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Majuzi"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Vipendwa"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Picha za skrini"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Vipakuliwa"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Video"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Inapakia hoja ya matokeo ya maudhui yaliyoangaziwa"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Inapakia matokeo ya maudhui yaliyoangaziwa"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Matokeo ya maudhui yaliyoangaziwa"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Mapendekezo ya"</string>
+</resources>
diff --git a/photopicker/res/values-sw/feature_overflow_menu_strings.xml b/photopicker/res/values-sw/feature_overflow_menu_strings.xml
index 8e634d313..d9041c43c 100644
--- a/photopicker/res/values-sw/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-sw/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Zaidi"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Programu ya maudhui kwenye wingu"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Mipangilio"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Vinjari"</string>
 </resources>
diff --git a/photopicker/res/values-ta/core_strings.xml b/photopicker/res/values-ta/core_strings.xml
index cd9df7f7e..29bf7a58d 100644
--- a/photopicker/res/values-ta/core_strings.xml
+++ b/photopicker/res/values-ta/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>   "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"  "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"   "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"        "</string>
diff --git a/photopicker/res/values-ta/feature_category_grid_strings.xml b/photopicker/res/values-ta/feature_category_grid_strings.xml
index 4b60590cf..94a3a241b 100644
--- a/photopicker/res/values-ta/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ta/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"   "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"        "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"  "</string>
 </resources>
diff --git a/photopicker/res/values-ta/feature_highlight_search_results_strings.xml b/photopicker/res/values-ta/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..23235e3bd
--- /dev/null
+++ b/photopicker/res/values-ta/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" :"</string>
+</resources>
diff --git a/photopicker/res/values-ta/feature_overflow_menu_strings.xml b/photopicker/res/values-ta/feature_overflow_menu_strings.xml
index 29a981583..319a2e61b 100644
--- a/photopicker/res/values-ta/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ta/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">" "</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-te/core_strings.xml b/photopicker/res/values-te/core_strings.xml
index 8a1276aac..ae6ee049d 100644
--- a/photopicker/res/values-te/core_strings.xml
+++ b/photopicker/res/values-te/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g>  "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"   "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">",    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"     ,   "</string>
diff --git a/photopicker/res/values-te/feature_category_grid_strings.xml b/photopicker/res/values-te/feature_category_grid_strings.xml
index f41809f41..743845644 100644
--- a/photopicker/res/values-te/feature_category_grid_strings.xml
+++ b/photopicker/res/values-te/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"  &amp;    "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"      ,   "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">",   "</string>
 </resources>
diff --git a/photopicker/res/values-te/feature_highlight_search_results_strings.xml b/photopicker/res/values-te/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..ff2186bfd
--- /dev/null
+++ b/photopicker/res/values-te/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"      "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"     "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-te/feature_overflow_menu_strings.xml b/photopicker/res/values-te/feature_overflow_menu_strings.xml
index dad0d9f30..b91d7439f 100644
--- a/photopicker/res/values-te/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-te/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">" "</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-th/core_strings.xml b/photopicker/res/values-th/core_strings.xml
index 8e232791a..159248683 100644
--- a/photopicker/res/values-th/core_strings.xml
+++ b/photopicker/res/values-th/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">""</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">""</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">""</string>
diff --git a/photopicker/res/values-th/feature_category_grid_strings.xml b/photopicker/res/values-th/feature_category_grid_strings.xml
index 500bf6d9c..af62cb18b 100644
--- a/photopicker/res/values-th/feature_category_grid_strings.xml
+++ b/photopicker/res/values-th/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">""</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">""</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">""</string>
 </resources>
diff --git a/photopicker/res/values-th/feature_highlight_search_results_strings.xml b/photopicker/res/values-th/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..6fa838373
--- /dev/null
+++ b/photopicker/res/values-th/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">""</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">""</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">""</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">""</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">""</string>
+</resources>
diff --git a/photopicker/res/values-th/feature_overflow_menu_strings.xml b/photopicker/res/values-th/feature_overflow_menu_strings.xml
index 18c56501e..f5f7759a4 100644
--- a/photopicker/res/values-th/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-th/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">""</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-tl/core_strings.xml b/photopicker/res/values-tl/core_strings.xml
index 1a6aaa09f..71a5f5eda 100644
--- a/photopicker/res/values-tl/core_strings.xml
+++ b/photopicker/res/values-tl/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Pumili ng hanggang <xliff:g id="COUNT">%1$s</xliff:g> (na) item"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Mga Larawan"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Mga Album"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Mga Video"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Wala pang larawan"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Simulan ang pagkuha ng mga larawan at video"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Lalabas dito ang mga larawan at video na na-capture ng iyong camera app"</string>
diff --git a/photopicker/res/values-tl/feature_category_grid_strings.xml b/photopicker/res/values-tl/feature_category_grid_strings.xml
index 7825d65de..57904c206 100644
--- a/photopicker/res/values-tl/feature_category_grid_strings.xml
+++ b/photopicker/res/values-tl/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Mga Koleksyon"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Wala pang tao at alagang hayop"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Lalabas dito ang mga larawan at video na nakagrupo ayon sa magkakahawig na mukha"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Nilo-load ang mga larawan at video"</string>
 </resources>
diff --git a/photopicker/res/values-tl/feature_highlight_search_results_strings.xml b/photopicker/res/values-tl/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..5488a06e8
--- /dev/null
+++ b/photopicker/res/values-tl/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Tingnan Lahat"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Mga Suhestyon"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Mga Kamakailan"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Mga Paborito"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Mga Screenshot"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Camera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Mga Download"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Mga Video"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Nilo-load ang query sa mga naka-highlight na resulta sa media"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Nilo-load ang mga naka-highlight na resulta sa media"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Mga naka-highlight na resulta sa media"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Mga suhestyon para sa"</string>
+</resources>
diff --git a/photopicker/res/values-tl/feature_overflow_menu_strings.xml b/photopicker/res/values-tl/feature_overflow_menu_strings.xml
index 2a5515c21..c69651a2d 100644
--- a/photopicker/res/values-tl/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-tl/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Higit pa"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Cloud media app"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Mga Setting"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Mag-browse"</string>
 </resources>
diff --git a/photopicker/res/values-tr/core_strings.xml b/photopicker/res/values-tr/core_strings.xml
index 7a9f45cdb..c8677ffa6 100644
--- a/photopicker/res/values-tr/core_strings.xml
+++ b/photopicker/res/values-tr/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"En fazla <xliff:g id="COUNT">%1$s</xliff:g> e sein"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Fotoraflar"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albmler"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videolar"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Henz fotoraf yok"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Fotoraf ve video ekmeye balayn"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Kamera uygulamanzda ekilen fotoraflar ve videolar burada grnr"</string>
diff --git a/photopicker/res/values-tr/feature_category_grid_strings.xml b/photopicker/res/values-tr/feature_category_grid_strings.xml
index 73800fa33..0ea467ec9 100644
--- a/photopicker/res/values-tr/feature_category_grid_strings.xml
+++ b/photopicker/res/values-tr/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Koleksiyonlar"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Henz kii ve evcil hayvan yok"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Benzer yzlere gre gruplandrlm fotoraf ve videolar burada gsterilir"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Fotoraf ve videolar ykleniyor"</string>
 </resources>
diff --git a/photopicker/res/values-tr/feature_highlight_search_results_strings.xml b/photopicker/res/values-tr/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..8e0fcbac5
--- /dev/null
+++ b/photopicker/res/values-tr/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Tmn Gster"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"neriler"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"En Son"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Favoriler"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Ekran grntleri"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"ndirilenler"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videolar"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"ne kan medya sonular sorgusu ykleniyor"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"ne kan medya sonular ykleniyor"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"ne kan medya sonular"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"neriler:"</string>
+</resources>
diff --git a/photopicker/res/values-tr/feature_overflow_menu_strings.xml b/photopicker/res/values-tr/feature_overflow_menu_strings.xml
index bfd9e701f..d06b4949f 100644
--- a/photopicker/res/values-tr/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-tr/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Daha fazla"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Bulut medya uygulamas"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Ayarlar"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Gz at"</string>
 </resources>
diff --git a/photopicker/res/values-uk/core_strings.xml b/photopicker/res/values-uk/core_strings.xml
index 8805f6106..d83900b26 100644
--- a/photopicker/res/values-uk/core_strings.xml
+++ b/photopicker/res/values-uk/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"    : <xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">" "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"    "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"    ,   "</string>
diff --git a/photopicker/res/values-uk/feature_category_grid_strings.xml b/photopicker/res/values-uk/feature_category_grid_strings.xml
index b8fd25981..5969a561a 100644
--- a/photopicker/res/values-uk/feature_category_grid_strings.xml
+++ b/photopicker/res/values-uk/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"     "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"    ,    "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"   "</string>
 </resources>
diff --git a/photopicker/res/values-uk/feature_highlight_search_results_strings.xml b/photopicker/res/values-uk/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..9040c6044
--- /dev/null
+++ b/photopicker/res/values-uk/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"       "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"    "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"   "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-uk/feature_overflow_menu_strings.xml b/photopicker/res/values-uk/feature_overflow_menu_strings.xml
index 8e8781fa7..5e5465661 100644
--- a/photopicker/res/values-uk/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-uk/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-ur/core_strings.xml b/photopicker/res/values-ur/core_strings.xml
index c2b436945..5ed103de5 100644
--- a/photopicker/res/values-ur/core_strings.xml
+++ b/photopicker/res/values-ur/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g>    "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"     "</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"      "</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"             "</string>
diff --git a/photopicker/res/values-ur/feature_category_grid_strings.xml b/photopicker/res/values-ur/feature_category_grid_strings.xml
index 479875c1a..5d064be9d 100644
--- a/photopicker/res/values-ur/feature_category_grid_strings.xml
+++ b/photopicker/res/values-ur/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"       "</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"              "</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"      "</string>
 </resources>
diff --git a/photopicker/res/values-ur/feature_highlight_search_results_strings.xml b/photopicker/res/values-ur/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..ecf0cf3b9
--- /dev/null
+++ b/photopicker/res/values-ur/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">" "</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">" "</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">" "</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"           "</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"         "</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"     "</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" "</string>
+</resources>
diff --git a/photopicker/res/values-ur/feature_overflow_menu_strings.xml b/photopicker/res/values-ur/feature_overflow_menu_strings.xml
index 1294e706b..9f2560193 100644
--- a/photopicker/res/values-ur/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-ur/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"  "</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">" "</string>
 </resources>
diff --git a/photopicker/res/values-uz/core_strings.xml b/photopicker/res/values-uz/core_strings.xml
index 25ed253ce..e6059854c 100644
--- a/photopicker/res/values-uz/core_strings.xml
+++ b/photopicker/res/values-uz/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"<xliff:g id="COUNT">%1$s</xliff:g> tagacha elementni tanlang"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Suratlar"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Albomlar"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Videolar"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Hozircha hech qanday surat kiritilmagan"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Rasm va videolarni tanlashni boshlang"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Kamera ilovasi tomonidan olingan surat va videolar shu yerda chiqadi"</string>
diff --git a/photopicker/res/values-uz/feature_category_grid_strings.xml b/photopicker/res/values-uz/feature_category_grid_strings.xml
index fcd277dd7..6769bc92e 100644
--- a/photopicker/res/values-uz/feature_category_grid_strings.xml
+++ b/photopicker/res/values-uz/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Termalar"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Hozircha odamlar va hayvonlar yoq"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Oxshash yuzlar orqali guruhlangan surat va videolar bu yerda chiqadi"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Surat va videolar yuklanmoqda"</string>
 </resources>
diff --git a/photopicker/res/values-uz/feature_highlight_search_results_strings.xml b/photopicker/res/values-uz/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..9035a46db
--- /dev/null
+++ b/photopicker/res/values-uz/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Hammasi"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Takliflar"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Oxirgilar"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Sevimlilar"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Skrinshotlar"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Kamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Yuklanmalar"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Videolar"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Ajratib korsatilgan media natijalar sorovi bajarilmoqda"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Ajratib korsatilgan media natijalar yuklanmoqda"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Ajratib korsatilgan media natijalar"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Takliflar"</string>
+</resources>
diff --git a/photopicker/res/values-uz/feature_overflow_menu_strings.xml b/photopicker/res/values-uz/feature_overflow_menu_strings.xml
index 3859fd3fa..77c28533e 100644
--- a/photopicker/res/values-uz/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-uz/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Yana"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"Bulutli media ilovasi"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Sozlamalar"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Tanlash"</string>
 </resources>
diff --git a/photopicker/res/values-vi/core_strings.xml b/photopicker/res/values-vi/core_strings.xml
index 574d7ad23..0de307bec 100644
--- a/photopicker/res/values-vi/core_strings.xml
+++ b/photopicker/res/values-vi/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Chn ti a <xliff:g id="COUNT">%1$s</xliff:g> mc"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"nh"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Album"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Video"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Cha c nh no"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Bt u chp nh v quay video"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"nh v video do ng dng camera ca bn chp/quay s hin  y"</string>
diff --git a/photopicker/res/values-vi/feature_category_grid_strings.xml b/photopicker/res/values-vi/feature_category_grid_strings.xml
index cff75dd83..394d83bbd 100644
--- a/photopicker/res/values-vi/feature_category_grid_strings.xml
+++ b/photopicker/res/values-vi/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"B su tp"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Cha c ngi v th cng"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"nh v video c nhm theo cc khun mt tng t s xut hin  y"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"ang ti nh v video"</string>
 </resources>
diff --git a/photopicker/res/values-vi/feature_highlight_search_results_strings.xml b/photopicker/res/values-vi/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..cd93fad22
--- /dev/null
+++ b/photopicker/res/values-vi/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Xem tt c"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Ni dung  xut"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Gn y"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Yu thch"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"nh chp mn hnh"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Camera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Ni dung ti xung"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Video"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"ang ti truy vn kt qu tm kim ni dung nghe nhn c lm ni bt"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"ang ti kt qu tm kim ni dung nghe nhn c lm ni bt"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Kt qu tm kim ni dung nghe nhn c lm ni bt"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">" xut cho"</string>
+</resources>
diff --git a/photopicker/res/values-vi/feature_overflow_menu_strings.xml b/photopicker/res/values-vi/feature_overflow_menu_strings.xml
index 1167eb49a..2b5670e87 100644
--- a/photopicker/res/values-vi/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-vi/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Xem thm"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"ng dng nghe nhn trn m my"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Ci t"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Duyt qua"</string>
 </resources>
diff --git a/photopicker/res/values-zh-rCN/core_strings.xml b/photopicker/res/values-zh-rCN/core_strings.xml
index 65db989f2..e6051511b 100644
--- a/photopicker/res/values-zh-rCN/core_strings.xml
+++ b/photopicker/res/values-zh-rCN/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">""</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">""</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">""</string>
diff --git a/photopicker/res/values-zh-rCN/feature_category_grid_strings.xml b/photopicker/res/values-zh-rCN/feature_category_grid_strings.xml
index 65416012a..098cc21d7 100644
--- a/photopicker/res/values-zh-rCN/feature_category_grid_strings.xml
+++ b/photopicker/res/values-zh-rCN/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">""</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">""</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">""</string>
 </resources>
diff --git a/photopicker/res/values-zh-rCN/feature_highlight_search_results_strings.xml b/photopicker/res/values-zh-rCN/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..cd209d001
--- /dev/null
+++ b/photopicker/res/values-zh-rCN/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">""</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">""</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">""</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">""</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">""</string>
+</resources>
diff --git a/photopicker/res/values-zh-rCN/feature_overflow_menu_strings.xml b/photopicker/res/values-zh-rCN/feature_overflow_menu_strings.xml
index 6b79ccd4d..0e4c1f7f6 100644
--- a/photopicker/res/values-zh-rCN/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-zh-rCN/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">""</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-zh-rHK/core_strings.xml b/photopicker/res/values-zh-rHK/core_strings.xml
index 5c48e63ed..7e0529f2c 100644
--- a/photopicker/res/values-zh-rHK/core_strings.xml
+++ b/photopicker/res/values-zh-rHK/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">""</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">""</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">""</string>
diff --git a/photopicker/res/values-zh-rHK/feature_category_grid_strings.xml b/photopicker/res/values-zh-rHK/feature_category_grid_strings.xml
index 8e1a28276..7948ce873 100644
--- a/photopicker/res/values-zh-rHK/feature_category_grid_strings.xml
+++ b/photopicker/res/values-zh-rHK/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">""</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">""</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">""</string>
 </resources>
diff --git a/photopicker/res/values-zh-rHK/feature_highlight_search_results_strings.xml b/photopicker/res/values-zh-rHK/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..835a08307
--- /dev/null
+++ b/photopicker/res/values-zh-rHK/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">""</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">""</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">""</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">""</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">""</string>
+</resources>
diff --git a/photopicker/res/values-zh-rHK/feature_overflow_menu_strings.xml b/photopicker/res/values-zh-rHK/feature_overflow_menu_strings.xml
index 9e9638ebd..f020f65ce 100644
--- a/photopicker/res/values-zh-rHK/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-zh-rHK/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">""</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-zh-rTW/core_strings.xml b/photopicker/res/values-zh-rTW/core_strings.xml
index 5e61346ea..2af77e41d 100644
--- a/photopicker/res/values-zh-rTW/core_strings.xml
+++ b/photopicker/res/values-zh-rTW/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">" <xliff:g id="COUNT">%1$s</xliff:g> "</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">""</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">""</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">""</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">""</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">""</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">""</string>
diff --git a/photopicker/res/values-zh-rTW/feature_category_grid_strings.xml b/photopicker/res/values-zh-rTW/feature_category_grid_strings.xml
index bd505c5b3..987fd8953 100644
--- a/photopicker/res/values-zh-rTW/feature_category_grid_strings.xml
+++ b/photopicker/res/values-zh-rTW/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">""</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">""</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">""</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">""</string>
 </resources>
diff --git a/photopicker/res/values-zh-rTW/feature_highlight_search_results_strings.xml b/photopicker/res/values-zh-rTW/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..93f34c10a
--- /dev/null
+++ b/photopicker/res/values-zh-rTW/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">""</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">""</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">""</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">""</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">""</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">""</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">""</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">""</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">""</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">""</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">""</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">""</string>
+</resources>
diff --git a/photopicker/res/values-zh-rTW/feature_overflow_menu_strings.xml b/photopicker/res/values-zh-rTW/feature_overflow_menu_strings.xml
index 9e9638ebd..f020f65ce 100644
--- a/photopicker/res/values-zh-rTW/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-zh-rTW/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">""</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">""</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">""</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">""</string>
 </resources>
diff --git a/photopicker/res/values-zu/core_strings.xml b/photopicker/res/values-zu/core_strings.xml
index a6cfde57b..a56ad76f8 100644
--- a/photopicker/res/values-zu/core_strings.xml
+++ b/photopicker/res/values-zu/core_strings.xml
@@ -34,6 +34,7 @@
     <string name="photopicker_selection_limit_exceeded_snackbar" msgid="9136196524514670280">"Khetha izinto ezifika kwezingu-<xliff:g id="COUNT">%1$s</xliff:g>"</string>
     <string name="photopicker_photos_nav_button_label" msgid="8716403708343738371">"Izithombe"</string>
     <string name="photopicker_albums_nav_button_label" msgid="4738165281285221320">"Ama-albhamu"</string>
+    <string name="photopicker_videos_nav_button_label" msgid="210761539961940385">"Amavidiyo"</string>
     <string name="photopicker_photos_empty_state_title" msgid="7018770515431149456">"Azikho izithombe okwamanje"</string>
     <string name="photopicker_photos_empty_state_body" msgid="5959729294856198675">"Qalisa ukuthatha izithombe namavidiyo"</string>
     <string name="photopicker_camera_empty_state_body" msgid="858373882699294081">"Izithombe namavidiyo athathwe nge-app yekhamera yakho azovela lapha"</string>
diff --git a/photopicker/res/values-zu/feature_category_grid_strings.xml b/photopicker/res/values-zu/feature_category_grid_strings.xml
index 3f4eee13a..5c3b95c29 100644
--- a/photopicker/res/values-zu/feature_category_grid_strings.xml
+++ b/photopicker/res/values-zu/feature_category_grid_strings.xml
@@ -20,4 +20,5 @@
     <string name="photopicker_categories_nav_button_label" msgid="988315710756227148">"Amaqoqo"</string>
     <string name="photopicker_people_category_empty_state_title" msgid="3099829676185479658">"Okwamanje abekho abantu nezilwane ezifuywayo"</string>
     <string name="photopicker_people_category_empty_state_body" msgid="6240429033719283301">"Izithombe namavidiyo, ezihlelwe ngeqembu lobuso obufanayo, zizovela lapha"</string>
+    <string name="photopicker_loading_media_items_description" msgid="1235894670163194912">"Ilayisha izithombe namavidiyo"</string>
 </resources>
diff --git a/photopicker/res/values-zu/feature_highlight_search_results_strings.xml b/photopicker/res/values-zu/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..534db3ab2
--- /dev/null
+++ b/photopicker/res/values-zu/feature_highlight_search_results_strings.xml
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- 
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+   -->
+
+<resources xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <string name="photopicker_hsr_see_all_button_label" msgid="7165405920645678201">"Buka Konke"</string>
+    <string name="photopicker_hsr_suggestions_text" msgid="8649021863740749051">"Iziphakamiso"</string>
+    <string name="photopicker_hsr_recents_label" msgid="8922013053088031820">"Okwakamuva"</string>
+    <string name="photopicker_hsr_favorites_album_label" msgid="507125735792216176">"Izintandokazi"</string>
+    <string name="photopicker_hsr_screenshots_album_label" msgid="6223215479220055671">"Izithombe-skrini"</string>
+    <string name="photopicker_hsr_camera_album_label" msgid="2887020928583531751">"Ikhamera"</string>
+    <string name="photopicker_hsr_downloads_album_label" msgid="5687964289769180836">"Okudawunilodiwe"</string>
+    <string name="photopicker_hsr_videos_album_label" msgid="1290755476191083105">"Amavidiyo"</string>
+    <string name="photopicker_hsr_query_placeholder_text" msgid="2929114759123252442">"Ilayisha umbuzo wemiphumela yemidiya egqanyisiwe"</string>
+    <string name="photopicker_hsr_media_placeholder_text" msgid="5749653983266687172">"Ilayisha imiphumela yemidiya egqanyisiwe"</string>
+    <string name="photopicker_hsr_media_text" msgid="2764361056677273805">"Imiphumela yemidiya egqanyisiwe"</string>
+    <string name="photopicker_hsr_suggestions_for_text" msgid="729432575959823808">"Iziphakamiso zokuthi"</string>
+</resources>
diff --git a/photopicker/res/values-zu/feature_overflow_menu_strings.xml b/photopicker/res/values-zu/feature_overflow_menu_strings.xml
index b3e31cc0f..41e44d56f 100644
--- a/photopicker/res/values-zu/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values-zu/feature_overflow_menu_strings.xml
@@ -18,6 +18,6 @@
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="photopicker_overflow_menu_description" msgid="6548535301621140571">"Okwengeziwe"</string>
-    <string name="photopicker_overflow_cloud_media_app" msgid="1790591881463404779">"I-app yemidiya yecloud"</string>
+    <string name="photopicker_overflow_cloud_media_app" msgid="2736041749887944191">"Amasethingi"</string>
     <string name="photopicker_overflow_browse" msgid="6764715084773515122">"Bhrawuza"</string>
 </resources>
diff --git a/photopicker/res/values/core_strings.xml b/photopicker/res/values/core_strings.xml
index 71b13936c..71ed2fe5e 100644
--- a/photopicker/res/values/core_strings.xml
+++ b/photopicker/res/values/core_strings.xml
@@ -67,6 +67,9 @@
   <!-- Button label for the Albums navigation button -->
   <string name="photopicker_albums_nav_button_label" translation_description="Button label that gives the user the option to navigate to a grid of their albums.">Albums</string>
 
+  <!-- Button label for the navigation button for videos only mimetype -->
+  <string name="photopicker_videos_nav_button_label" translation_description="Button label that gives the user the option to navigate to a grid of their videos.">Videos</string>
+
   <!-- Empty state title when the photo grid has no photos -->
   <string name="photopicker_photos_empty_state_title" translation_description="Title of the message shown to the user when there are no photos to show">No photos yet</string>
 
diff --git a/photopicker/res/values/feature_category_grid_strings.xml b/photopicker/res/values/feature_category_grid_strings.xml
index 3d8a74c3f..b20ae3dcb 100644
--- a/photopicker/res/values/feature_category_grid_strings.xml
+++ b/photopicker/res/values/feature_category_grid_strings.xml
@@ -23,4 +23,7 @@
 
     <!-- Empty state message when the People & pet category has no media set to show -->
     <string name="photopicker_people_category_empty_state_body" translation_description="Message shown to the user when when there are no media set to show in People and Pets category underneath the primary message title">Photos and videos, grouped by similar faces, will appear here</string>
+
+    <!-- Progress Indicator content description -->
+    <string name="photopicker_loading_media_items_description" translation_description="Content description for a progress indicator displayed while waiting to load photos and videos">Loading photos and videos</string>
 </resources>
diff --git a/photopicker/res/values/feature_highlight_search_results_strings.xml b/photopicker/res/values/feature_highlight_search_results_strings.xml
new file mode 100644
index 000000000..230201b47
--- /dev/null
+++ b/photopicker/res/values/feature_highlight_search_results_strings.xml
@@ -0,0 +1,42 @@
+<!--
+  ~ Copyright (C) 2025 The Android Open Source Project
+  ~
+  ~ Licensed under the Apache License, Version 2.0 (the "License");
+  ~ you may not use this file except in compliance with the License.
+  ~ You may obtain a copy of the License at
+  ~
+  ~      http://www.apache.org/licenses/LICENSE-2.0
+  ~
+  ~ Unless required by applicable law or agreed to in writing, software
+  ~ distributed under the License is distributed on an "AS IS" BASIS,
+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  ~ See the License for the specific language governing permissions and
+  ~ limitations under the License.
+  -->
+
+<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <!-- See All button label -->
+    <string name="photopicker_hsr_see_all_button_label" translation_description="Button label of the button which opens the search page of the photopicker with the search results(if any) based on given input text query">See All</string>
+    <!-- Suggestions text -->
+    <string name="photopicker_hsr_suggestions_text" translation_description="Text for describing the suggestion chips that are shown when the photopicker search times out">Suggestions</string>
+    <!-- Recents label -->
+    <string name="photopicker_hsr_recents_label" translation_description="Text label to be shown above the Recent photos in case the highlight photogrid is shown">Recents</string>
+    <!-- Favorites album label [CHAR LIMIT=50] -->
+    <string name="photopicker_hsr_favorites_album_label" translation_description="Favorites album text label to be shown above the Recent photos when the Favorites album is highlighted">Favorites</string>
+    <!-- Screenshots album label [CHAR LIMIT=50] -->
+    <string name="photopicker_hsr_screenshots_album_label" translation_description="Screenshots album text label to be shown above the Recent photos when the Screenshots album is highlighted">Screenshots</string>
+    <!-- Camera album label [CHAR LIMIT=50] -->
+    <string name="photopicker_hsr_camera_album_label" translation_description="Camera album text label to be shown above the Recent photos when the Camera album is highlighted">Camera</string>
+    <!-- Downloads album label [CHAR LIMIT=50] -->
+    <string name="photopicker_hsr_downloads_album_label" translation_description="Downloads album text label to be shown above the Recent photos when the Downloads album is highlighted">Downloads</string>
+    <!-- Videos album label [CHAR LIMIT=50] -->
+    <string name="photopicker_hsr_videos_album_label" translation_description="Videos album text label to be shown above the Recent photos when the Videos album is highlighted">Videos</string>
+    <!-- Content description for query animation placeholder-->
+    <string name="photopicker_hsr_query_placeholder_text" translation_description="Text for describing the animation placeholder for search query composable while the results are fetched">Loading highlighted media results query</string>
+    <!-- Content description for media animation placeholder-->
+    <string name="photopicker_hsr_media_placeholder_text" translation_description="Text for describing the animation placeholder of the horizontal media grid composable while the results are fetched">Loading highlighted media results</string>
+    <!-- Content description for highlight search media grid-->
+    <string name="photopicker_hsr_media_text" translation_description="Text for describing the highlight search horizontal media grid">Highlighted media results</string>
+    <!-- Suggestions for text [CHAR LIMIT=100]-->
+    <string name="photopicker_hsr_suggestions_for_text" translation_description="Text to be prepended to the input highlight search query received from the app when shown above the highlight grid">Suggestions for</string>
+</resources>
\ No newline at end of file
diff --git a/photopicker/res/values/feature_overflow_menu_strings.xml b/photopicker/res/values/feature_overflow_menu_strings.xml
index 6ae06d1fc..36eeba358 100644
--- a/photopicker/res/values/feature_overflow_menu_strings.xml
+++ b/photopicker/res/values/feature_overflow_menu_strings.xml
@@ -19,7 +19,7 @@
   <string name="photopicker_overflow_menu_description" translation_description="Button content description that shows an overflow menu of additional setting-related options.">More</string>
 
     <!-- Overflow menu cloud settings label -->
-    <string name="photopicker_overflow_cloud_media_app" translation_description="Menu item label that directs the user to a settings page for their cloud media application.">Cloud media app</string>
+    <string name="photopicker_overflow_cloud_media_app" translation_description="Menu item label that directs the user to a settings page for their cloud media application.">Settings</string>
 
     <!-- Overflow menu browse label followed by ellipsis-->
     <string name="photopicker_overflow_browse" translation_description="Menu item label that directs the user to a different application to browse all files in another interface.">Browse&#8230;</string>
diff --git a/photopicker/src/com/android/photopicker/MainActivity.kt b/photopicker/src/com/android/photopicker/MainActivity.kt
index 8b148df60..87bddc9de 100644
--- a/photopicker/src/com/android/photopicker/MainActivity.kt
+++ b/photopicker/src/com/android/photopicker/MainActivity.kt
@@ -175,7 +175,7 @@ class MainActivity : Hilt_MainActivity() {
         // intent-filter, and in that case, the user is not in a pure media selection mode, so refer
         // the user to DocumentsUi to handle all file types.
         if (shouldRerouteGetContentRequest()) {
-            referToDocumentsUi()
+            referToDocumentsUi(userRequested = false)
         }
 
         // Set a Black color scrim behind the status bar.
@@ -258,18 +258,10 @@ class MainActivity : Hilt_MainActivity() {
 
     override fun onResume() {
         super.onResume()
-        Log.d(TAG, "MainActivity OnResume")
 
         // Initialize / Refresh the banner state, it's possible that external state has changed if
         // the activity is returning from the background.
-        lifecycleScope.launch {
-            withContext(background) {
-                // Always ensure providers before requesting a banner refresh, banners depend on
-                // having accurate provider information to generate the correct banners.
-                dataService.get().ensureProviders()
-                bannerManager.get().refreshBanners()
-            }
-        }
+        lifecycleScope.launch { withContext(background) { bannerManager.get().refreshBanners() } }
     }
 
     /** Dispatches an event to log all details with which the photopicker launched */
@@ -292,9 +284,9 @@ class MainActivity : Hilt_MainActivity() {
         )
 
         dispatchReportPickerAppMediaCapabilities(
-                coroutineScope = lifecycleScope,
-                lazyEvents = events,
-                photopickerConfiguration = configurationManager.configuration.value,
+            coroutineScope = lifecycleScope,
+            lazyEvents = events,
+            photopickerConfiguration = configurationManager.configuration.value,
         )
     }
 
@@ -323,7 +315,7 @@ class MainActivity : Hilt_MainActivity() {
             events.get().flow.flowWithLifecycle(lifecycle, Lifecycle.State.STARTED).collect { event
                 ->
                 when (event) {
-                    is Event.BrowseToDocumentsUi -> referToDocumentsUi()
+                    is Event.BrowseToDocumentsUi -> referToDocumentsUi(userRequested = true)
                     else -> {}
                 }
             }
@@ -336,13 +328,14 @@ class MainActivity : Hilt_MainActivity() {
     }
 
     /** Dispatches an event to log all the final state details of the picker */
-    private fun reportSessionInfo() {
+    private fun reportSessionInfo(wasReferred: Boolean = false) {
         val pickerStatus =
-            if (activityResultSet == RESULT_CANCELED) {
-                Telemetry.PickerStatus.CANCELED
-            } else {
-                Telemetry.PickerStatus.CONFIRMED
+            when {
+                activityResultSet == RESULT_CANCELED -> Telemetry.PickerStatus.CANCELED
+                wasReferred -> Telemetry.PickerStatus.OPENED
+                else -> Telemetry.PickerStatus.CONFIRMED
             }
+
         val pickerCloseMethod =
             if (isPickerClosedByBackGesture) {
                 Telemetry.PickerCloseMethod.BACK_BUTTON
@@ -642,7 +635,7 @@ class MainActivity : Hilt_MainActivity() {
      * Note: Complete any pending logging or work before calling this method as this will end the
      * process immediately.
      */
-    private fun referToDocumentsUi() {
+    private fun referToDocumentsUi(userRequested: Boolean) {
         // The incoming intent is not changed in any way when redirecting to DocumentsUi.
         // The calling app launched [ACTION_GET_CONTENT] probably without knowing it would first
         // come to Photopicker, so if Photopicker isn't going to handle the intent, just pass it
@@ -654,7 +647,17 @@ class MainActivity : Hilt_MainActivity() {
             setComponent(getDocumentssUiComponentName())
         }
         startActivityAsUser(intent, processOwnerUserHandle)
-        finish()
+
+        // Only report session metrics if the referral was user initiated, for automatic referrals
+        // in the event where the mimetype doesn't match, don't log any metrics as this isn't a real
+        // photopicker session.
+        if (userRequested) {
+            reportSessionInfo(wasReferred = true)
+        }
+
+        // Rather than calling this activity's finish method, just call the super class finish to
+        // wrap up the activity.
+        super.finish()
     }
 
     /**
diff --git a/photopicker/src/com/android/photopicker/core/PhotopickerApp.kt b/photopicker/src/com/android/photopicker/core/PhotopickerApp.kt
index 72ba4179b..a649501e7 100644
--- a/photopicker/src/com/android/photopicker/core/PhotopickerApp.kt
+++ b/photopicker/src/com/android/photopicker/core/PhotopickerApp.kt
@@ -33,7 +33,7 @@ import androidx.compose.foundation.layout.fillMaxWidth
 import androidx.compose.foundation.layout.offset
 import androidx.compose.foundation.layout.only
 import androidx.compose.foundation.layout.padding
-import androidx.compose.foundation.layout.systemBars
+import androidx.compose.foundation.layout.statusBars
 import androidx.compose.foundation.layout.windowInsetsPadding
 import androidx.compose.material3.BottomSheetScaffold
 import androidx.compose.material3.ExperimentalMaterial3Api
@@ -186,7 +186,7 @@ fun PhotopickerAppWithBottomSheet(
                 // Apply WindowInsets to this wrapping column to prevent the Bottom Sheet
                 // from drawing over the status bars.
                 Modifier.windowInsetsPadding(
-                    WindowInsets.systemBars.only(WindowInsetsSides.Vertical)
+                    WindowInsets.statusBars.only(WindowInsetsSides.Vertical)
                 )
         ) {
             BottomSheetScaffold(
diff --git a/photopicker/src/com/android/photopicker/core/banners/BannerManagerImpl.kt b/photopicker/src/com/android/photopicker/core/banners/BannerManagerImpl.kt
index 00a512382..714232a7e 100644
--- a/photopicker/src/com/android/photopicker/core/banners/BannerManagerImpl.kt
+++ b/photopicker/src/com/android/photopicker/core/banners/BannerManagerImpl.kt
@@ -85,7 +85,7 @@ class BannerManagerImpl(
     override suspend fun showBanner(banner: BannerDeclaration) {
         try {
             _flow.updateAndGet { generateBanner(banner) }
-        } catch (ex: RuntimeException) {
+        } catch (ex: Exception) {
             // Avoid a crash if the banner cannot be generated
             // Instead do nothing and return.
             Log.e(TAG, "Could now show banner: ${banner.id}", ex)
@@ -200,6 +200,9 @@ class BannerManagerImpl(
 
     override suspend fun refreshBanners() {
         Log.d(TAG, "Refresh of banners was requested.")
+        // Always ensure providers before requesting a banner refresh, banners depend on
+        // having accurate provider information to generate the correct banners.
+        dataService.ensureProviders()
 
         // [BannerState] is not accessible cross-profile, so any time the [activeUserProfile]
         // is not the Process owner's profile, banners need to be hidden to avoid showing
diff --git a/photopicker/src/com/android/photopicker/core/components/mediagrid/MediaGrid.kt b/photopicker/src/com/android/photopicker/core/components/mediagrid/MediaGrid.kt
index 57112daa2..90153f255 100644
--- a/photopicker/src/com/android/photopicker/core/components/mediagrid/MediaGrid.kt
+++ b/photopicker/src/com/android/photopicker/core/components/mediagrid/MediaGrid.kt
@@ -16,6 +16,7 @@
 
 package com.android.photopicker.core.components
 
+import android.annotation.SuppressLint
 import android.net.Uri
 import android.provider.CloudMediaProviderContract.AlbumColumns.ALBUM_ID_CAMERA
 import android.provider.CloudMediaProviderContract.AlbumColumns.ALBUM_ID_FAVORITES
@@ -43,6 +44,7 @@ import androidx.compose.foundation.layout.Spacer
 import androidx.compose.foundation.layout.aspectRatio
 import androidx.compose.foundation.layout.fillMaxSize
 import androidx.compose.foundation.layout.fillMaxWidth
+import androidx.compose.foundation.layout.height
 import androidx.compose.foundation.layout.offset
 import androidx.compose.foundation.layout.padding
 import androidx.compose.foundation.layout.size
@@ -78,6 +80,7 @@ import androidx.compose.ui.Modifier
 import androidx.compose.ui.draw.clip
 import androidx.compose.ui.focus.FocusRequester
 import androidx.compose.ui.focus.focusRequester
+import androidx.compose.ui.graphics.Brush
 import androidx.compose.ui.graphics.Color
 import androidx.compose.ui.graphics.vector.ImageVector
 import androidx.compose.ui.input.pointer.pointerInput
@@ -116,6 +119,9 @@ import com.android.photopicker.extensions.toMediaGridItemFromAlbum
 import com.android.photopicker.extensions.toMediaGridItemFromMedia
 import com.android.photopicker.extensions.transferScrollableTouchesToHostInEmbedded
 import com.android.photopicker.util.LocalLocalizationHelper
+import com.android.photopicker.util.applyChoice
+import com.android.photopicker.util.applyWhen
+import com.android.photopicker.util.calculateWindowRect
 import com.android.photopicker.util.getMediaContentDescription
 import java.text.DateFormat
 import java.text.NumberFormat
@@ -157,6 +163,12 @@ private val MEASUREMENT_SELECTED_ICON_BORDER = 2.dp
 /** The radius to use for the corners of grid cells that are selected */
 private val MEASUREMENT_SELECTED_CORNER_RADIUS = 16.dp
 
+/** The radius to use for the corners of grid cells in the highlight grid */
+private val MEASUREMENT_HIGHLIGHT_GRID_CELLS_RADIUS = 28.dp
+
+/** The height of the cells in the highlight grid */
+private val MEASUREMENT_HIGHLIGHT_GRID_CELL_HEIGHT = 176.dp
+
 /** The padding to use around the default separator's content. */
 private val MEASUREMENT_SEPARATOR_PADDING = 16.dp
 
@@ -188,21 +200,26 @@ val MEASUREMENT_DEFAULT_ALBUM_LABEL_SPACER_SIZE = 12.dp
  * @param items The LazyPagingItems that have been collected. See [collectAsLazyPagingItems] to
  *   transform a PagingData flow into the correct format for this composable.
  * @param focusItem Optional item that needs to request focus when the media grid is drawn.
+ * @param selection The set of currently selected media items. Used to highlight selected items.
+ * @param onItemClick Callback invoked when a grid item is clicked.
+ * @param onItemLongPress Callback invoked when a grid item is long-pressed.
  * @param isExpandedScreen Whether the device is using an expanded screen size. This impacts the
  *   default number of cells shown per row. Has no effect if columns parameter is set directly.
  * @param columns number of cells per row.
- * @param gridCellPadding padding for the grid elements from the wall and individual items
+ * @param gridCellPadding padding for the grid elements from the wall and individual items.
  * @param modifier A modifier to apply to the top level [LazyVerticalGrid] this composable creates.
  * @param state the [LazyGridState] to use with this Lazy resource.
- * @param contentPadding [ContentPadding] values that will be applies to the [LazyVerticalGrid].
- * @param userScrollEnabled Whether the user is able to scroll the grid
+ * @param contentPadding [PaddingValues] that will be applied to the [LazyVerticalGrid].
+ * @param userScrollEnabled Whether the user is able to scroll the grid.
  * @param spanFactory Optional custom implementation for how mediaGrid will decide span sizes.
  * @param contentTypeFactory Optional custom implementation for how mediaGrid will decide
- *   contentType for its items
+ *   contentType for its items.
  * @param contentItemFactory Optional custom implementation for composing individual grid items.
  * @param contentSeparatorFactory Optional custom implementation for composing individual grid
  *   separators.
- * @param bannerContent Optional custom implementation for banner content to displayed
+ * @param bannerContent Optional custom implementation for banner content to be displayed
+ * @param highlightMediaContent Optional custom implementation for highlight media content to be
+ *   displayed at the top of the photogrid.
  */
 @Composable
 fun mediaGrid(
@@ -239,6 +256,7 @@ fun mediaGrid(
                         selectedPosition = selection.indexOf(item.media),
                         onClick = onClick,
                         onLongPress = onLongPress,
+                        dragSelectionEnabled = false,
                         dateFormat = dateFormat,
                         focusItem = focusItem,
                     )
@@ -254,6 +272,233 @@ fun mediaGrid(
         defaultBuildSeparator(item)
     },
     bannerContent: (@Composable () -> Unit)? = null,
+    highlightMediaContent: (@Composable () -> Unit)? = null,
+) {
+    mediaGrid(
+        items = items,
+        focusItem = focusItem,
+        selection = selection,
+        onItemClick = onItemClick,
+        onItemLongPress = onItemLongPress,
+        dragSelectionEnabled = false,
+        isExpandedScreen = isExpandedScreen,
+        columns = columns,
+        gridCellPadding = gridCellPadding,
+        modifier = modifier,
+        state = state,
+        contentPadding = contentPadding,
+        userScrollEnabled = userScrollEnabled,
+        spanFactory = spanFactory,
+        contentTypeFactory = contentTypeFactory,
+        contentItemFactory = contentItemFactory,
+        contentSeparatorFactory = contentSeparatorFactory,
+        bannerContent = bannerContent,
+        highlightMediaContent = highlightMediaContent,
+    )
+}
+
+/**
+ * Composable for creating a MediaItemGrid from a [PagingData] source of data that implements
+ * [Media] or [Album].
+ *
+ * The mediaGrid uses a custom wrapper class to distinguish between individual grid cells and
+ * horizontal separators. In order to convert a [Media] into a [MediaGridItem] use the flow
+ * extension method [toMediaGridItemFromMedia] and to convert an [Album] into a [MediaGridItem] use
+ * the flow extension method [toMediaGridItemFromAlbum]. Additionally, to insert separators, the
+ * [Flow] extension method [insertMonthSeparators] will separate list items by month.
+ *
+ * This overload simplifies usage by providing a no-op long press handler.
+ *
+ * @param items The LazyPagingItems that have been collected. See [collectAsLazyPagingItems] to
+ *   transform a PagingData flow into the correct format for this composable.
+ * @param focusItem Optional item that needs to request focus when the media grid is drawn.
+ * @param selection Set of currently selected [Media] items. Used to highlight selected items.
+ * @param onItemClick Callback invoked when a grid item is clicked.
+ * @param dragSelectionEnabled Whether drag-to-select functionality is enabled. Defaults to false.
+ * @param dragSelectState State for managing drag selection within the grid. Defaults to a
+ *   remembered [GridDragSelectState].
+ * @param dragSelectIndexOffset An offset applied to the indices reported to the drag selection
+ *   manager. Useful if the grid is part of a larger list with other items preceding it. Defaults
+ *   to 0.
+ * @param selectionTransform A function to transform a [Media] item during selection operations,
+ *   e.g., to modify its properties before it's added to the selection. Defaults to an identity
+ *   function.
+ * @param isExpandedScreen Whether the device is using an expanded screen size. This impacts the
+ *   default number of cells shown per row. Has no effect if columns parameter is set directly.
+ * @param columns Number of cells per row. Defaults based on [isExpandedScreen].
+ * @param gridCellPadding Padding for the grid elements from the wall and individual items.
+ * @param modifier A [Modifier] to apply to the top level [LazyVerticalGrid] this composable
+ *   creates.
+ * @param contentPadding [PaddingValues] that will be applied to the [LazyVerticalGrid].
+ * @param userScrollEnabled Whether the user is able to scroll the grid. Defaults to true.
+ * @param spanFactory Optional custom implementation for how mediaGrid will decide span sizes.
+ * @param contentTypeFactory Optional custom implementation for how mediaGrid will decide
+ *   contentType for its items.
+ * @param contentItemFactory Optional custom implementation for composing individual grid items. The
+ *   factory lambda receives parameters including the item, its selection state, click handler, and
+ *   date format. Note: The long press handler provided to this factory by this overload is a no-op,
+ *   as this function overload does not support long press actions directly.
+ * @param contentSeparatorFactory Optional custom implementation for composing individual grid
+ *   separators.
+ * @param bannerContent Optional custom composable content to be displayed as a banner, typically at
+ *   the top of the grid.
+ * @param highlightMediaContent Optional custom implementation for highlight media content to be
+ *   displayed at the top of the photogrid
+ */
+@Composable
+fun mediaGrid(
+    items: LazyPagingItems<MediaGridItem>,
+    focusItem: MediaGridItem? = null,
+    selection: Set<Media>,
+    onItemClick: (item: MediaGridItem) -> Unit,
+    dragSelectionEnabled: Boolean = false,
+    dragSelectState: GridDragSelectState = rememberGridDragSelectState(),
+    dragSelectIndexOffset: Int = 0,
+    selectionTransform: (Media) -> Media = { it },
+    isExpandedScreen: Boolean = false,
+    columns: GridCells = GridCells.Fixed(getCellsPerRow(isExpandedScreen)),
+    gridCellPadding: Dp = MEASUREMENT_CELL_SPACING,
+    modifier: Modifier = Modifier,
+    contentPadding: PaddingValues = PaddingValues(bottom = MEASUREMENT_DEFAULT_CONTENT_PADDING),
+    userScrollEnabled: Boolean = true,
+    spanFactory: (item: MediaGridItem?, isExpandedScreen: Boolean) -> GridItemSpan =
+        ::defaultBuildSpan,
+    contentTypeFactory: (item: MediaGridItem?) -> Int = ::defaultBuildContentType,
+    contentItemFactory:
+        @Composable
+        (
+            item: MediaGridItem,
+            isSelected: Boolean,
+            onClick: ((item: MediaGridItem) -> Unit)?,
+            onLongPress: ((item: MediaGridItem) -> Unit)?,
+            dateFormat: DateFormat,
+        ) -> Unit =
+        { item, isSelected, onClick, onLongPress, dateFormat ->
+            when (item) {
+                is MediaGridItem.MediaItem ->
+                    defaultBuildMediaItem(
+                        item = item,
+                        isSelected = isSelected,
+                        selectedPosition = selection.indexOf(item.media),
+                        onClick = onClick,
+                        onLongPress = {}, // Explicitly no-op for this overload
+                        dragSelectionEnabled = dragSelectionEnabled,
+                        dateFormat = dateFormat,
+                        focusItem = focusItem,
+                    )
+
+                is MediaGridItem.AlbumItem -> defaultBuildAlbumItem(item, onClick, focusItem)
+                is MediaGridItem.CategoryItem -> defaultBuildCategoryItem(item, onClick, focusItem)
+                is MediaGridItem.PersonMediaSetItem -> defaultBuildPersonMediaSetItem(item, onClick)
+                is MediaGridItem.MediaSetItem -> defaultBuildMediaSetItem(item, onClick)
+                else -> {}
+            }
+        },
+    contentSeparatorFactory: @Composable (item: MediaGridItem.SeparatorItem) -> Unit = { item ->
+        defaultBuildSeparator(item)
+    },
+    bannerContent: (@Composable () -> Unit)? = null,
+    highlightMediaContent: (@Composable () -> Unit)? = null,
+) {
+    mediaGrid(
+        items = items,
+        focusItem = focusItem,
+        selection = selection,
+        onItemClick = onItemClick,
+        onItemLongPress = {}, // This overload doesn't handle long press; passes no-op
+        dragSelectionEnabled = dragSelectionEnabled,
+        dragSelectState = dragSelectState,
+        dragSelectIndexOffset = dragSelectIndexOffset,
+        selectionTransform = selectionTransform,
+        isExpandedScreen = isExpandedScreen,
+        columns = columns,
+        gridCellPadding = gridCellPadding,
+        modifier = modifier,
+        state = dragSelectState.gridState,
+        contentPadding = contentPadding,
+        userScrollEnabled = userScrollEnabled,
+        spanFactory = spanFactory,
+        contentTypeFactory = contentTypeFactory,
+        contentItemFactory = contentItemFactory,
+        contentSeparatorFactory = contentSeparatorFactory,
+        bannerContent = bannerContent,
+        highlightMediaContent = highlightMediaContent,
+    )
+}
+
+/**
+ * Composable for creating a MediaItemGrid from a [PagingData] source of data that implements
+ * [Media] or [Album]
+ *
+ * The mediaGrid uses a custom wrapper class to distinguish between individual grid cells and
+ * horizontal separators. In order to convert a [Media] into a [MediaGridItem] use the flow
+ * extension method [toMediaGridItemFromMedia] and to convert an [Album] into a [MediaGridItem] use
+ * the flow extension method [toMediaGridItemFromAlbum]. Additionally, to insert separators, the
+ * [Flow] extension method [insertMonthSeparators] will separate list items by month.
+ *
+ * @param items The LazyPagingItems that have been collected. See [collectAsLazyPagingItems] to
+ *   transform a PagingData flow into the correct format for this composable.
+ * @param focusItem Optional item that needs to request focus when the media grid is drawn.
+ * @param selection The current set of selected [Media] items.
+ * @param dragSelectionEnabled Whether drag-to-select functionality is enabled for the grid.
+ * @param dragSelectState The state object for managing drag-to-select behavior. Required if
+ *   [dragSelectionEnabled] is true.
+ * @param dragSelectIndexOffset An offset applied to the indices reported by [dragSelectState].
+ *   Useful when the grid is part of a larger list with preceding items.
+ * @param selectionTransform A function to transform a [Media] item during the selection process,
+ *   e.g., to modify its properties before it's added to the selection.
+ * @param onItemClick Callback triggered when a grid item is clicked.
+ * @param onItemLongPress Callback triggered when a grid item is long-pressed.
+ * @param isExpandedScreen Whether the device is using an expanded screen size. This impacts the
+ *   default number of cells shown per row. Has no effect if columns parameter is set directly.
+ * @param columns number of cells per row.
+ * @param gridCellPadding padding for the grid elements from the wall and individual items
+ * @param modifier A modifier to apply to the top level [LazyVerticalGrid] this composable creates.
+ * @param contentPadding [PaddingValues] that will be applied to the [LazyVerticalGrid].
+ * @param userScrollEnabled Whether the user is able to scroll the grid
+ * @param spanFactory Optional custom implementation for how mediaGrid will decide span sizes.
+ * @param contentTypeFactory Optional custom implementation for how mediaGrid will decide
+ *   contentType for its items
+ * @param contentItemFactory Optional custom implementation for composing individual grid items.
+ * @param contentSeparatorFactory Optional custom implementation for composing individual grid
+ *   separators.
+ * @param bannerContent Optional custom implementation for banner content to be displayed
+ * @param highlightMediaContent Optional custom implementation for highlight media content to be
+ *   displayed at the top of the photogrid
+ * @param state the [LazyGridState] to use with this Lazy resource.
+ */
+@Composable
+private fun mediaGrid(
+    items: LazyPagingItems<MediaGridItem>,
+    focusItem: MediaGridItem? = null,
+    selection: Set<Media>,
+    dragSelectionEnabled: Boolean = false,
+    dragSelectState: GridDragSelectState? = null,
+    dragSelectIndexOffset: Int = 0,
+    selectionTransform: (Media) -> Media = { it },
+    onItemClick: (item: MediaGridItem) -> Unit,
+    onItemLongPress: (item: MediaGridItem) -> Unit = {},
+    isExpandedScreen: Boolean = false,
+    columns: GridCells = GridCells.Fixed(getCellsPerRow(isExpandedScreen)),
+    gridCellPadding: Dp = MEASUREMENT_CELL_SPACING,
+    modifier: Modifier = Modifier,
+    contentPadding: PaddingValues = PaddingValues(bottom = MEASUREMENT_DEFAULT_CONTENT_PADDING),
+    userScrollEnabled: Boolean = true,
+    spanFactory: (item: MediaGridItem?, isExpandedScreen: Boolean) -> GridItemSpan,
+    contentTypeFactory: (item: MediaGridItem?) -> Int,
+    contentItemFactory:
+        @Composable
+        (
+            item: MediaGridItem,
+            isSelected: Boolean,
+            onClick: ((item: MediaGridItem) -> Unit)?,
+            onLongPress: ((item: MediaGridItem) -> Unit)?,
+            dateFormat: DateFormat,
+        ) -> Unit,
+    contentSeparatorFactory: @Composable (item: MediaGridItem.SeparatorItem) -> Unit,
+    bannerContent: (@Composable () -> Unit)? = null,
+    highlightMediaContent: (@Composable () -> Unit)? = null,
+    state: LazyGridState,
 ) {
     // To know whether the request in coming from Embedded or PhotoPicker
     val isEmbedded =
@@ -273,11 +518,43 @@ fun mediaGrid(
     LazyVerticalGrid(
         columns = columns,
         modifier =
-            if (SdkLevel.isAtLeastU() && isEmbedded && host != null) {
-                modifier.transferScrollableTouchesToHostInEmbedded(state, isExpanded, host)
-            } else {
-                modifier
-            },
+            // Modifier order here matters greatly. Since both of these modifiers
+            // register pointerInput handlers, ensure that embedded transfer
+            // gestures are evaluated first, before evaluating any drag-to-select
+            // input.
+            modifier
+                .applyWhen(
+                    SdkLevel.isAtLeastU() && isEmbedded && host != null,
+                    {
+                        // This can be safely suppressed as the condition includes the SdkLevel
+                        // check, but the Linter doesn't understand the precondition to this block
+                        // being run.
+                        @SuppressLint("NewApi")
+                        transferScrollableTouchesToHostInEmbedded(
+                            state,
+                            isExpanded,
+                            checkNotNull(host) { "surfaceHost cannot be null" },
+                        )
+                    },
+                )
+                .applyWhen(
+                    dragSelectionEnabled,
+                    {
+                        onGridDragSelect(
+                            config = LocalPhotopickerConfiguration.current,
+                            items = items,
+                            state =
+                                checkNotNull(dragSelectState) {
+                                    "GridDragSelectState cannot be null"
+                                },
+                            windowRect = if (isEmbedded) null else calculateWindowRect(),
+                            indexOffset = dragSelectIndexOffset,
+                            autoScrollThreshold = GridDragSelectDefaults.autoScrollThreshold,
+                            hapticFeedback = GridDragSelectDefaults.hapticsFeedback,
+                            selectionTransform = selectionTransform,
+                        )
+                    },
+                ),
         state = state,
         contentPadding = contentPadding,
         userScrollEnabled = userScrollEnabled,
@@ -298,6 +575,19 @@ fun mediaGrid(
             }
         }
 
+        // If highlight content was passed, add it to the grid as a full span item
+        // so that it appears inside the scroll container.
+        highlightMediaContent?.let {
+            item(
+                span = {
+                    if (isExpandedScreen) GridItemSpan(CELLS_PER_ROW_EXPANDED)
+                    else GridItemSpan(CELLS_PER_ROW)
+                }
+            ) {
+                it()
+            }
+        }
+
         // Add the media items from the LazyPagingItems
         items(
             count = items.itemCount,
@@ -340,9 +630,8 @@ fun mediaGrid(
         // Any time isExpanded changes, check if grid animation is required.
         LaunchedEffect(isExpanded.value) {
             val isCollapsed = !isExpanded.value
-
-            // Only animate if going from Expanded -> Collapsed
             if (wasPreviouslyExpanded.value && isCollapsed) {
+                // Only animate if going from Expanded -> Collapsed
                 if (state.firstVisibleItemScrollOffset > 0) {
                     state.animateScrollBy(
                         value = -state.firstVisibleItemScrollOffset.toFloat(),
@@ -382,12 +671,14 @@ public fun getCellsPerRow(isExpandedScreen: Boolean): Int {
  * GridCell, and provides animations and an icon for the selected state.
  */
 @Composable
-private fun defaultBuildMediaItem(
+fun defaultBuildMediaItem(
     item: MediaGridItem,
+    isHighlightMediaItem: Boolean = false,
     isSelected: Boolean,
     selectedPosition: Int,
     onClick: ((item: MediaGridItem) -> Unit)?,
     onLongPress: ((item: MediaGridItem) -> Unit)?,
+    dragSelectionEnabled: Boolean = false,
     dateFormat: DateFormat,
     focusItem: MediaGridItem?,
 ) {
@@ -396,8 +687,12 @@ private fun defaultBuildMediaItem(
             // Padding is animated based on the selected state of the item. When the item is
             // selected, it should shrink in the cell and provide a surface background.
 
+            val isEmbedded =
+                LocalPhotopickerConfiguration.current.runtimeEnv == PhotopickerRuntimeEnv.EMBEDDED
+
             val shouldIndicateSelected =
-                isSelected && LocalPhotopickerConfiguration.current.selectionLimit > 1
+                if (isEmbedded) isSelected
+                else isSelected && LocalPhotopickerConfiguration.current.selectionLimit > 1
 
             val padding by
                 animateDpAsState(
@@ -436,39 +731,72 @@ private fun defaultBuildMediaItem(
                 // Apply semantics for the click handlers
                 Modifier.semantics(mergeDescendants = true) {
                         contentDescription = mediaDescription
-
                         onClick(
                             action = {
                                 onClick?.invoke(item)
                                 /* eventHandled= */ true
                             }
                         )
-                        onLongClick(
-                            action = {
-                                onLongPress?.invoke(item)
-                                /* eventHandled= */ true
-                            }
-                        )
+                        if (!dragSelectionEnabled) {
+                            onLongClick(
+                                action = {
+                                    onLongPress?.invoke(item)
+                                    /* eventHandled= */ true
+                                }
+                            )
+                        }
                     }
                     .aspectRatio(1f)
                     .fillMaxSize()
                     .pointerInput(Unit) {
-                        detectTapGestures(
-                            onTap = { onClick?.invoke(item) },
-                            onLongPress = { onLongPress?.invoke(item) },
-                        )
+                        if (dragSelectionEnabled) {
+                            detectTapGestures(onTap = { onClick?.invoke(item) })
+                        } else {
+                            detectTapGestures(
+                                onTap = { onClick?.invoke(item) },
+                                onLongPress = { onLongPress?.invoke(item) },
+                            )
+                        }
                     }
             ) {
                 // A background surface that is shown behind selected images.
                 Surface(
-                    modifier = Modifier.fillMaxSize(),
+                    modifier =
+                        Modifier.fillMaxSize()
+                            .applyWhen(
+                                condition = isHighlightMediaItem,
+                                block = {
+                                    clip(
+                                        RoundedCornerShape(MEASUREMENT_HIGHLIGHT_GRID_CELLS_RADIUS)
+                                    )
+                                },
+                            ),
                     color = MaterialTheme.colorScheme.surfaceContainerHighest,
                 ) {
+                    val boxModifier: Modifier = Modifier
                     // Container for the image and it's mimetype icon
                     Box(
                         // Switch which modifier is getting applied based on if the item is
                         // selected or not.
-                        modifier = if (shouldIndicateSelected) selectedModifier else baseModifier
+                        modifier =
+                            boxModifier.applyChoice(
+                                condition = shouldIndicateSelected,
+                                trueBlock = { selectedModifier },
+                                falseBlock = {
+                                    applyChoice(
+                                        condition = isHighlightMediaItem,
+                                        trueBlock = {
+                                            Modifier.height(MEASUREMENT_HIGHLIGHT_GRID_CELL_HEIGHT)
+                                                .clip(
+                                                    RoundedCornerShape(
+                                                        MEASUREMENT_HIGHLIGHT_GRID_CELLS_RADIUS
+                                                    )
+                                                )
+                                        },
+                                        falseBlock = { baseModifier },
+                                    )
+                                },
+                            )
                     ) {
 
                         // Load the media item through the Glide entrypoint.
@@ -479,12 +807,18 @@ private fun defaultBuildMediaItem(
                         )
 
                         // Scrim to separate the text and mimetypes from the image behind them.
+                        val scrimGradient =
+                            Brush.verticalGradient(
+                                listOf(Color.Black.copy(alpha = 0.1f), Color.Transparent)
+                            )
+
                         Surface(
-                            color = Color.Black.copy(alpha = 0.2f),
+                            modifier = Modifier.background(scrimGradient),
+                            color = Color.Transparent,
                             contentColor = Color.White,
                         ) {
                             MimeTypeOverlay(item)
-                        } // Scrim
+                        }
                     }
 
                     // This is outside the box that wraps the image so it doesn't get clipped
@@ -564,7 +898,9 @@ private fun SelectedIconOverlay(isSelected: Boolean, selectedIndex: Int) {
             exit = scaleOut(animationSpec = emphasizedAccelerateFloat),
         ) {
             val configuration = LocalPhotopickerConfiguration.current
-            val shouldIndicateSelected = configuration.selectionLimit > 1
+            val isEmbedded =
+                LocalPhotopickerConfiguration.current.runtimeEnv == PhotopickerRuntimeEnv.EMBEDDED
+            val shouldIndicateSelected = isEmbedded || configuration.selectionLimit > 1
             if (shouldIndicateSelected) {
                 when (configuration.pickImagesInOrder) {
                     true -> {
@@ -638,7 +974,7 @@ private fun SelectedIconOverlay(isSelected: Boolean, selectedIndex: Int) {
  * GridCell, and provides a text title for it just below the thumbnail.
  */
 @Composable
-private fun defaultBuildAlbumItem(
+fun defaultBuildAlbumItem(
     item: MediaGridItem,
     onClick: ((item: MediaGridItem) -> Unit)?,
     focusItem: MediaGridItem? = null,
@@ -781,7 +1117,7 @@ private fun defaultBuildMediaSetItem(
                 Modifier.fillMaxWidth()
                     .clip(RoundedCornerShape(MEASUREMENT_SELECTED_CORNER_RADIUS_FOR_ALBUMS))
                     .aspectRatio(1f)
-            DefaultAlbumIcon(/* icon */ Icons.Outlined.PhotoCamera, modifier)
+            loadMedia(media = icon, resolution = Resolution.THUMBNAIL, modifier = modifier)
             Spacer(Modifier.size(MEASUREMENT_DEFAULT_ALBUM_LABEL_SPACER_SIZE))
             // Media set title shown on the media set grid.
             Text(
@@ -870,6 +1206,23 @@ fun IconGrid(
             val paddedIcons = (icons + List(maxIcon) { null }).take(maxIcon)
             val iconsInRow = paddedIcons.chunked(iconPerRow)
 
+            val clipShape =
+                when (categoryType) {
+                    CategoryType.PEOPLE_AND_PETS,
+                    CategoryType.APP_FOLDERS -> {
+                        CircleShape
+                    }
+                    else -> {
+                        RoundedCornerShape(MEASUREMENT_SELECTED_CORNER_RADIUS_FOR_ALBUMS)
+                    }
+                }
+
+            val iconGridModifier =
+                Modifier.fillMaxSize()
+                    .size(48.dp)
+                    .clip(clipShape)
+                    .background(MaterialTheme.colorScheme.surface)
+
             iconsInRow.forEachIndexed { rowIndex, rowItem ->
                 Row(
                     horizontalArrangement = Arrangement.spacedBy(8.dp),
@@ -878,20 +1231,16 @@ fun IconGrid(
                     rowItem.forEachIndexed { colIndex, icon ->
                         Box(modifier = Modifier.weight(1f).aspectRatio(1f)) {
                             if (icons.isNotEmpty() && icon is ParcelableGlideLoadable) {
-                                CategoryIcon(icon, Modifier.fillMaxSize(), categoryType)
+                                CategoryIcon(icon, iconGridModifier)
                             } else {
                                 if (
                                     icons.isEmpty() &&
                                         !(rowIndex == iconsInRow.lastIndex &&
                                             colIndex == rowItem.lastIndex)
                                 ) {
-                                    CategoryIconPlaceholder(Modifier.fillMaxSize(), categoryType)
+                                    CategoryIconPlaceholder(iconGridModifier)
                                 } else {
-                                    CategoryIconPlaceholder(
-                                        Modifier.fillMaxSize(),
-                                        categoryType,
-                                        false,
-                                    )
+                                    CategoryIconPlaceholder(iconGridModifier, false)
                                 }
                             }
                         }
@@ -903,46 +1252,19 @@ fun IconGrid(
 }
 
 @Composable
-fun CategoryIconPlaceholder(
-    modifier: Modifier,
-    categoryType: CategoryType,
-    showPlaceholder: Boolean = true,
-) {
+fun CategoryIconPlaceholder(modifier: Modifier, showPlaceholder: Boolean = true) {
     Box(
         modifier =
-            if (categoryType == CategoryType.PEOPLE_AND_PETS) {
-                when (showPlaceholder) {
-                    true ->
-                        modifier
-                            .size(48.dp)
-                            .clip(CircleShape)
-                            .background(MaterialTheme.colorScheme.surfaceContainer)
-                    false -> modifier.size(48.dp)
-                }
-            } else {
-                modifier
-                    .size(48.dp)
-                    .clip(RoundedCornerShape(MEASUREMENT_SELECTED_CORNER_RADIUS_FOR_ALBUMS))
-                    .background(MaterialTheme.colorScheme.surface)
+            when (showPlaceholder) {
+                true -> modifier
+                false -> Modifier
             }
     )
 }
 
 @Composable
-fun CategoryIcon(icon: ParcelableGlideLoadable, modifier: Modifier, categoryType: CategoryType) {
-    loadMedia(
-        media = icon,
-        resolution = Resolution.THUMBNAIL,
-        modifier =
-            if (categoryType == CategoryType.PEOPLE_AND_PETS) {
-                modifier.size(48.dp).clip(CircleShape).background(MaterialTheme.colorScheme.surface)
-            } else {
-                modifier
-                    .size(48.dp)
-                    .clip(RoundedCornerShape(MEASUREMENT_SELECTED_CORNER_RADIUS_FOR_ALBUMS))
-                    .background(MaterialTheme.colorScheme.surface)
-            },
-    )
+fun CategoryIcon(icon: ParcelableGlideLoadable, modifier: Modifier) {
+    loadMedia(media = icon, resolution = Resolution.THUMBNAIL, modifier = modifier)
 }
 
 /**
@@ -950,7 +1272,7 @@ fun CategoryIcon(icon: ParcelableGlideLoadable, modifier: Modifier, categoryType
  * label.
  */
 @Composable
-private fun defaultBuildSeparator(item: MediaGridItem.SeparatorItem) {
+fun defaultBuildSeparator(item: MediaGridItem.SeparatorItem) {
     Box(Modifier.padding(MEASUREMENT_SEPARATOR_PADDING).semantics(mergeDescendants = true) {}) {
         Text(item.label, style = MaterialTheme.typography.titleSmall)
     }
diff --git a/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/DragState.kt b/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/DragState.kt
new file mode 100644
index 000000000..bc6270947
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/DragState.kt
@@ -0,0 +1,67 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.components
+
+/** Represents the index-direction of a drag gesture. */
+enum class DragDirection {
+    NEGATIVE,
+    POSITIVE,
+    UNSET,
+}
+
+/** Represents the possible orientations for scrolling. */
+enum class ScrollOrientation {
+    HORIZONTAL,
+    VERTICAL,
+}
+
+/**
+ * Represents the state of a drag gesture within the media grid.
+ *
+ * Tracks the starting position and current position of a drag event. Useful for determining drag
+ * direction and calculating offsets.
+ *
+ * @property initial The initial index where the drag started. Defaults to [None] if no drag is in
+ *   progress.
+ * @property current The current index of the item being dragged over. Defaults to [None] if no drag
+ *   is in progress.
+ */
+data class DragState(val initial: Int, val current: Int) {
+
+    /**
+     * Returns `true` if a drag operation is currently in progress (i.e., initial and current
+     * positions are set).
+     */
+    val isDragging: Boolean
+        get() = initial != None && current != None
+
+    companion object {
+
+        /** Constant representing an unset or invalid drag position index. */
+        const val None = -1
+
+        /**
+         * Factory method to create a new [DragState] instance.
+         *
+         * @param initial The initial drag position index, defaults to [None].
+         * @param current The current drag position index, defaults to [None].
+         * @return A new [DragState] instance.
+         */
+        fun create(initial: Int = None, current: Int = None): DragState =
+            DragState(initial, current)
+    }
+}
diff --git a/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelect.kt b/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelect.kt
new file mode 100644
index 000000000..801954e99
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelect.kt
@@ -0,0 +1,616 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.components
+
+import androidx.compose.foundation.gestures.detectDragGesturesAfterLongPress
+import androidx.compose.foundation.gestures.scrollBy
+import androidx.compose.foundation.lazy.grid.LazyGridState
+import androidx.compose.runtime.getValue
+import androidx.compose.runtime.setValue
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.geometry.Offset
+import androidx.compose.ui.geometry.Rect
+import androidx.compose.ui.hapticfeedback.HapticFeedback
+import androidx.compose.ui.hapticfeedback.HapticFeedbackType
+import androidx.compose.ui.input.pointer.PointerEvent
+import androidx.compose.ui.input.pointer.PointerEventPass
+import androidx.compose.ui.input.pointer.PointerInputChange
+import androidx.compose.ui.input.pointer.PointerInputEventHandler
+import androidx.compose.ui.input.pointer.SuspendingPointerInputModifierNode
+import androidx.compose.ui.layout.LayoutCoordinates
+import androidx.compose.ui.node.DelegatingNode
+import androidx.compose.ui.node.GlobalPositionAwareModifierNode
+import androidx.compose.ui.node.ModifierNodeElement
+import androidx.compose.ui.node.PointerInputModifierNode
+import androidx.compose.ui.unit.IntSize
+import androidx.paging.compose.LazyPagingItems
+import com.android.photopicker.core.configuration.PhotopickerConfiguration
+import com.android.photopicker.data.model.Media
+import java.util.concurrent.atomic.AtomicReference
+import kotlinx.coroutines.delay
+import kotlinx.coroutines.isActive
+import kotlinx.coroutines.launch
+import kotlinx.coroutines.runBlocking
+
+/**
+ * A [Modifier] that enables drag-to-select functionality on a grid of items.
+ *
+ * It detects a long press followed by a drag gesture to select a range of items. This modifier
+ * handles auto-scrolling when the drag gesture nears the grid's edges and can provide haptic
+ * feedback upon initiating the drag selection.
+ *
+ * @param config The current [PhotopickerConfiguration].
+ * @param items The [LazyPagingItems] source for the grid.
+ * @param state The [GridDragSelectState] to manage and observe the selection state.
+ * @param windowRect Optional [Rect] defining the window bounds. If provided, auto-scroll
+ *   calculations will be relative to these bounds. If null, calculations are based on the grid's
+ *   viewport.
+ * @param enableAutoScroll If true, the grid will automatically scroll when dragging near its edges.
+ * @param autoScrollThreshold The distance (in pixels) from an edge at which auto-scrolling begins.
+ * @param autoScrollOrientation The orientation of scrolling (Vertical or Horizontal).
+ * @param hapticFeedback An optional [HapticFeedback] instance for haptic control. If null, the
+ *   haptics will be disabled.
+ * @param indexOffset An integer offset applied to item indices. This is useful if the grid includes
+ *   non-selectable header items, allowing the selection logic to correctly map to the [items]
+ *   collection.
+ * @param selectionTransform A transform that is called on all Media items before they are added to
+ *   the selection. This can be used to set metrics fields see [Media.withSelectable]
+ * @return A [Modifier] chain including the [GridDragSelectElement].
+ */
+fun Modifier.onGridDragSelect(
+    config: PhotopickerConfiguration,
+    items: LazyPagingItems<MediaGridItem>,
+    state: GridDragSelectState,
+    windowRect: Rect? = null,
+    enableAutoScroll: Boolean = true,
+    autoScrollThreshold: Float,
+    autoScrollOrientation: ScrollOrientation = ScrollOrientation.VERTICAL,
+    hapticFeedback: HapticFeedback? = null,
+    indexOffset: Int = 0,
+    selectionTransform: (Media) -> Media = { it },
+) =
+    this then
+        GridDragSelectElement(
+            config,
+            items,
+            state,
+            windowRect,
+            enableAutoScroll,
+            autoScrollThreshold,
+            autoScrollOrientation,
+            hapticFeedback,
+            indexOffset,
+            selectionTransform,
+        )
+
+/**
+ * A [Modifier.Node] that handles drag selection gestures on a grid.
+ *
+ * This node detects long press followed by drag gestures to enable range selection of items in a
+ * [LazyPagingItems] collection displayed in a grid. It supports auto-scrolling when the drag
+ * gesture approaches the edges of the grid and can provide haptic feedback.
+ *
+ * @property config The [PhotopickerConfiguration] for the photopicker.
+ * @property items The [LazyPagingItems] containing the grid items.
+ * @property state The [GridDragSelectState] that manages the state of the drag selection.
+ * @property windowRect The [Rect] representing the window's bounds, used for auto-scroll
+ *   calculations. If null, auto-scroll will use the grid's viewport.
+ * @property enableAutoScroll Whether to enable auto-scrolling when dragging near the edges.
+ * @property autoScrollThreshold The distance from the edge (in pixels) at which auto-scrolling
+ *   should start.
+ * @property autoScrollOrientation The orientation of scrolling (Vertical or Horizontal) for
+ *   auto-scroll.
+ * @property hapticFeedback An optional [HapticFeedback] instance to perform haptics.
+ * @property indexOffset An integer offset applied to item indices. This is useful if the grid
+ *   includes non-selectable header items, allowing the selection logic to correctly map to the
+ *   [items] collection. items.
+ * @property selectionTransform A transform that is called on all Media items before they are added
+ *   to the selection. This can be used to set metrics fields see [Media.withSelectable]
+ */
+class GridDragSelectNode(
+    var config: PhotopickerConfiguration,
+    var items: LazyPagingItems<MediaGridItem>,
+    var state: GridDragSelectState,
+    var windowRect: Rect?,
+    var enableAutoScroll: Boolean,
+    var autoScrollThreshold: Float,
+    var autoScrollOrientation: ScrollOrientation,
+    var hapticFeedback: HapticFeedback?,
+    var indexOffset: Int,
+    var selectionTransform: (Media) -> Media,
+) : GlobalPositionAwareModifierNode, PointerInputModifierNode, DelegatingNode() {
+
+    /**
+     * Stores the [LayoutCoordinates] of the composable this modifier is attached to. This is
+     * initialized lazily via [onGloballyPositioned] because the coordinates are only available
+     * after layout. It's an [AtomicReference] to ensure thread-safe updates if
+     * [onGloballyPositioned] were to be called from different threads, though typically it's called
+     * on the main thread.
+     */
+    lateinit var currentCoordinates: AtomicReference<LayoutCoordinates>
+
+    /**
+     * Handles pointer input events to detect drag gestures after a long press. This is the core
+     * logic for initiating and processing the drag-to-select gesture.
+     */
+    val pointerInputEventHandler: PointerInputEventHandler = PointerInputEventHandler {
+        detectDragGesturesAfterLongPress(
+            onDragStart = { offset ->
+                // Attempt to find the item index at the drag start position.
+                state.gridState.itemIndexAtPosition(offset)?.minus(indexOffset)?.let { startIndex ->
+                    val item =
+                        try {
+                            items.peek(startIndex)
+                        } catch (_: Exception) {
+                            // Prevent crashes if the item cannot be accessed for any reason,
+                            // and just return null.
+                            null
+                        }
+                    item?.let {
+                        when (it) {
+                            is MediaGridItem.MediaItem -> {
+                                // Start the drag operation.
+                                coroutineScope.launch {
+                                    state.startDrag(startIndex) {
+                                        // Perform haptic feedback if enabled.
+                                        hapticFeedback?.performHapticFeedback(
+                                            HapticFeedbackType.LongPress
+                                        )
+                                        // Add the initially selected item.
+                                        runBlocking {
+                                            state.selection.add(selectionTransform(it.media))
+                                        }
+                                    }
+                                }
+                            }
+                            // Do nothing for non-media items (e.g., headers, placeholders).
+                            else -> {}
+                        }
+                    }
+                }
+            },
+            onDragCancel = state::stopDrag, // Stop drag on cancellation.
+            onDragEnd = state::stopDrag, // Stop drag on gesture end.
+            onDrag = { change, _ ->
+                state.whenDragging { // Execute only if a drag is in progress.
+
+                    // Calculate auto-scroll speed while the selection isn't full.
+                    autoScrollSpeed.value =
+                        if (runBlocking { selection.size() } < config.selectionLimit) {
+                            val localWindowRect = windowRect
+                            if (localWindowRect != null) {
+                                gridState.calculateScrollSpeed(
+                                    change = change,
+                                    scrollThreshold = autoScrollThreshold,
+                                    scrollOrientation = autoScrollOrientation,
+                                    currentCoordinates = currentCoordinates.get(),
+                                    windowRect = localWindowRect,
+                                )
+                            } else {
+                                gridState.calculateScrollSpeed(
+                                    change,
+                                    autoScrollThreshold,
+                                    autoScrollOrientation,
+                                )
+                            }
+                        } else {
+                            0f // Disable auto-scroll if selection is full.
+                        }
+
+                    // Determine the current item index under the drag pointer.
+                    val currentItemIndex =
+                        gridState
+                            .getItemPosition(change.position)
+                            ?.minus(indexOffset)
+                            // Ensure no negative index access
+                            ?.coerceIn(0, Int.MAX_VALUE)
+                            ?: return@whenDragging // Exit if no item found
+
+                    val previousItemIndex = dragState.current
+                    val initialItemIndex = dragState.initial
+
+                    // If the pointer hasn't moved to a new item index, do nothing.
+                    if (currentItemIndex == previousItemIndex) return@whenDragging
+
+                    // Determine the initial drag direction if it hasn't been set yet.
+                    if (direction.value == DragDirection.UNSET) {
+                        direction.value =
+                            when {
+                                currentItemIndex > initialItemIndex -> DragDirection.POSITIVE
+                                currentItemIndex < initialItemIndex -> DragDirection.NEGATIVE
+                                else -> DragDirection.UNSET // Started and ended on the same item
+                            }
+                    }
+
+                    // Calculate the range of items based on the initial and current drag
+                    // indices.
+                    val targetSelectionStart = minOf(initialItemIndex, currentItemIndex)
+                    val targetSelectionEnd = maxOf(initialItemIndex, currentItemIndex)
+                    val targetMedia = items.getMediaSlice(targetSelectionStart, targetSelectionEnd)
+
+                    // Calculate the range of items based on the initial and previous drag
+                    // indices.
+                    val previousSelectionStart = minOf(initialItemIndex, previousItemIndex)
+                    val previousSelectionEnd = maxOf(initialItemIndex, previousItemIndex)
+                    val previousMedia =
+                        items.getMediaSlice(previousSelectionStart, previousSelectionEnd)
+
+                    // Determine which items need to be added or removed.
+                    val itemsToAdd = targetMedia
+                    val itemsToRemove = previousMedia - targetMedia
+
+                    // Block while modifying the selection, the selection API requires mutexes which
+                    // suspends while waiting.
+                    runBlocking {
+                        // Update the selection state.
+                        for (item in itemsToAdd) {
+                            selection.add(selectionTransform(item))
+                        }
+                        selection.removeAll(itemsToRemove)
+                    }
+
+                    // Check if the drag direction needs resetting (crossed back over the
+                    // initial item).
+                    if (
+                        (direction.value == DragDirection.POSITIVE &&
+                            currentItemIndex < initialItemIndex) ||
+                            (direction.value == DragDirection.NEGATIVE &&
+                                currentItemIndex > initialItemIndex)
+                    ) {
+                        direction.value = DragDirection.UNSET
+                    } else if (currentItemIndex == initialItemIndex) {
+                        // Reset if we land back exactly on the initial item
+                        direction.value = DragDirection.UNSET
+                    }
+
+                    // Update the current drag position in the state.
+                    updateDrag(current = currentItemIndex)
+                }
+            },
+        )
+    }
+
+    /** Delegates pointer input handling to [SuspendingPointerInputModifierNode]. */
+    val delegateNode = delegate(SuspendingPointerInputModifierNode(pointerInputEventHandler))
+
+    /**
+     * Called when the node is attached to a composable. If auto-scroll is enabled, it launches a
+     * coroutine to continuously scroll the grid based on [GridDragSelectState.autoScrollSpeed].
+     */
+    override fun onAttach() {
+        if (enableAutoScroll) {
+            coroutineScope.launch {
+                while (isActive) { // Loop while the coroutine is active.
+                    if (state.autoScrollSpeed.value != 0f) {
+                        // Scroll the grid by the calculated auto-scroll speed.
+                        state.gridState.scrollBy(state.autoScrollSpeed.value)
+                    }
+                    delay(10) // Delay to control scroll frequency.
+                }
+            }
+        }
+    }
+
+    /**
+     * Called when the global position of the composable changes. Updates [currentCoordinates] with
+     * the new [LayoutCoordinates].
+     *
+     * @param coordinates The new [LayoutCoordinates] of the composable.
+     */
+    override fun onGloballyPositioned(coordinates: LayoutCoordinates) {
+        // Initialize or update the currentCoordinates.
+        if (::currentCoordinates.isInitialized) {
+            currentCoordinates.set(coordinates)
+        } else {
+            currentCoordinates = AtomicReference(coordinates)
+        }
+    }
+
+    /**
+     * Intercepts pointer events and delegates them to [delegateNode]. This is part of the
+     * [PointerInputModifierNode] interface implementation.
+     *
+     * @param pointerEvent The [PointerEvent] that occurred.
+     * @param pass The [PointerEventPass] for this event.
+     * @param bounds The [IntSize] bounds of the input.
+     */
+    override fun onPointerEvent(
+        pointerEvent: PointerEvent,
+        pass: PointerEventPass,
+        bounds: IntSize,
+    ) {
+        delegateNode.onPointerEvent(pointerEvent, pass, bounds)
+    }
+
+    /**
+     * Called when pointer input is cancelled, delegating to [delegateNode]. This is part of the
+     * [PointerInputModifierNode] interface implementation.
+     */
+    override fun onCancelPointerInput() {
+        delegateNode.onCancelPointerInput()
+    }
+}
+
+/**
+ * A [ModifierNodeElement] that creates and updates a [GridDragSelectNode]. This class is
+ * responsible for instantiating and providing the necessary parameters to the [GridDragSelectNode].
+ *
+ * @property config The current [PhotopickerConfiguration].
+ * @property items The [LazyPagingItems] containing the grid items.
+ * @property state The [GridDragSelectState] that manages the state of the drag selection.
+ * @property windowRect The [Rect] representing the window's bounds for auto-scroll.
+ * @property enableAutoScroll Whether auto-scrolling is enabled.
+ * @property autoScrollThreshold The threshold for triggering auto-scroll.
+ * @property autoScrollOrientation The orientation of scrolling (Vertical or Horizontal) for
+ *   auto-scroll.
+ * @property hapticFeedback The [HapticFeedback] instance.
+ * @property indexOffset An integer offset applied to item indices. This is useful if the grid
+ *   includes non-selectable header items, allowing the selection logic to correctly map to the
+ *   [items] collection. items.
+ * @property selectionTransform A transform that is called on all Media items before they are added
+ *   to the selection. This can be used to set metrics fields see [Media.withSelectable]
+ */
+data class GridDragSelectElement(
+    val config: PhotopickerConfiguration,
+    val items: LazyPagingItems<MediaGridItem>,
+    val state: GridDragSelectState,
+    val windowRect: Rect?,
+    val enableAutoScroll: Boolean,
+    val autoScrollThreshold: Float,
+    val autoScrollOrientation: ScrollOrientation,
+    val hapticFeedback: HapticFeedback?,
+    val indexOffset: Int,
+    val selectionTransform: (Media) -> Media,
+) : ModifierNodeElement<GridDragSelectNode>() {
+
+    /**
+     * Creates a new instance of [GridDragSelectNode].
+     *
+     * @return The created [GridDragSelectNode].
+     */
+    override fun create(): GridDragSelectNode {
+        return GridDragSelectNode(
+            config,
+            items,
+            state,
+            windowRect,
+            enableAutoScroll,
+            autoScrollThreshold,
+            autoScrollOrientation,
+            hapticFeedback,
+            indexOffset,
+            selectionTransform,
+        )
+    }
+
+    /**
+     * Updates an existing [GridDragSelectNode] with new parameters. This is called when the inputs
+     * to the modifier change.
+     *
+     * @param node The [GridDragSelectNode] to update.
+     */
+    override fun update(node: GridDragSelectNode) {
+        node.config = config
+        node.items = items
+        node.state = state
+        node.windowRect = windowRect
+        node.enableAutoScroll = enableAutoScroll
+        node.autoScrollThreshold = autoScrollThreshold
+        node.autoScrollOrientation = autoScrollOrientation
+        node.hapticFeedback = hapticFeedback
+        node.indexOffset = indexOffset
+        node.selectionTransform = selectionTransform
+    }
+}
+
+/**
+ * Retrieves a set of [Media] objects from a slice of a [LazyPagingItems] list of [MediaGridItem]
+ * objects.
+ *
+ * This function iterates through the [LazyPagingItems] list within the specified range `[fromIndex,
+ * toIndex]` (inclusive). For each [MediaGridItem] within this range, if the item is a
+ * [MediaGridItem.MediaItem] and its index is not in the [excludes] set, the associated [Media]
+ * object is extracted and added to a [Set]. Other types of [MediaGridItem] are ignored.
+ *
+ * @param fromIndex The starting index (inclusive) of the slice within the [LazyPagingItems] list.
+ * @param toIndex The ending index (inclusive) of the slice within the [LazyPagingItems] list.
+ * @return A [Set] containing the [Media] objects extracted from the [MediaGridItem.MediaItem]
+ *   elements within the specified range of the [LazyPagingItems] list, excluding specified indices.
+ *   The set is empty if no eligible [MediaGridItem.MediaItem] elements are found within the range,
+ *   or if the range is invalid.
+ */
+private fun LazyPagingItems<MediaGridItem>.getMediaSlice(fromIndex: Int, toIndex: Int): Set<Media> {
+    val targets = mutableSetOf<Media>()
+    // Ensure fromIndex is not greater than toIndex
+    val start = minOf(fromIndex, toIndex)
+    val end = maxOf(fromIndex, toIndex)
+
+    for (pos in start..end) {
+        val item =
+            try {
+                this.peek(pos) // Don't trigger paging loads by getting the item
+            } catch (_: Exception) {
+                // Prevent crashes when the item cannot be accessed at the requested index, and
+                // instead do nothing.
+                null
+            }
+        item?.let {
+            when (it) {
+                is MediaGridItem.MediaItem -> {
+                    targets.add(it.media) // Add media if the item is a MediaItem
+                }
+                else -> {} // Ignore other item types (e.g., headers)
+            }
+        }
+    }
+    return targets
+}
+
+/**
+ * Calculates the scroll speed based on the pointer's position relative to the scroll thresholds.
+ *
+ * This function determines how fast and in which direction the `LazyGridState` should scroll
+ * automatically when a pointer input change occurs near the edges of the scrollable area. The speed
+ * is proportional to how close the pointer is to the edge, within the defined threshold.
+ *
+ * @param change The details of the pointer input change event.
+ * @param scrollThreshold The distance from the edge within which auto-scrolling should activate.
+ * @param scrollOrientation The orientation of scrolling (Vertical or Horizontal).
+ * @param currentCoordinates The layout coordinates of the composable receiving the pointer input.
+ * @param windowRect The rectangle representing the boundaries of the window.
+ * @return The calculated scroll speed. Positive values indicate scrolling down or right, negative
+ *   values indicate scrolling up or left, and 0f indicates no auto-scroll.
+ */
+private fun LazyGridState.calculateScrollSpeed(
+    change: PointerInputChange,
+    scrollThreshold: Float,
+    scrollOrientation: ScrollOrientation,
+    currentCoordinates: LayoutCoordinates,
+    windowRect: Rect,
+): Float {
+
+    return when (scrollOrientation) {
+        ScrollOrientation.VERTICAL -> {
+            // Distance from the top edge of the window.
+            val distanceFromTop: Float = change.position.y
+            // Distance from the bottom edge of the window.
+            val distanceFromBottom: Float =
+                windowRect.height - currentCoordinates.localToWindow(change.position).y
+
+            when {
+                // If near the bottom edge of the window, scroll down. Speed increases closer to the
+                // edge.
+                distanceFromBottom < scrollThreshold -> scrollThreshold - distanceFromBottom
+                // If near the top edge of the window, scroll up. Speed increases closer to the
+                // edge.
+                distanceFromTop < scrollThreshold -> -(scrollThreshold - distanceFromTop)
+                // Otherwise, no auto-scroll is needed.
+                else -> 0f
+            }
+        }
+        ScrollOrientation.HORIZONTAL -> {
+            val distanceFromLeft: Float = change.position.x
+            val distanceFromRight: Float = layoutInfo.viewportSize.width - change.position.x
+            when {
+                distanceFromLeft < scrollThreshold -> -(scrollThreshold - distanceFromLeft)
+                distanceFromRight < scrollThreshold -> scrollThreshold - distanceFromRight
+                else -> 0f
+            }
+        }
+    }
+}
+
+/**
+ * Calculates the scroll speed based on the pointer's position relative to the grid edges.
+ *
+ * @param change The pointer input change event.
+ * @param scrollThreshold The distance from the edge where scrolling should start.
+ * @param scrollOrientation The orientation of the scroll (Vertical or Horizontal).
+ * @return The calculated scroll speed. Positive for scrolling down/right, negative for scrolling
+ *   up/left.
+ */
+private fun LazyGridState.calculateScrollSpeed(
+    change: PointerInputChange,
+    scrollThreshold: Float,
+    scrollOrientation: ScrollOrientation,
+): Float {
+    return when (scrollOrientation) {
+        ScrollOrientation.VERTICAL -> {
+            // Drag pointer's Y position relative to the grid composable.
+            val distanceFromTop: Float = change.position.y
+            // Distance from the bottom edge of the grid's viewport.
+            val distanceFromBottom: Float = layoutInfo.viewportSize.height - distanceFromTop
+            when {
+                // If near the bottom edge of the viewport, scroll down.
+                distanceFromBottom < scrollThreshold -> scrollThreshold - distanceFromBottom
+                // If near the top edge of the viewport, scroll up.
+                distanceFromTop < scrollThreshold -> -(scrollThreshold - distanceFromTop)
+                // Otherwise, no auto-scroll.
+                else -> 0f
+            }
+        }
+        ScrollOrientation.HORIZONTAL -> {
+            val distanceFromLeft: Float = change.position.x
+            val distanceFromRight: Float = layoutInfo.viewportSize.width - change.position.x
+            when {
+                distanceFromLeft < scrollThreshold -> -(scrollThreshold - distanceFromLeft)
+                distanceFromRight < scrollThreshold -> scrollThreshold - distanceFromRight
+                else -> 0f
+            }
+        }
+    }
+}
+
+/**
+ * Gets the index of the item in the [LazyGridState] that is currently under the given hit point.
+ *
+ * @param hitPoint The [Offset] (x, y coordinates) of the touch/drag point relative to the grid's
+ *   bounds.
+ * @return The index of the item at the [hitPoint], or `null` if no item is found at that position
+ *   (e.g., if the point is in a gap between items or outside the content area).
+ */
+private fun LazyGridState.itemIndexAtPosition(hitPoint: Offset): Int? {
+    return layoutInfo.visibleItemsInfo
+        .firstOrNull { // Find the first visible item whose bounds contain the hitPoint.
+            hitPoint.y.toInt() in it.offset.y..(it.offset.y + it.size.height) &&
+                hitPoint.x.toInt() in it.offset.x..(it.offset.x + it.size.width)
+        }
+        ?.index // Return the index of the found item.
+}
+
+/**
+ * Gets the index of the item that was hit by the drag, or the index of the last item if the drag
+ * has moved past the last visible item in the grid.
+ *
+ * This is useful for ensuring that selection can extend to the very last item even if the drag
+ * pointer technically moves slightly beyond its bounds due to auto-scrolling or fast gestures.
+ *
+ * @param hitPoint The [Offset] (x, y coordinates) where the drag hit the grid, relative to the
+ *   grid's bounds.
+ * @return The index of the item hit by the drag. If the drag is past the last item, it returns the
+ *   index of the last item. Returns `null` if the hit point is not over any item and not past the
+ *   last item (e.g., above the first item).
+ */
+private fun LazyGridState.getItemPosition(hitPoint: Offset): Int? {
+    return itemIndexAtPosition(hitPoint) // First, try to find an item directly at the hit point.
+        // If no item is directly hit, check if the drag is past the last item.
+        ?: if (isPastLastItem(hitPoint)) layoutInfo.totalItemsCount - 1 else null
+}
+
+/**
+ * Determines if the drag gesture's current position is vertically beyond the last item in the grid.
+ *
+ * This helps in scenarios like auto-scrolling where the pointer might move beyond the rendered
+ * bounds of the last item, ensuring that the selection logic can still correctly identify that the
+ * user intends to select up to the end of the list.
+ *
+ * @param hitPoint The [Offset] (x, y coordinates) of the drag point relative to the grid's bounds.
+ * @return `true` if the [hitPoint]'s y-coordinate is below the y-offset of the last item (and that
+ *   last item is indeed the final item in the total list), `false` otherwise.
+ */
+private fun LazyGridState.isPastLastItem(hitPoint: Offset): Boolean {
+    // Get the layout information for the last visible item.
+    val lastItem =
+        layoutInfo.visibleItemsInfo.lastOrNull()?.takeIf {
+            // Ensure this visible item is actually the last item in the entire dataset.
+            it.index == layoutInfo.totalItemsCount - 1
+        } ?: return false // Return false if no visible items or last visible isn't overall last.
+
+    // Determine if the hit point's y-coordinate is beyond the start of the last item.
+    // This implies the drag has moved to or past the vertical position of the last item.
+    return hitPoint.y > lastItem.offset.y
+}
diff --git a/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectDefaults.kt b/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectDefaults.kt
new file mode 100644
index 000000000..406a3a57c
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectDefaults.kt
@@ -0,0 +1,38 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.components
+
+import androidx.compose.runtime.Composable
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.hapticfeedback.HapticFeedback
+import androidx.compose.ui.platform.LocalDensity
+import androidx.compose.ui.platform.LocalHapticFeedback
+import androidx.compose.ui.unit.dp
+
+/** Default values for [Modifier.onGridDragSelect]. */
+public object GridDragSelectDefaults {
+
+    /** Default value for [HapticFeedback]. */
+    public val hapticsFeedback: HapticFeedback
+        @Composable get() = LocalHapticFeedback.current
+
+    /** Default value to determine when to start auto-scrolling. */
+    public val autoScrollThreshold: Float
+        @Composable get() = with(LocalDensity.current) { DEFAULT_THRESHOLD_DP.dp.toPx() }
+
+    private const val DEFAULT_THRESHOLD_DP = 40
+}
diff --git a/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectState.kt b/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectState.kt
new file mode 100644
index 000000000..b142a689d
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectState.kt
@@ -0,0 +1,138 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.components
+
+import androidx.compose.foundation.lazy.grid.LazyGridState
+import androidx.compose.foundation.lazy.grid.rememberLazyGridState
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.getValue
+import androidx.compose.runtime.mutableStateOf
+import androidx.compose.runtime.remember
+import androidx.compose.runtime.setValue
+import com.android.photopicker.core.selection.LocalSelection
+import com.android.photopicker.core.selection.Selection
+import com.android.photopicker.data.model.Media
+
+/**
+ * Creates and remembers a [GridDragSelectState] instance.
+ *
+ * This composable handles the state management for drag selection within a lazy grid. It integrates
+ * with the provided [LazyGridState] and [Selection] controller.
+ *
+ * @param lazyGridState The state object of the `LazyVerticalGrid` or `LazyHorizontalGrid`. Defaults
+ *   to a new remembered state.
+ * @param selection The selection controller responsible for managing selected items. Defaults to
+ *   the ambient [LocalSelection] controller.
+ * @return A remembered [GridDragSelectState] instance, keyed to [lazyGridState] and [selection].
+ */
+@Composable
+public fun rememberGridDragSelectState(
+    lazyGridState: LazyGridState = rememberLazyGridState(),
+    selection: Selection<Media> = LocalSelection.current,
+): GridDragSelectState {
+    return remember(lazyGridState, selection) {
+        GridDragSelectState(
+            gridState = lazyGridState,
+            selection = selection,
+            dragState = DragState.create(),
+        )
+    }
+}
+
+/**
+ * Holds the state for drag-to-select functionality within a composable.
+ *
+ * This state class manages the drag gesture lifecycle (start, update, stop) and holds the relevant
+ * state for the current Drag gesture.
+ *
+ * Use [rememberGridDragSelectState] to create and remember an instance of this class within your
+ * composable.
+ *
+ * @property gridState The state object of the `LazyVerticalGrid` or `LazyHorizontalGrid` being
+ *   used.
+ * @property selection The selection controller responsible for managing selected items.
+ * @property dragState The internal state representing the current drag operation (initial and
+ *   current index).
+ */
+class GridDragSelectState(
+    val gridState: LazyGridState,
+    val selection: Selection<Media>,
+    var dragState: DragState,
+) {
+
+    /** The current auto-scroll speed, typically non-zero when dragging near grid edges. */
+    val autoScrollSpeed = mutableStateOf(0f)
+    /** The dominant direction of the current drag (e.g., Up, Down, Left, Right). */
+    val direction = mutableStateOf(DragDirection.UNSET)
+
+    /**
+     * Executes the provided [block] within the [DragSelectScope] if a drag operation
+     * (`dragState.isDragging`) is currently active.
+     *
+     * This function is intended to be called repeatedly while the user's pointer is moving during a
+     * drag gesture (e.g., within a `pointerInput` modifier's drag event handler).
+     *
+     * The [block] receives a [DragSelectScope] receiver, providing access to the current drag state
+     * ([dragState]), grid state ([gridState]), selection controller ([selection]), and allows
+     * updating the drag position via [DragSelectScope.updateDrag].
+     *
+     * @param block The lambda to execute within the [GridDragSelectState].
+     */
+    fun whenDragging(block: GridDragSelectState.() -> Unit) {
+        if (dragState.isDragging) {
+            block(this)
+        }
+    }
+
+    /**
+     * Updates the current item index being dragged over. This modifies the [dragState]'s `current`
+     * value. This method is typically called from within the [whenDragging] block via
+     * [DragSelectScope.updateDrag].
+     *
+     * @param current The index of the item currently under the drag pointer.
+     */
+    fun updateDrag(current: Int) {
+        dragState = dragState.copy(current = current)
+    }
+
+    /**
+     * Starts a new drag operation by setting the [dragState] with the initial and current index.
+     * Executes the provided [block] immediately after initializing the drag state.
+     *
+     * @param index The initial index where the drag gesture started (e.g., the item first pressed).
+     * @param block A suspend lambda to execute immediately after starting the drag. This is
+     *   typically used for applying the initial selection change based on the starting item (e.g.,
+     *   selecting the first item if it wasn't selected).
+     */
+    fun startDrag(index: Int, block: GridDragSelectState.() -> Unit) {
+        // Initialize drag state: initial and current index are the same at the start.
+        dragState = DragState(initial = index, current = index)
+        // Execute the provided block, e.g., for initial selection.
+        block()
+    }
+
+    /**
+     * Stops the current drag operation. Resets the [dragState] to indicate no active drag by
+     * setting `initial = DragState.None`, and resets the [autoScrollSpeed] to 0f.
+     */
+    fun stopDrag() {
+        // Reset drag state to indicate no drag is in progress.
+        dragState = DragState.create()
+        // Reset auto-scroll speed.
+        autoScrollSpeed.value = 0f
+    }
+}
diff --git a/photopicker/src/com/android/photopicker/core/components/mediagrid/pinch/PinchToZoom.kt b/photopicker/src/com/android/photopicker/core/components/mediagrid/pinch/PinchToZoom.kt
new file mode 100644
index 000000000..66d2bb3d4
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/core/components/mediagrid/pinch/PinchToZoom.kt
@@ -0,0 +1,131 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.components
+
+import androidx.compose.foundation.gestures.awaitEachGesture
+import androidx.compose.foundation.gestures.awaitFirstDown
+import androidx.compose.foundation.gestures.calculateCentroid
+import androidx.compose.foundation.gestures.calculateZoom
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.geometry.Offset
+import androidx.compose.ui.input.pointer.PointerEventPass
+import androidx.compose.ui.input.pointer.pointerInput
+
+/** Represents events related to pinch-to-zoom gestures. */
+sealed interface PinchToZoomEvent {
+    /**
+     * Indicates that a pinch-to-zoom gesture has started.
+     *
+     * @property offset The center point of the gesture at the start.
+     */
+    data class Started(val offset: Offset) : PinchToZoomEvent
+
+    /**
+     * Indicates that the zoom level has changed during a pinch-to-zoom gesture.
+     *
+     * @property value The current zoom factor.
+     * @property offset The current center point of the gesture.
+     */
+    data class Changed(val value: Float, val offset: Offset) : PinchToZoomEvent
+
+    /** Indicates that a pinch-to-zoom gesture has ended. */
+    object Ended : PinchToZoomEvent
+}
+
+/**
+ * A [Modifier] that detects pinch-to-zoom gestures and reports them via the [onZoomEvent] callback.
+ *
+ * This modifier utilizes [pointerInput] and [awaitEachGesture] to process touch input. It detects
+ * when exactly two pointers are active on the screen to initiate a pinch gesture. During an active
+ * pinch, it calculates the zoom factor and the centroid of the two pointers.
+ *
+ * Key behaviors:
+ * - Consumes the initial pointer down event.
+ * - Consumes pointer changes involving the two active pointers during the pinch.
+ * - Emits [PinchToZoomEvent.Started] when two pointers first become active.
+ * - Emits [PinchToZoomEvent.Changed] when the zoom factor changes (the current centroid is also
+ *   provided). The [onZoomEvent] callback for this event can prematurely end the gesture tracking
+ *   by returning `true`.
+ * - Emits [PinchToZoomEvent.Ended] when the gesture concludes (either by pointers lifting or by the
+ *   `Changed` event callback returning `true`).
+ *
+ * @param pass The [PointerEventPass] in which pointer events are processed. Defaults to
+ *   [PointerEventPass.Main]. This affects event processing order if other pointer input modifiers
+ *   are present.
+ * @param onZoomEvent A lambda function invoked with [PinchToZoomEvent] updates. The lambda is
+ *   expected to return a [Boolean]. This return value is only significant for
+ *   [PinchToZoomEvent.Changed] events (see below); for other event types
+ *   ([PinchToZoomEvent.Started], [PinchToZoomEvent.Ended]), its value is ignored.
+ *     - [PinchToZoomEvent.Started]: Signals the gesture start with the initial centroid.
+ *     - [PinchToZoomEvent.Changed]: Signals that the zoom factor has changed. Also provides the
+ *       current centroid. Return `true` to indicate the event was consumed and to stop the current
+ *       gesture processing, which will then trigger a [PinchToZoomEvent.Ended]. Return `false` to
+ *       continue tracking changes.
+ *     - [PinchToZoomEvent.Ended]: Signals the gesture's end.
+ *
+ * @return A [Modifier] that incorporates the pinch-to-zoom detection logic.
+ */
+fun Modifier.pinchToZoom(
+    pass: PointerEventPass = PointerEventPass.Main,
+    onZoomEvent: (PinchToZoomEvent) -> Boolean,
+): Modifier {
+    return this then
+        pointerInput(Unit) {
+            awaitEachGesture {
+                // These local gesture values are reset automatically
+                // when awaitEachGesture's lambda block restarts for a new gesture.
+                var pinchActive = false
+                var done = false
+                var lastZoomValue: Float? = null
+
+                // Wait for the first pointer touch. This consumes the first down event.
+                awaitFirstDown(requireUnconsumed = true, pass = pass)
+
+                do {
+                    val event = awaitPointerEvent(pass = pass)
+                    val areTwoPointersActive = event.changes.count { it.pressed } == 2
+                    if (areTwoPointersActive) {
+
+                        val currentZoom = event.calculateZoom()
+                        // Calculate the centroid of the pointers
+                        val currentCentroid = event.calculateCentroid()
+
+                        if (!pinchActive) { // First time two pointers are active for this gesture
+                            pinchActive = true
+                            onZoomEvent(PinchToZoomEvent.Started(currentCentroid))
+                        }
+                        // Only emit Changed if the zoom factor has actually changed
+                        if (currentZoom != lastZoomValue) {
+                            done =
+                                onZoomEvent(PinchToZoomEvent.Changed(currentZoom, currentCentroid))
+                            lastZoomValue = currentZoom
+                        }
+                        // Consume pointer changes if two pointers were involved in this event.
+                        event.changes.forEach { it.consume() }
+                    }
+                    // If !areTwoPointersActive:
+                    // - If pinch was active and now pointers are being lifted,
+                    //   so don't send Changed. Continue to wait for all pointers to be up.
+                    // - If pinchActive is true and all pointers go up, the loop terminates.
+                } while (event.changes.any { it.pressed } && !done)
+
+                if (pinchActive) {
+                    onZoomEvent(PinchToZoomEvent.Ended)
+                }
+            }
+        }
+}
diff --git a/photopicker/src/com/android/photopicker/core/configuration/ConfigurationManager.kt b/photopicker/src/com/android/photopicker/core/configuration/ConfigurationManager.kt
index d333f4b20..b1b5dce24 100644
--- a/photopicker/src/com/android/photopicker/core/configuration/ConfigurationManager.kt
+++ b/photopicker/src/com/android/photopicker/core/configuration/ConfigurationManager.kt
@@ -27,11 +27,16 @@ import com.android.modules.utils.build.SdkLevel
 import com.android.photopicker.core.navigation.PhotopickerDestinations
 import com.android.photopicker.core.theme.AccentColorHelper
 import com.android.photopicker.extensions.getApplicationMediaCapabilities
+import com.android.photopicker.extensions.getHighlightQueryResultsParams
 import com.android.photopicker.extensions.getPhotopickerMimeTypes
 import com.android.photopicker.extensions.getPhotopickerSelectionLimitOrDefault
 import com.android.photopicker.extensions.getPickImagesInOrderEnabled
 import com.android.photopicker.extensions.getPickImagesPreSelectedUris
 import com.android.photopicker.extensions.getStartDestination
+import com.android.photopicker.features.highlightmediaresults.model.HighlightAlbum
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQueryResultsParams
+import com.android.photopicker.features.highlightmediaresults.model.QueryResultsHighlightType
 import com.android.providers.media.flags.Flags
 import kotlinx.coroutines.CoroutineDispatcher
 import kotlinx.coroutines.CoroutineScope
@@ -166,6 +171,12 @@ class ConfigurationManager(
                 }
             }
 
+        /**
+         * Check if a valid highlight media query was set and get a [HighLightQueryResultsParam]
+         * object
+         */
+        val highlightQueryResultsParams = getEmbeddedHighlightQueryResultsParams(featureInfo)
+
         // Use updateAndGet to ensure that the values are set before this method returns so that
         // the new configuration is immediately available to the new subscribers.
         _configuration.updateAndGet {
@@ -175,8 +186,42 @@ class ConfigurationManager(
                 mimeTypes = mimeTypes.toCollection(ArrayList()),
                 preSelectedUris = preSelectedUris.toCollection(ArrayList()),
                 pickImagesInOrder = pickImagesInOrder,
+                highlightQueryResultsParams = highlightQueryResultsParams,
+            )
+        }
+    }
+
+    /** Returns the appropriate highlight params for embedded picker. */
+    @RequiresApi(Build.VERSION_CODES.UPSIDE_DOWN_CAKE)
+    private fun getEmbeddedHighlightQueryResultsParams(
+        featureInfo: EmbeddedPhotoPickerFeatureInfo
+    ): HighlightQueryResultsParams {
+        val highlightTextQuery: String = featureInfo.highlightSearchMediaTextQuery
+        val highlightAlbumQuery: String = featureInfo.highlightAlbumId
+
+        if (highlightTextQuery.isNotEmpty() && highlightAlbumQuery.isNotEmpty()) {
+            throw IllegalArgumentException(
+                "Only one of text highlight or album highlight can be specified."
             )
         }
+        if (highlightAlbumQuery.isNotEmpty()) {
+            val highlightAlbum: HighlightAlbum =
+                HighlightAlbum.toHighlightAlbum(highlightAlbumQuery)
+            if (highlightAlbum == HighlightAlbum.UNSET_HIGHLIGHT_ALBUM) {
+                throw IllegalArgumentException("Unexpected highlight album")
+            }
+            return HighlightQueryResultsParams(
+                queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                queryResultsHighlightQuery = HighlightQuery.Album(highlightAlbum),
+            )
+        } else if (highlightTextQuery.isNotEmpty()) {
+            return HighlightQueryResultsParams(
+                queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                queryResultsHighlightQuery = HighlightQuery.Search(highlightTextQuery),
+            )
+        } else {
+            return DEFAULT_HIGHLIGHT_QUERY_RESULTS_PARAMS
+        }
     }
 
     /**
@@ -237,6 +282,10 @@ class ConfigurationManager(
                 null
             }
 
+        // get highlight media info from the intent
+        val highlightQueryResultsParams: HighlightQueryResultsParams =
+            intent.getHighlightQueryResultsParams()
+
         // Use updateAndGet to ensure the value is set before this method returns so the new
         // intent is immediately available to new subscribers.
         _configuration.updateAndGet {
@@ -250,6 +299,7 @@ class ConfigurationManager(
                 startDestination = startDestination,
                 preSelectedUris = pickerPreSelectionUris,
                 callingPackageMediaCapabilities = applicationMediaCapabilities,
+                highlightQueryResultsParams = highlightQueryResultsParams,
             )
         }
     }
@@ -329,6 +379,14 @@ class ConfigurationManager(
                     /* key= */ FEATURE_PICKER_CHOICE_MANAGED_SELECTION.first,
                     /* defaultValue= */ FEATURE_PICKER_CHOICE_MANAGED_SELECTION.second,
                 ),
+            PICKER_HIGHLIGHT_MEDIA_FEATURE_ENABLED =
+                Flags.enablePickerHighlightSearchResultsApis() &&
+                    (Flags.highlightSearchResultsFeature() ||
+                        deviceConfigProxy.getFlag(
+                            NAMESPACE_MEDIAPROVIDER,
+                            /* key= */ FEATURE_HIGHLIGHT_SEARCH_RESULTS.first,
+                            /* defaultValue= */ FEATURE_HIGHLIGHT_SEARCH_RESULTS.second,
+                        )),
             PICKER_SEARCH_ENABLED = Flags.enablePhotopickerSearch(),
             PICKER_DATESCRUBBER_ENABLED = Flags.enablePhotopickerDatescrubber(),
             PICKER_TRANSCODING_ENABLED = Flags.enablePhotopickerTranscoding(),
diff --git a/photopicker/src/com/android/photopicker/core/configuration/PhotopickerConfiguration.kt b/photopicker/src/com/android/photopicker/core/configuration/PhotopickerConfiguration.kt
index 4cd6037b8..c84ca2016 100644
--- a/photopicker/src/com/android/photopicker/core/configuration/PhotopickerConfiguration.kt
+++ b/photopicker/src/com/android/photopicker/core/configuration/PhotopickerConfiguration.kt
@@ -26,6 +26,9 @@ import android.os.UserHandle
 import android.provider.MediaStore
 import android.util.Log
 import com.android.photopicker.core.navigation.PhotopickerDestinations
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQueryResultsParams
+import com.android.photopicker.features.highlightmediaresults.model.QueryResultsHighlightType
 
 /** Check system properties to determine if the device is considered debuggable */
 private val buildIsDebuggable = SystemProperties.getInt("ro.debuggable", 0) == 1
@@ -33,6 +36,14 @@ private val buildIsDebuggable = SystemProperties.getInt("ro.debuggable", 0) == 1
 /** The default selection maximum size if not set by the caller */
 const val DEFAULT_SELECTION_LIMIT = 1
 
+/** The default highlight media info param values in case the app doesn't set anything. */
+val DEFAULT_HIGHLIGHT_QUERY_RESULTS_PARAMS =
+    HighlightQueryResultsParams(
+        queryResultsHighlightType = QueryResultsHighlightType.UNSET_HIGHLIGHT_TYPE,
+        // nothing to highlight
+        queryResultsHighlightQuery = HighlightQuery.Search(searchQuery = ""),
+    )
+
 /** Enum that describes the current runtime environment of the Photopicker. */
 enum class PhotopickerRuntimeEnv {
     ACTIVITY,
@@ -62,6 +73,9 @@ enum class PhotopickerRuntimeEnv {
  *   is shown for the session.
  * @property preSelectedUris an [ArrayList] of the [Uri]s of the items selected by the user in the
  *   previous photopicker sessions launched via the same calling app.
+ * @property highlightQueryResultsParams a [HighlightQueryResultsParams] object from
+ *   [MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_QUERY_RESULTS] with default value signalling no media
+ *   results are to be highlighted by the app.
  * @property flags a snapshot of the relevant flags in [DeviceConfig]. These are not live values.
  * @property deviceIsDebuggable if the device is running a build which has [ro.debuggable == 1]
  * @property intent the [Intent] that Photopicker was launched with. This property is private to
@@ -81,6 +95,8 @@ data class PhotopickerConfiguration(
     val selectionLimit: Int = DEFAULT_SELECTION_LIMIT,
     val startDestination: PhotopickerDestinations = PhotopickerDestinations.DEFAULT,
     val preSelectedUris: ArrayList<Uri>? = null,
+    val highlightQueryResultsParams: HighlightQueryResultsParams =
+        DEFAULT_HIGHLIGHT_QUERY_RESULTS_PARAMS,
     val deviceIsDebuggable: Boolean = buildIsDebuggable,
     val flags: PhotopickerFlags = PhotopickerFlags(),
     val sessionId: Int,
diff --git a/photopicker/src/com/android/photopicker/core/configuration/PhotopickerFlags.kt b/photopicker/src/com/android/photopicker/core/configuration/PhotopickerFlags.kt
index dc5a9aff7..a1fa8e349 100644
--- a/photopicker/src/com/android/photopicker/core/configuration/PhotopickerFlags.kt
+++ b/photopicker/src/com/android/photopicker/core/configuration/PhotopickerFlags.kt
@@ -33,6 +33,9 @@ val FEATURE_PRIVATE_SPACE_ENABLED = Pair("private_space_feature_enabled", true)
 // Permissions feature flags, and their default values.
 val FEATURE_PICKER_CHOICE_MANAGED_SELECTION = Pair("picker_choice_managed_selection_enabled", true)
 
+// HighlightSearchResults feature flag and its default value
+val FEATURE_HIGHLIGHT_SEARCH_RESULTS = Pair("highlight_search_results_enabled", false)
+
 /** Data object that represents flag values in [DeviceConfig]. */
 data class PhotopickerFlags(
     /**
@@ -47,8 +50,10 @@ data class PhotopickerFlags(
     val PICKER_SEARCH_ENABLED: Boolean = Flags.enablePhotopickerSearch(),
     val PICKER_DATESCRUBBER_ENABLED: Boolean = Flags.enablePhotopickerDatescrubber(),
     val PICKER_TRANSCODING_ENABLED: Boolean = Flags.enablePhotopickerTranscoding(),
+    val PICKER_HIGHLIGHT_MEDIA_FEATURE_ENABLED: Boolean =
+        Flags.enablePickerHighlightSearchResultsApis() && Flags.highlightSearchResultsFeature(),
     val OWNED_PHOTOS_ENABLED: Boolean = Flags.revokeAccessOwnedPhotos(),
-    val EXPRESSIVE_THEME_ENABLED: Boolean = Flags.enablePhotopickerExpressiveTheme(),
+    val MEDIA_GRID_TOUCH_FEATURES_ENABLED: Boolean = Flags.enableMediaGridTouchFeatures(),
 ) {
     /**
      * Implement a custom equals method to correctly check the equality of the Array member
@@ -65,6 +70,10 @@ data class PhotopickerFlags(
         if (PICKER_SEARCH_ENABLED != other.PICKER_SEARCH_ENABLED) return false
         if (PICKER_DATESCRUBBER_ENABLED != other.PICKER_DATESCRUBBER_ENABLED) return false
         if (PICKER_TRANSCODING_ENABLED != other.PICKER_TRANSCODING_ENABLED) return false
+        if (MEDIA_GRID_TOUCH_FEATURES_ENABLED != other.MEDIA_GRID_TOUCH_FEATURES_ENABLED)
+            return false
+        if (PICKER_HIGHLIGHT_MEDIA_FEATURE_ENABLED != other.PICKER_HIGHLIGHT_MEDIA_FEATURE_ENABLED)
+            return false
 
         return true
     }
@@ -83,5 +92,7 @@ data class PhotopickerFlags(
             PICKER_SEARCH_ENABLED,
             PICKER_DATESCRUBBER_ENABLED,
             PICKER_TRANSCODING_ENABLED,
+            MEDIA_GRID_TOUCH_FEATURES_ENABLED,
+            PICKER_HIGHLIGHT_MEDIA_FEATURE_ENABLED,
         )
 }
diff --git a/photopicker/src/com/android/photopicker/core/embedded/EmbeddedViewModelFactory.kt b/photopicker/src/com/android/photopicker/core/embedded/EmbeddedViewModelFactory.kt
index 0ecb2e48f..8f2f654b3 100644
--- a/photopicker/src/com/android/photopicker/core/embedded/EmbeddedViewModelFactory.kt
+++ b/photopicker/src/com/android/photopicker/core/embedded/EmbeddedViewModelFactory.kt
@@ -134,6 +134,7 @@ class EmbeddedViewModelFactory(
                 isAssignableFrom(CategoryGridViewModel::class.java) ->
                     CategoryGridViewModel(
                         null,
+                        backgroundDispatcher,
                         selection.get(),
                         categoryDataService.get(),
                         dataService.get(),
diff --git a/photopicker/src/com/android/photopicker/core/events/Event.kt b/photopicker/src/com/android/photopicker/core/events/Event.kt
index c6b674c90..19fb1248c 100644
--- a/photopicker/src/com/android/photopicker/core/events/Event.kt
+++ b/photopicker/src/com/android/photopicker/core/events/Event.kt
@@ -124,7 +124,7 @@ interface Event {
         val mediaStatus: Telemetry.MediaStatus,
         val selectionSource: Telemetry.MediaLocation,
         val itemPosition: Int,
-        val selectedAlbum: Group.Album?,
+        val selectedAlbum: Group.BaseAlbum?,
         val mediaType: Telemetry.MediaType,
         val cloudOnly: Boolean,
         val pickerSize: Telemetry.PickerSize,
diff --git a/photopicker/src/com/android/photopicker/core/events/PhotopickerEventLogger.kt b/photopicker/src/com/android/photopicker/core/events/PhotopickerEventLogger.kt
index 5f3787d76..15f1ce173 100644
--- a/photopicker/src/com/android/photopicker/core/events/PhotopickerEventLogger.kt
+++ b/photopicker/src/com/android/photopicker/core/events/PhotopickerEventLogger.kt
@@ -285,7 +285,7 @@ class PhotopickerEventLogger(val dataService: Lazy<DataService>) {
      * that we do not have to depend on glide's internal implementation(by using
      * album.getDataSource()) to fetch the album's data source
      */
-    private fun getAlbumDataSource(album: Group.Album): MediaSource {
+    private fun getAlbumDataSource(album: Group.BaseAlbum): MediaSource {
         for (provider in dataService.get().availableProviders.value) {
             if (provider.authority == album.authority) {
                 return provider.mediaSource
diff --git a/photopicker/src/com/android/photopicker/core/features/FeatureManager.kt b/photopicker/src/com/android/photopicker/core/features/FeatureManager.kt
index c1ff94c45..6b04630c8 100644
--- a/photopicker/src/com/android/photopicker/core/features/FeatureManager.kt
+++ b/photopicker/src/com/android/photopicker/core/features/FeatureManager.kt
@@ -27,6 +27,7 @@ import com.android.photopicker.features.albumgrid.AlbumGridFeature
 import com.android.photopicker.features.browse.BrowseFeature
 import com.android.photopicker.features.categorygrid.CategoryGridFeature
 import com.android.photopicker.features.cloudmedia.CloudMediaFeature
+import com.android.photopicker.features.highlightmediaresults.HighlightMediaResultsFeature
 import com.android.photopicker.features.navigationbar.NavigationBarFeature
 import com.android.photopicker.features.overflowmenu.OverflowMenuFeature
 import com.android.photopicker.features.photogrid.PhotoGridFeature
@@ -97,6 +98,7 @@ class FeatureManager(
                 SearchFeature.Registration,
                 PrepareMediaFeature.Registration,
                 CategoryGridFeature.Registration,
+                HighlightMediaResultsFeature.Registration,
             )
 
         /* The list of events that the core library consumes. */
diff --git a/photopicker/src/com/android/photopicker/core/features/FeatureToken.kt b/photopicker/src/com/android/photopicker/core/features/FeatureToken.kt
index a8ab6d11a..970b66510 100644
--- a/photopicker/src/com/android/photopicker/core/features/FeatureToken.kt
+++ b/photopicker/src/com/android/photopicker/core/features/FeatureToken.kt
@@ -27,6 +27,7 @@ enum class FeatureToken(val token: String) {
     CATEGORY_GRID("CATEGORY_GRID"),
     CLOUD_MEDIA("CLOUD_MEDIA"),
     CORE("CORE"),
+    HIGHLIGHT_MEDIA_RESULTS("HIGHLIGHT_MEDIA_RESULTS"),
     MEDIA_PREPARE("MEDIA_PREPARE"),
     NAVIGATION_BAR("NAVIGATION_BAR"),
     OVERFLOW_MENU("OVERFLOW_MENU"),
diff --git a/photopicker/src/com/android/photopicker/core/features/Location.kt b/photopicker/src/com/android/photopicker/core/features/Location.kt
index 77fea8b31..5a9413001 100644
--- a/photopicker/src/com/android/photopicker/core/features/Location.kt
+++ b/photopicker/src/com/android/photopicker/core/features/Location.kt
@@ -32,6 +32,7 @@ enum class Location {
 
     // keep-sorted start
     COMPOSE_TOP, // UI feature entrypoint at the top of the compose UI tree.
+    HIGHLIGHT_MEDIA_CAROUSEL, // Where the highlight media section would be drawn.
     MEDIA_PREPARER, // Where the MEDIA_PREPARER is attached to the compose tree.
     NAVIGATION_BAR, // Where the navigation bar should be drawn (when it is active).
     NAVIGATION_BAR_NAV_BUTTON, // Where the navigation bar draws navigation buttons.
diff --git a/photopicker/src/com/android/photopicker/core/features/LocationParams.kt b/photopicker/src/com/android/photopicker/core/features/LocationParams.kt
index 339fa5286..c2da4f554 100644
--- a/photopicker/src/com/android/photopicker/core/features/LocationParams.kt
+++ b/photopicker/src/com/android/photopicker/core/features/LocationParams.kt
@@ -16,6 +16,7 @@
 
 package com.android.photopicker.core.features
 
+import com.android.photopicker.core.components.MediaGridItem
 import com.android.photopicker.data.model.Media
 import com.android.photopicker.features.preparemedia.PrepareMediaResult
 import kotlinx.coroutines.CompletableDeferred
@@ -49,6 +50,25 @@ sealed interface LocationParams {
         fun onClick()
     }
 
+    /**
+     * A generic long click handler parameter. Including this as a parameter doesn't attach the
+     * click handler to anything, the implementer must call this method in response to the long
+     * click action.
+     *
+     * @param item MediaGridItem which is long pressed
+     */
+    fun interface WithLongClickAction : LocationParams {
+        fun onLongClick(item: MediaGridItem)
+    }
+
+    /**
+     * Parameter passed to Location.NAVIGATION_BAR_NAV_BUTTON to indicate if icon should to be shown
+     * in the navigation bar button.
+     */
+    fun interface WithNavButtonIcon : LocationParams {
+        fun showButtonIcon(): Boolean
+    }
+
     /** Requirements for attaching a [MediaPreparer] to the compose UI. */
     interface WithMediaPreparer : LocationParams {
 
diff --git a/photopicker/src/com/android/photopicker/core/glide/LoadMedia.kt b/photopicker/src/com/android/photopicker/core/glide/LoadMedia.kt
index 4bd37ccf6..559987ac9 100644
--- a/photopicker/src/com/android/photopicker/core/glide/LoadMedia.kt
+++ b/photopicker/src/com/android/photopicker/core/glide/LoadMedia.kt
@@ -21,13 +21,10 @@ import android.graphics.drawable.Drawable
 import androidx.compose.foundation.layout.defaultMinSize
 import androidx.compose.runtime.Composable
 import androidx.compose.ui.Modifier
-import androidx.compose.ui.graphics.Color
-import androidx.compose.ui.graphics.painter.ColorPainter
 import androidx.compose.ui.unit.dp
 import com.bumptech.glide.RequestBuilder
 import com.bumptech.glide.integration.compose.ExperimentalGlideComposeApi
 import com.bumptech.glide.integration.compose.GlideImage
-import com.bumptech.glide.integration.compose.placeholder
 
 /**
  * The composable for loading images through the Glide pipeline.
@@ -62,14 +59,10 @@ fun loadMedia(
         // headless tests. These default minimums are only overridden when the incoming
         // corresponding constraint is 0, if a smaller size is specified, that will be used.
         modifier = modifier.defaultMinSize(minWidth = 1.dp, minHeight = 1.dp),
-        // TODO(b/323830032): Use a proper material theme color here.
-        loading = placeholder(ColorPainter(Color.Black)),
-        failure = placeholder(ColorPainter(Color.Black)),
     ) {
         requestBuilderTransformation?.invoke(media, resolution, it)
-            // If no RequestBuilder function was provided, then apply the loadables signature to
-            // ensure
-            // the cache is populated.
+            // If no RequestBuilder function was provided, then apply the loadable signature to
+            // ensure the cache is populated.
             ?: it.set(RESOLUTION_REQUESTED, resolution)
                 .centerCrop()
                 .signature(media.getSignature(resolution))
diff --git a/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableFetcher.kt b/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableFetcher.kt
new file mode 100644
index 000000000..08d7d2680
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableFetcher.kt
@@ -0,0 +1,123 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.glide
+
+import android.content.Context
+import android.graphics.drawable.Drawable
+import android.os.UserHandle
+import android.util.Log
+import com.bumptech.glide.Priority
+import com.bumptech.glide.load.DataSource
+import com.bumptech.glide.load.data.DataFetcher
+import java.io.FileNotFoundException
+import java.io.IOException
+
+/**
+ * A [DataFetcher] for resolving a drawable from a Android resource URI for Glide.
+ *
+ * It is designed to handle [GlideLoadable] having URIs with the following structure:
+ * `android.resource://<user-id>@<package-name>/<drawable-res-id>`
+ *
+ * This fetcher parses user ID, package name and resource id from the URI. It then creates a context
+ * specific to the package name and user ID retrieved from the URI. This package and user specific
+ * context is used to retrieve the drawable resource. The drawable is badged with the
+ * profile-specific badge before being returned (e.g. drawables from work profile will be badged
+ * with briefcase icon).
+ *
+ * If any of these steps fail, the load will fail, and an exception will be passed to the callback.
+ *
+ * @property model The [GlideLoadable] model containing the URI to be resolved.
+ * @property context The application context used for creating package contexts and accessing the
+ *   PackageManager.
+ */
+class PhotopickerDrawableFetcher(private val model: GlideLoadable, private val context: Context) :
+    DataFetcher<Drawable> {
+
+    companion object {
+        val TAG: String = "PhotopickerDrawableFetcher"
+    }
+
+    override fun loadData(priority: Priority, callback: DataFetcher.DataCallback<in Drawable>) {
+        try {
+            val uri = model.getLoadableUri()
+            val packageName = uri.host
+            val userHandle = UserHandle.of(getUserIdFromAuthority(uri.authority))
+            val resourceId =
+                uri.lastPathSegment?.toIntOrNull()
+                    ?: throw IllegalArgumentException(
+                        "Resource id does not exist in input uri $uri"
+                    )
+
+            var badgedIcon: Drawable? = null
+
+            packageName?.let {
+                val contextForPackage =
+                    context.createPackageContextAsUser(packageName, 0, userHandle)
+                val icon = contextForPackage.getDrawable(resourceId)
+                icon?.let {
+                    badgedIcon =
+                        context.packageManager.getUserBadgedDrawableForDensity(
+                            it,
+                            userHandle,
+                            null,
+                            -1,
+                        )
+                }
+            }
+            if (badgedIcon == null) {
+                callback.onLoadFailed(FileNotFoundException("Failed to load data for $uri"))
+                return
+            }
+            callback.onDataReady(badgedIcon)
+        } catch (ex: IOException) {
+            callback.onLoadFailed(ex)
+        } catch (ex: Exception) {
+            callback.onLoadFailed(ex)
+        }
+    }
+
+    override fun cleanup() {}
+
+    override fun cancel() {}
+
+    override fun getDataClass(): Class<Drawable> {
+        return Drawable::class.java
+    }
+
+    override fun getDataSource(): DataSource {
+        return DataSource.LOCAL
+    }
+
+    /**
+     * Parses the user ID from the authority part of a URI. It assumes the authority is in the
+     * format `<userId>@<host>`.
+     *
+     * In case of any error during parsing the process owner's user ID is returned.
+     *
+     * @param authority The authority string from the URI, which may be null.
+     * @return The parsed integer user ID, or the current user's ID if parsing fails.
+     */
+    private fun getUserIdFromAuthority(authority: String?): Int {
+        val defaultUserId = UserHandle.myUserId()
+        return try {
+            authority?.substringBefore('@')?.toIntOrNull() ?: defaultUserId
+        } catch (e: Exception) {
+            Log.e(TAG, "Error parsing userId.", e)
+            defaultUserId
+        }
+    }
+}
diff --git a/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableLoader.kt b/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableLoader.kt
new file mode 100644
index 000000000..de5258f7a
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableLoader.kt
@@ -0,0 +1,57 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.glide
+
+import android.content.Context
+import android.graphics.drawable.Drawable
+import com.bumptech.glide.load.Options
+import com.bumptech.glide.load.model.ModelLoader
+import com.bumptech.glide.load.model.ModelLoader.LoadData
+
+class PhotopickerDrawableLoader(val context: Context) : ModelLoader<GlideLoadable, Drawable> {
+
+    /**
+     * This assembles a cache signature for storing the resulting bytes, and instantiates a worker
+     * that can actually fetch the required data. The worker will be later called by Glide when the
+     * load should begin.
+     */
+    override fun buildLoadData(
+        model: GlideLoadable,
+        width: Int,
+        height: Int,
+        options: Options,
+    ): LoadData<Drawable> {
+        return LoadData(
+            model.getSignature(Resolution.THUMBNAIL),
+            PhotopickerDrawableFetcher(model, context),
+        )
+    }
+
+    /**
+     * A check by Glide amongst registered ModelLoaders to resolve which loader should handle a
+     * particular load.
+     *
+     * Since [GlideLoadable] is a custom implementation, this is the only ModelLoader that is able
+     * to handle it, so if this handles check fails, the load will never start.
+     *
+     * @return If this model loader is able to load the requested model.
+     */
+    override fun handles(model: GlideLoadable): Boolean {
+        // If the model is a GlideLoadable, this [ModelLoader] should try to handle it.
+        return true
+    }
+}
diff --git a/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableLoaderFactory.kt b/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableLoaderFactory.kt
new file mode 100644
index 000000000..6e88a5a99
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/core/glide/PhotopickerDrawableLoaderFactory.kt
@@ -0,0 +1,43 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.glide
+
+import android.content.Context
+import android.graphics.drawable.Drawable
+import com.bumptech.glide.load.model.ModelLoader
+import com.bumptech.glide.load.model.ModelLoaderFactory
+import com.bumptech.glide.load.model.MultiModelLoaderFactory
+
+/**
+ * A factory class responsible for instantiating the [PhotopickerDrawableLoader].
+ *
+ * Dependencies are provided by the [AppGlideModule].
+ */
+class PhotopickerDrawableLoaderFactory(val context: Context) :
+    ModelLoaderFactory<GlideLoadable, Drawable> {
+
+    /**
+     * Glide will call this once during initialization to get an instance of the ModelLoader for the
+     * [GlideLoadable] registration.
+     */
+    override fun build(unused: MultiModelLoaderFactory): ModelLoader<GlideLoadable, Drawable> {
+        return PhotopickerDrawableLoader(context)
+    }
+
+    /** Can be used to release any held resources when Glide no longer needs this factory. */
+    override fun teardown() {}
+}
diff --git a/photopicker/src/com/android/photopicker/core/glide/PhotopickerGlideModule.kt b/photopicker/src/com/android/photopicker/core/glide/PhotopickerGlideModule.kt
index ea36ae54c..2f678eb50 100644
--- a/photopicker/src/com/android/photopicker/core/glide/PhotopickerGlideModule.kt
+++ b/photopicker/src/com/android/photopicker/core/glide/PhotopickerGlideModule.kt
@@ -18,6 +18,7 @@ package com.android.photopicker.core.glide
 
 import android.content.ContentResolver
 import android.content.Context
+import android.graphics.drawable.Drawable
 import android.util.Log
 import com.android.photopicker.core.ApplicationOwned
 import com.bumptech.glide.Glide
@@ -54,7 +55,12 @@ class PhotopickerGlideModule : AppGlideModule() {
         registry.append(
             GlideLoadable::class.java,
             InputStream::class.java,
-            PhotopickerModelLoaderFactory(resolver)
+            PhotopickerModelLoaderFactory(resolver),
+        )
+        registry.append(
+            GlideLoadable::class.java,
+            Drawable::class.java,
+            PhotopickerDrawableLoaderFactory(context),
         )
     }
 
diff --git a/photopicker/src/com/android/photopicker/core/selection/GrantsAwareSelectionImpl.kt b/photopicker/src/com/android/photopicker/core/selection/GrantsAwareSelectionImpl.kt
index 008ad840e..c1fae211d 100644
--- a/photopicker/src/com/android/photopicker/core/selection/GrantsAwareSelectionImpl.kt
+++ b/photopicker/src/com/android/photopicker/core/selection/GrantsAwareSelectionImpl.kt
@@ -96,12 +96,7 @@ class GrantsAwareSelectionImpl<T : Grantable>(
             _selection.addAll(initialSelection)
         }
         _flow = MutableStateFlow(createLatestSelectionSet())
-        flow =
-            _flow.stateIn(
-                scope,
-                SharingStarted.WhileSubscribed(),
-                initialValue = _flow.value,
-            )
+        flow = _flow.stateIn(scope, SharingStarted.WhileSubscribed(), initialValue = _flow.value)
     }
 
     /**
@@ -131,6 +126,10 @@ class GrantsAwareSelectionImpl<T : Grantable>(
     @GuardedBy("mutex")
     override suspend fun add(item: T): SelectionModifiedResult {
         mutex.withLock {
+            // If the item is already part of the set, just return success
+            // This saves an unnecessary call to updateFlow for items that are already part of the
+            // set.
+            if (_selection.contains(item)) return SUCCESS
             if (isPreGranted(item)) {
                 _deSelection.remove(item)
                 updateFlow()
@@ -289,6 +288,16 @@ class GrantsAwareSelectionImpl<T : Grantable>(
         }
     }
 
+    /**
+     * Returns the number of elements in this collection.
+     *
+     * @return The number of elements.
+     */
+    @GuardedBy("mutex")
+    override suspend fun size(): Int {
+        return mutex.withLock { _selection.size }
+    }
+
     /**
      * Toggles the requested item in the selection.
      *
@@ -409,7 +418,7 @@ class GrantsAwareSelectionImpl<T : Grantable>(
             return GrantsAwareSet(
                 _selection.toSet(),
                 _deSelection.toSet(),
-                preGrantedItemsCount.value ?: 0
+                preGrantedItemsCount.value ?: 0,
             )
         }
     }
diff --git a/photopicker/src/com/android/photopicker/core/selection/Selection.kt b/photopicker/src/com/android/photopicker/core/selection/Selection.kt
index 6d554827b..90e4dcf38 100644
--- a/photopicker/src/com/android/photopicker/core/selection/Selection.kt
+++ b/photopicker/src/com/android/photopicker/core/selection/Selection.kt
@@ -65,6 +65,7 @@ interface Selection<T> {
     /**
      * Removes the requested item from the selection. If the item is not in the selection, this has
      * no effect. Afterwards, will emit the new selection into the exposed flow.
+     *
      * @return [SelectionModifiedResult] of the outcome of the removal.
      */
     suspend fun remove(item: T): SelectionModifiedResult
@@ -84,6 +85,13 @@ interface Selection<T> {
      */
     suspend fun snapshot(): Set<T>
 
+    /**
+     * Returns the number of elements in this collection.
+     *
+     * @return The number of elements.
+     */
+    suspend fun size(): Int
+
     /**
      * Toggles the requested item in the selection.
      *
@@ -107,8 +115,6 @@ interface Selection<T> {
      */
     suspend fun toggleAll(items: Collection<T>): SelectionModifiedResult
 
-    /**
-     * @return a ReadOnly object contains items which were preGranted but de-selected.
-     */
+    /** @return a ReadOnly object contains items which were preGranted but de-selected. */
     suspend fun getDeselection(): Collection<T>
-}
\ No newline at end of file
+}
diff --git a/photopicker/src/com/android/photopicker/core/selection/SelectionImpl.kt b/photopicker/src/com/android/photopicker/core/selection/SelectionImpl.kt
index d4ec298d2..6e9817d71 100644
--- a/photopicker/src/com/android/photopicker/core/selection/SelectionImpl.kt
+++ b/photopicker/src/com/android/photopicker/core/selection/SelectionImpl.kt
@@ -60,7 +60,7 @@ class SelectionImpl<T>(
     val scope: CoroutineScope,
     val initialSelection: Collection<T>? = null,
     private val configuration: StateFlow<PhotopickerConfiguration>,
-    private val preSelectedMedia: StateFlow<List<T>?>
+    private val preSelectedMedia: StateFlow<List<T>?>,
 ) : Selection<T> {
 
     private val TAG = "SelectionImpl"
@@ -88,12 +88,7 @@ class SelectionImpl<T>(
         }
 
         _flow = MutableStateFlow(_selection.toSet())
-        flow =
-            _flow.stateIn(
-                scope,
-                SharingStarted.WhileSubscribed(),
-                initialValue = _flow.value,
-            )
+        flow = _flow.stateIn(scope, SharingStarted.WhileSubscribed(), initialValue = _flow.value)
     }
 
     /**
@@ -109,6 +104,10 @@ class SelectionImpl<T>(
     @GuardedBy("mutex")
     override suspend fun add(item: T): SelectionModifiedResult {
         mutex.withLock {
+            // If the item is already part of the set, just return success
+            // This saves an unnecessary call to updateFlow for items that are already part of the
+            // set.
+            if (_selection.contains(item)) return SUCCESS
             val itemCanFit = ensureSelectionLimitLocked(/* size= */ 1)
             if (itemCanFit) {
                 _selection.add(item)
@@ -219,6 +218,16 @@ class SelectionImpl<T>(
         return mutex.withLock { _selection.toSet() }
     }
 
+    /**
+     * Returns the number of elements in this collection.
+     *
+     * @return The number of elements.
+     */
+    @GuardedBy("mutex")
+    override suspend fun size(): Int {
+        return mutex.withLock { _selection.size }
+    }
+
     /**
      * Toggles the requested item in the selection.
      *
diff --git a/photopicker/src/com/android/photopicker/core/theme/PhotopickerTheme.kt b/photopicker/src/com/android/photopicker/core/theme/PhotopickerTheme.kt
index b8f0e5653..51c51b510 100644
--- a/photopicker/src/com/android/photopicker/core/theme/PhotopickerTheme.kt
+++ b/photopicker/src/com/android/photopicker/core/theme/PhotopickerTheme.kt
@@ -117,10 +117,7 @@ fun PhotopickerTheme(
     // Calculate the current screen size
     val windowSizeClass: WindowSizeClass = calculateWindowSizeClass()
 
-    if (
-        config.flags.EXPRESSIVE_THEME_ENABLED &&
-            Build.VERSION.SDK_INT >= Build.VERSION_CODES.BAKLAVA
-    ) {
+    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.BAKLAVA) {
         MaterialExpressiveTheme(colorScheme = colorScheme, typography = typography) {
             CompositionLocalProvider(
                 LocalWindowSizeClass provides windowSizeClass,
diff --git a/photopicker/src/com/android/photopicker/core/user/UserMonitor.kt b/photopicker/src/com/android/photopicker/core/user/UserMonitor.kt
index 3c6402697..6d56b5406 100644
--- a/photopicker/src/com/android/photopicker/core/user/UserMonitor.kt
+++ b/photopicker/src/com/android/photopicker/core/user/UserMonitor.kt
@@ -17,7 +17,6 @@
 package com.android.photopicker.core.user
 
 import android.content.BroadcastReceiver
-import android.content.ContentResolver
 import android.content.Context
 import android.content.Intent
 import android.content.IntentFilter
@@ -32,6 +31,7 @@ import androidx.compose.ui.graphics.asImageBitmap
 import androidx.core.graphics.drawable.toBitmap
 import com.android.modules.utils.build.SdkLevel
 import com.android.photopicker.core.configuration.PhotopickerConfiguration
+import com.android.photopicker.extensions.getContentResolverForUser
 import com.android.photopicker.extensions.requireSystemService
 import kotlinx.coroutines.CoroutineDispatcher
 import kotlinx.coroutines.CoroutineScope
@@ -114,7 +114,7 @@ class UserMonitor(
                             }
                         }
                         .map { getUserProfileFromHandle(it, context) },
-                activeContentResolver = getContentResolver(context, processOwnerUserHandle),
+                activeContentResolver = context.getContentResolverForUser(processOwnerUserHandle),
             )
         )
 
@@ -215,7 +215,7 @@ class UserMonitor(
                     it.copy(
                         activeUserProfile = profile,
                         activeContentResolver =
-                            getContentResolver(context, UserHandle.of(profile.identifier)),
+                            context.getContentResolverForUser(UserHandle.of(profile.identifier)),
                     )
                 }
                 return SwitchUserProfileResult.SUCCESS
@@ -280,7 +280,7 @@ class UserMonitor(
                             activeUserProfile = processOwnerProfile,
                             allProfiles = newProfilesList,
                             activeContentResolver =
-                                getContentResolver(context, processOwnerProfile.handle),
+                                context.getContentResolverForUser(processOwnerProfile.handle),
                         )
                     }
                 }
@@ -518,10 +518,4 @@ class UserMonitor(
             @Suppress("DEPRECATION")
             return intent.getParcelableExtra(Intent.EXTRA_USER) as? UserHandle
     }
-
-    /** @return the content resolver for given profile. */
-    private fun getContentResolver(context: Context, userHandle: UserHandle): ContentResolver =
-        context
-            .createPackageContextAsUser(context.packageName, /* flags */ 0, userHandle)
-            .contentResolver
 }
diff --git a/photopicker/src/com/android/photopicker/data/CollectionInfoState.kt b/photopicker/src/com/android/photopicker/data/CollectionInfoState.kt
index daf90849f..758727c3b 100644
--- a/photopicker/src/com/android/photopicker/data/CollectionInfoState.kt
+++ b/photopicker/src/com/android/photopicker/data/CollectionInfoState.kt
@@ -33,7 +33,7 @@ import kotlinx.coroutines.sync.withLock
 class CollectionInfoState(
     private val mediaProviderClient: MediaProviderClient,
     private val activeContentResolver: StateFlow<ContentResolver>,
-    private val availableProviders: StateFlow<List<Provider>>
+    private val availableProviders: StateFlow<List<Provider>>,
 ) {
     companion object {
         private const val TAG = "CollectionInfoState"
@@ -62,7 +62,7 @@ class CollectionInfoState(
                 if (availableProviderAuthorities.containsKey(it.authority)) {
                     providerCollectionInfo.put(
                         availableProviderAuthorities.getValue(it.authority),
-                        it
+                        it,
                     )
                 }
             }
@@ -97,7 +97,7 @@ class CollectionInfoState(
                 updateCollectionInfo(collectionInfos)
 
                 cachedCollectionInfo = getCachedCollectionInfo(provider)
-            } catch (e: RuntimeException) {
+            } catch (e: Exception) {
                 Log.e(TAG, "Could not refresh collection info cache", e)
             }
         }
diff --git a/photopicker/src/com/android/photopicker/data/DataService.kt b/photopicker/src/com/android/photopicker/data/DataService.kt
index 8dea92f7c..9ebbcf65c 100644
--- a/photopicker/src/com/android/photopicker/data/DataService.kt
+++ b/photopicker/src/com/android/photopicker/data/DataService.kt
@@ -22,6 +22,7 @@ import androidx.paging.PagingSource
 import com.android.photopicker.data.model.CloudMediaProviderDetails
 import com.android.photopicker.data.model.CollectionInfo
 import com.android.photopicker.data.model.Group.Album
+import com.android.photopicker.data.model.Group.BaseAlbum
 import com.android.photopicker.data.model.Media
 import com.android.photopicker.data.model.MediaPageKey
 import com.android.photopicker.data.model.Provider
@@ -62,7 +63,7 @@ interface DataService {
      * @param album This method creates and returns a paging source for media of the given album.
      * @return an instance of [PagingSource].
      */
-    fun albumMediaPagingSource(album: Album): PagingSource<MediaPageKey, Media>
+    fun albumMediaPagingSource(album: BaseAlbum): PagingSource<MediaPageKey, Media>
 
     /** @return an instance of [PagingSource]. */
     fun albumPagingSource(): PagingSource<MediaPageKey, Album>
@@ -96,7 +97,11 @@ interface DataService {
      */
     suspend fun ensureProviders()
 
-    /** Returns all allowed providers for the given user. */
+    /**
+     * Returns all allowed providers for the given user.
+     *
+     * In case of an error, it returns an empty list.
+     */
     fun getAllAllowedProviders(): List<Provider>
 
     /**
@@ -107,9 +112,10 @@ interface DataService {
 
     /**
      * @param album This method sends a refresh notification for the media of the given
-     *   [Group.Album] to the data source. This signal tells the data source to refresh its cache.
+     *   [Group.BaseAlbum] to the data source. This signal tells the data source to refresh its
+     *   cache.
      */
-    suspend fun refreshAlbumMedia(album: Album)
+    suspend fun refreshAlbumMedia(album: BaseAlbum)
 
     /**
      * @param A [Provider] object
diff --git a/photopicker/src/com/android/photopicker/data/DataServiceImpl.kt b/photopicker/src/com/android/photopicker/data/DataServiceImpl.kt
index a7537b004..4239986b3 100644
--- a/photopicker/src/com/android/photopicker/data/DataServiceImpl.kt
+++ b/photopicker/src/com/android/photopicker/data/DataServiceImpl.kt
@@ -34,6 +34,7 @@ import com.android.photopicker.core.features.FeatureManager
 import com.android.photopicker.core.user.UserStatus
 import com.android.photopicker.data.model.CloudMediaProviderDetails
 import com.android.photopicker.data.model.CollectionInfo
+import com.android.photopicker.data.model.Group
 import com.android.photopicker.data.model.Group.Album
 import com.android.photopicker.data.model.Media
 import com.android.photopicker.data.model.MediaPageKey
@@ -43,6 +44,7 @@ import com.android.photopicker.data.paging.AlbumMediaPagingSource
 import com.android.photopicker.data.paging.AlbumPagingSource
 import com.android.photopicker.data.paging.MediaPagingSource
 import com.android.photopicker.features.cloudmedia.CloudMediaFeature
+import java.util.Collections.emptyList
 import kotlinx.coroutines.CoroutineDispatcher
 import kotlinx.coroutines.CoroutineScope
 import kotlinx.coroutines.Job
@@ -402,7 +404,7 @@ class DataServiceImpl(
         }
 
     @GuardedBy("albumMediaPagingSourceMutex")
-    override fun albumMediaPagingSource(album: Album): PagingSource<MediaPageKey, Media> =
+    override fun albumMediaPagingSource(album: Group.BaseAlbum): PagingSource<MediaPageKey, Media> =
         runBlocking {
             refreshAlbumMedia(album)
 
@@ -525,7 +527,7 @@ class DataServiceImpl(
     }
 
     @GuardedBy("albumMediaPagingSourceMutex")
-    override suspend fun refreshAlbumMedia(album: Album) {
+    override suspend fun refreshAlbumMedia(album: Group.BaseAlbum) {
         albumMediaPagingSourceMutex.withLock {
             // Send album media refresh request only when the album media paging source is not
             // already cached.
@@ -579,33 +581,49 @@ class DataServiceImpl(
         val enforceAllowlist = configSnapshot.flags.CLOUD_ENFORCE_PROVIDER_ALLOWLIST
         val allowlist = configSnapshot.flags.CLOUD_ALLOWED_PROVIDERS
         val intent = Intent(CloudMediaProviderContract.PROVIDER_INTERFACE)
-        val packageManager = appContext.getPackageManager()
-        val allProviders: List<ResolveInfo> =
-            packageManager.queryIntentContentProvidersAsUser(intent, /* flags */ 0, user)
-
-        val allowedProviders =
-            allProviders
-                .filter {
-                    it.providerInfo.authority != null &&
-                        CloudMediaProviderContract.MANAGE_CLOUD_MEDIA_PROVIDERS_PERMISSION.equals(
-                            it.providerInfo.readPermission
-                        ) &&
-                        (!enforceAllowlist || allowlist.contains(it.providerInfo.packageName))
-                }
-                .map {
-                    Provider(
-                        authority = it.providerInfo.authority,
-                        mediaSource = MediaSource.REMOTE,
-                        uid =
-                            packageManager.getPackageUid(
-                                it.providerInfo.packageName,
-                                /* flags */ 0,
-                            ),
-                        displayName = it.loadLabel(packageManager) as? String ?: "",
-                    )
-                }
 
-        return allowedProviders
+        try {
+            val packageManager = appContext.getPackageManager()
+            val allProviders: List<ResolveInfo> =
+                packageManager.queryIntentContentProvidersAsUser(intent, /* flags */ 0, user)
+
+            val allowedProviders =
+                allProviders
+                    .filter {
+                        it.providerInfo.authority != null &&
+                            CloudMediaProviderContract.MANAGE_CLOUD_MEDIA_PROVIDERS_PERMISSION
+                                .equals(it.providerInfo.readPermission) &&
+                            (!enforceAllowlist || allowlist.contains(it.providerInfo.packageName))
+                    }
+                    .map {
+                        try {
+                            Provider(
+                                authority = it.providerInfo.authority,
+                                mediaSource = MediaSource.REMOTE,
+                                uid =
+                                    packageManager.getPackageUid(
+                                        it.providerInfo.packageName,
+                                        /* flags */ 0,
+                                    ),
+                                displayName = it.loadLabel(packageManager) as? String ?: "",
+                            )
+                        } catch (e: Exception) {
+                            Log.e(
+                                DataService.TAG,
+                                "Could not get package details for provider " +
+                                    "${it.providerInfo.authority}.",
+                                e,
+                            )
+                            null
+                        }
+                    }
+                    .filterNotNull()
+
+            return allowedProviders
+        } catch (e: Exception) {
+            Log.e(DataService.TAG, "An error in getting all available providers.", e)
+            return emptyList()
+        }
     }
 
     /**
diff --git a/photopicker/src/com/android/photopicker/data/MediaProviderClient.kt b/photopicker/src/com/android/photopicker/data/MediaProviderClient.kt
index 360e90f57..62d5f7abf 100644
--- a/photopicker/src/com/android/photopicker/data/MediaProviderClient.kt
+++ b/photopicker/src/com/android/photopicker/data/MediaProviderClient.kt
@@ -27,10 +27,12 @@ import androidx.core.os.bundleOf
 import androidx.paging.PagingSource.LoadResult
 import com.android.modules.utils.build.SdkLevel
 import com.android.photopicker.core.configuration.PhotopickerConfiguration
+import com.android.photopicker.data.MediaProviderClient.Companion.SEARCH_REQUEST_INIT_CALL_METHOD
 import com.android.photopicker.data.model.CollectionInfo
 import com.android.photopicker.data.model.Group
 import com.android.photopicker.data.model.GroupPageKey
 import com.android.photopicker.data.model.Icon
+import com.android.photopicker.data.model.ItemsPerMonth
 import com.android.photopicker.data.model.KeyToCategoryType
 import com.android.photopicker.data.model.Media
 import com.android.photopicker.data.model.MediaPageKey
@@ -60,6 +62,7 @@ open class MediaProviderClient {
         private const val EXTRA_ALBUM_AUTHORITY = "album_authority"
         private const val COLUMN_GRANTS_COUNT = "grants_count"
         private const val PRE_SELECTION_URIS = "pre_selection_uris"
+        private const val PROVIDERS = "providers"
         const val MEDIA_INIT_CALL_METHOD: String = "picker_media_init"
         const val SEARCH_REQUEST_INIT_CALL_METHOD = "picker_internal_search_media_init"
         const val GET_SEARCH_PROVIDERS_CALL_METHOD = "picker_internal_get_search_providers"
@@ -72,7 +75,11 @@ open class MediaProviderClient {
         PICKER_ID("picker_id"),
         DATE_TAKEN("date_taken_millis"),
         PAGE_SIZE("page_size"),
-        PROVIDERS("providers"),
+    }
+
+    /** Contains all optional and mandatory keys required to make a Media page key query */
+    private enum class MediaPageKeyQuery(val key: String) {
+        ITEM_POSITION("item_position")
     }
 
     /**
@@ -179,7 +186,6 @@ open class MediaProviderClient {
         LIMIT("limit"),
         HISTORY_LIMIT("history_limit"),
         PREFIX("prefix"),
-        PROVIDERS("providers"),
     }
 
     enum class SearchSuggestionsResponse(val key: String) {
@@ -190,10 +196,25 @@ open class MediaProviderClient {
         SUGGESTION_TYPE("suggestion_type"),
     }
 
+    /** Contains all keys for data in the Items per Month query response. */
+    enum class ItemsPerMonthResponse(val key: String) {
+        // The year is formatted as yyyy and is derived considering the device's local time.
+        YEAR_TAKEN("year_taken"),
+
+        // The month is formatted as MM and is derived considering the device's local time.
+        MONTH_TAKEN("month_taken"),
+
+        // ITEM_COUNT represents the column containing the count of items for a specific
+        // year and month combination.
+        ITEM_COUNT("item_count"),
+    }
+
     enum class GroupResponse(val key: String) {
         MEDIA_GROUP("media_group"),
+
         /** Identifier received from CMP. This cannot be null. */
         GROUP_ID("group_id"),
+
         /** Identifier used in Picker Backend, if any. */
         PICKER_ID("picker_id"),
         DISPLAY_NAME("display_name"),
@@ -220,12 +241,12 @@ open class MediaProviderClient {
                     AVAILABLE_PROVIDERS_URI,
                     /* projection */ null,
                     /* queryArgs */ null,
-                    /* cancellationSignal */ null, // TODO
+                    /* cancellationSignal */ null, // TODO(b/405340486)
                 )
                 .use { cursor ->
                     return getListOfProviders(cursor!!)
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             // If we can't fetch the available providers, basic functionality of photopicker does
             // not work. In order to catch this earlier in testing, throw an error instead of
             // silencing it.
@@ -242,7 +263,7 @@ open class MediaProviderClient {
                 /* arg */ null,
                 null,
             )
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             Log.e(TAG, "Ensure providers failed", e)
         }
     }
@@ -260,7 +281,7 @@ open class MediaProviderClient {
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.DATE_TAKEN.key to pageKey.dateTakenMillis,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         availableProviders.forEach { provider -> add(provider.authority) }
                     },
@@ -275,7 +296,7 @@ open class MediaProviderClient {
                     MEDIA_URI,
                     /* projection */ null,
                     input,
-                    /* cancellationSignal */ null, // TODO
+                    /* cancellationSignal */ null, // TODO(b/405340486)
                 )
                 .use { cursor ->
                     cursor?.let {
@@ -291,7 +312,7 @@ open class MediaProviderClient {
                             "Received a null response from Content Provider"
                         )
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException("Could not fetch media", e)
         }
     }
@@ -311,7 +332,7 @@ open class MediaProviderClient {
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.DATE_TAKEN.key to pageKey.dateTakenMillis,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         availableProviders.forEach { provider -> add(provider.authority) }
                     },
@@ -342,7 +363,7 @@ open class MediaProviderClient {
                             "Received a null response from Media Provider for search results"
                         )
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException("Could not fetch search results media", e)
         }
     }
@@ -363,7 +384,7 @@ open class MediaProviderClient {
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.DATE_TAKEN.key to pageKey.dateTakenMillis,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         availableProviders.forEach { provider -> add(provider.authority) }
                     },
@@ -381,7 +402,7 @@ open class MediaProviderClient {
                     MEDIA_PREVIEW_URI,
                     /* projection */ null,
                     input,
-                    /* cancellationSignal */ null, // TODO
+                    /* cancellationSignal */ null, // TODO(b/405340486)
                 )
                 .use { cursor ->
                     cursor?.let {
@@ -395,7 +416,7 @@ open class MediaProviderClient {
                             "Received a null response from Content Provider"
                         )
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException("Could not fetch preview media", e)
         }
     }
@@ -413,7 +434,7 @@ open class MediaProviderClient {
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.DATE_TAKEN.key to pageKey.dateTakenMillis,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         availableProviders.forEach { provider -> add(provider.authority) }
                     },
@@ -427,7 +448,7 @@ open class MediaProviderClient {
                     ALBUM_URI,
                     /* projection */ null,
                     input,
-                    /* cancellationSignal */ null, // TODO
+                    /* cancellationSignal */ null, // TODO(b/405340486)
                 )
                 .use { cursor ->
                     cursor?.let {
@@ -441,7 +462,7 @@ open class MediaProviderClient {
                             "Received a null response from Content Provider"
                         )
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException("Could not fetch albums", e)
         }
     }
@@ -462,7 +483,7 @@ open class MediaProviderClient {
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.DATE_TAKEN.key to pageKey.dateTakenMillis,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         availableProviders.forEach { provider -> add(provider.authority) }
                     },
@@ -477,7 +498,7 @@ open class MediaProviderClient {
                     getAlbumMediaUri(albumId),
                     /* projection */ null,
                     input,
-                    /* cancellationSignal */ null, // TODO
+                    /* cancellationSignal */ null, // TODO(b/405340486)
                 )
                 .use { cursor ->
                     cursor?.let {
@@ -491,7 +512,7 @@ open class MediaProviderClient {
                             "Received a null response from Content Provider"
                         )
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException("Could not fetch album media", e)
         }
     }
@@ -515,7 +536,7 @@ open class MediaProviderClient {
                 .use { cursor ->
                     return getListOfCollectionInfo(cursor!!)
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException("Could not fetch collection info", e)
         }
     }
@@ -573,7 +594,7 @@ open class MediaProviderClient {
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.DATE_TAKEN.key to pageKey.dateTakenMillis,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         availableProviders.forEach { provider -> add(provider.authority) }
                     },
@@ -590,10 +611,10 @@ open class MediaProviderClient {
                     MEDIA_PRE_SELECTION_URI,
                     /* projection */ null,
                     input,
-                    /* cancellationSignal */ null, // TODO
+                    /* cancellationSignal */ null, // TODO(b/405340486)
                 )
                 ?.getListOfMedia() ?: ArrayList()
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException("Could not fetch media", e)
         }
     }
@@ -615,7 +636,7 @@ open class MediaProviderClient {
                     SearchSuggestionsQuery.PREFIX.key to prefix,
                     SearchSuggestionsQuery.LIMIT.key to limit,
                     SearchSuggestionsQuery.HISTORY_LIMIT.key to historyLimit,
-                    MediaQuery.PROVIDERS.key to
+                    PROVIDERS to
                         ArrayList<String>().apply {
                             availableProviders.forEach { provider -> add(provider.authority) }
                         },
@@ -624,7 +645,7 @@ open class MediaProviderClient {
             return resolver
                 .query(SEARCH_SUGGESTIONS_URI, /* projection */ null, input, cancellationSignal)
                 ?.getListOfSearchSuggestions(availableProviders) ?: ArrayList()
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException("Could not fetch search suggestions", e)
         }
     }
@@ -646,7 +667,7 @@ open class MediaProviderClient {
             bundleOf(
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         availableProviders.forEach { provider -> add(provider.authority) }
                     },
@@ -675,7 +696,7 @@ open class MediaProviderClient {
                             "Received a null response from Content Provider"
                         )
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException(
                 "Could not fetch categories and albums for parent category $parentCategoryId",
                 e,
@@ -700,7 +721,7 @@ open class MediaProviderClient {
             bundleOf(
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to arrayListOf(parentCategory.authority),
+                PROVIDERS to arrayListOf(parentCategory.authority),
                 EXTRA_MIME_TYPES to config.mimeTypes,
                 EXTRA_INTENT_ACTION to config.action,
                 MediaSetsQuery.PARENT_CATEGORY_ID.key to parentCategory.id,
@@ -721,7 +742,7 @@ open class MediaProviderClient {
                             "Received a null response from Content Provider"
                         )
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException(
                 "Could not fetch media sets for parent category ${parentCategory.id}",
                 e,
@@ -746,7 +767,7 @@ open class MediaProviderClient {
                 MediaQuery.PICKER_ID.key to pageKey.pickerId,
                 MediaQuery.DATE_TAKEN.key to pageKey.dateTakenMillis,
                 MediaQuery.PAGE_SIZE.key to pageSize,
-                MediaQuery.PROVIDERS.key to arrayListOf(parentMediaSet.authority),
+                PROVIDERS to arrayListOf(parentMediaSet.authority),
                 EXTRA_MIME_TYPES to config.mimeTypes,
                 EXTRA_INTENT_ACTION to config.action,
                 Intent.EXTRA_UID to config.callingPackageUid,
@@ -768,7 +789,7 @@ open class MediaProviderClient {
                             "Received a null response from Content Provider"
                         )
                 }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             throw RuntimeException(
                 "Could not fetch media set contents for parent media set ${parentMediaSet.id}",
                 e,
@@ -837,7 +858,7 @@ open class MediaProviderClient {
                 EXTRA_MIME_TYPES to config.mimeTypes,
                 MediaSetsQuery.PARENT_CATEGORY_ID.key to category.id,
                 MediaSetsQuery.PARENT_CATEGORY_AUTHORITY.key to category.authority,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         providers.forEach { provider -> add(provider.authority) }
                     },
@@ -850,7 +871,7 @@ open class MediaProviderClient {
                 /* arg */ null,
                 extras,
             )
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             Log.e(TAG, "Could not send refresh media sets call to Media Provider $extras", e)
         }
     }
@@ -871,7 +892,7 @@ open class MediaProviderClient {
                 EXTRA_MIME_TYPES to config.mimeTypes,
                 MediaSetContentsQuery.PARENT_MEDIA_SET_PICKER_ID.key to mediaSet.pickerId,
                 MediaSetContentsQuery.PARENT_MEDIA_SET_AUTHORITY.key to mediaSet.authority,
-                MediaQuery.PROVIDERS.key to
+                PROVIDERS to
                     ArrayList<String>().apply {
                         providers.forEach { provider -> add(provider.authority) }
                     },
@@ -884,7 +905,7 @@ open class MediaProviderClient {
                 /* arg */ null,
                 extras,
             )
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             Log.e(
                 TAG,
                 "Could not send refresh media set contents call to Media Provider $extras",
@@ -988,6 +1009,7 @@ open class MediaProviderClient {
         when (searchRequest) {
             is SearchRequest.SearchTextRequest ->
                 extras.putString(SearchRequestInitRequest.SEARCH_TEXT.key, searchRequest.searchText)
+
             is SearchRequest.SearchSuggestionRequest -> {
                 extras.putString(
                     SearchRequestInitRequest.SEARCH_TEXT.key,
@@ -1039,7 +1061,7 @@ open class MediaProviderClient {
             return result?.getStringArrayList(SEARCH_PROVIDER_AUTHORITIES)?.filter {
                 availableProviderAuthorities?.contains(it) ?: true
             }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             // If we can't fetch the available providers, basic functionality of photopicker does
             // not work. In order to catch this earlier in testing, throw an error instead of
             // silencing it.
@@ -1048,6 +1070,96 @@ open class MediaProviderClient {
         }
     }
 
+    /**
+     * Fetches the number of media items available in MediaProvider for each month
+     *
+     * @param contentResolver The ContentResolver used to interact with the MediaProvider.
+     * @param availableProviders Available providers to get the media items
+     * @param config Given photopicker configurations
+     * @return A list of [ItemsPerMonth] objects, where each object represents a year, month, and
+     *   the corresponding item count (all in local time)
+     * @throws RuntimeException if an error occurs during the query or fetching the items counts
+     */
+    fun fetchItemsPerMonth(
+        contentResolver: ContentResolver,
+        availableProviders: List<Provider>,
+        config: PhotopickerConfiguration,
+    ): List<ItemsPerMonth> {
+        val input: Bundle =
+            bundleOf(
+                PROVIDERS to
+                    ArrayList<String>().apply {
+                        availableProviders.forEach { provider -> add(provider.authority) }
+                    },
+                EXTRA_MIME_TYPES to config.mimeTypes,
+                EXTRA_INTENT_ACTION to config.action,
+                Intent.EXTRA_UID to config.callingPackageUid,
+            )
+        return contentResolver
+            .query(
+                ITEMS_PER_MONTH_URI,
+                /* projection= */ null,
+                input,
+                /* cancellationSignal= */ null, // TODO(b/405340486)
+            )
+            .use { cursor ->
+                cursor?.getListOfItemCountPerMonth()
+                    ?: throw IllegalStateException(
+                        "Received a null response for Items Per Month from Content Provider."
+                    )
+            }
+    }
+
+    /**
+     * Fetches the [MediaPageKey] for the item at the specified position in MediaProvider. This
+     * request is cancellable in case the user moves away from the PhotoPicker page before the
+     * request completes.
+     *
+     * @param contentResolver The ContentResolver used to interact with the MediaProvider.
+     * @param itemPosition The 0-based index of the desired media item.
+     * @param availableProviders Available providers to get the media items
+     * @param config Given photopicker configurations
+     * @return The [MediaPageKey] for the item at the specified position.
+     * @throws IllegalArgumentException If invalid or negative [itemPosition] is given in the input
+     * @throws IllegalStateException If the Content Provider returns a null Cursor or if the Cursor
+     *   does not contain a valid [MediaPageKey].
+     */
+    fun fetchMediaPageKeyForItemPosition(
+        contentResolver: ContentResolver,
+        itemPosition: Int,
+        availableProviders: List<Provider>,
+        config: PhotopickerConfiguration,
+    ): MediaPageKey {
+        if (itemPosition < 0) {
+            throw IllegalArgumentException("Received invalid itemPosition $itemPosition ")
+        }
+        val input: Bundle =
+            bundleOf(
+                MediaPageKeyQuery.ITEM_POSITION.key to itemPosition,
+                PROVIDERS to
+                    ArrayList<String>().apply {
+                        availableProviders.forEach { provider -> add(provider.authority) }
+                    },
+                EXTRA_MIME_TYPES to config.mimeTypes,
+                EXTRA_INTENT_ACTION to config.action,
+                Intent.EXTRA_UID to config.callingPackageUid,
+            )
+        return contentResolver
+            .query(
+                MEDIA_PAGE_KEY_URI,
+                /* projection= */ null,
+                input,
+                /* cancellationSignal= */ null, // TODO(b/405340486)
+            )
+            .use { cursor ->
+                cursor?.getMediaPageKey()
+                    ?: throw IllegalStateException(
+                        "Received a null response for MediaPageKey at itemPosition $itemPosition " +
+                            "from Content Provider"
+                    )
+            }
+    }
+
     /** Creates a list of [Provider] from the given [Cursor]. */
     private fun getListOfProviders(cursor: Cursor): List<Provider> {
         val result: MutableList<Provider> = mutableListOf<Provider>()
@@ -1347,7 +1459,7 @@ open class MediaProviderClient {
                                 ),
                         )
                     )
-                } catch (e: RuntimeException) {
+                } catch (e: Exception) {
                     Log.e(TAG, "Received an invalid search suggestion. Skipping it.", e)
                 }
             } while (moveToNext())
@@ -1467,7 +1579,7 @@ open class MediaProviderClient {
                             Log.w(TAG, "Invalid group type: $groupType")
                         }
                     }
-                } catch (e: RuntimeException) {
+                } catch (e: Exception) {
                     Log.w(TAG, "Could not extract category or album from cursor, skipping it", e)
                 }
             } while (moveToNext())
@@ -1502,7 +1614,7 @@ open class MediaProviderClient {
                                 ) ?: Icon(uri = Uri.parse(""), mediaSource = MediaSource.LOCAL),
                         )
                     )
-                } catch (e: RuntimeException) {
+                } catch (e: Exception) {
                     Log.w(TAG, "Could not extract media set from cursor, skipping it", e)
                 }
             } while (moveToNext())
@@ -1520,7 +1632,7 @@ open class MediaProviderClient {
 
         try {
             unwrappedUriString = getString(getColumnIndexOrThrow(columnName))
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             Log.e(TAG, "Could not get unwrapped uri $unwrappedUriString from cursor", e)
         }
 
@@ -1533,10 +1645,50 @@ open class MediaProviderClient {
         }
     }
 
+    /**
+     * Creates a list of Items count per Month from the given [Cursor].
+     *
+     * @return A list of [ItemsPerMonth] objects, where each object represents a year, month, and
+     *   the corresponding item count (all in local time)
+     */
+    private fun Cursor.getListOfItemCountPerMonth(): List<ItemsPerMonth> {
+        val result: MutableList<ItemsPerMonth> = mutableListOf()
+        if (this.moveToFirst()) {
+            do {
+                val year =
+                    getString(getColumnIndexOrThrow(ItemsPerMonthResponse.YEAR_TAKEN.key)).toInt()
+                val month =
+                    getString(getColumnIndexOrThrow(ItemsPerMonthResponse.MONTH_TAKEN.key)).toInt()
+                val itemCount = getInt(getColumnIndexOrThrow(ItemsPerMonthResponse.ITEM_COUNT.key))
+                result.add(ItemsPerMonth(year, month, itemCount))
+            } while (moveToNext())
+        }
+        Log.d(
+            TAG,
+            "Items per month data : Found ${result.sumOf { it.itemCount }} " +
+                "items over ${result.size} months/years.",
+        )
+        return result
+    }
+
+    /**
+     * Extracts picker id and date taken from the given [Cursor]. In case the cursor does not
+     * contain this value, return null.
+     *
+     * @return The [MediaPageKey] for the item at the specified position.
+     */
+    private fun Cursor.getMediaPageKey(): MediaPageKey? {
+        if (this.moveToFirst()) {
+            val pickerId = getLong(getColumnIndexOrThrow(MediaResponse.PICKER_ID.key))
+            val dateTaken = getLong(getColumnIndexOrThrow(MediaResponse.DATE_TAKEN.key))
+            return MediaPageKey(pickerId = pickerId, dateTakenMillis = dateTaken)
+        }
+        return null
+    }
+
     /** Convert the input search suggestion type string to enum */
     private fun getSearchSuggestionType(stringSuggestionType: String?): SearchSuggestionType {
         requireNotNull(stringSuggestionType) { "Suggestion type is null" }
-
         return KeyToSearchSuggestionType[stringSuggestionType]
             ?: throw IllegalArgumentException(
                 "Unrecognized search suggestion type $stringSuggestionType"
@@ -1555,7 +1707,7 @@ open class MediaProviderClient {
                 /* arg */ null,
                 extras,
             )
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             Log.e(TAG, "Could not send refresh media call to Media Provider $extras", e)
         }
     }
diff --git a/photopicker/src/com/android/photopicker/data/PrefetchDataServiceImpl.kt b/photopicker/src/com/android/photopicker/data/PrefetchDataServiceImpl.kt
index 732cd2c16..ddf1358c0 100644
--- a/photopicker/src/com/android/photopicker/data/PrefetchDataServiceImpl.kt
+++ b/photopicker/src/com/android/photopicker/data/PrefetchDataServiceImpl.kt
@@ -20,6 +20,7 @@ import android.content.Context
 import android.util.Log
 import com.android.photopicker.core.user.UserMonitor
 import com.android.photopicker.core.user.UserProfile
+import com.android.photopicker.extensions.getContentResolverForUser
 import com.android.photopicker.features.search.model.GlobalSearchState
 import com.android.photopicker.features.search.model.GlobalSearchStateInfo
 import com.android.photopicker.util.mapOfDeferredWithTimeout
@@ -45,13 +46,7 @@ class PrefetchDataServiceImpl(
                     val lambda: suspend (MediaProviderClient) -> Any? =
                         { mediaProviderClient: MediaProviderClient ->
                             mediaProviderClient.fetchSearchProviderAuthorities(
-                                context
-                                    .createPackageContextAsUser(
-                                        context.packageName, /* flags */
-                                        0,
-                                        profile.handle,
-                                    )
-                                    .contentResolver
+                                context.getContentResolverForUser(profile.handle)
                             )
                         }
                     profile.identifier to lambda
diff --git a/photopicker/src/com/android/photopicker/data/UriHelper.kt b/photopicker/src/com/android/photopicker/data/UriHelper.kt
index 8e1a3dffa..141144b83 100644
--- a/photopicker/src/com/android/photopicker/data/UriHelper.kt
+++ b/photopicker/src/com/android/photopicker/data/UriHelper.kt
@@ -34,7 +34,9 @@ const val SEARCH_MEDIA_PATH_SEGMENT = "search_media"
 const val SEARCH_SUGGESTIONS_PATH_SEGMENT = "search_suggestions"
 const val CATEGORIES_PATH_SEGMENT = "categories"
 const val MEDIA_SETS_PATH_SEGMENT = "media_sets"
+const val PAGE_KEY_PATH_SEGMENT = "page_key"
 const val MEDIA_SET_CONTENTS_PATH_SEGMENT = "media_set_contents"
+const val ITEMS_PER_MONTH_PATH_SEGMENT = "monthly_aggregate"
 
 const val PICKER_SEGMENT = "picker"
 const val PICKER_TRANSCODED_SEGMENT = "picker_transcoded"
@@ -101,6 +103,26 @@ val MEDIA_CHANGE_NOTIFICATION_URI: Uri =
 /** URI for album metadata. */
 val ALBUM_URI: Uri = pickerUri.buildUpon().apply { appendPath(ALBUM_PATH_SEGMENT) }.build()
 
+/** URI for items per month metadata. */
+val ITEMS_PER_MONTH_URI: Uri =
+    pickerUri
+        .buildUpon()
+        .apply {
+            appendPath(MEDIA_PATH_SEGMENT)
+            appendPath(ITEMS_PER_MONTH_PATH_SEGMENT)
+        }
+        .build()
+
+/** URI for media page key metadata. */
+val MEDIA_PAGE_KEY_URI: Uri =
+    pickerUri
+        .buildUpon()
+        .apply {
+            appendPath(MEDIA_PATH_SEGMENT)
+            appendPath(PAGE_KEY_PATH_SEGMENT)
+        }
+        .build()
+
 /** URI that receives [ContentProvider] change notifications for album media updates. */
 val ALBUM_CHANGE_NOTIFICATION_URI: Uri =
     ALBUM_URI.buildUpon().apply { appendPath(UPDATE_PATH_SEGMENT) }.build()
diff --git a/photopicker/src/com/android/photopicker/data/model/CategoryType.kt b/photopicker/src/com/android/photopicker/data/model/CategoryType.kt
index c84d113e1..5be85eaac 100644
--- a/photopicker/src/com/android/photopicker/data/model/CategoryType.kt
+++ b/photopicker/src/com/android/photopicker/data/model/CategoryType.kt
@@ -22,6 +22,8 @@ import android.provider.CloudMediaProviderContract
 enum class CategoryType(val key: String) {
     PEOPLE_AND_PETS(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS),
     USER_ABLUMS(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS),
+    DEVICE_FOLDERS(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS),
+    APP_FOLDERS(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS),
 }
 
 /** A map of all Key -> [CategoryType] available. */
diff --git a/photopicker/src/com/android/photopicker/data/model/Group.kt b/photopicker/src/com/android/photopicker/data/model/Group.kt
index d88b4214c..b20904410 100644
--- a/photopicker/src/com/android/photopicker/data/model/Group.kt
+++ b/photopicker/src/com/android/photopicker/data/model/Group.kt
@@ -30,6 +30,47 @@ sealed interface Group : Parcelable {
     /** Unique identifier for this group */
     val id: String
 
+    /**
+     * Holds the core metadata of an album item. This is not meant to be a displayable or a
+     * glideLoadable class. It inherits from Group. It is used to for querying and displaying album
+     * media.
+     */
+    open class BaseAlbum(
+        /** This is the ID provided by the [Provider] of this data */
+        override val id: String,
+        open val authority: String,
+        open val displayName: String,
+    ) : Group {
+
+        override fun describeContents(): Int {
+            return 0
+        }
+
+        /** Implemented for [Parcelable], and handles all the common attributes. */
+        override fun writeToParcel(out: Parcel, flags: Int) {
+            out.writeString(id)
+            out.writeString(authority)
+            out.writeString(displayName)
+        }
+
+        companion object CREATOR : Parcelable.Creator<BaseAlbum> {
+
+            override fun createFromParcel(parcel: Parcel): BaseAlbum {
+                val album =
+                    BaseAlbum(
+                        /* id =*/ parcel.readString() ?: "",
+                        /* authority=*/ parcel.readString() ?: "",
+                        /* displayName =*/ parcel.readString() ?: "",
+                    )
+                return album
+            }
+
+            override fun newArray(size: Int): Array<BaseAlbum?> {
+                return arrayOfNulls(size)
+            }
+        }
+    }
+
     /**
      * Holds metadata for a album item. It is a type of a [Group] object because it represents a
      * collection of media items.
@@ -37,15 +78,14 @@ sealed interface Group : Parcelable {
     data class Album(
         /** This is the ID provided by the [Provider] of this data */
         override val id: String,
-
         /** This is the Picker ID auto-generated in Picker DB */
         val pickerId: Long,
-        val authority: String,
+        override val authority: String,
         val dateTakenMillisLong: Long,
-        val displayName: String,
+        override val displayName: String,
         val coverUri: Uri,
         val coverMediaSource: MediaSource,
-    ) : Group, GlideLoadable {
+    ) : BaseAlbum(id = id, authority = authority, displayName = displayName), GlideLoadable {
         override fun getSignature(resolution: Resolution): ObjectKey {
             return ObjectKey("${coverUri}_$resolution")
         }
diff --git a/photopicker/src/com/android/photopicker/data/model/ItemsPerMonth.kt b/photopicker/src/com/android/photopicker/data/model/ItemsPerMonth.kt
new file mode 100644
index 000000000..403d74bf4
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/data/model/ItemsPerMonth.kt
@@ -0,0 +1,26 @@
+/*
+ * Copyright (C) 2024 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.data.model
+
+/**
+ * Represents the count of items for a specific year and month.
+ *
+ * @property year The year.
+ * @property month The month.
+ * @property itemCount The count of items for the given year and month.
+ */
+data class ItemsPerMonth(val year: Int, val month: Int, val itemCount: Int)
diff --git a/photopicker/src/com/android/photopicker/data/model/Media.kt b/photopicker/src/com/android/photopicker/data/model/Media.kt
index efd5728eb..d27223f03 100644
--- a/photopicker/src/com/android/photopicker/data/model/Media.kt
+++ b/photopicker/src/com/android/photopicker/data/model/Media.kt
@@ -49,14 +49,14 @@ sealed interface Media : GlideLoadable, Grantable, Parcelable, Selectable {
     val mimeType: String
     val standardMimeTypeExtension: Int
     override val selectionSource: Telemetry.MediaLocation?
-    override val mediaItemAlbum: Group.Album?
+    override val mediaItemAlbum: Group.BaseAlbum?
     override val isPreGranted: Boolean
 
     companion object {
         fun withSelectable(
             item: Media,
             selectionSource: Telemetry.MediaLocation,
-            album: Group.Album?,
+            album: Group.BaseAlbum?,
         ): Media {
             return when (item) {
                 is Image -> item.copy(selectionSource = selectionSource, mediaItemAlbum = album)
@@ -122,7 +122,7 @@ sealed interface Media : GlideLoadable, Grantable, Parcelable, Selectable {
         override val standardMimeTypeExtension: Int,
         override val isPreGranted: Boolean = false,
         override val selectionSource: Telemetry.MediaLocation? = null,
-        override val mediaItemAlbum: Group.Album? = null,
+        override val mediaItemAlbum: Group.BaseAlbum? = null,
     ) : Media {
 
         override fun writeToParcel(out: Parcel, flags: Int) {
@@ -197,7 +197,7 @@ sealed interface Media : GlideLoadable, Grantable, Parcelable, Selectable {
         val duration: Int,
         override val isPreGranted: Boolean = false,
         override val selectionSource: Telemetry.MediaLocation? = null,
-        override val mediaItemAlbum: Group.Album? = null,
+        override val mediaItemAlbum: Group.BaseAlbum? = null,
     ) : Media {
 
         override fun writeToParcel(out: Parcel, flags: Int) {
diff --git a/photopicker/src/com/android/photopicker/data/model/Selectable.kt b/photopicker/src/com/android/photopicker/data/model/Selectable.kt
index aa68c45ee..46f1bdacc 100644
--- a/photopicker/src/com/android/photopicker/data/model/Selectable.kt
+++ b/photopicker/src/com/android/photopicker/data/model/Selectable.kt
@@ -26,5 +26,5 @@ interface Selectable {
     /** Holds whether the media items is present in the main grid or the albums grid */
     val selectionSource: Telemetry.MediaLocation?
     /** Holds the album the media item is part of in case it is present in the albums grid */
-    val mediaItemAlbum: Group.Album?
+    val mediaItemAlbum: Group.BaseAlbum?
 }
diff --git a/photopicker/src/com/android/photopicker/extensions/Context.kt b/photopicker/src/com/android/photopicker/extensions/Context.kt
index d6ad82bd6..1db90935d 100644
--- a/photopicker/src/com/android/photopicker/extensions/Context.kt
+++ b/photopicker/src/com/android/photopicker/extensions/Context.kt
@@ -16,7 +16,11 @@
 
 package com.android.photopicker.extensions
 
+import android.content.ContentResolver
 import android.content.Context
+import android.content.pm.PackageManager.NameNotFoundException
+import android.os.UserHandle
+import android.util.Log
 import androidx.core.content.getSystemService
 
 /**
@@ -29,3 +33,40 @@ import androidx.core.content.getSystemService
 inline fun <reified T> Context.requireSystemService(): T {
     return checkNotNull(getSystemService()) { "A required System Service was null" }
 }
+
+/**
+ * Extension that tries to get the contentResolver from the given user and package's context.
+ *
+ * In case, the package does not exist in the given user profile, this method falls back to creating
+ * a system context for the given user and then getting the content resolver.
+ *
+ * If any other unexpected error occurs, this method throws an Exception.
+ *
+ * @param userHandle UserHandle to identify the user
+ * @param packageName This is an optional parameter. The default is the current package name.
+ * @throws Exception in case an unexpected error occurs.
+ */
+fun Context.getContentResolverForUser(
+    userHandle: UserHandle,
+    packageName: String = this.packageName,
+): ContentResolver {
+    try {
+        return createPackageContextAsUser(packageName, /* flags */ 0, userHandle).contentResolver
+    } catch (e: NameNotFoundException) {
+        // If the Photopicker package does not exist in the given user profile,
+        // [Context.createPackageContextAsUser()] throws this error. In this case, we attempt to
+        // create a [Context] object for the user for system apps to get the right content resolver.
+
+        Log.w(
+            "PhotopickerContextExtension",
+            "Could not find the Photopicker package in user ${userHandle.getIdentifier()}",
+        )
+        return createPackageContextAsUser("android", /* flags */ 0, userHandle).contentResolver
+    } catch (e: Exception) {
+        throw Exception(
+            "Can't get the content resolver for the user profile " +
+                "${userHandle.getIdentifier()}",
+            e,
+        )
+    }
+}
diff --git a/photopicker/src/com/android/photopicker/extensions/Flow.kt b/photopicker/src/com/android/photopicker/extensions/Flow.kt
index 3072de565..883b2f5ab 100644
--- a/photopicker/src/com/android/photopicker/extensions/Flow.kt
+++ b/photopicker/src/com/android/photopicker/extensions/Flow.kt
@@ -35,13 +35,25 @@ import kotlinx.coroutines.flow.map
  * An extension function to prepare a flow of [PagingData<Media>] to be provided to the [MediaGrid]
  * composable, by wrapping all of the [Media] objects in a [MediaGridItem.MediaItem].
  *
- * @return A [PagingData<MediaGridItem.MediaItem] that can be processed further, or provided to the
+ * @return A [PagingData<MediaGridItem.MediaItem>] that can be processed further, or provided to the
  *   [MediaGrid].
  */
 fun Flow<PagingData<Media>>.toMediaGridItemFromMedia(): Flow<PagingData<MediaGridItem.MediaItem>> {
     return this.map { pagingData -> pagingData.map { MediaGridItem.MediaItem(it) } }
 }
 
+/**
+ * An extension function to prepare a flow of [PagingData<Media>] to be provided to the [MediaGrid]
+ * composable, by wrapping all of the [Media] objects in a [MediaGridItem.MediaItem]. This extension
+ * returns the generic [MediaGridItem] for compatibility with other grid functionality.
+ *
+ * @return A [PagingData<MediaGridItem>] that can be processed further, or provided to the
+ *   [MediaGrid].
+ */
+fun Flow<PagingData<Media>>.toMediaGridItemBaseFromMedia(): Flow<PagingData<MediaGridItem>> {
+    return this.map { pagingData -> pagingData.map { MediaGridItem.MediaItem(it) } }
+}
+
 /**
  * An extension function to prepare a flow of [PagingData<Album>] to be provided to the [MediaGrid]
  * composable, by wrapping all of the [Album] objects in a [MediaGridItem].
@@ -100,6 +112,9 @@ fun Flow<PagingData<Group>>.toMediaGridItemFromCategory(
                 }
                 is Group.Category -> MediaGridItem.CategoryItem(group)
                 is Group.Album -> MediaGridItem.AlbumItem(group)
+                // [Group.BaseAlbum] is not a displayable group.
+                is Group.BaseAlbum ->
+                    throw IllegalArgumentException("Unsupported Group type BaseAlbum received.")
             }
         }
     }
diff --git a/photopicker/src/com/android/photopicker/extensions/Intent.kt b/photopicker/src/com/android/photopicker/extensions/Intent.kt
index 111ed9814..e0ef72855 100644
--- a/photopicker/src/com/android/photopicker/extensions/Intent.kt
+++ b/photopicker/src/com/android/photopicker/extensions/Intent.kt
@@ -20,11 +20,17 @@ import android.content.Intent
 import android.media.ApplicationMediaCapabilities
 import android.net.Uri
 import android.os.Build
+import android.os.Bundle
 import android.provider.MediaStore
 import androidx.annotation.RequiresApi
 import com.android.modules.utils.build.SdkLevel
+import com.android.photopicker.core.configuration.DEFAULT_HIGHLIGHT_QUERY_RESULTS_PARAMS
 import com.android.photopicker.core.configuration.IllegalIntentExtraException
 import com.android.photopicker.core.navigation.PhotopickerDestinations
+import com.android.photopicker.features.highlightmediaresults.model.HighlightAlbum
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQueryResultsParams
+import com.android.photopicker.features.highlightmediaresults.model.QueryResultsHighlightType
 
 /**
  * Check the various possible actions the intent could be running under and extract a valid value
@@ -143,6 +149,106 @@ fun Intent.getStartDestination(default: PhotopickerDestinations): PhotopickerDes
     }
 }
 
+/**
+ * Validate the [MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS] and the
+ * [MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM] extra from the intent to extract out the media
+ * highlight request params. These extras are only applicable in ACTION_PICK_IMAGES and will be
+ * ignored in all other configurations.
+ *
+ * @return The [HighlightQueryResultsParams] object that contains the media highlight request
+ *   params. The object holds default values in case of no valid params are extracted.
+ */
+fun Intent.getHighlightQueryResultsParams(): HighlightQueryResultsParams {
+
+    if (
+        getExtras()?.containsKey(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS) == true &&
+            getExtras()?.containsKey(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM) == true
+    ) {
+        throw IllegalArgumentException(
+            "Only one of EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS " +
+                " or EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM should be specified."
+        )
+    }
+
+    if (getExtras()?.containsKey(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS) == true) {
+        return when (getAction()) {
+            // This extra is only supported for ACTION_PICK_IMAGES
+            MediaStore.ACTION_PICK_IMAGES -> {
+                // Return the default query params in case the retrieved bundle is null or empty
+                val highlightQueryResultsParamsBundle: Bundle =
+                    getBundleExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS)
+                        ?: return DEFAULT_HIGHLIGHT_QUERY_RESULTS_PARAMS
+                val highlightType = getHighlightTypeFromBundle(highlightQueryResultsParamsBundle)
+                val highlightTextQuery =
+                    highlightQueryResultsParamsBundle.getString(
+                        MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY
+                    )
+                if (highlightTextQuery == null) {
+                    throw IllegalArgumentException("Received input highlight query is null")
+                }
+                return HighlightQueryResultsParams(
+                    queryResultsHighlightType = highlightType,
+                    queryResultsHighlightQuery =
+                        HighlightQuery.Search(searchQuery = highlightTextQuery),
+                )
+            }
+            else ->
+                throw IllegalIntentExtraException(
+                    "EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS is not supported for ${getAction()}, " +
+                        "use ACTION_PICK_IMAGES instead."
+                )
+        }
+    } else if (getExtras()?.containsKey(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM) == true) {
+        return when (getAction()) {
+            MediaStore.ACTION_PICK_IMAGES -> {
+                // Return the default query params in case the retrieved bundle is null or empty
+                val highlightQueryResultsParamsBundle: Bundle =
+                    getBundleExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM)
+                        ?: return DEFAULT_HIGHLIGHT_QUERY_RESULTS_PARAMS
+                val highlightType = getHighlightTypeFromBundle(highlightQueryResultsParamsBundle)
+                val retrievedHighlightAlbum =
+                    highlightQueryResultsParamsBundle.getString(
+                        MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID
+                    )
+                if (retrievedHighlightAlbum == null) {
+                    throw IllegalArgumentException("Highlight album value cannot be null")
+                }
+                val highlightAlbum = HighlightAlbum.toHighlightAlbum(retrievedHighlightAlbum)
+                if (highlightAlbum == HighlightAlbum.UNSET_HIGHLIGHT_ALBUM) {
+                    throw IllegalArgumentException("Unexpected album id received")
+                }
+                return HighlightQueryResultsParams(
+                    queryResultsHighlightType = highlightType,
+                    queryResultsHighlightQuery = HighlightQuery.Album(album = highlightAlbum),
+                )
+            }
+            else ->
+                throw IllegalIntentExtraException(
+                    "EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM is not supported for ${getAction()}, " +
+                        "use ACTION_PICK_IMAGES instead."
+                )
+        }
+    } else {
+        return DEFAULT_HIGHLIGHT_QUERY_RESULTS_PARAMS
+    }
+}
+
+private fun getHighlightTypeFromBundle(highlightBundle: Bundle): QueryResultsHighlightType {
+    val retrievedHighlightQueryResultsHighlightType =
+        highlightBundle.getInt(
+            MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE,
+            /* default*/ MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED,
+        )
+    val highlightType =
+        QueryResultsHighlightType.toQueryResultsHighlightType(
+            retrievedHighlightQueryResultsHighlightType
+        )
+    if (highlightType == QueryResultsHighlightType.UNSET_HIGHLIGHT_TYPE) {
+        throw IllegalArgumentException("Unexpected highlight type received")
+    }
+    return highlightType
+}
+
 /**
  * @return An [ArrayList] of MIME type filters derived from the intent. If no MIME type filters
  *   should be applied, return null.
diff --git a/photopicker/src/com/android/photopicker/extensions/Modifier.kt b/photopicker/src/com/android/photopicker/extensions/Modifier.kt
index bb16cb758..059e5df51 100644
--- a/photopicker/src/com/android/photopicker/extensions/Modifier.kt
+++ b/photopicker/src/com/android/photopicker/extensions/Modifier.kt
@@ -19,22 +19,39 @@ package com.android.photopicker.extensions
 import android.os.Build
 import android.view.SurfaceControlViewHost
 import androidx.annotation.RequiresApi
+import androidx.compose.animation.core.animateFloat
+import androidx.compose.animation.core.infiniteRepeatable
+import androidx.compose.animation.core.rememberInfiniteTransition
+import androidx.compose.animation.core.tween
+import androidx.compose.foundation.background
 import androidx.compose.foundation.gestures.Orientation
 import androidx.compose.foundation.gestures.ScrollableState
 import androidx.compose.foundation.gestures.awaitEachGesture
 import androidx.compose.foundation.gestures.awaitFirstDown
+import androidx.compose.foundation.gestures.calculateZoom
+import androidx.compose.foundation.layout.size
+import androidx.compose.material3.MaterialTheme
 import androidx.compose.runtime.State
+import androidx.compose.runtime.getValue
+import androidx.compose.runtime.mutableStateOf
+import androidx.compose.runtime.remember
+import androidx.compose.runtime.setValue
 import androidx.compose.ui.Modifier
+import androidx.compose.ui.composed
 import androidx.compose.ui.draw.drawBehind
 import androidx.compose.ui.geometry.Offset
 import androidx.compose.ui.geometry.isSpecified
+import androidx.compose.ui.graphics.Brush
 import androidx.compose.ui.graphics.Color
 import androidx.compose.ui.graphics.drawscope.Stroke
 import androidx.compose.ui.graphics.isUnspecified
 import androidx.compose.ui.input.pointer.PointerEventPass
+import androidx.compose.ui.input.pointer.PointerEventTimeoutCancellationException
 import androidx.compose.ui.input.pointer.pointerInput
 import androidx.compose.ui.layout.layout
+import androidx.compose.ui.layout.onGloballyPositioned
 import androidx.compose.ui.unit.Dp
+import androidx.compose.ui.unit.IntSize
 import androidx.compose.ui.unit.dp
 import androidx.compose.ui.unit.offset
 import com.android.photopicker.util.TouchSlopDetector
@@ -142,6 +159,12 @@ fun Modifier.transferTouchesToHostInEmbedded(
  * composable and the [mediaGrid] composable that backs all media and group grids in Photopicker
  * like [PhotoGrid], [SearchResultsGrid] etc.
  *
+ * NOTE: The below touch event types are not transferred and are ignored by this modifier:
+ * - Touch events that begin with a LongPress longer than [viewConfiguration.longPressTimeoutMillis]
+ *   are ignored by this modifier and not transferred.
+ * - "Pinch" or "Zoom" gestures that contain multiple pointers and that increase the centroid zoom
+ *   amount above or below 1.0
+ *
  * @param state the state of the scrollable object like lazy grid or lazy list. If state is null
  *   means a scrollable object has not requested the custom modifier
  * @param isExpanded the updates on current status of embedded photopicker
@@ -178,17 +201,51 @@ private fun Modifier.transferTouchesToSurfaceControlViewHost(
                 // Wait for the first pointer touch.
                 val down = awaitFirstDown(requireUnconsumed = false, pass = pass)
                 val pointerId = down.id
+                val longPressTimeout = viewConfiguration.longPressTimeoutMillis
+
+                // Watch for a long press before proceeding to the main loop
+                val isLongPress: Boolean =
+                    try {
+                        withTimeout(longPressTimeout) {
+                            var pastSlop = false
+                            while (!pastSlop) {
+                                val event = awaitPointerEvent(pass = pass)
+                                val change = event.changes.firstOrNull { it.id == pointerId }
+                                change?.let {
+                                    val pastTouchSlop =
+                                        touchSlopDetector.addPointerInputChange(it, touchSlop)
+                                    if (pastTouchSlop.isSpecified) {
+                                        pastSlop = true
+                                    }
+                                }
+                            }
+                            false
+                        }
+                    } catch (_: PointerEventTimeoutCancellationException) {
+                        // If timeout expires without passing touchslop, this gesture is a
+                        // LongPress.
+                        true
+                    }
 
                 // Now that a down exists set up a loop which processes the touch input and
                 // evaluates if it should be sent to the host.
                 do {
                     // Check if the initial pointer input change was part of a drag gesture.
                     val event = awaitPointerEvent(pass = pass)
+
+                    // Look at all the pointers in this event and calculate if the current event
+                    // contains multi pointer zoom
+                    val zoomAmount = event.calculateZoom()
+
+                    // It is considered a zoom or "pinch" gesture if the zoomAmount for the event is
+                    // ever not 1.0
+                    val isZoom = zoomAmount != 1f
+
                     val dragEvent = event.changes.firstOrNull { it.id == pointerId }
 
                     // If the dragEvent cannot be found for the pointer, or is consumed elsewhere
                     // cancel this gesture.
-                    val canceled = dragEvent?.isConsumed ?: true
+                    val canceled = isLongPress || isZoom || dragEvent?.isConsumed ?: true
 
                     // If the event is not a dragEvent or it was already consumed,
                     // stop handling the event.
@@ -243,3 +300,30 @@ private fun Modifier.transferTouchesToSurfaceControlViewHost(
 
     return this then pointerInputModifier
 }
+
+/** Apply a shimmer effect as background to the composable */
+fun Modifier.shimmerEffect(): Modifier = composed {
+    var size by remember { mutableStateOf(IntSize.Zero) }
+    val transition = rememberInfiniteTransition()
+    val startOffsetX by
+        transition.animateFloat(
+            initialValue = -size.width.toFloat(),
+            targetValue = 2 * size.width.toFloat(),
+            animationSpec = infiniteRepeatable(animation = tween(durationMillis = 3000)),
+        )
+
+    background(
+            brush =
+                Brush.linearGradient(
+                    colors =
+                        listOf(
+                            MaterialTheme.colorScheme.surfaceContainerLowest,
+                            MaterialTheme.colorScheme.surfaceContainerHigh,
+                            MaterialTheme.colorScheme.surfaceContainerLowest,
+                        ),
+                    start = Offset(startOffsetX, 0f),
+                    end = Offset(startOffsetX + size.width.toFloat(), size.height.toFloat()),
+                )
+        )
+        .onGloballyPositioned { size = it.size }
+}
diff --git a/photopicker/src/com/android/photopicker/extensions/NavController.kt b/photopicker/src/com/android/photopicker/extensions/NavController.kt
index d11f5b479..bf16c1bc3 100644
--- a/photopicker/src/com/android/photopicker/extensions/NavController.kt
+++ b/photopicker/src/com/android/photopicker/extensions/NavController.kt
@@ -147,7 +147,7 @@ fun NavController.navigateToCategoryGrid(navOptions: NavOptions? = null) {
  */
 fun NavController.navigateToAlbumMediaGridForCategories(
     navOptions: NavOptions? = null,
-    album: Group.Album,
+    album: Group.BaseAlbum,
 ) {
     this.navigate(PhotopickerDestinations.ALBUM_MEDIA_GRID.route, navOptions)
 
diff --git a/photopicker/src/com/android/photopicker/features/albumgrid/AlbumGrid.kt b/photopicker/src/com/android/photopicker/features/albumgrid/AlbumGrid.kt
index a281c5944..3a1d50208 100644
--- a/photopicker/src/com/android/photopicker/features/albumgrid/AlbumGrid.kt
+++ b/photopicker/src/com/android/photopicker/features/albumgrid/AlbumGrid.kt
@@ -148,6 +148,7 @@ fun AlbumGrid(viewModel: AlbumGridViewModel = obtainViewModel()) {
                     navController.navigateToAlbumMediaGrid(album = item.album)
                 }
             },
+            onItemLongPress = {},
             isExpandedScreen = isExpandedScreen,
             columns =
                 when (isExpandedScreen) {
diff --git a/photopicker/src/com/android/photopicker/features/categorygrid/AlbumMediaGrid.kt b/photopicker/src/com/android/photopicker/features/categorygrid/AlbumMediaGrid.kt
index 609772ca1..9718ae2eb 100644
--- a/photopicker/src/com/android/photopicker/features/categorygrid/AlbumMediaGrid.kt
+++ b/photopicker/src/com/android/photopicker/features/categorygrid/AlbumMediaGrid.kt
@@ -23,7 +23,6 @@ import androidx.compose.foundation.layout.Column
 import androidx.compose.foundation.layout.fillMaxSize
 import androidx.compose.foundation.layout.fillMaxWidth
 import androidx.compose.foundation.layout.padding
-import androidx.compose.foundation.lazy.grid.rememberLazyGridState
 import androidx.compose.material.icons.Icons
 import androidx.compose.material.icons.outlined.Image
 import androidx.compose.material.icons.outlined.PhotoCamera
@@ -79,7 +78,7 @@ import kotlinx.coroutines.launch
  */
 @Composable
 fun AlbumMediaGrid(
-    flow: StateFlow<Group.Album?>,
+    flow: StateFlow<Group.BaseAlbum?>,
     viewModel: CategoryGridViewModel = obtainViewModel(),
 ) {
     val albumState by flow.collectAsStateWithLifecycle(initialValue = null)
@@ -99,7 +98,7 @@ fun AlbumMediaGrid(
 /** Initialises all the states and media source required to load media for the input [album]. */
 @Composable
 private fun AlbumMediaGrid(
-    album: Group.Album,
+    album: Group.BaseAlbum,
     albumItems: Flow<PagingData<MediaGridItem>>,
     viewModel: CategoryGridViewModel = obtainViewModel(),
 ) {
@@ -128,7 +127,6 @@ private fun AlbumMediaGrid(
             else -> false
         }
 
-    val state = rememberLazyGridState()
     val isEmbedded =
         LocalPhotopickerConfiguration.current.runtimeEnv == PhotopickerRuntimeEnv.EMBEDDED
 
@@ -164,50 +162,81 @@ private fun AlbumMediaGrid(
             }
             else -> {
 
-                mediaGrid(
-                    // Album content grid
-                    items = items,
-                    isExpandedScreen = isExpandedScreen,
-                    selection = selection,
-                    onItemClick = { item ->
-                        if (item is MediaGridItem.MediaItem) {
-                            viewModel.handleAlbumMediaGridItemSelection(
-                                item.media,
-                                selectionLimitExceededMessage,
-                                album,
-                            )
-                        }
-                    },
-                    onItemLongPress = { item ->
-                        // If the [PreviewFeature] is enabled, launch the preview route.
-                        if (isPreviewEnabled && item is MediaGridItem.MediaItem) {
-                            // Dispatch UI event to log long pressing the media item
-                            scope.launch {
-                                events.dispatch(
-                                    Event.LogPhotopickerUIEvent(
-                                        FeatureToken.PREVIEW.token,
-                                        configuration.sessionId,
-                                        configuration.callingPackageUid ?: -1,
-                                        Telemetry.UiEvent.PICKER_LONG_SELECT_MEDIA_ITEM,
+                when (
+                    configuration.flags.MEDIA_GRID_TOUCH_FEATURES_ENABLED &&
+                        configuration.selectionLimit > 1
+                ) {
+                    true -> { // Drag-to-select enabled
+                        mediaGrid(
+                            items = items,
+                            isExpandedScreen = isExpandedScreen,
+                            selection = selection,
+                            dragSelectionEnabled = true,
+                            dragSelectIndexOffset = 0, // by default, which is suitable here.
+                            onItemClick = { item ->
+                                if (item is MediaGridItem.MediaItem) {
+                                    viewModel.handleAlbumMediaGridItemSelection(
+                                        item.media,
+                                        selectionLimitExceededMessage,
+                                        album,
                                     )
+                                }
+                            },
+                            selectionTransform = {
+                                mediaItem: com.android.photopicker.data.model.Media ->
+                                com.android.photopicker.data.model.Media.withSelectable(
+                                    item = mediaItem,
+                                    selectionSource = Telemetry.MediaLocation.ALBUM,
+                                    album = album,
                                 )
-                            }
-                            // Dispatch UI event to log entry into preview mode
-                            scope.launch {
-                                events.dispatch(
-                                    Event.LogPhotopickerUIEvent(
-                                        FeatureToken.PREVIEW.token,
-                                        configuration.sessionId,
-                                        configuration.callingPackageUid ?: -1,
-                                        Telemetry.UiEvent.ENTER_PICKER_PREVIEW_MODE,
+                            },
+                        )
+                    }
+                    false -> { // Drag-to-select disabled
+                        mediaGrid(
+                            items = items,
+                            isExpandedScreen = isExpandedScreen,
+                            selection = selection,
+                            onItemClick = { item ->
+                                if (item is MediaGridItem.MediaItem) {
+                                    viewModel.handleAlbumMediaGridItemSelection(
+                                        item.media,
+                                        selectionLimitExceededMessage,
+                                        album,
                                     )
-                                )
-                            }
-                            navController.navigateToPreviewMedia(item.media)
-                        }
-                    },
-                    state = state,
-                )
+                                }
+                            },
+                            onItemLongPress = { item ->
+                                // If the [PreviewFeature] is enabled, launch the preview route.
+                                if (isPreviewEnabled && item is MediaGridItem.MediaItem) {
+                                    // Dispatch UI event to log long pressing the media item
+                                    scope.launch {
+                                        events.dispatch(
+                                            Event.LogPhotopickerUIEvent(
+                                                FeatureToken.PREVIEW.token,
+                                                configuration.sessionId,
+                                                configuration.callingPackageUid ?: -1,
+                                                Telemetry.UiEvent.PICKER_LONG_SELECT_MEDIA_ITEM,
+                                            )
+                                        )
+                                    }
+                                    // Dispatch UI event to log entry into preview mode
+                                    scope.launch {
+                                        events.dispatch(
+                                            Event.LogPhotopickerUIEvent(
+                                                FeatureToken.PREVIEW.token,
+                                                configuration.sessionId,
+                                                configuration.callingPackageUid ?: -1,
+                                                Telemetry.UiEvent.ENTER_PICKER_PREVIEW_MODE,
+                                            )
+                                        )
+                                    }
+                                    navController.navigateToPreviewMedia(item.media)
+                                }
+                            },
+                        )
+                    }
+                }
                 LaunchedEffect(Unit) {
                     // Dispatch UI event to log loading of album contents
                     events.dispatch(
@@ -231,7 +260,9 @@ private fun AlbumMediaGrid(
  * @return a [Triple] that contains the [Title, Body, Icon] for the empty state.
  */
 @Composable
-private fun getEmptyStateContentForAlbum(album: Group.Album): Triple<String, String, ImageVector> {
+private fun getEmptyStateContentForAlbum(
+    album: Group.BaseAlbum
+): Triple<String, String, ImageVector> {
     return when (album.id) {
         ALBUM_ID_FAVORITES ->
             Triple(
diff --git a/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGrid.kt b/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGrid.kt
index f6703268c..fce278cd0 100644
--- a/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGrid.kt
+++ b/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGrid.kt
@@ -39,7 +39,6 @@ import androidx.compose.ui.graphics.vector.ImageVector
 import androidx.compose.ui.input.pointer.pointerInput
 import androidx.compose.ui.res.stringResource
 import androidx.compose.ui.res.vectorResource
-import androidx.compose.ui.semantics.contentDescription
 import androidx.compose.ui.text.style.TextOverflow
 import androidx.compose.ui.unit.dp
 import androidx.lifecycle.compose.collectAsStateWithLifecycle
@@ -53,6 +52,7 @@ import com.android.photopicker.core.events.LocalEvents
 import com.android.photopicker.core.events.Telemetry
 import com.android.photopicker.core.features.FeatureToken
 import com.android.photopicker.core.features.LocalFeatureManager
+import com.android.photopicker.core.features.LocationParams
 import com.android.photopicker.core.navigation.LocalNavController
 import com.android.photopicker.core.navigation.PhotopickerDestinations
 import com.android.photopicker.core.obtainViewModel
@@ -63,7 +63,6 @@ import com.android.photopicker.extensions.navigateToMediaSetGrid
 import com.android.photopicker.extensions.navigateToPhotoGrid
 import com.android.photopicker.features.navigationbar.NavigationBarButton
 import com.android.photopicker.features.photogrid.PhotoGridFeature
-import com.android.photopicker.features.search.SearchFeature
 import kotlinx.coroutines.launch
 
 /** The number of grid cells per row for Phone / narrow layouts */
@@ -172,6 +171,7 @@ fun CategoryGrid(viewModel: CategoryGridViewModel = obtainViewModel()) {
                     navController.navigateToMediaSetGrid(category = item.category)
                 }
             },
+            onItemLongPress = {},
             isExpandedScreen = isExpandedScreen,
             columns =
                 when (isExpandedScreen) {
@@ -204,14 +204,13 @@ fun CategoryGrid(viewModel: CategoryGridViewModel = obtainViewModel()) {
  * [Location.NAVIGATION_BAR_NAV_BUTTON]
  */
 @Composable
-fun CategoryButton(modifier: Modifier) {
+fun CategoryButton(modifier: Modifier, params: LocationParams) {
     val navController = LocalNavController.current
     val scope = rememberCoroutineScope()
     val events = LocalEvents.current
     val sessionId = LocalPhotopickerConfiguration.current.sessionId
     val packageUid = LocalPhotopickerConfiguration.current.callingPackageUid ?: -1
-    val featureManager = LocalFeatureManager.current
-    val searchFeatureEnabled = featureManager.isFeatureEnabled(SearchFeature::class.java)
+    val showButtonIcon = params as? LocationParams.WithNavButtonIcon
 
     NavigationBarButton(
         onClick = {
@@ -231,13 +230,14 @@ fun CategoryButton(modifier: Modifier) {
         modifier = modifier,
         isCurrentRoute = { route -> route == PhotopickerDestinations.ALBUM_GRID.route },
     ) {
-        when {
-            searchFeatureEnabled -> {
+        when (showButtonIcon?.showButtonIcon()) {
+            true -> {
                 Row(verticalAlignment = Alignment.CenterVertically) {
                     Icon(
                         imageVector =
                             ImageVector.vectorResource(R.drawable.photopicker_category_icon),
-                        contentDescription = null,
+                        contentDescription =
+                            stringResource(R.string.photopicker_categories_nav_button_label),
                         modifier = Modifier.size(18.dp),
                     )
                     Spacer(Modifier.width(8.dp))
diff --git a/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGridFeature.kt b/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGridFeature.kt
index 6bcbddf65..feaccdd0d 100644
--- a/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGridFeature.kt
+++ b/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGridFeature.kt
@@ -89,7 +89,7 @@ class CategoryGridFeature : PhotopickerUiFeature {
             // The main grid of the user's category.
             object : Route {
                 override val route = ALBUM_GRID.route
-                override val initialRoutePriority = Priority.HIGH.priority
+                override val initialRoutePriority = Priority.MEDIUM.priority
                 override val arguments = emptyList<NamedNavArgument>()
                 override val deepLinks = emptyList<NavDeepLink>()
                 override val isDialog = false
@@ -270,11 +270,11 @@ class CategoryGridFeature : PhotopickerUiFeature {
 
                 @Composable
                 override fun composable(navBackStackEntry: NavBackStackEntry?) {
-                    val flow: StateFlow<Group.Album?> =
+                    val flow: StateFlow<Group.BaseAlbum?> =
                         checkNotNull(
                             navBackStackEntry
                                 ?.savedStateHandle
-                                ?.getStateFlow<Group.Album?>(GROUP_KEY, null)
+                                ?.getStateFlow<Group.BaseAlbum?>(GROUP_KEY, null)
                         ) {
                             "Unable to get a savedStateHandle for album content grid"
                         }
@@ -335,7 +335,7 @@ class CategoryGridFeature : PhotopickerUiFeature {
     @Composable
     override fun compose(location: Location, modifier: Modifier, params: LocationParams) {
         when (location) {
-            Location.NAVIGATION_BAR_NAV_BUTTON -> CategoryButton(modifier)
+            Location.NAVIGATION_BAR_NAV_BUTTON -> CategoryButton(modifier, params)
             else -> {}
         }
     }
diff --git a/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGridViewModel.kt b/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGridViewModel.kt
index f2cd64c42..dc43be9cd 100644
--- a/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGridViewModel.kt
+++ b/photopicker/src/com/android/photopicker/features/categorygrid/CategoryGridViewModel.kt
@@ -22,6 +22,7 @@ import androidx.paging.Pager
 import androidx.paging.PagingConfig
 import androidx.paging.PagingData
 import androidx.paging.cachedIn
+import com.android.photopicker.core.Background
 import com.android.photopicker.core.components.MediaGridItem
 import com.android.photopicker.core.events.Event
 import com.android.photopicker.core.events.Events
@@ -33,7 +34,9 @@ import com.android.photopicker.data.DataService
 import com.android.photopicker.data.model.CategoryType
 import com.android.photopicker.data.model.Group
 import com.android.photopicker.data.model.Media
+import com.android.photopicker.data.model.MediaSource
 import com.android.photopicker.extensions.insertMonthSeparators
+import com.android.photopicker.extensions.toMediaGridItemBaseFromMedia
 import com.android.photopicker.extensions.toMediaGridItemFromCategory
 import com.android.photopicker.extensions.toMediaGridItemFromMedia
 import com.android.photopicker.extensions.toMediaGridItemFromMediaSet
@@ -41,6 +44,7 @@ import com.android.photopicker.extensions.toMediaGridItemFromPeopleMediaSet
 import com.android.photopicker.features.categorygrid.data.CategoryDataService
 import dagger.hilt.android.lifecycle.HiltViewModel
 import javax.inject.Inject
+import kotlinx.coroutines.CoroutineDispatcher
 import kotlinx.coroutines.CoroutineScope
 import kotlinx.coroutines.flow.Flow
 import kotlinx.coroutines.flow.MutableStateFlow
@@ -59,6 +63,7 @@ class CategoryGridViewModel
 @Inject
 constructor(
     private val scopeOverride: CoroutineScope?,
+    @Background val backgroundDispatcher: CoroutineDispatcher,
     private val selection: Selection<Media>,
     private val categoryDataService: CategoryDataService,
     private val dataService: DataService,
@@ -75,6 +80,8 @@ constructor(
     // Request Media in batches of 50 items
     private val CATEGORY_GRID_PAGE_SIZE = 50
 
+    private val CATEGORY_GRID_HIGHLIGHT_PAGE_SIZE = 10
+
     // Keep up to 10 pages loaded in memory before unloading pages.
     private val CATEGORY_GRID_MAX_ITEMS_IN_MEMORY = CATEGORY_GRID_PAGE_SIZE * 10
 
@@ -98,7 +105,7 @@ constructor(
      * Returns [PagingData] of type [MediaGridItem] as a [Flow] containing media for the album
      * represented by [albumId].
      */
-    fun getAlbumMedia(album: Group.Album): Flow<PagingData<MediaGridItem>> {
+    fun getAlbumMedia(album: Group.BaseAlbum): Flow<PagingData<MediaGridItem>> {
         val pagerForAlbumMedia =
             Pager(
                 PagingConfig(
@@ -123,6 +130,42 @@ constructor(
         return albumMedia
     }
 
+    /** Fetches the local album authority */
+    fun getLocalAlbumAuthority(): String {
+        val localProvider =
+            dataService.availableProviders.value.filter { it.mediaSource == MediaSource.LOCAL }
+        return localProvider.first().authority
+    }
+
+    /**
+     * Returns [PagingData] of type [MediaGridItem.MediaItem] as a [Flow] containing media for the
+     * album represented by [Group.CoreAlbum] without any date separators.
+     */
+    fun getHighlightAlbumMedia(album: Group.BaseAlbum): Flow<PagingData<MediaGridItem>> {
+        val pagerForAlbumMedia =
+            Pager(
+                PagingConfig(
+                    pageSize = CATEGORY_GRID_HIGHLIGHT_PAGE_SIZE,
+                    prefetchDistance = 0,
+                    maxSize = CATEGORY_GRID_MAX_ITEMS_IN_MEMORY,
+                )
+            ) {
+                // pagingSource
+                dataService.albumMediaPagingSource(album)
+            }
+
+        /** Export the data from the pager and prepare it for use in the [AlbumMediaGrid] */
+        val albumMedia =
+            pagerForAlbumMedia.flow
+                .toMediaGridItemBaseFromMedia()
+                // After the load and transformations, cache the data in the viewModelScope.
+                // This ensures that the list position and state will be remembered by the MediaGrid
+                // when navigating back to the AlbumGrid route.
+                .cachedIn(scope)
+
+        return albumMedia
+    }
+
     /**
      * Returns [PagingData] of type [MediaGridItem] as a [Flow] containing data for user's albums.
      */
@@ -218,7 +261,7 @@ constructor(
     fun handleAlbumMediaGridItemSelection(
         item: Media,
         selectionLimitExceededMessage: String,
-        album: Group.Album,
+        album: Group.BaseAlbum,
     ) {
         // Update the selectable values in the received media item.
         val updatedMediaItem =
diff --git a/photopicker/src/com/android/photopicker/features/categorygrid/MediaSetContentGrid.kt b/photopicker/src/com/android/photopicker/features/categorygrid/MediaSetContentGrid.kt
index 683903383..adeb9f27e 100644
--- a/photopicker/src/com/android/photopicker/features/categorygrid/MediaSetContentGrid.kt
+++ b/photopicker/src/com/android/photopicker/features/categorygrid/MediaSetContentGrid.kt
@@ -16,23 +16,29 @@
 
 package com.android.photopicker.features.categorygrid
 
+import androidx.compose.foundation.layout.Box
 import androidx.compose.foundation.layout.Column
 import androidx.compose.foundation.layout.fillMaxSize
 import androidx.compose.foundation.layout.fillMaxWidth
 import androidx.compose.foundation.layout.padding
-import androidx.compose.foundation.lazy.grid.rememberLazyGridState
 import androidx.compose.material.icons.Icons
 import androidx.compose.material.icons.outlined.Image
+import androidx.compose.material3.CircularProgressIndicator
 import androidx.compose.material3.windowsizeclass.WindowWidthSizeClass
 import androidx.compose.runtime.Composable
 import androidx.compose.runtime.LaunchedEffect
 import androidx.compose.runtime.getValue
+import androidx.compose.runtime.mutableStateOf
 import androidx.compose.runtime.remember
 import androidx.compose.runtime.rememberCoroutineScope
+import androidx.compose.runtime.setValue
+import androidx.compose.ui.Alignment
 import androidx.compose.ui.Modifier
 import androidx.compose.ui.graphics.vector.ImageVector
 import androidx.compose.ui.platform.LocalConfiguration
 import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.semantics.contentDescription
+import androidx.compose.ui.semantics.semantics
 import androidx.compose.ui.unit.dp
 import androidx.lifecycle.compose.collectAsStateWithLifecycle
 import androidx.paging.LoadState
@@ -57,11 +63,14 @@ import com.android.photopicker.core.obtainViewModel
 import com.android.photopicker.core.selection.LocalSelection
 import com.android.photopicker.core.theme.LocalWindowSizeClass
 import com.android.photopicker.data.model.Group
+import com.android.photopicker.data.model.Media
 import com.android.photopicker.extensions.navigateToPreviewMedia
 import com.android.photopicker.features.preview.PreviewFeature
+import kotlinx.coroutines.delay
 import kotlinx.coroutines.flow.Flow
 import kotlinx.coroutines.flow.StateFlow
 import kotlinx.coroutines.launch
+import kotlinx.coroutines.withContext
 
 /**
  * Primary composable for drawing the Mediaset content grid on
@@ -111,13 +120,13 @@ private fun MediasetContentGrid(
             WindowWidthSizeClass.Expanded -> true
             else -> false
         }
-    val state = rememberLazyGridState()
     val isEmbedded =
         LocalPhotopickerConfiguration.current.runtimeEnv == PhotopickerRuntimeEnv.EMBEDDED
     val host = LocalEmbeddedState.current?.host
     val scope = rememberCoroutineScope()
     val events = LocalEvents.current
     val configuration = LocalPhotopickerConfiguration.current
+
     // Container encapsulating the mediaset title followed by its content in the form of a
     // grid, the content also includes date and month separators.
     Column(modifier = Modifier.fillMaxSize()) {
@@ -125,8 +134,47 @@ private fun MediasetContentGrid(
             items.itemCount == 0 &&
                 items.loadState.source.append is LoadState.NotLoading &&
                 items.loadState.source.append.endOfPaginationReached
-        when {
-            isEmptyAndNoMorePages -> {
+
+        // State to track the loading and empty states
+        var resultsState by remember { mutableStateOf(ResultsState.LOADING_WITHOUT_INDICATOR) }
+        if (isEmptyAndNoMorePages) {
+            resultsState = ResultsState.EMPTY
+        }
+
+        LaunchedEffect(items.loadState.refresh) {
+            if (
+                items.itemCount == 0 &&
+                    items.loadState.refresh is LoadState.Loading &&
+                    resultsState == ResultsState.LOADING_WITHOUT_INDICATOR
+            ) {
+
+                // Switch to the background thread.
+                withContext(viewModel.backgroundDispatcher) {
+                    // Wait 1 second to display the loading indicator.
+                    delay(1000)
+                    if (
+                        items.itemCount == 0 &&
+                            resultsState == ResultsState.LOADING_WITHOUT_INDICATOR
+                    ) {
+                        resultsState = ResultsState.LOADING_WITH_INDICATOR
+
+                        // Wait 10 seconds before giving up and displaying the no results page.
+                        delay(10000)
+                        if (
+                            items.itemCount == 0 &&
+                                resultsState == ResultsState.LOADING_WITH_INDICATOR
+                        ) {
+                            resultsState = ResultsState.EMPTY
+                        }
+                    }
+                }
+            } else if (resultsState != ResultsState.EMPTY) {
+                resultsState = ResultsState.MEDIA_SETS_CONTENT_GRID
+            }
+        }
+
+        when (resultsState) {
+            ResultsState.EMPTY -> {
                 val localConfig = LocalConfiguration.current
                 val emptyStatePadding =
                     remember(localConfig) { (localConfig.screenHeightDp * .20).dp }
@@ -156,51 +204,94 @@ private fun MediasetContentGrid(
                     )
                 }
             }
-            else -> {
-                mediaGrid(
-                    items = items,
-                    isExpandedScreen = isExpandedScreen,
-                    selection = selection,
-                    onItemClick = { item ->
-                        if (item is MediaGridItem.MediaItem) {
-                            viewModel.handleMediaSetItemSelection(
-                                item.media,
-                                selectionLimitExceededMessage,
-                            )
-                        }
-                    },
-                    onItemLongPress = { item ->
-                        // If the [PreviewFeature] is enabled, launch the preview route.
-                        if (isPreviewEnabled && item is MediaGridItem.MediaItem) {
-                            // Dispatch UI event to log long pressing the media item
-                            scope.launch {
-                                events.dispatch(
-                                    Event.LogPhotopickerUIEvent(
-                                        FeatureToken.PREVIEW.token,
-                                        configuration.sessionId,
-                                        configuration.callingPackageUid ?: -1,
-                                        Telemetry.UiEvent.PICKER_LONG_SELECT_MEDIA_ITEM,
-                                    )
-                                )
+            ResultsState.LOADING_WITH_INDICATOR -> {
+                Box(modifier = Modifier.fillMaxSize()) {
+                    val progressIndicatorDescription =
+                        stringResource(R.string.photopicker_loading_media_items_description)
+                    CircularProgressIndicator(
+                        modifier =
+                            Modifier.align(Alignment.Center).semantics {
+                                contentDescription = progressIndicatorDescription
                             }
-                            // Dispatch UI event to log entry into preview mode
-                            scope.launch {
-                                events.dispatch(
-                                    Event.LogPhotopickerUIEvent(
-                                        FeatureToken.PREVIEW.token,
-                                        configuration.sessionId,
-                                        configuration.callingPackageUid ?: -1,
-                                        Telemetry.UiEvent.ENTER_PICKER_PREVIEW_MODE,
+                    )
+                }
+            }
+            ResultsState.MEDIA_SETS_CONTENT_GRID -> {
+
+                when (
+                    configuration.flags.MEDIA_GRID_TOUCH_FEATURES_ENABLED &&
+                        configuration.selectionLimit > 1
+                ) {
+                    true -> { // Drag-to-select enabled
+                        mediaGrid(
+                            items = items,
+                            isExpandedScreen = isExpandedScreen,
+                            selection = selection,
+                            dragSelectionEnabled = true,
+                            dragSelectIndexOffset = 0, // by default, which is suitable here.
+                            onItemClick = { item ->
+                                if (item is MediaGridItem.MediaItem) {
+                                    viewModel.handleMediaSetItemSelection(
+                                        item.media,
+                                        selectionLimitExceededMessage,
                                     )
+                                }
+                            },
+                            selectionTransform = { mediaItem: Media ->
+                                Media.withSelectable(
+                                    item = mediaItem,
+                                    selectionSource = Telemetry.MediaLocation.CATEGORY,
+                                    album = null, // MediaSet is not an album
                                 )
-                            }
-                            navController.navigateToPreviewMedia(item.media)
-                        }
-                    },
-                    state = state,
-                )
+                            },
+                        )
+                    }
+                    false -> { // Drag-to-select disabled
+                        mediaGrid(
+                            items = items,
+                            isExpandedScreen = isExpandedScreen,
+                            selection = selection,
+                            onItemClick = { item ->
+                                if (item is MediaGridItem.MediaItem) {
+                                    viewModel.handleMediaSetItemSelection(
+                                        item.media,
+                                        selectionLimitExceededMessage,
+                                    )
+                                }
+                            },
+                            onItemLongPress = { item ->
+                                // If the [PreviewFeature] is enabled, launch the preview route.
+                                if (isPreviewEnabled && item is MediaGridItem.MediaItem) {
+                                    // Dispatch UI event to log long pressing the media item
+                                    scope.launch {
+                                        events.dispatch(
+                                            Event.LogPhotopickerUIEvent(
+                                                FeatureToken.PREVIEW.token,
+                                                configuration.sessionId,
+                                                configuration.callingPackageUid ?: -1,
+                                                Telemetry.UiEvent.PICKER_LONG_SELECT_MEDIA_ITEM,
+                                            )
+                                        )
+                                    }
+                                    // Dispatch UI event to log entry into preview mode
+                                    scope.launch {
+                                        events.dispatch(
+                                            Event.LogPhotopickerUIEvent(
+                                                FeatureToken.PREVIEW.token,
+                                                configuration.sessionId,
+                                                configuration.callingPackageUid ?: -1,
+                                                Telemetry.UiEvent.ENTER_PICKER_PREVIEW_MODE,
+                                            )
+                                        )
+                                    }
+                                    navController.navigateToPreviewMedia(item.media)
+                                }
+                            },
+                        )
+                    }
+                }
                 LaunchedEffect(Unit) {
-                    // Dispatch UI event to log loading of meadia set contents
+                    // Dispatch UI event to log loading of media set contents
                     events.dispatch(
                         Event.LogPhotopickerUIEvent(
                             FeatureToken.CATEGORY_GRID.token,
@@ -211,6 +302,7 @@ private fun MediasetContentGrid(
                     )
                 }
             }
+            else -> {}
         }
     }
 }
@@ -228,3 +320,11 @@ private fun getEmptyStateContentForMediaset(): Triple<String, String, ImageVecto
         Icons.Outlined.Image,
     )
 }
+
+/** Represents the different UI states for the media sets results data. */
+enum class ResultsState {
+    LOADING_WITHOUT_INDICATOR,
+    LOADING_WITH_INDICATOR,
+    EMPTY,
+    MEDIA_SETS_CONTENT_GRID,
+}
diff --git a/photopicker/src/com/android/photopicker/features/categorygrid/MediaSetGrid.kt b/photopicker/src/com/android/photopicker/features/categorygrid/MediaSetGrid.kt
index 2890eae74..902b9502c 100644
--- a/photopicker/src/com/android/photopicker/features/categorygrid/MediaSetGrid.kt
+++ b/photopicker/src/com/android/photopicker/features/categorygrid/MediaSetGrid.kt
@@ -35,6 +35,7 @@ import androidx.compose.ui.Modifier
 import androidx.compose.ui.graphics.vector.ImageVector
 import androidx.compose.ui.platform.LocalConfiguration
 import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.unit.Dp
 import androidx.compose.ui.unit.dp
 import androidx.lifecycle.compose.collectAsStateWithLifecycle
 import androidx.paging.LoadState
@@ -43,6 +44,7 @@ import com.android.modules.utils.build.SdkLevel
 import com.android.photopicker.R
 import com.android.photopicker.core.components.EmptyState
 import com.android.photopicker.core.components.MediaGridItem
+import com.android.photopicker.core.components.getCellsPerRow
 import com.android.photopicker.core.components.mediaGrid
 import com.android.photopicker.core.configuration.LocalPhotopickerConfiguration
 import com.android.photopicker.core.configuration.PhotopickerRuntimeEnv
@@ -62,11 +64,39 @@ import kotlinx.coroutines.flow.StateFlow
 import kotlinx.coroutines.launch
 
 /** The number of grid cells per row for Phone / narrow layouts */
-private val CELLS_PER_ROW_FOR_MEDIASET_GRID = 3
+private val CELLS_PER_ROW_FOR_PEOPLE_MEDIASET_GRID = 3
+private val CELLS_PER_ROW_FOR_MEDIASET_GRID = 2
 /** The number of grid cells per row for Tablet / expanded layouts */
-private val CELLS_PER_ROW_EXPANDED_FOR_MEDIASET_GRID = 4
+private val CELLS_PER_ROW_EXPANDED_FOR_PEOPLE_MEDIASET_GRID = 4
+private val CELLS_PER_ROW_EXPANDED_FOR_MEDIASET_GRID = 3
 /** The amount of padding to use around each cell in the mediaset grid. */
-private val MEASUREMENT_HORIZONTAL_CELL_SPACING_MEDIASET_GRID = 1.dp
+private val MEASUREMENT_HORIZONTAL_CELL_SPACING_FOR_PEOPLE_MEDIASET_GRID = 1.dp
+private val MEASUREMENT_HORIZONTAL_CELL_SPACING_MEDIASET_GRID = 16.dp
+
+private fun getCellsPerRow(categoryType: CategoryType, isExpanded: Boolean): Int {
+    // Assigns the pair of (normal, expanded) cell counts per row based on the category type.
+    val cells =
+        when (categoryType) {
+            CategoryType.PEOPLE_AND_PETS -> {
+                Pair(
+                    CELLS_PER_ROW_FOR_PEOPLE_MEDIASET_GRID,
+                    CELLS_PER_ROW_EXPANDED_FOR_PEOPLE_MEDIASET_GRID,
+                )
+            }
+            else -> {
+                Pair(CELLS_PER_ROW_FOR_MEDIASET_GRID, CELLS_PER_ROW_EXPANDED_FOR_MEDIASET_GRID)
+            }
+        }
+
+    return if (isExpanded) cells.second else cells.first
+}
+
+private fun getGridCellPadding(categoryType: CategoryType): Dp {
+    return when (categoryType) {
+        CategoryType.PEOPLE_AND_PETS -> MEASUREMENT_HORIZONTAL_CELL_SPACING_FOR_PEOPLE_MEDIASET_GRID
+        else -> MEASUREMENT_HORIZONTAL_CELL_SPACING_MEDIASET_GRID
+    }
+}
 
 /**
  * Primary composable for drawing the main MediasetGrid on [PhotopickerDestinations.MEDIASET_GRID]
@@ -102,6 +132,11 @@ fun MediaSetGrid(
                     else -> false
                 }
             val mediaSetItems = items.collectAsLazyPagingItems()
+
+            val cellsPerRow = getCellsPerRow(category.categoryType, isExpandedScreen)
+            val gridCellPadding = getGridCellPadding(category.categoryType)
+            val contentPadding = PaddingValues(gridCellPadding)
+
             Column(modifier = Modifier.fillMaxSize()) {
                 val isEmptyAndNoMorePages =
                     mediaSetItems.itemCount == 0 &&
@@ -178,17 +213,12 @@ fun MediaSetGrid(
                                     )
                                 }
                             },
+                            onItemLongPress = {},
                             isExpandedScreen = isExpandedScreen,
-                            columns =
-                                when (isExpandedScreen) {
-                                    true ->
-                                        GridCells.Fixed(CELLS_PER_ROW_EXPANDED_FOR_MEDIASET_GRID)
-                                    false -> GridCells.Fixed(CELLS_PER_ROW_FOR_MEDIASET_GRID)
-                                },
+                            columns = GridCells.Fixed(cellsPerRow),
                             selection = emptySet(),
-                            gridCellPadding = MEASUREMENT_HORIZONTAL_CELL_SPACING_MEDIASET_GRID,
-                            contentPadding =
-                                PaddingValues(MEASUREMENT_HORIZONTAL_CELL_SPACING_MEDIASET_GRID),
+                            gridCellPadding = gridCellPadding,
+                            contentPadding = contentPadding,
                             state = state,
                         )
                         LaunchedEffect(Unit) {
diff --git a/photopicker/src/com/android/photopicker/features/categorygrid/data/CategoryDataServiceImpl.kt b/photopicker/src/com/android/photopicker/features/categorygrid/data/CategoryDataServiceImpl.kt
index f7b242aa2..10731db1b 100644
--- a/photopicker/src/com/android/photopicker/features/categorygrid/data/CategoryDataServiceImpl.kt
+++ b/photopicker/src/com/android/photopicker/features/categorygrid/data/CategoryDataServiceImpl.kt
@@ -344,7 +344,7 @@ class CategoryDataServiceImpl(
                 pagingSource.registerInvalidatedCallback { cancellationSignal?.cancel() }
                 pagingSource
             } else {
-                refreshMediaSets(category)
+                maybeRefreshMediaSetsLocked(category)
 
                 val availableProviders: List<Provider> = dataService.availableProviders.value
                 val contentResolver: ContentResolver = dataService.activeContentResolver.value
@@ -423,7 +423,25 @@ class CategoryDataServiceImpl(
         }
     }
 
-    private suspend fun refreshMediaSets(category: Group.Category) {
+    /**
+     * Sends a request to the backend to clear cache and refresh media sets data for the given
+     * category if one of below is true.
+     * 1. A refresh request hasn't been sent already in the session.
+     * 2. A disruptive change has happened and all cache needs to be refreshed. Otherwise, this
+     *    method does nothing.
+     */
+    private suspend fun maybeRefreshMediaSetsLocked(category: Group.Category) {
+        // Since media sets refreshes also clear existing cache,
+        // only reset when absolutely required.
+        if (mediaSetPagingSources.containsKey(category)) {
+            Log.i(
+                CategoryDataService.TAG,
+                "A media sets paging source was available for " +
+                    "category $category. Not sending a refresh media sets request again.",
+            )
+            return
+        }
+
         val providers = dataService.availableProviders.value
         val contentResolver = dataService.activeContentResolver.value
         val isCategoryProviderAvailable =
diff --git a/photopicker/src/com/android/photopicker/features/cloudmedia/CloudBanners.kt b/photopicker/src/com/android/photopicker/features/cloudmedia/CloudBanners.kt
index bad303c1b..c0b973077 100644
--- a/photopicker/src/com/android/photopicker/features/cloudmedia/CloudBanners.kt
+++ b/photopicker/src/com/android/photopicker/features/cloudmedia/CloudBanners.kt
@@ -80,7 +80,10 @@ fun buildCloudChooseAccountBanner(cloudProvider: Provider, collectionInfo: Colle
 
         @Composable
         override fun buildTitle(): String {
-            return stringResource(R.string.photopicker_banner_cloud_choose_account_title)
+            return stringResource(
+                R.string.photopicker_banner_cloud_choose_account_title,
+                "${cloudProvider.displayName}",
+            )
         }
 
         @Composable
@@ -120,7 +123,7 @@ fun buildCloudChooseAccountBanner(cloudProvider: Provider, collectionInfo: Colle
  */
 fun buildCloudMediaAvailableBanner(
     cloudProvider: Provider,
-    collectionInfo: CollectionInfo
+    collectionInfo: CollectionInfo,
 ): Banner {
     return object : Banner {
 
@@ -136,7 +139,7 @@ fun buildCloudMediaAvailableBanner(
             return stringResource(
                 R.string.photopicker_banner_cloud_media_available_message,
                 "${cloudProvider.displayName}",
-                collectionInfo.accountName ?: ""
+                collectionInfo.accountName ?: "",
             )
         }
 
diff --git a/photopicker/src/com/android/photopicker/features/highlightmediaresults/HighlightMedia.kt b/photopicker/src/com/android/photopicker/features/highlightmediaresults/HighlightMedia.kt
new file mode 100644
index 000000000..15ff23108
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/features/highlightmediaresults/HighlightMedia.kt
@@ -0,0 +1,585 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.features.highlightmediaresults
+
+import androidx.compose.animation.AnimatedVisibility
+import androidx.compose.animation.animateContentSize
+import androidx.compose.animation.core.LinearEasing
+import androidx.compose.animation.core.tween
+import androidx.compose.animation.fadeIn
+import androidx.compose.animation.fadeOut
+import androidx.compose.foundation.background
+import androidx.compose.foundation.layout.Arrangement
+import androidx.compose.foundation.layout.Box
+import androidx.compose.foundation.layout.Column
+import androidx.compose.foundation.layout.PaddingValues
+import androidx.compose.foundation.layout.Row
+import androidx.compose.foundation.layout.fillMaxWidth
+import androidx.compose.foundation.layout.height
+import androidx.compose.foundation.layout.padding
+import androidx.compose.foundation.layout.size
+import androidx.compose.foundation.layout.width
+import androidx.compose.foundation.lazy.grid.GridCells
+import androidx.compose.foundation.lazy.grid.LazyHorizontalGrid
+import androidx.compose.foundation.shape.RoundedCornerShape
+import androidx.compose.material.icons.Icons
+import androidx.compose.material.icons.outlined.Info
+import androidx.compose.material.icons.outlined.Search
+import androidx.compose.material3.AssistChip
+import androidx.compose.material3.AssistChipDefaults
+import androidx.compose.material3.Icon
+import androidx.compose.material3.MaterialTheme
+import androidx.compose.material3.Text
+import androidx.compose.material3.TextButton
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.LaunchedEffect
+import androidx.compose.runtime.getValue
+import androidx.compose.runtime.mutableStateOf
+import androidx.compose.runtime.remember
+import androidx.compose.runtime.saveable.rememberSaveable
+import androidx.compose.runtime.setValue
+import androidx.compose.ui.Alignment
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.draw.clip
+import androidx.compose.ui.platform.LocalContext
+import androidx.compose.ui.res.stringResource
+import androidx.compose.ui.semantics.contentDescription
+import androidx.compose.ui.semantics.semantics
+import androidx.compose.ui.unit.dp
+import androidx.lifecycle.compose.collectAsStateWithLifecycle
+import androidx.lifecycle.viewmodel.compose.viewModel
+import androidx.paging.LoadState
+import androidx.paging.PagingData
+import androidx.paging.compose.LazyPagingItems
+import androidx.paging.compose.collectAsLazyPagingItems
+import com.android.photopicker.R
+import com.android.photopicker.core.components.GridDragSelectDefaults
+import com.android.photopicker.core.components.MediaGridItem
+import com.android.photopicker.core.components.ScrollOrientation
+import com.android.photopicker.core.components.defaultBuildMediaItem
+import com.android.photopicker.core.components.defaultBuildSeparator
+import com.android.photopicker.core.components.onGridDragSelect
+import com.android.photopicker.core.components.rememberGridDragSelectState
+import com.android.photopicker.core.configuration.LocalPhotopickerConfiguration
+import com.android.photopicker.core.features.LocationParams
+import com.android.photopicker.core.navigation.LocalNavController
+import com.android.photopicker.core.obtainViewModel
+import com.android.photopicker.core.selection.LocalSelection
+import com.android.photopicker.data.model.Group
+import com.android.photopicker.extensions.navigateToAlbumMediaGridForCategories
+import com.android.photopicker.extensions.shimmerEffect
+import com.android.photopicker.features.categorygrid.CategoryGridViewModel
+import com.android.photopicker.features.highlightmediaresults.model.HighlightAlbum.Companion.getAlbumNameFromAlbum
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQueryResultsParams
+import com.android.photopicker.features.highlightmediaresults.model.QueryResultsHighlightType
+import com.android.photopicker.features.search.SearchViewModel
+import com.android.photopicker.util.LocalLocalizationHelper
+import com.android.photopicker.util.applyWhen
+import java.text.DateFormat
+import kotlinx.coroutines.CoroutineDispatcher
+import kotlinx.coroutines.delay
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.withContext
+
+val RECENTS_LABEL_PADDING = PaddingValues(top = 16.dp)
+val HIGHLIGHT_TEXT_LABELS_PADDING = PaddingValues(bottom = 8.dp, start = 16.dp, end = 16.dp)
+val MEASUREMENT_HIGHLIGHT_GRID_HEIGHT = 176.dp
+val HIGHLIGHT_GRID_CONTENT_PADDING = PaddingValues(start = 16.dp, end = 16.dp, bottom = 8.dp)
+val MEASUREMENT_HIGHLIGHT_GRID_CELL_ARRANGEMENT = 8.dp
+const val HIGHLIGHT_GRID_CELL_COUNT = 10
+const val HIGHLIGHT_GRID_ROW_COUNT = 1
+const val HIGHLIGHT_SEARCH_DURATION_MS = 3000L
+
+val HIGHLIGHT_QUERY_PLACEHOLDER_HEIGHT = 30.dp
+val HIGHLIGHT_QUERY_PLACEHOLDER_WIDTH = 150.dp
+val HIGHLIGHT_QUERY_PLACEHOLDER_CORNER = 28.dp
+
+/**
+ * A composable function which displays a media highlight section based on the given input highlight
+ * params.
+ *
+ * @param params [LocationParams.WithLongClickAction] type params defining the long click behavior
+ *   of highlight media items.
+ * @param modifier The modifier to be applied to the composable if any
+ */
+@Composable
+fun HighlightMedia(params: LocationParams = LocationParams.None, modifier: Modifier = Modifier) {
+    val highlightParams: HighlightQueryResultsParams =
+        LocalPhotopickerConfiguration.current.highlightQueryResultsParams
+    val highlightQuery: HighlightQuery = highlightParams.queryResultsHighlightQuery
+    var showHighlightSection by rememberSaveable { mutableStateOf(true) }
+
+    if (!checkHighlightParamsValidity(highlightParams)) {
+        return
+    }
+    val longClickActionParams = params as? LocationParams.WithLongClickAction
+    val onItemLongClick: (item: MediaGridItem) -> Unit = { item ->
+        longClickActionParams?.onLongClick(item)
+    }
+
+    val selectionLimit = LocalPhotopickerConfiguration.current.selectionLimit
+    val selectionLimitExceededMessage =
+        stringResource(R.string.photopicker_selection_limit_exceeded_snackbar, selectionLimit)
+    AnimatedVisibility(
+        visible = showHighlightSection,
+        exit = fadeOut(animationSpec = tween(durationMillis = 300, easing = LinearEasing)),
+    ) {
+        Column {
+            Box(modifier = modifier.animateContentSize()) {
+                when (highlightQuery) {
+                    is HighlightQuery.Search -> {
+                        val viewModel: SearchViewModel = obtainViewModel(isActivityScoped = true)
+                        var searchQuery by rememberSaveable {
+                            mutableStateOf(highlightQuery.searchQuery)
+                        }
+                        val pagingItems =
+                            remember(searchQuery) {
+                                getSearchHighlightMediaItems(searchQuery, viewModel)
+                            }
+
+                        val highlightText =
+                            stringResource(R.string.photopicker_hsr_suggestions_for_text) +
+                                " " +
+                                highlightQuery.searchQuery
+                        HighlightSectionContent(
+                            highlightQuery = highlightText,
+                            highlightMediaItems = pagingItems.collectAsLazyPagingItems(),
+                            onItemLongClick = onItemLongClick,
+                            onClick = {
+                                setSearchParametersForHighlightMedia(
+                                    highlightQuery.searchQuery,
+                                    viewModel,
+                                )
+                            },
+                            modifier = modifier,
+                            dispatcher = viewModel.backgroundDispatcher,
+                            onGridItemSelection = { highlightMediaItem ->
+                                viewModel.handleGridItemSelection(
+                                    item = highlightMediaItem.media,
+                                    selectionLimitExceededMessage = selectionLimitExceededMessage,
+                                )
+                            },
+                            onEmptyResults = { showHighlightSection = false },
+                        )
+                    }
+
+                    is HighlightQuery.Album -> {
+                        val navController = LocalNavController.current
+                        val viewModel: CategoryGridViewModel =
+                            obtainViewModel(isActivityScoped = true)
+                        val context = LocalContext.current
+
+                        // Create the album object to fetch the album media. Fetching the album
+                        // media requires only the base album data: album id and its authority.
+                        val highlightBaseAlbum =
+                            Group.BaseAlbum(
+                                id = highlightQuery.album.albumId,
+                                authority = viewModel.getLocalAlbumAuthority(),
+                                displayName = getAlbumNameFromAlbum(context, highlightQuery.album),
+                            )
+
+                        var albumName by rememberSaveable {
+                            mutableStateOf(highlightBaseAlbum.displayName)
+                        }
+                        val pagingItems =
+                            remember(albumName) {
+                                viewModel.getHighlightAlbumMedia(highlightBaseAlbum)
+                            }
+
+                        HighlightSectionContent(
+                            highlightQuery = highlightBaseAlbum.displayName,
+                            highlightMediaItems = pagingItems.collectAsLazyPagingItems(),
+                            onItemLongClick = onItemLongClick,
+                            onClick = {
+                                navController.navigateToAlbumMediaGridForCategories(
+                                    album = highlightBaseAlbum
+                                )
+                            },
+                            modifier = modifier,
+                            dispatcher = viewModel.backgroundDispatcher,
+                            onGridItemSelection = { highlightMediaItem ->
+                                viewModel.handleAlbumMediaGridItemSelection(
+                                    highlightMediaItem.media,
+                                    selectionLimitExceededMessage,
+                                    highlightBaseAlbum,
+                                )
+                            },
+                            onEmptyResults = { showHighlightSection = false },
+                        )
+                    }
+                }
+            }
+            // Display the "Recents" label below the highlight grid
+            RecentsLabel()
+        }
+    }
+}
+
+/**
+ * The highlight composable to be rendered in case an app wants to highlight media based on a search
+ * query or an album.
+ *
+ * @param highlightQuery The input highlight text query to highlight
+ * @param highlightMediaItems The items to be displayed in the grid as [LazyPagingItems]
+ * @param onItemLongClick Callback triggered when a media item is long-pressed.
+ * @param onClick Defines the onClick behaviour of the See All button.
+ * @param modifier The modifier to be applied if any
+ * @param dispatcher Background Coroutine dispatcher.
+ * @param onGridItemSelection Defines click action on the item.
+ * @param onEmptyResults A callback function to be invoked when there are no results to show.
+ */
+@Composable
+fun HighlightSectionContent(
+    highlightQuery: String,
+    highlightMediaItems: LazyPagingItems<MediaGridItem>,
+    onItemLongClick: (item: MediaGridItem) -> Unit,
+    onClick: () -> Unit,
+    modifier: Modifier = Modifier,
+    dispatcher: CoroutineDispatcher,
+    onGridItemSelection: (item: MediaGridItem.MediaItem) -> Unit,
+    onEmptyResults: () -> Unit,
+) {
+    var highlightSectionState by rememberSaveable { mutableStateOf(HighlightSectionState.LOADING) }
+
+    AnimatedVisibility(
+        visible = highlightSectionState == HighlightSectionState.LOADING,
+        exit = fadeOut(animationSpec = tween(durationMillis = 100, easing = LinearEasing)),
+    ) {
+        Column(modifier = Modifier.fillMaxWidth()) {
+            HighlightQueryPlaceholder()
+            HighlightMediaPlaceholder()
+        }
+    }
+
+    AnimatedVisibility(
+        visible = highlightSectionState == HighlightSectionState.TIMEOUT,
+        enter =
+            fadeIn(
+                animationSpec =
+                    tween(durationMillis = 200, delayMillis = 400, easing = LinearEasing)
+            ),
+    ) {
+        SuggestionsChip(
+            highlightText = highlightQuery,
+            onClick = onClick,
+            modifier = Modifier.fillMaxWidth(),
+        )
+    }
+
+    AnimatedVisibility(
+        visible = highlightSectionState == HighlightSectionState.RESULTS_AVAILABLE,
+        enter = fadeIn(animationSpec = tween(durationMillis = 200)),
+    ) {
+        Column(modifier = Modifier.fillMaxWidth()) {
+            // Show the highlight query and the "See All" button
+            HighlightQueryAndSeeAllButton(highlightText = highlightQuery, onClick = onClick)
+
+            // Show the horizontal highlight grid
+            HighlightMediaGrid(
+                highlightItems = highlightMediaItems,
+                onItemLongClick = onItemLongClick,
+                onGridItemSelection = onGridItemSelection,
+            )
+        }
+    }
+
+    LaunchedEffect(highlightMediaItems.loadState.refresh) {
+        if (highlightSectionState == HighlightSectionState.LOADING) {
+            val refreshLoadState = highlightMediaItems.loadState.refresh
+            val itemsCount = highlightMediaItems.itemCount
+            withContext(dispatcher) {
+                if (
+                    itemsCount == 0 &&
+                        refreshLoadState is LoadState.Loading &&
+                        highlightSectionState == HighlightSectionState.LOADING
+                ) {
+                    delay(HIGHLIGHT_SEARCH_DURATION_MS)
+                }
+                when {
+                    itemsCount == 0 &&
+                        (refreshLoadState is LoadState.Loading ||
+                            refreshLoadState is LoadState.Error) -> {
+                        highlightSectionState = HighlightSectionState.TIMEOUT
+                    }
+
+                    itemsCount == 0 && refreshLoadState is LoadState.NotLoading -> {
+                        highlightSectionState = HighlightSectionState.EMPTY
+                        onEmptyResults()
+                    }
+
+                    else -> {
+                        highlightSectionState = HighlightSectionState.RESULTS_AVAILABLE
+                    }
+                }
+            }
+        }
+    }
+}
+
+/** Displays the "Recents" label below the Highlight grid */
+@Composable
+private fun RecentsLabel() {
+    Row(modifier = Modifier.padding(RECENTS_LABEL_PADDING)) {
+        defaultBuildSeparator(
+            MediaGridItem.SeparatorItem(
+                label = stringResource(R.string.photopicker_hsr_recents_label)
+            )
+        )
+    }
+}
+
+/**
+ * Displays the highlight text which could either be the input search text query or the album name
+ * along with the "See All" button in a horizontal row.
+ *
+ * @param highlightText The highlight text - could be the search text or the album name
+ * @param onClick Defines the onClick behaviour of the See All button.
+ */
+@Composable
+private fun HighlightQueryAndSeeAllButton(highlightText: String, onClick: () -> Unit) {
+    Row(
+        modifier = Modifier.fillMaxWidth().padding(HIGHLIGHT_TEXT_LABELS_PADDING),
+        horizontalArrangement = Arrangement.SpaceBetween,
+        verticalAlignment = Alignment.CenterVertically,
+    ) {
+        Text(
+            text = highlightText,
+            style = MaterialTheme.typography.labelLarge,
+            color = MaterialTheme.colorScheme.onSurface,
+        )
+        TextButton(onClick = onClick) {
+            Text(
+                text = stringResource(R.string.photopicker_hsr_see_all_button_label),
+                style = MaterialTheme.typography.labelLarge,
+                color = MaterialTheme.colorScheme.primary,
+            )
+        }
+    }
+}
+
+/**
+ * Displays a horizontally scrollable highlight media grid containing items based on the given
+ * highlight query. The number of items in the grid is either [HIGHLIGHT_GRID_CELL_COUNT] or all
+ * items based on the query, whichever is lower. The items in the grid are selectable.
+ *
+ * @param highlightItems The items to be displayed in the grid as [LazyPagingItems]
+ * @param onItemLongClick Defines long click action on the item.
+ * @param onGridItemSelection Defines click action on the item.
+ */
+@Composable
+private fun HighlightMediaGrid(
+    highlightItems: LazyPagingItems<MediaGridItem>,
+    onItemLongClick: (item: MediaGridItem) -> Unit,
+    onGridItemSelection: (item: MediaGridItem.MediaItem) -> Unit,
+) {
+    val state = rememberGridDragSelectState()
+    val selection by LocalSelection.current.flow.collectAsStateWithLifecycle()
+    val description = stringResource(R.string.photopicker_hsr_media_text)
+
+    val dateFormat =
+        LocalLocalizationHelper.current.getLocalizedDateTimeFormatter(
+            dateStyle = DateFormat.MEDIUM,
+            timeStyle = DateFormat.SHORT,
+        )
+    LazyHorizontalGrid(
+        rows = GridCells.Fixed(HIGHLIGHT_GRID_ROW_COUNT),
+        modifier =
+            Modifier.fillMaxWidth()
+                .height(MEASUREMENT_HIGHLIGHT_GRID_HEIGHT)
+                .semantics { contentDescription = description }
+                .applyWhen(
+                    LocalPhotopickerConfiguration.current.flags.MEDIA_GRID_TOUCH_FEATURES_ENABLED,
+                    {
+                        onGridDragSelect(
+                            config = LocalPhotopickerConfiguration.current,
+                            items = highlightItems,
+                            state = state,
+                            windowRect = null,
+                            indexOffset = 0,
+                            autoScrollThreshold = GridDragSelectDefaults.autoScrollThreshold,
+                            autoScrollOrientation = ScrollOrientation.HORIZONTAL,
+                            hapticFeedback = GridDragSelectDefaults.hapticsFeedback,
+                            selectionTransform = { it },
+                        )
+                    },
+                ),
+        state = state.gridState,
+        contentPadding = HIGHLIGHT_GRID_CONTENT_PADDING,
+        horizontalArrangement = Arrangement.spacedBy(MEASUREMENT_HIGHLIGHT_GRID_CELL_ARRANGEMENT),
+    ) {
+        items(
+            count = minOf(highlightItems.itemCount, HIGHLIGHT_GRID_CELL_COUNT),
+            key = { index -> MediaGridItem.keyFactory(highlightItems.peek(index), index) },
+        ) { index ->
+            val highlightMediaItem: MediaGridItem? = highlightItems.get(index)
+            if (highlightMediaItem != null && highlightMediaItem is MediaGridItem.MediaItem) {
+                defaultBuildMediaItem(
+                    highlightMediaItem,
+                    isHighlightMediaItem = true,
+                    isSelected = selection.contains(highlightMediaItem.media),
+                    selectedPosition = selection.indexOf(highlightMediaItem.media),
+                    onClick = { onGridItemSelection(highlightMediaItem) },
+                    onLongPress = { onItemLongClick(highlightMediaItem) },
+                    dragSelectionEnabled = true,
+                    dateFormat = dateFormat,
+                    focusItem = null,
+                )
+            }
+        }
+    }
+}
+
+/** Displays suggestion chip with a clickable search query in case of search timeout. */
+@Composable
+private fun SuggestionsChip(
+    highlightText: String,
+    modifier: Modifier = Modifier,
+    onClick: () -> Unit,
+) {
+    Box(modifier = modifier) {
+        Column {
+            Row(
+                modifier = Modifier.padding(HIGHLIGHT_TEXT_LABELS_PADDING),
+                horizontalArrangement = Arrangement.Center,
+            ) {
+                Icon(
+                    imageVector = Icons.Outlined.Info,
+                    contentDescription = null,
+                    modifier = Modifier.width(20.dp).height(20.dp),
+                )
+                Text(
+                    text = stringResource(R.string.photopicker_search_suggestions_text),
+                    style = MaterialTheme.typography.titleMedium,
+                    modifier = Modifier.padding(PaddingValues(start = 16.dp)),
+                )
+            }
+
+            AssistChip(
+                onClick = onClick,
+                label = { Text(highlightText) },
+                leadingIcon = {
+                    Icon(
+                        imageVector = Icons.Outlined.Search,
+                        contentDescription =
+                            stringResource(R.string.photopicker_search_placeholder_text),
+                        modifier = Modifier.size(AssistChipDefaults.IconSize),
+                    )
+                },
+                modifier = Modifier.padding(HIGHLIGHT_GRID_CONTENT_PADDING),
+                shape = RoundedCornerShape(16.dp),
+            )
+        }
+    }
+}
+
+/**
+ * Displays a shimmering placeholder for a highlight query.
+ *
+ * This composable creates a `Box` with a fixed height and width, styled to resemble a search or
+ * query input field in a loading state.
+ */
+@Composable
+private fun HighlightQueryPlaceholder() {
+    val description = stringResource(R.string.photopicker_hsr_query_placeholder_text)
+    Box(
+        modifier =
+            Modifier.height(HIGHLIGHT_QUERY_PLACEHOLDER_HEIGHT)
+                .width(HIGHLIGHT_QUERY_PLACEHOLDER_WIDTH)
+                .padding(HIGHLIGHT_TEXT_LABELS_PADDING)
+                .background(
+                    color = MaterialTheme.colorScheme.surfaceContainerLowest,
+                    shape = RoundedCornerShape(HIGHLIGHT_QUERY_PLACEHOLDER_CORNER),
+                )
+                .clip(RoundedCornerShape(HIGHLIGHT_QUERY_PLACEHOLDER_CORNER))
+                .shimmerEffect()
+                .semantics { contentDescription = description }
+    )
+}
+
+/**
+ * Displays a horizontal grid of media items with a shimmering animation. Each item in the grid is
+ * represented by a `Box` with a shimmering effect, indicating a loading state.
+ */
+@Composable
+private fun HighlightMediaPlaceholder() {
+    val description = stringResource(R.string.photopicker_hsr_media_placeholder_text)
+    LazyHorizontalGrid(
+        rows = GridCells.Fixed(HIGHLIGHT_GRID_ROW_COUNT),
+        modifier =
+            Modifier.fillMaxWidth().height(MEASUREMENT_HIGHLIGHT_GRID_HEIGHT).semantics {
+                contentDescription = description
+            },
+        contentPadding = HIGHLIGHT_TEXT_LABELS_PADDING,
+        horizontalArrangement = Arrangement.spacedBy(MEASUREMENT_HIGHLIGHT_GRID_CELL_ARRANGEMENT),
+    ) {
+        items(HIGHLIGHT_GRID_CELL_COUNT) { index ->
+            Box(
+                modifier =
+                    Modifier.size(MEASUREMENT_HIGHLIGHT_GRID_HEIGHT)
+                        .clip(RoundedCornerShape(HIGHLIGHT_QUERY_PLACEHOLDER_CORNER))
+                        .shimmerEffect()
+            )
+        }
+    }
+}
+
+/** Returns a flow containing the media items based on the given input search query. */
+private fun getSearchHighlightMediaItems(
+    highlightQuery: String,
+    viewModel: SearchViewModel,
+): Flow<PagingData<MediaGridItem>> {
+    return viewModel.getHighlightSearchResults(searchQuery = highlightQuery)
+}
+
+/** Sets the search params to show all the search results when the See All button is clicked */
+private fun setSearchParametersForHighlightMedia(
+    highlightQuery: String,
+    viewModel: SearchViewModel,
+) {
+    viewModel.performSearch(query = highlightQuery)
+    viewModel.setSearchBarFocusedState(true)
+    viewModel.setSearchBarText(text = highlightQuery)
+}
+
+/**
+ * Checks the validity of the input highlight params to make a final call on whether the highlight
+ * section will be displayed or not. In case of empty highlight query or if the highlight type is
+ * not [QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION], we simply return.
+ */
+private fun checkHighlightParamsValidity(highlightParams: HighlightQueryResultsParams): Boolean {
+    val highlightType = highlightParams.queryResultsHighlightType
+    // HighlightMedia carousel should only be shown for HIGHLIGHT_MEDIA_SECTION highlight type
+    val validHighlightType = highlightType == QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION
+    // An empty search query and UNSET album type won't show any results
+    val validQuery =
+        when (highlightParams.queryResultsHighlightQuery) {
+            is HighlightQuery.Search -> {
+                highlightParams.queryResultsHighlightQuery.searchQuery.isNotEmpty()
+            }
+            else -> true
+        }
+    return validHighlightType && validQuery
+}
+
+/** Represents the different UI states for the Highlight section. */
+enum class HighlightSectionState {
+    LOADING,
+    TIMEOUT,
+    RESULTS_AVAILABLE,
+    EMPTY,
+}
diff --git a/photopicker/src/com/android/photopicker/features/highlightmediaresults/HighlightMediaResultsFeature.kt b/photopicker/src/com/android/photopicker/features/highlightmediaresults/HighlightMediaResultsFeature.kt
new file mode 100644
index 000000000..0c24b66df
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/features/highlightmediaresults/HighlightMediaResultsFeature.kt
@@ -0,0 +1,93 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.features.highlightmediaresults
+
+import androidx.compose.runtime.Composable
+import androidx.compose.ui.Modifier
+import com.android.photopicker.core.configuration.PhotopickerConfiguration
+import com.android.photopicker.core.events.RegisteredEventClass
+import com.android.photopicker.core.features.FeatureManager
+import com.android.photopicker.core.features.FeatureRegistration
+import com.android.photopicker.core.features.FeatureToken
+import com.android.photopicker.core.features.Location
+import com.android.photopicker.core.features.LocationParams
+import com.android.photopicker.core.features.PhotopickerUiFeature
+import com.android.photopicker.core.features.PrefetchResultKey
+import com.android.photopicker.core.features.Priority
+import com.android.photopicker.features.highlightmediaresults.model.HighlightAlbum
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
+import com.android.photopicker.features.search.SearchFeature
+import kotlinx.coroutines.Deferred
+
+/** Feature class for HighlightMediaResulst feature of the photopicker */
+class HighlightMediaResultsFeature : PhotopickerUiFeature {
+
+    companion object Registration : FeatureRegistration {
+
+        override val TAG: String = "HighlightMediaResults"
+
+        override fun isEnabled(
+            config: PhotopickerConfiguration,
+            deferredPrefetchResultsMap: Map<PrefetchResultKey, Deferred<Any?>>,
+        ): Boolean {
+            // Highlight feature flags should be enabled for highlight search or album to take
+            // effect. Highlight search will require photopicker search to be enabled while
+            // album highlight is agnostic of search.
+            return config.flags.PICKER_HIGHLIGHT_MEDIA_FEATURE_ENABLED &&
+                (isAlbumHighlightFeasible(config) ||
+                    isSearchHighlightFeasible(config, deferredPrefetchResultsMap))
+        }
+
+        override fun build(featureManager: FeatureManager) = HighlightMediaResultsFeature()
+
+        private fun isAlbumHighlightFeasible(config: PhotopickerConfiguration): Boolean {
+            val highlightQuery = config.highlightQueryResultsParams.queryResultsHighlightQuery
+            return when (highlightQuery) {
+                is HighlightQuery.Album ->
+                    return highlightQuery.album != HighlightAlbum.UNSET_HIGHLIGHT_ALBUM
+                else -> false
+            }
+        }
+
+        private fun isSearchHighlightFeasible(
+            config: PhotopickerConfiguration,
+            deferredPrefetchResultsMap: Map<PrefetchResultKey, Deferred<Any?>>,
+        ): Boolean {
+            return SearchFeature.isEnabled(config, deferredPrefetchResultsMap)
+        }
+    }
+
+    override fun registerLocations(): List<Pair<Location, Int>> {
+        return listOf(Pair(Location.HIGHLIGHT_MEDIA_CAROUSEL, Priority.HIGH.priority))
+    }
+
+    @Composable
+    override fun compose(location: Location, modifier: Modifier, params: LocationParams) {
+        when (location) {
+            Location.HIGHLIGHT_MEDIA_CAROUSEL ->
+                HighlightMedia(modifier = modifier, params = params)
+            else -> {}
+        }
+    }
+
+    override val token = FeatureToken.HIGHLIGHT_MEDIA_RESULTS.token
+
+    override val eventsConsumed = setOf<RegisteredEventClass>()
+
+    /** Events produced by the highlight media feature */
+    override val eventsProduced = setOf<RegisteredEventClass>()
+}
diff --git a/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightAlbum.kt b/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightAlbum.kt
new file mode 100644
index 000000000..e6cd7229a
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightAlbum.kt
@@ -0,0 +1,68 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.features.highlightmediaresults.model
+
+import android.content.Context
+import android.provider.MediaStore
+import com.android.photopicker.R
+
+/**
+ * An enum class representing the possible media albums that can be highlighted by an app in
+ * [MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_QUERY_RESULTS] along with their static album ids.
+ */
+enum class HighlightAlbum(val albumId: String) {
+    // Highlight the Favorites album
+    HIGHLIGHT_ALBUM_FAVORITES("Favorites"),
+    // Highlight the Camera album
+    HIGHLIGHT_ALBUM_CAMERA("Camera"),
+    // Highlight the Screenshots album
+    HIGHLIGHT_ALBUM_SCREENSHOTS("Screenshots"),
+    // Highlight the Videos album
+    HIGHLIGHT_ALBUM_VIDEOS("Videos"),
+    // Highlight the Downloads album
+    HIGHLIGHT_ALBUM_DOWNLOADS("Downloads"),
+    UNSET_HIGHLIGHT_ALBUM("UnsetAlbum");
+
+    companion object {
+        fun toHighlightAlbum(id: String): HighlightAlbum {
+            return when (id) {
+                MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES -> HIGHLIGHT_ALBUM_FAVORITES
+                MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA -> HIGHLIGHT_ALBUM_CAMERA
+                MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_SCREENSHOTS -> HIGHLIGHT_ALBUM_SCREENSHOTS
+                MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_VIDEOS -> HIGHLIGHT_ALBUM_VIDEOS
+                MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_DOWNLOADS -> HIGHLIGHT_ALBUM_DOWNLOADS
+                else -> UNSET_HIGHLIGHT_ALBUM
+            }
+        }
+
+        fun getAlbumNameFromAlbum(context: Context, album: HighlightAlbum): String {
+            return when (album) {
+                HIGHLIGHT_ALBUM_FAVORITES ->
+                    context.getString(R.string.photopicker_hsr_favorites_album_label)
+                HIGHLIGHT_ALBUM_SCREENSHOTS ->
+                    context.getString(R.string.photopicker_hsr_screenshots_album_label)
+                HIGHLIGHT_ALBUM_CAMERA ->
+                    context.getString(R.string.photopicker_hsr_camera_album_label)
+                HIGHLIGHT_ALBUM_DOWNLOADS ->
+                    context.getString(R.string.photopicker_hsr_downloads_album_label)
+                HIGHLIGHT_ALBUM_VIDEOS ->
+                    context.getString(R.string.photopicker_hsr_videos_album_label)
+                else -> throw IllegalArgumentException("Unsupported album id received")
+            }
+        }
+    }
+}
diff --git a/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightQuery.kt b/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightQuery.kt
new file mode 100644
index 000000000..cf46a9321
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightQuery.kt
@@ -0,0 +1,29 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.features.highlightmediaresults.model
+
+/** Defines the type of highlight query */
+sealed interface HighlightQuery {
+    /**
+     * HighlightQuery of type Search which holds the input searchQuery used to highlight media
+     * results
+     */
+    data class Search(val searchQuery: String) : HighlightQuery
+
+    /** HighlightQuery of type Album which holds the album to highlight */
+    data class Album(val album: HighlightAlbum) : HighlightQuery
+}
diff --git a/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightQueryResultsParams.kt b/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightQueryResultsParams.kt
new file mode 100644
index 000000000..6c5b11ae6
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/HighlightQueryResultsParams.kt
@@ -0,0 +1,35 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.features.highlightmediaresults.model
+
+/**
+ * A data class that holds the highlight media information provided by an app. The two pieces of
+ * required information will be provided by the app itself. These pieces will then be used to create
+ * an object of this type for use across the different photopicker components.
+ */
+data class HighlightQueryResultsParams(
+    // The type of highlight the app wants to use. They can open directly to the a media results
+    // grid page or they can choose to show a highlight section on the top of the photo grid.
+    // The media items in this highlight section could either be based on a text query of could be
+    // from a pre-defined album if they chose highlight an album.
+    // There's no other valid highlight type supported at the moment apart from what is declared in
+    // this enum.
+    val queryResultsHighlightType: QueryResultsHighlightType,
+    // The query for which we show the highlighted results. This can either be of type Search
+    // which will hold the search query or type Album which will hold the album to highlight.
+    val queryResultsHighlightQuery: HighlightQuery,
+)
diff --git a/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/QueryResultsHighlightType.kt b/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/QueryResultsHighlightType.kt
new file mode 100644
index 000000000..c5fcfb925
--- /dev/null
+++ b/photopicker/src/com/android/photopicker/features/highlightmediaresults/model/QueryResultsHighlightType.kt
@@ -0,0 +1,43 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.features.highlightmediaresults.model
+
+import android.provider.MediaStore
+
+/**
+ * This represents the possible HighlightSearch types available for an app to use in
+ * [MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_QUERY_RESULTS].
+ *
+ * HighlightSearchType is the way an app chooses to highlight search results.
+ */
+enum class QueryResultsHighlightType {
+    // Displays a highlight section above the photo grid.
+    HIGHLIGHT_MEDIA_SECTION,
+    // Opens to the search page directly.
+    HIGHLIGHT_MEDIA_RESULTS,
+    UNSET_HIGHLIGHT_TYPE;
+
+    companion object {
+        fun toQueryResultsHighlightType(type: Int): QueryResultsHighlightType {
+            return when (type) {
+                MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED -> HIGHLIGHT_MEDIA_SECTION
+                MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED -> HIGHLIGHT_MEDIA_RESULTS
+                else -> UNSET_HIGHLIGHT_TYPE
+            }
+        }
+    }
+}
diff --git a/photopicker/src/com/android/photopicker/features/navigationbar/NavigationBar.kt b/photopicker/src/com/android/photopicker/features/navigationbar/NavigationBar.kt
index 4670be84d..f9b3bfa36 100644
--- a/photopicker/src/com/android/photopicker/features/navigationbar/NavigationBar.kt
+++ b/photopicker/src/com/android/photopicker/features/navigationbar/NavigationBar.kt
@@ -16,6 +16,7 @@
 
 package com.android.photopicker.features.navigationbar
 
+import android.provider.MediaStore
 import androidx.compose.animation.expandVertically
 import androidx.compose.animation.shrinkVertically
 import androidx.compose.foundation.layout.Arrangement
@@ -49,6 +50,7 @@ import androidx.navigation.compose.currentBackStackEntryAsState
 import com.android.photopicker.R
 import com.android.photopicker.core.StateSelector
 import com.android.photopicker.core.animations.standardDecelerate
+import com.android.photopicker.core.configuration.LocalPhotopickerConfiguration
 import com.android.photopicker.core.embedded.LocalEmbeddedState
 import com.android.photopicker.core.features.LocalFeatureManager
 import com.android.photopicker.core.features.Location
@@ -218,6 +220,11 @@ private fun NavigationBarButtons(modifier: Modifier) {
     val categoryGridFeatureEnabled =
         featureManager.isFeatureEnabled(CategoryGridFeature::class.java)
     val searchFeatureEnabled = featureManager.isFeatureEnabled(SearchFeature::class.java)
+    val configuration = LocalPhotopickerConfiguration.current
+    val showButtonIcon =
+        categoryGridFeatureEnabled &&
+            (searchFeatureEnabled ||
+                MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP.equals(configuration.action))
     Row(
         // Consume the incoming modifier to get the correct positioning.
         modifier =
@@ -242,11 +249,12 @@ private fun NavigationBarButtons(modifier: Modifier) {
                 Location.NAVIGATION_BAR_NAV_BUTTON,
                 maxSlots = 2,
                 modifier =
-                    if (searchFeatureEnabled && categoryGridFeatureEnabled) {
+                    if (showButtonIcon) {
                         Modifier.weight(1f)
                     } else {
                         Modifier // No modifier needed when search not enabled
                     },
+                params = LocationParams.WithNavButtonIcon { showButtonIcon },
             )
         }
     }
@@ -333,14 +341,18 @@ private fun NavigationBarForGroup(modifier: Modifier) {
                 ?.getStateFlow<Group?>(CategoryGridFeature.GROUP_KEY, null)
         val group = flow?.value
         when (group) {
-            is Group.Album -> {
+            is Group.BaseAlbum -> {
                 Row(verticalAlignment = Alignment.CenterVertically) {
                     // back button
                     IconButton(
                         modifier =
                             Modifier.width(MEASUREMENT_ICON_BUTTON_WIDTH)
                                 .padding(horizontal = MEASUREMENT_ICON_BUTTON_OUTSIDE_PADDING),
-                        onClick = { navController.navigateToCategoryGrid() },
+                        // Navigate to the previous screen when the back button is pressed instead
+                        // of going to the CategoryGrid directly.
+                        // We need to move back to the PhotoGrid when the See All button of the
+                        // highlight section is pressed and to the CategoryGrid otherwise.
+                        onClick = { navController.popBackStack() },
                     ) {
                         Icon(
                             imageVector = Icons.AutoMirrored.Filled.ArrowBack,
diff --git a/photopicker/src/com/android/photopicker/features/photogrid/PhotoGrid.kt b/photopicker/src/com/android/photopicker/features/photogrid/PhotoGrid.kt
index b61675737..49b6e3bbd 100644
--- a/photopicker/src/com/android/photopicker/features/photogrid/PhotoGrid.kt
+++ b/photopicker/src/com/android/photopicker/features/photogrid/PhotoGrid.kt
@@ -31,9 +31,9 @@ import androidx.compose.foundation.layout.padding
 import androidx.compose.foundation.layout.size
 import androidx.compose.foundation.layout.width
 import androidx.compose.foundation.lazy.grid.GridCells
-import androidx.compose.foundation.lazy.grid.rememberLazyGridState
 import androidx.compose.material.icons.Icons
 import androidx.compose.material.icons.outlined.Image
+import androidx.compose.material.icons.outlined.PlayCircle
 import androidx.compose.material3.Icon
 import androidx.compose.material3.Text
 import androidx.compose.material3.windowsizeclass.WindowWidthSizeClass
@@ -72,6 +72,7 @@ import com.android.photopicker.core.events.Telemetry
 import com.android.photopicker.core.features.FeatureToken
 import com.android.photopicker.core.features.LocalFeatureManager
 import com.android.photopicker.core.features.Location
+import com.android.photopicker.core.features.LocationParams
 import com.android.photopicker.core.hideWhenState
 import com.android.photopicker.core.navigation.LocalNavController
 import com.android.photopicker.core.navigation.PhotopickerDestinations
@@ -79,6 +80,7 @@ import com.android.photopicker.core.navigation.PhotopickerDestinations.PHOTO_GRI
 import com.android.photopicker.core.obtainViewModel
 import com.android.photopicker.core.selection.LocalSelection
 import com.android.photopicker.core.theme.LocalWindowSizeClass
+import com.android.photopicker.data.model.Media
 import com.android.photopicker.extensions.navigateToAlbumGrid
 import com.android.photopicker.extensions.navigateToCategoryGrid
 import com.android.photopicker.extensions.navigateToPhotoGrid
@@ -87,7 +89,6 @@ import com.android.photopicker.features.albumgrid.AlbumGridFeature
 import com.android.photopicker.features.categorygrid.CategoryGridFeature
 import com.android.photopicker.features.navigationbar.NavigationBarButton
 import com.android.photopicker.features.preview.PreviewFeature
-import com.android.photopicker.features.search.SearchFeature
 import com.android.photopicker.util.LocalLocalizationHelper
 import kotlinx.coroutines.launch
 
@@ -110,8 +111,6 @@ fun PhotoGrid(viewModel: PhotoGridViewModel = obtainViewModel()) {
     val featureManager = LocalFeatureManager.current
     val isPreviewEnabled = remember { featureManager.isFeatureEnabled(PreviewFeature::class.java) }
 
-    val state = rememberLazyGridState()
-
     val selection by LocalSelection.current.flow.collectAsStateWithLifecycle()
 
     /* Use the expanded layout any time the Width is Medium or larger. */
@@ -205,6 +204,7 @@ fun PhotoGrid(viewModel: PhotoGridViewModel = obtainViewModel()) {
             items.itemCount == 0 &&
                 items.loadState.source.append is LoadState.NotLoading &&
                 items.loadState.source.append.endOfPaginationReached
+        val isNotEmpty = items.itemCount > 0
 
         when {
             isEmptyAndNoMorePages -> {
@@ -226,84 +226,158 @@ fun PhotoGrid(viewModel: PhotoGridViewModel = obtainViewModel()) {
                     body = stringResource(R.string.photopicker_photos_empty_state_body),
                 )
             }
-            else -> {
+            // Only show the grid when there is at least one item in the page set.
+            isNotEmpty -> {
 
                 // When the PhotoGrid is ready to show, also collect the latest banner
                 // data from [BannerManager] so it can be placed inside of the mediaGrid's
                 // scroll container.
                 val currentBanner by viewModel.banners.collectAsStateWithLifecycle()
 
-                mediaGrid(
-                    items = items,
-                    isExpandedScreen = isExpandedScreen,
-                    selection = selection,
-                    bannerContent = {
-                        hideWhenState(
-                            selector =
-                                object : StateSelector.AnimatedVisibilityInEmbedded {
-                                    override val visible =
-                                        LocalEmbeddedState.current?.isExpanded ?: false
-                                    override val enter =
-                                        expandVertically(animationSpec = standardDecelerate(300))
-                                    override val exit =
-                                        shrinkVertically(animationSpec = standardDecelerate(150))
-                                }
-                        ) {
-                            AnimatedBannerWrapper(currentBanner)
+                // Embedded selector for the Grid banner section..
+                // Extract this out because the below grid implementations differ based on flags,
+                // but both use the same selector.
+                val bannerContentSelector =
+                    object : StateSelector.AnimatedVisibilityInEmbedded {
+                        override val visible = LocalEmbeddedState.current?.isExpanded ?: false
+                        override val enter =
+                            expandVertically(animationSpec = standardDecelerate(300))
+                        override val exit =
+                            shrinkVertically(animationSpec = standardDecelerate(150))
+                    }
+
+                val highlightContentSelector =
+                    object : StateSelector.AnimatedVisibilityInEmbedded {
+                        override val visible = LocalEmbeddedState.current?.isExpanded ?: false
+                        override val enter =
+                            expandVertically(animationSpec = standardDecelerate(300))
+                        override val exit =
+                            shrinkVertically(animationSpec = standardDecelerate(150))
+                    }
+
+                // Click handler for the Grid. Extract this out because the below grid
+                // implementations differ based on flags, but both use the same click handler.
+                val onItemClick = { item: MediaGridItem ->
+                    if (item is MediaGridItem.MediaItem) {
+                        viewModel.handleGridItemSelection(
+                            item = item.media,
+                            selectionLimitExceededMessage = selectionLimitExceededMessage,
+                        )
+                        // Log user's interaction with picker's main grid(photo grid)
+                        scope.launch {
+                            events.dispatch(
+                                Event.LogPhotopickerUIEvent(
+                                    FeatureToken.PHOTO_GRID.token,
+                                    configuration.sessionId,
+                                    configuration.callingPackageUid ?: -1,
+                                    Telemetry.UiEvent.PICKER_MAIN_GRID_INTERACTION,
+                                )
+                            )
                         }
-                    },
-                    onItemClick = { item ->
-                        if (item is MediaGridItem.MediaItem) {
-                            viewModel.handleGridItemSelection(
-                                item = item.media,
-                                selectionLimitExceededMessage = selectionLimitExceededMessage,
+                    }
+                }
+
+                val onItemLongClick = { item: MediaGridItem ->
+                    if (isPreviewEnabled) {
+                        scope.launch {
+                            events.dispatch(
+                                Event.LogPhotopickerUIEvent(
+                                    FeatureToken.PREVIEW.token,
+                                    configuration.sessionId,
+                                    configuration.callingPackageUid ?: -1,
+                                    Telemetry.UiEvent.PICKER_LONG_SELECT_MEDIA_ITEM,
+                                )
                             )
-                            // Log user's interaction with picker's main grid(photo grid)
+                        }
+                        if (item is MediaGridItem.MediaItem) {
+                            // Log entry into the photopicker preview mode
                             scope.launch {
                                 events.dispatch(
                                     Event.LogPhotopickerUIEvent(
-                                        FeatureToken.PHOTO_GRID.token,
+                                        FeatureToken.PREVIEW.token,
                                         configuration.sessionId,
                                         configuration.callingPackageUid ?: -1,
-                                        Telemetry.UiEvent.PICKER_MAIN_GRID_INTERACTION,
+                                        Telemetry.UiEvent.ENTER_PICKER_PREVIEW_MODE,
                                     )
                                 )
                             }
+                            navController.navigateToPreviewMedia(item.media)
                         }
-                    },
-                    onItemLongPress = { item ->
-                        // If the [PreviewFeature] is enabled, launch the preview route.
-                        if (isPreviewEnabled) {
-                            // Log long pressing a media item in the photo grid
-                            scope.launch {
-                                events.dispatch(
-                                    Event.LogPhotopickerUIEvent(
-                                        FeatureToken.PREVIEW.token,
-                                        configuration.sessionId,
-                                        configuration.callingPackageUid ?: -1,
-                                        Telemetry.UiEvent.PICKER_LONG_SELECT_MEDIA_ITEM,
+                    }
+                }
+
+                when (
+                    // Drag-to-select is enabled only when the flag and multi-selection is enabled.
+                    configuration.flags.MEDIA_GRID_TOUCH_FEATURES_ENABLED &&
+                        configuration.selectionLimit > 1
+                ) {
+                    // LongPress + drag will start a drag-to-select action
+                    true -> {
+                        mediaGrid(
+                            items = items,
+                            isExpandedScreen = isExpandedScreen,
+                            selection = selection,
+                            dragSelectionEnabled = true,
+                            /* index offset for banner and highlight content */
+                            dragSelectIndexOffset = 2,
+                            bannerContent = {
+                                hideWhenState(selector = bannerContentSelector) {
+                                    AnimatedBannerWrapper(currentBanner)
+                                }
+                            },
+                            highlightMediaContent = {
+                                hideWhenState(selector = highlightContentSelector) {
+                                    // onLongItemClick behavior for Highlight content should be
+                                    // same as decided for mediaGrid()
+                                    featureManager.composeLocation(
+                                        Location.HIGHLIGHT_MEDIA_CAROUSEL,
+                                        maxSlots = 1,
                                     )
+                                }
+                            },
+                            onItemClick = onItemClick,
+                            columns = GridCells.Fixed(cellsPerRow),
+                            selectionTransform = {
+                                Media.withSelectable(
+                                    item = it,
+                                    selectionSource = Telemetry.MediaLocation.MAIN_GRID,
+                                    album = null,
                                 )
-                            }
-                            if (item is MediaGridItem.MediaItem) {
-                                // Log entry into the photopicker preview mode
-                                scope.launch {
-                                    events.dispatch(
-                                        Event.LogPhotopickerUIEvent(
-                                            FeatureToken.PREVIEW.token,
-                                            configuration.sessionId,
-                                            configuration.callingPackageUid ?: -1,
-                                            Telemetry.UiEvent.ENTER_PICKER_PREVIEW_MODE,
-                                        )
+                            },
+                        )
+                    }
+
+                    // Regular mediaGrid where users can LongPress to preview items.
+                    false -> {
+                        mediaGrid(
+                            items = items,
+                            isExpandedScreen = isExpandedScreen,
+                            selection = selection,
+                            bannerContent = {
+                                hideWhenState(selector = bannerContentSelector) {
+                                    AnimatedBannerWrapper(currentBanner)
+                                }
+                            },
+                            highlightMediaContent = {
+                                hideWhenState(selector = highlightContentSelector) {
+                                    // onLongItemClick behavior for Highlight content should be
+                                    // same as decided for mediaGrid()
+                                    featureManager.composeLocation(
+                                        Location.HIGHLIGHT_MEDIA_CAROUSEL,
+                                        maxSlots = 1,
+                                        params =
+                                            LocationParams.WithLongClickAction { item ->
+                                                onItemLongClick(item)
+                                            },
                                     )
                                 }
-                                navController.navigateToPreviewMedia(item.media)
-                            }
-                        }
-                    },
-                    columns = GridCells.Fixed(cellsPerRow),
-                    state = state,
-                )
+                            },
+                            onItemClick = onItemClick,
+                            onItemLongPress = onItemLongClick,
+                            columns = GridCells.Fixed(cellsPerRow),
+                        )
+                    }
+                }
                 LaunchedEffect(Unit) {
                     // Log loading of photos in the photo grid
                     events.dispatch(
@@ -355,14 +429,16 @@ private fun AnimatedBannerWrapper(
  * [Location.NAVIGATION_BAR_NAV_BUTTON]
  */
 @Composable
-fun PhotoGridNavButton(modifier: Modifier) {
+fun PhotoGridNavButton(modifier: Modifier, params: LocationParams) {
     val navController = LocalNavController.current
     val scope = rememberCoroutineScope()
     val events = LocalEvents.current
     val configuration = LocalPhotopickerConfiguration.current
-    val featureManager = LocalFeatureManager.current
-    val categoryFeatureEnabled = featureManager.isFeatureEnabled(CategoryGridFeature::class.java)
-    val searchFeatureEnabled = featureManager.isFeatureEnabled(SearchFeature::class.java)
+    val isVideoOnlyMimeType = LocalPhotopickerConfiguration.current.hasOnlyVideoMimeTypes()
+    val buttonText =
+        if (isVideoOnlyMimeType) stringResource(R.string.photopicker_videos_nav_button_label)
+        else stringResource(R.string.photopicker_photos_nav_button_label)
+    val showButtonIcon = params as? LocationParams.WithNavButtonIcon
 
     NavigationBarButton(
         onClick = {
@@ -382,23 +458,25 @@ fun PhotoGridNavButton(modifier: Modifier) {
         modifier = modifier,
         isCurrentRoute = { route -> route == PHOTO_GRID.route },
     ) {
-        when {
-            categoryFeatureEnabled && searchFeatureEnabled -> {
+        when (showButtonIcon?.showButtonIcon()) {
+            true -> {
                 Row(verticalAlignment = Alignment.CenterVertically) {
                     Icon(
-                        imageVector = Icons.Outlined.Image,
-                        contentDescription = null,
+                        imageVector =
+                            if (isVideoOnlyMimeType) Icons.Outlined.PlayCircle
+                            else Icons.Outlined.Image,
+                        contentDescription = buttonText,
                         modifier = Modifier.size(18.dp),
                     )
                     Spacer(Modifier.width(8.dp))
                     Text(
-                        stringResource(R.string.photopicker_photos_nav_button_label),
+                        buttonText,
                         maxLines = 1, // Limit the text to a single line
                         overflow = TextOverflow.Ellipsis,
                     )
                 }
             }
-            else -> Text(stringResource(R.string.photopicker_photos_nav_button_label))
+            else -> Text(buttonText)
         }
     }
 }
diff --git a/photopicker/src/com/android/photopicker/features/photogrid/PhotoGridFeature.kt b/photopicker/src/com/android/photopicker/features/photogrid/PhotoGridFeature.kt
index cd38379b7..0ac5a5cea 100644
--- a/photopicker/src/com/android/photopicker/features/photogrid/PhotoGridFeature.kt
+++ b/photopicker/src/com/android/photopicker/features/photogrid/PhotoGridFeature.kt
@@ -127,7 +127,7 @@ class PhotoGridFeature : PhotopickerUiFeature {
     @Composable
     override fun compose(location: Location, modifier: Modifier, params: LocationParams) {
         when (location) {
-            Location.NAVIGATION_BAR_NAV_BUTTON -> PhotoGridNavButton(modifier)
+            Location.NAVIGATION_BAR_NAV_BUTTON -> PhotoGridNavButton(modifier, params)
             else -> {}
         }
     }
diff --git a/photopicker/src/com/android/photopicker/features/preview/Preview.kt b/photopicker/src/com/android/photopicker/features/preview/Preview.kt
index 62acf2f8e..ee1c880a0 100644
--- a/photopicker/src/com/android/photopicker/features/preview/Preview.kt
+++ b/photopicker/src/com/android/photopicker/features/preview/Preview.kt
@@ -56,6 +56,7 @@ import androidx.compose.runtime.getValue
 import androidx.compose.runtime.mutableStateOf
 import androidx.compose.runtime.remember
 import androidx.compose.runtime.rememberCoroutineScope
+import androidx.compose.runtime.saveable.rememberSaveable
 import androidx.compose.runtime.setValue
 import androidx.compose.ui.Alignment
 import androidx.compose.ui.Modifier
@@ -393,7 +394,7 @@ private fun PreviewPager(
     dateFormat: DateFormat,
 ) {
     // Preview session state to keep track if the video player's audio is muted.
-    var audioIsMuted by remember { mutableStateOf(true) }
+    val audioIsMuted = rememberSaveable { mutableStateOf(true) }
 
     HorizontalPager(
         state = state,
@@ -417,8 +418,8 @@ private fun PreviewPager(
                         is Media.Video ->
                             VideoUi(
                                 media,
-                                audioIsMuted,
-                                { audioIsMuted = it },
+                                audioIsMuted.value,
+                                { audioIsMuted.value = it },
                                 snackbarHostState,
                                 singleItemPreview,
                                 contentDescription,
diff --git a/photopicker/src/com/android/photopicker/features/preview/PreviewFeature.kt b/photopicker/src/com/android/photopicker/features/preview/PreviewFeature.kt
index 08c79d508..de0c4a564 100644
--- a/photopicker/src/com/android/photopicker/features/preview/PreviewFeature.kt
+++ b/photopicker/src/com/android/photopicker/features/preview/PreviewFeature.kt
@@ -87,8 +87,11 @@ class PreviewFeature : PhotopickerUiFeature {
                     DialogProperties(
                         dismissOnBackPress = true,
                         dismissOnClickOutside = true,
+                        // It is recommended to use [decorFitsSystemWindows] set to `false` when
+                        // [usePlatformDefaultWidth] is false to support using the entire screen and
+                        // avoiding UI glitches on some devices when the IME animates in.
                         usePlatformDefaultWidth = false,
-                        decorFitsSystemWindows = true,
+                        decorFitsSystemWindows = false,
                     )
 
                 override val enterTransition = null
@@ -111,8 +114,11 @@ class PreviewFeature : PhotopickerUiFeature {
                     DialogProperties(
                         dismissOnBackPress = true,
                         dismissOnClickOutside = true,
+                        // It is recommended to use [decorFitsSystemWindows] set to `false` when
+                        // [usePlatformDefaultWidth] is false to support using the entire screen and
+                        // avoiding UI glitches on some devices when the IME animates in.
                         usePlatformDefaultWidth = false,
-                        decorFitsSystemWindows = true,
+                        decorFitsSystemWindows = false,
                     )
 
                 override val enterTransition = null
diff --git a/photopicker/src/com/android/photopicker/features/search/Search.kt b/photopicker/src/com/android/photopicker/features/search/Search.kt
index 9cd927e09..b7b10db0d 100644
--- a/photopicker/src/com/android/photopicker/features/search/Search.kt
+++ b/photopicker/src/com/android/photopicker/features/search/Search.kt
@@ -71,7 +71,6 @@ import androidx.compose.runtime.mutableStateOf
 import androidx.compose.runtime.remember
 import androidx.compose.runtime.rememberCoroutineScope
 import androidx.compose.runtime.rememberUpdatedState
-import androidx.compose.runtime.saveable.rememberSaveable
 import androidx.compose.runtime.setValue
 import androidx.compose.ui.Alignment
 import androidx.compose.ui.Modifier
@@ -173,7 +172,7 @@ private val MEASUREMENT_OTHER_ICON = 40.dp
 fun Search(
     modifier: Modifier = Modifier,
     params: LocationParams,
-    viewModel: SearchViewModel = obtainViewModel(),
+    viewModel: SearchViewModel = obtainViewModel(isActivityScoped = true),
 ) {
     val userSearchStateInfo by viewModel.userSearchStateInfo.collectAsStateWithLifecycle()
     when {
@@ -196,8 +195,8 @@ fun Search(
 @Composable
 @OptIn(ExperimentalMaterial3Api::class)
 fun SearchBarEnabled(params: LocationParams, viewModel: SearchViewModel, modifier: Modifier) {
-    val focused = rememberSaveable { mutableStateOf(false) }
-    val searchTerm = rememberSaveable { mutableStateOf("") }
+    val focused by viewModel.searchBarFocusedState.collectAsStateWithLifecycle()
+    val searchTerm by viewModel.searchBarTextState.collectAsStateWithLifecycle()
     val searchState by viewModel.searchState.collectAsStateWithLifecycle()
     val suggestionLists by viewModel.searchSuggestions.collectAsStateWithLifecycle()
     val scope = rememberCoroutineScope()
@@ -208,8 +207,8 @@ fun SearchBarEnabled(params: LocationParams, viewModel: SearchViewModel, modifie
         inputField = {
             SearchInputContent(
                 viewModel = viewModel,
-                focused = focused.value,
-                searchTerm = searchTerm.value,
+                focused = focused,
+                searchTerm = searchTerm,
                 onFocused = {
                     if (it) {
                         val clickAction = params as? LocationParams.WithClickAction
@@ -225,25 +224,25 @@ fun SearchBarEnabled(params: LocationParams, viewModel: SearchViewModel, modifie
                             )
                         }
                     }
-                    focused.value = it
+                    viewModel.setSearchBarFocusedState(it)
                 },
                 onSearchQueryChanged = {
-                    searchTerm.value = it
+                    viewModel.setSearchBarText(it)
                     viewModel.clearSearch()
                 },
                 searchState = searchState,
                 modifier,
             )
         },
-        expanded = focused.value,
-        onExpandedChange = { focused.value = it },
+        expanded = focused,
+        onExpandedChange = { viewModel.setSearchBarFocusedState(it) },
         colors =
             SearchBarDefaults.colors(
                 containerColor = MaterialTheme.colorScheme.surfaceContainer,
                 dividerColor = MaterialTheme.colorScheme.outlineVariant,
             ),
         modifier =
-            if (focused.value) {
+            if (focused) {
                 Modifier.fillMaxWidth()
             } else {
                 modifier.padding(MEASUREMENT_SEARCH_BAR_PADDING)
@@ -275,10 +274,10 @@ fun SearchBarEnabled(params: LocationParams, viewModel: SearchViewModel, modifie
                         val focusManager = LocalFocusManager.current
                         ShowSuggestions(
                             searchSuggestions = suggestionLists,
-                            isZeroSearchState = searchTerm.value.isEmpty(),
+                            isZeroSearchState = searchTerm.isEmpty(),
                             onSuggestionClick = { suggestion ->
                                 focusManager.clearFocus()
-                                searchTerm.value = suggestion.displayText ?: ""
+                                viewModel.setSearchBarText(suggestion.displayText ?: "")
                                 viewModel.performSearch(suggestion = suggestion)
                             },
                             modifier = modifier,
@@ -288,9 +287,9 @@ fun SearchBarEnabled(params: LocationParams, viewModel: SearchViewModel, modifie
             }
         },
     )
-    LaunchedEffect(key1 = searchTerm.value) { // Trigger when searchTerm changes
+    LaunchedEffect(key1 = searchTerm) { // Trigger when searchTerm changes
         delay(FETCH_SUGGESTION_DEBOUNCE_DELAY)
-        viewModel.fetchSuggestions(searchTerm.value)
+        viewModel.fetchSuggestions(searchTerm)
     }
 }
 
diff --git a/photopicker/src/com/android/photopicker/features/search/SearchSuggestionCache.kt b/photopicker/src/com/android/photopicker/features/search/SearchSuggestionCache.kt
index ab6822594..74c38046f 100644
--- a/photopicker/src/com/android/photopicker/features/search/SearchSuggestionCache.kt
+++ b/photopicker/src/com/android/photopicker/features/search/SearchSuggestionCache.kt
@@ -84,7 +84,7 @@ class SearchSuggestionCache {
                 )
 
             updateHistorySuggestion(newHistorySuggestion)
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             Log.e(TAG, "Could not update search cache with search query $query", e)
         }
     }
@@ -118,7 +118,7 @@ class SearchSuggestionCache {
             }
 
             cachedSuggestions[ZERO_STATE_SEARCH_QUERY] = newCachedSuggestions
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             Log.e(TAG, "Could not update search cache with suggestion $suggestion", e)
         }
     }
diff --git a/photopicker/src/com/android/photopicker/features/search/SearchViewModel.kt b/photopicker/src/com/android/photopicker/features/search/SearchViewModel.kt
index 146e044d4..c3c84e693 100644
--- a/photopicker/src/com/android/photopicker/features/search/SearchViewModel.kt
+++ b/photopicker/src/com/android/photopicker/features/search/SearchViewModel.kt
@@ -34,6 +34,7 @@ import com.android.photopicker.core.selection.SelectionModifiedResult
 import com.android.photopicker.data.DataService
 import com.android.photopicker.data.model.Media
 import com.android.photopicker.extensions.insertMonthSeparators
+import com.android.photopicker.extensions.toMediaGridItemBaseFromMedia
 import com.android.photopicker.extensions.toMediaGridItemFromMedia
 import com.android.photopicker.features.search.data.SearchDataService
 import com.android.photopicker.features.search.model.SearchSuggestion
@@ -77,6 +78,7 @@ constructor(
 
     companion object {
         private const val SEARCH_RESULT_GRID_PAGE_SIZE = 50
+        private const val HIGHLIGHT_SEARCH_RESULTS_GRID_PAGE_SIZE = 10
         private const val SEARCH_RESULT_GRID_MAX_ITEMS_IN_MEMORY = SEARCH_RESULT_GRID_PAGE_SIZE * 10
         const val ZERO_STATE_SEARCH_QUERY = ""
         const val HISTORY_SUGGESTION_MAX_LIMIT = 3
@@ -100,6 +102,22 @@ constructor(
     private val _searchState = MutableStateFlow<SearchState>(SearchState.Inactive)
     val searchState: StateFlow<SearchState> = _searchState
 
+    /**
+     * Represents the focused/expanded state of the search bar.
+     *
+     * It can be either true or false. The initial value is false.
+     */
+    private val _searchBarFocusedState = MutableStateFlow(false)
+    val searchBarFocusedState: StateFlow<Boolean> = _searchBarFocusedState
+
+    /**
+     * Represents the search bar text.
+     *
+     * The value could be any text string. The initial value is an empty string.
+     */
+    private val _searchBarTextState = MutableStateFlow("")
+    val searchBarTextState: StateFlow<String> = _searchBarTextState
+
     /**
      * Holds the current state of search suggestions list.
      *
@@ -129,6 +147,24 @@ constructor(
         }
     }
 
+    /**
+     * Sets the value of the search bar focused state to the given input value
+     *
+     * @param focused The new value of the focused/expanded state of the search bar
+     */
+    fun setSearchBarFocusedState(focused: Boolean) {
+        _searchBarFocusedState.value = focused
+    }
+
+    /**
+     * Sets the value of the search bar text state to the given input value
+     *
+     * @param text The value to update in the search bar text field
+     */
+    fun setSearchBarText(text: String) {
+        _searchBarTextState.value = text
+    }
+
     /**
      * Updates the search term and fetches new suggestions.
      *
@@ -226,6 +262,29 @@ constructor(
             .cachedIn(scope)
     }
 
+    /**
+     * Returns [PagingData] of type [MediaGridItem.MediaItem] as a [Flow] containing search results
+     * for the highlight query. The flow will not be inserted with any date separators.
+     */
+    fun getHighlightSearchResults(searchQuery: String): Flow<PagingData<MediaGridItem>> {
+        val pagerForSearchResult =
+            Pager(
+                PagingConfig(
+                    pageSize = HIGHLIGHT_SEARCH_RESULTS_GRID_PAGE_SIZE,
+                    prefetchDistance = 0,
+                    maxSize = SEARCH_RESULT_GRID_MAX_ITEMS_IN_MEMORY,
+                )
+            ) {
+                searchDataService.getSearchResults(searchText = searchQuery)
+            }
+        return pagerForSearchResult.flow
+            .toMediaGridItemBaseFromMedia()
+            // After the load and transformations, cache the data in the viewModelScope.
+            // This ensures that the list position and state will be remembered by the
+            // MediaGrid when navigating back to the SearchResult route.
+            .cachedIn(scope)
+    }
+
     /** Sets Inactive search state where no search result is active */
     fun clearSearch() {
         _searchState.value = SearchState.Inactive
diff --git a/photopicker/src/com/android/photopicker/features/search/data/SearchDataServiceImpl.kt b/photopicker/src/com/android/photopicker/features/search/data/SearchDataServiceImpl.kt
index 338319dd7..94a903a76 100644
--- a/photopicker/src/com/android/photopicker/features/search/data/SearchDataServiceImpl.kt
+++ b/photopicker/src/com/android/photopicker/features/search/data/SearchDataServiceImpl.kt
@@ -187,7 +187,7 @@ class SearchDataServiceImpl(
 
                 cancellationSignal?.cancel()
                 emptyList<SearchSuggestion>()
-            } catch (e: RuntimeException) {
+            } catch (e: Exception) {
                 Log.w(
                     SearchDataService.TAG,
                     "An error occurred while fetching search suggestions for prefix $prefix",
@@ -286,7 +286,7 @@ class SearchDataServiceImpl(
                     searchResultsPagingSource
                 }
             }
-        } catch (e: RuntimeException) {
+        } catch (e: Exception) {
             Log.e(SearchDataService.TAG, "Could not create search results paging source", e)
 
             // Create a [SearchResultsPagingSource] object so that the load method can handle the
@@ -339,7 +339,7 @@ class SearchDataServiceImpl(
                         contentResolver,
                         config,
                     )
-                } catch (e: RuntimeException) {
+                } catch (e: Exception) {
                     Log.e(SearchDataService.TAG, "Could not ensure search results", e)
                 }
 
diff --git a/photopicker/src/com/android/photopicker/features/selectionbar/SelectionBar.kt b/photopicker/src/com/android/photopicker/features/selectionbar/SelectionBar.kt
index 3951f3aeb..400cd0048 100644
--- a/photopicker/src/com/android/photopicker/features/selectionbar/SelectionBar.kt
+++ b/photopicker/src/com/android/photopicker/features/selectionbar/SelectionBar.kt
@@ -53,6 +53,7 @@ import com.android.photopicker.core.animations.emphasizedAccelerate
 import com.android.photopicker.core.animations.emphasizedDecelerate
 import com.android.photopicker.core.components.ElevationTokens
 import com.android.photopicker.core.configuration.LocalPhotopickerConfiguration
+import com.android.photopicker.core.configuration.PhotopickerRuntimeEnv
 import com.android.photopicker.core.events.Event
 import com.android.photopicker.core.events.LocalEvents
 import com.android.photopicker.core.events.Telemetry
@@ -87,19 +88,25 @@ fun SelectionBar(modifier: Modifier = Modifier, params: LocationParams) {
     // Collect selection to ensure this is recomposed when the selection is updated.
     val selection = LocalSelection.current
     val currentSelection by LocalSelection.current.flow.collectAsStateWithLifecycle()
-
+    val configuration = LocalPhotopickerConfiguration.current
     // For ACTION_USER_SELECT_IMAGES_FOR_APP selection bar should always be visible to allow users
     // the option to exit with zero selection i.e. revoking all grants.
-    val visible =
+    val showSelectionBar =
         currentSelection.isNotEmpty() ||
             MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP.equals(
                 LocalPhotopickerConfiguration.current.action
             )
+    val visible =
+        if (configuration.runtimeEnv == PhotopickerRuntimeEnv.EMBEDDED) {
+            // For embedded picker do not show selection bar when limit is 1
+            configuration.selectionLimit > 1 && showSelectionBar
+        } else {
+            showSelectionBar
+        }
     val disableClearAllButton =
         MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP.equals(
             LocalPhotopickerConfiguration.current.action
         ) && LocalPhotopickerConfiguration.current.flags.OWNED_PHOTOS_ENABLED
-    val configuration = LocalPhotopickerConfiguration.current
     val events = LocalEvents.current
     val scope = rememberCoroutineScope()
     val localizedCurrentSelectionSize =
diff --git a/photopicker/src/com/android/photopicker/inject/ObtainViewModel.kt b/photopicker/src/com/android/photopicker/inject/ObtainViewModel.kt
index 1615e13f9..45cf7e00f 100644
--- a/photopicker/src/com/android/photopicker/inject/ObtainViewModel.kt
+++ b/photopicker/src/com/android/photopicker/inject/ObtainViewModel.kt
@@ -15,15 +15,17 @@
  */
 package com.android.photopicker.core
 
+import androidx.activity.ComponentActivity
 import androidx.compose.runtime.Composable
 import androidx.compose.runtime.CompositionLocalProvider
 import androidx.compose.runtime.getValue
-import androidx.compose.ui.platform.LocalSavedStateRegistryOwner
+import androidx.compose.ui.platform.LocalContext
 import androidx.hilt.navigation.compose.hiltViewModel
 import androidx.lifecycle.ViewModel
 import androidx.lifecycle.compose.LocalLifecycleOwner
 import androidx.lifecycle.viewmodel.compose.LocalViewModelStoreOwner
 import androidx.lifecycle.viewmodel.compose.viewModel
+import androidx.savedstate.compose.LocalSavedStateRegistryOwner
 import com.android.photopicker.core.configuration.LocalPhotopickerConfiguration
 import com.android.photopicker.core.configuration.PhotopickerRuntimeEnv
 import com.android.photopicker.core.embedded.LocalEmbeddedLifecycle
@@ -38,11 +40,13 @@ import com.android.photopicker.core.embedded.LocalEmbeddedLifecycle
  * created view model is properly re-used, and it is cleared when the ViewModelStore is cleared.
  *
  * @param <VM> the type of the viewModel to obtain
+ * @param isActivityScoped boolean value indicating if an activiy-scoped instance of this ViewModel
+ *   type is required
  * @return the current instance of the view model, or a newly created view model if none existed in
  *   the [ViewModelStore]
  */
 @Composable
-inline fun <reified VM : ViewModel> obtainViewModel(): VM {
+inline fun <reified VM : ViewModel> obtainViewModel(isActivityScoped: Boolean = false): VM {
     val configuration = LocalPhotopickerConfiguration.current
     var viewModel: VM =
         when (configuration.runtimeEnv) {
@@ -64,7 +68,7 @@ inline fun <reified VM : ViewModel> obtainViewModel(): VM {
                     embeddedViewModel =
                         viewModel(
                             embeddedLifecycle,
-                            factory = embeddedLifecycle.defaultViewModelProviderFactory
+                            factory = embeddedLifecycle.defaultViewModelProviderFactory,
                         )
                 }
                 // This should never actually be null, as the [EmbeddedViewModelFactory] will throw
@@ -76,7 +80,35 @@ inline fun <reified VM : ViewModel> obtainViewModel(): VM {
             }
             // When the current run time is activity, rely on the standard hiltViewModel injection,
             // which scopes the view model to the navigation graph's current backstack entry.
-            PhotopickerRuntimeEnv.ACTIVITY -> hiltViewModel()
+            // However, if an activity-scoped instance of the ViewModel is required, we prevent the
+            // call from going to the ViewModelStore of the navigation graph's current backstack
+            // entry and directly fetch the instance scoped to the activity context which is
+            // fetch from the ViewModelStoreOwner of the activity. An example usage
+            // here is the SearchViewModel.
+            PhotopickerRuntimeEnv.ACTIVITY -> {
+                if (isActivityScoped) {
+                    val activity = LocalContext.current as? ComponentActivity
+                    checkNotNull(activity) {
+                        "Cannot obtain the activity scoped ViewModel when current context is " +
+                            "not a ComponentActivity."
+                    }
+                    var activityScopedViewModel: VM? = null
+                    CompositionLocalProvider(
+                        LocalViewModelStoreOwner provides activity,
+                        LocalLifecycleOwner provides activity,
+                        LocalSavedStateRegistryOwner provides activity,
+                    ) {
+                        activityScopedViewModel =
+                            viewModel(activity, factory = activity.defaultViewModelProviderFactory)
+                    }
+                    checkNotNull(activityScopedViewModel) {
+                        "Unable to obtain activity scoped" +
+                            " ViewModel for Activity: ${VM::class.simpleName}"
+                    }
+                } else {
+                    hiltViewModel()
+                }
+            }
         }
     return viewModel
 }
diff --git a/photopicker/src/com/android/photopicker/util/MapOfDeferredWithTimeout.kt b/photopicker/src/com/android/photopicker/util/MapOfDeferredWithTimeout.kt
index 88a2c3067..9c982ebe4 100644
--- a/photopicker/src/com/android/photopicker/util/MapOfDeferredWithTimeout.kt
+++ b/photopicker/src/com/android/photopicker/util/MapOfDeferredWithTimeout.kt
@@ -62,7 +62,7 @@ suspend fun <A, B> mapOfDeferredWithTimeout(
                             Log.d(TAG, "Finished fetching result for : $key val: $result")
                             result
                         }
-                    } catch (e: RuntimeException) {
+                    } catch (e: Exception) {
                         Log.e(TAG, "An error occurred in fetching result for key: $key", e)
                         null
                     }
diff --git a/photopicker/src/com/android/photopicker/util/UtilityMethods.kt b/photopicker/src/com/android/photopicker/util/UtilityMethods.kt
index 873a1789d..e30a0e382 100644
--- a/photopicker/src/com/android/photopicker/util/UtilityMethods.kt
+++ b/photopicker/src/com/android/photopicker/util/UtilityMethods.kt
@@ -24,16 +24,20 @@ import android.provider.MediaStore.Files.FileColumns._SPECIAL_FORMAT_GIF
 import android.provider.MediaStore.Files.FileColumns._SPECIAL_FORMAT_MOTION_PHOTO
 import android.text.format.DateUtils
 import android.util.Log
+import androidx.compose.material3.windowsizeclass.ExperimentalMaterial3WindowSizeClassApi
 import androidx.compose.runtime.Composable
 import androidx.compose.runtime.LaunchedEffect
 import androidx.compose.runtime.getValue
 import androidx.compose.runtime.mutableStateOf
 import androidx.compose.runtime.remember
 import androidx.compose.runtime.setValue
+import androidx.compose.ui.geometry.Rect
 import androidx.compose.ui.graphics.ImageBitmap
 import androidx.compose.ui.graphics.asImageBitmap
+import androidx.compose.ui.graphics.toComposeRect
 import androidx.compose.ui.platform.LocalContext
 import androidx.compose.ui.res.stringResource
+import androidx.window.layout.WindowMetricsCalculator
 import com.android.photopicker.R
 import com.android.photopicker.data.model.Media
 import java.text.DateFormat
@@ -132,3 +136,70 @@ fun getMediaContentDescription(media: Media, dateFormat: DateFormat): String {
         }
     return stringResource(R.string.photopicker_item_content_desc, itemType, dateTaken)
 }
+
+/**
+ * Applies the given [block] to this object [R] only if the [condition] is true. Otherwise, returns
+ * the original object unchanged.
+ *
+ * This is a convenience function that leverages [applyChoice].
+ *
+ * @param R The type of the receiver object.
+ * @param condition The boolean condition to evaluate.
+ * @param block The block of code to apply to this object if [condition] is true. The block receives
+ *   this object [R] as its receiver and should return an [R] (though `this` is implicitly returned
+ *   by `apply`).
+ * @return This object [R], possibly modified by [block] if [condition] was true, or unchanged if
+ *   [condition] was false.
+ */
+inline fun <R : Any> R.applyWhen(condition: Boolean, block: R.() -> R): R =
+    applyChoice(condition = condition, trueBlock = block, falseBlock = { this })
+
+/**
+ * Conditionally applies one of two blocks of code to this object [R] based on a [condition].
+ *
+ * If the [condition] is true, [trueBlock] is applied. If the [condition] is false, [falseBlock] is
+ * applied.
+ *
+ * Both blocks receive this object [R] as their receiver and should return an [R].
+ *
+ * @param R The type of the receiver object.
+ * @param condition The boolean condition to evaluate.
+ * @param trueBlock The block of code to apply to this object if [condition] is true.
+ * @param falseBlock The block of code to apply to this object if [condition] is false.
+ * @return The result of applying either [trueBlock] or [falseBlock] to this object [R].
+ */
+inline fun <R : Any> R.applyChoice(
+    condition: Boolean,
+    trueBlock: R.() -> R,
+    falseBlock: R.() -> R,
+): R {
+    return if (condition) {
+        trueBlock()
+    } else {
+        falseBlock()
+    }
+}
+
+/**
+ * Calculates the [Rect] of the current window.
+ *
+ * This composable function observes the [LocalContext] and [LocalDensity] to recompute the window
+ * metrics when the configuration changes (e.g., screen rotation, multi-window mode). It uses
+ * [WindowMetricsCalculator] to get the current window bounds.
+ *
+ * WARNING: This method cannot be called from the Embedded runtime, as it requires an Activity
+ * reference. The WindowRect that is returned during an Embedded session will be inaccurate.
+ *
+ * @return The [Rect] representing the bounds of the current window in pixels.
+ */
+@OptIn(ExperimentalMaterial3WindowSizeClassApi::class)
+@Composable
+fun calculateWindowRect(): Rect {
+    // Observe context so that this recomposes if the UI context changes (e.g., Activity
+    // recreation).
+    val context = LocalContext.current
+    // WindowMetricsCalculator needs the current Activity to compute window metrics.
+    val metrics = WindowMetricsCalculator.getOrCreate().computeCurrentWindowMetrics(context)
+    // Convert Android's Rect to Compose's Rect.
+    return metrics.bounds.toComposeRect()
+}
diff --git a/photopicker/tests/Android.bp b/photopicker/tests/Android.bp
index fc984fc7a..7b32f656e 100644
--- a/photopicker/tests/Android.bp
+++ b/photopicker/tests/Android.bp
@@ -31,6 +31,7 @@ android_test {
         "androidx.navigation_navigation-testing",
         "androidx.test.core",
         "androidx.test.rules",
+        "androidx.test.uiautomator_uiautomator",
         "flag-junit",
         "glide-mocks",
         "hilt_android",
diff --git a/photopicker/tests/src/com/android/photopicker/MainActivityTest.kt b/photopicker/tests/src/com/android/photopicker/MainActivityTest.kt
index 6ff37d90f..adc65b09f 100644
--- a/photopicker/tests/src/com/android/photopicker/MainActivityTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/MainActivityTest.kt
@@ -33,6 +33,9 @@ import android.test.mock.MockContentResolver
 import androidx.test.core.app.ActivityScenario
 import androidx.test.core.app.ActivityScenario.launchActivityForResult
 import androidx.test.platform.app.InstrumentationRegistry
+import androidx.test.uiautomator.By
+import androidx.test.uiautomator.UiDevice
+import androidx.test.uiautomator.Until
 import com.android.modules.utils.build.SdkLevel
 import com.android.photopicker.core.ActivityModule
 import com.android.photopicker.core.ApplicationModule
@@ -57,6 +60,7 @@ import dagger.hilt.android.testing.HiltAndroidRule
 import dagger.hilt.android.testing.HiltAndroidTest
 import dagger.hilt.android.testing.UninstallModules
 import dagger.hilt.components.SingletonComponent
+import java.util.regex.Pattern
 import javax.inject.Inject
 import kotlinx.coroutines.CoroutineScope
 import kotlinx.coroutines.ExperimentalCoroutinesApi
@@ -66,6 +70,7 @@ import kotlinx.coroutines.test.StandardTestDispatcher
 import kotlinx.coroutines.test.TestScope
 import kotlinx.coroutines.test.advanceTimeBy
 import kotlinx.coroutines.test.runTest
+import org.junit.Assume.assumeFalse
 import org.junit.Before
 import org.junit.Rule
 import org.junit.Test
@@ -80,6 +85,17 @@ import org.mockito.MockitoAnnotations
 @HiltAndroidTest
 @OptIn(ExperimentalCoroutinesApi::class)
 class MainActivityTest {
+
+    // Regex that tests package names for a "documentsui" segment.
+    val DOCUMENTSUI_PACKAGE_REGEX: Pattern = Pattern.compile(".*documentsui.*")
+
+    // A regex that parses the output of `am stack list` and
+    // finds any running tasks with "documentsui" in the task description.
+    val STACK_LIST_REGEX: Pattern =
+        Pattern.compile("taskId=(?<taskId>[0-9]+):(.+?)(documentsui)", Pattern.MULTILINE)
+
+    val UI_TIMEOUT = 5000L
+
     /** Hilt's rule needs to come first to ensure the DI container is setup for the test. */
     @get:Rule(order = 0) var hiltRule = HiltAndroidRule(this)
 
@@ -103,7 +119,7 @@ class MainActivityTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
         // Stubs for UserMonitor
         mockSystemService(mockContext, UserManager::class.java) { mockUserManager }
@@ -114,10 +130,9 @@ class MainActivityTest {
                 resources.getDrawable(R.drawable.android, /* theme= */ null)
             }
             whenever(mockUserManager.getProfileLabel()) { "label" }
-            whenever(mockUserManager.getUserProperties(any(UserHandle::class.java)))
-            @JvmSerializableLambda {
-                UserProperties.Builder().build()
-            }
+            whenever(
+                mockUserManager.getUserProperties(any(UserHandle::class.java))
+            ) @JvmSerializableLambda { UserProperties.Builder().build() }
         }
 
         whenever(mockContext.contentResolver) { contentResolver }
@@ -380,6 +395,47 @@ class MainActivityTest {
                 .isEqualTo(RESULT_CANCELED)
         }
     }
+
+    @Test
+    fun testMainActivityGetContentWithInvalidMimetypesRedirects() {
+
+        val device = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation())
+        val context = InstrumentationRegistry.getInstrumentation().targetContext
+
+        // HSUM does not have documentsUI installed on system user, and this test requires
+        // documentsUI to be present in the user the test is running under.
+        assumeFalse(
+            "Skipping test not supported on HSUM devices.",
+            UserManager.isHeadlessSystemUserMode(),
+        )
+
+        val intent =
+            Intent()
+                .setAction(Intent.ACTION_GET_CONTENT)
+                // In order to launch this and test whether DocumentsUI appears this needs to
+                // run in a new task. However, this will leak the task into the device state, so
+                // this needs to be cleaned up before this test case ends.
+                .addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)
+                .setType("application/pdf")
+                .setComponent(ComponentName(context, MainActivity::class.java))
+
+        context.startActivity(intent)
+        assertWithMessage("Expected documentsUI")
+            .that(device.wait(Until.findObject(By.pkg(DOCUMENTSUI_PACKAGE_REGEX)), UI_TIMEOUT))
+            .isNotNull()
+
+        // The DocumentsUI application is now running in a new task, and needs to be found and
+        // killed to ensure this test cleans up the device state.
+
+        // Get the current list of tasks that are visible.
+        val result = device.executeShellCommand("am stack list")
+
+        // Identify any that are from DocumentsUI and close them.
+        val matcher = STACK_LIST_REGEX.matcher(result)
+        while (matcher.find()) {
+            device.executeShellCommand("am stack remove ${matcher.group("taskId")}")
+        }
+    }
 }
 
 /** Helper function to extract the list of Uris from a [ClipData] object found in an intent. */
diff --git a/photopicker/tests/src/com/android/photopicker/PhotopickerDeviceConfigReceiverTest.kt b/photopicker/tests/src/com/android/photopicker/PhotopickerDeviceConfigReceiverTest.kt
index 85ce9ea5f..1d3c53706 100644
--- a/photopicker/tests/src/com/android/photopicker/PhotopickerDeviceConfigReceiverTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/PhotopickerDeviceConfigReceiverTest.kt
@@ -56,7 +56,7 @@ class PhotopickerDeviceConfigReceiverTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         testDeviceConfigProxy.reset()
 
         whenever(mockContext.packageManager) { mockPackageManager }
diff --git a/photopicker/tests/src/com/android/photopicker/core/PhotopickerAppTest.kt b/photopicker/tests/src/com/android/photopicker/core/PhotopickerAppTest.kt
index 0778b6580..589f8ec96 100644
--- a/photopicker/tests/src/com/android/photopicker/core/PhotopickerAppTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/PhotopickerAppTest.kt
@@ -111,7 +111,7 @@ class PhotopickerAppTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
 
         // Stub for MockContentResolver constructor
diff --git a/photopicker/tests/src/com/android/photopicker/core/banners/BannerManagerImplTest.kt b/photopicker/tests/src/com/android/photopicker/core/banners/BannerManagerImplTest.kt
index fb47d8a1a..934bae7cc 100644
--- a/photopicker/tests/src/com/android/photopicker/core/banners/BannerManagerImplTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/banners/BannerManagerImplTest.kt
@@ -139,12 +139,13 @@ class BannerManagerImplTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         deviceConfigProxy.reset()
         val resources = InstrumentationRegistry.getInstrumentation().getContext().getResources()
 
         mockSystemService(mockContext, UserManager::class.java) { mockUserManager }
         whenever(mockContext.packageManager) { mockPackageManager }
+        whenever(mockContext.packageName) { "" }
         whenever(mockContext.contentResolver) { mockContentResolver }
         whenever(mockContext.createPackageContextAsUser(any(), anyInt(), any())) { mockContext }
         whenever(mockContext.createContextAsUser(any(UserHandle::class.java), anyInt())) {
diff --git a/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/MediaGridTest.kt b/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/MediaGridTest.kt
index 1d89cc1ad..545bfee76 100644
--- a/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/MediaGridTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/MediaGridTest.kt
@@ -242,7 +242,7 @@ class MediaGridTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
 
         // Stub out the content resolver for Glide
         provider = MockContentProviderWrapper(mockContentProvider)
diff --git a/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectTest.kt b/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectTest.kt
new file mode 100644
index 000000000..78c4337d7
--- /dev/null
+++ b/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/drag/GridDragSelectTest.kt
@@ -0,0 +1,711 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.components
+
+import android.content.Intent
+import androidx.compose.foundation.layout.Box
+import androidx.compose.foundation.layout.aspectRatio
+import androidx.compose.foundation.layout.fillMaxSize
+import androidx.compose.foundation.layout.height
+import androidx.compose.foundation.lazy.grid.GridCells
+import androidx.compose.foundation.lazy.grid.LazyHorizontalGrid
+import androidx.compose.foundation.lazy.grid.LazyVerticalGrid
+import androidx.compose.material3.Text
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.CompositionLocalProvider
+import androidx.compose.runtime.getValue
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.geometry.Offset
+import androidx.compose.ui.hapticfeedback.HapticFeedback
+import androidx.compose.ui.hapticfeedback.HapticFeedbackType
+import androidx.compose.ui.platform.testTag
+import androidx.compose.ui.test.ExperimentalTestApi
+import androidx.compose.ui.test.assertIsDisplayed
+import androidx.compose.ui.test.getBoundsInRoot
+import androidx.compose.ui.test.hasTestTag
+import androidx.compose.ui.test.junit4.createComposeRule
+import androidx.compose.ui.test.performTouchInput
+import androidx.compose.ui.unit.dp
+import androidx.paging.Pager
+import androidx.paging.PagingConfig
+import androidx.paging.PagingData
+import androidx.paging.compose.collectAsLazyPagingItems
+import androidx.paging.map
+import androidx.test.ext.junit.runners.AndroidJUnit4
+import com.android.photopicker.core.configuration.LocalPhotopickerConfiguration
+import com.android.photopicker.core.configuration.PhotopickerConfiguration
+import com.android.photopicker.core.configuration.TestPhotopickerConfiguration
+import com.android.photopicker.core.configuration.provideTestConfigurationFlow
+import com.android.photopicker.core.events.Telemetry
+import com.android.photopicker.core.selection.SelectionImpl
+import com.android.photopicker.data.model.Media
+import com.android.photopicker.data.model.MediaPageKey
+import com.android.photopicker.data.paging.FakeInMemoryMediaPagingSource
+import com.android.photopicker.util.test.dragInIncrements
+import com.google.common.truth.Truth.assertWithMessage
+import kotlinx.coroutines.ExperimentalCoroutinesApi
+import kotlinx.coroutines.flow.Flow
+import kotlinx.coroutines.flow.MutableStateFlow
+import kotlinx.coroutines.flow.map
+import kotlinx.coroutines.flow.toList
+import kotlinx.coroutines.launch
+import kotlinx.coroutines.test.advanceTimeBy
+import kotlinx.coroutines.test.runTest
+import org.junit.Before
+import org.junit.Rule
+import org.junit.Test
+import org.junit.runner.RunWith
+import org.mockito.Mockito.mock
+import org.mockito.Mockito.times
+import org.mockito.Mockito.verify
+
+@RunWith(AndroidJUnit4::class)
+@OptIn(ExperimentalCoroutinesApi::class, ExperimentalTestApi::class)
+class GridDragSelectTest {
+
+    @get:Rule val composeTestRule = createComposeRule()
+    private val MEDIA_GRID_TEST_TAG = "media_grid"
+    private val MEDIA_GRID_ITEM_TEST_TAG = "media_grid_item"
+    private val MULTI_SELECT_CONFIG =
+        TestPhotopickerConfiguration.build {
+            action("TEST_ACTION")
+            intent(Intent("TEST_ACTION"))
+            selectionLimit(50)
+        }
+
+    lateinit var pager: Pager<MediaPageKey, Media>
+    lateinit var flow: Flow<PagingData<MediaGridItem>>
+
+    @Before
+    fun setup() {
+        pager =
+            Pager(PagingConfig(pageSize = 50, maxSize = 500)) { FakeInMemoryMediaPagingSource() }
+        flow = pager.flow.toMediaGridItemFromMedia()
+    }
+
+    /**
+     * A Composable function that displays a vertical grid of media items with drag-to-select
+     * functionality.
+     *
+     * @param state The state object that manages the grid's selection and scroll position.
+     * @param config The configuration for the Photopicker. Defaults to the current local
+     *   configuration.
+     * @param enableAutoScroll Whether to enable auto-scrolling when dragging near the edges of the
+     *   grid.
+     * @param autoScrollThreshold The threshold (in dp) from the edge of the grid at which
+     *   auto-scrolling starts.
+     * @param autoScrollOrientation The orientation for auto-scrolling, defaults to vertical.
+     * @param hapticFeedback The haptic feedback instance to use for selection events.
+     * @param selectionTransform A function to transform the selected [Media] item.
+     */
+    @Composable
+    private fun verticalGrid(
+        state: GridDragSelectState,
+        config: PhotopickerConfiguration = LocalPhotopickerConfiguration.current,
+        enableAutoScroll: Boolean = true,
+        autoScrollThreshold: Float = GridDragSelectDefaults.autoScrollThreshold,
+        autoScrollOrientation: ScrollOrientation = ScrollOrientation.VERTICAL,
+        hapticFeedback: HapticFeedback? = null,
+        selectionTransform: (Media) -> Media = { it },
+    ) {
+        val items = flow.collectAsLazyPagingItems()
+
+        LazyVerticalGrid(
+            columns = GridCells.Fixed(3),
+            state = state.gridState,
+            modifier =
+                Modifier.fillMaxSize()
+                    .onGridDragSelect(
+                        config = config,
+                        items = items,
+                        state = state,
+                        indexOffset = 0,
+                        enableAutoScroll = enableAutoScroll,
+                        autoScrollThreshold = autoScrollThreshold,
+                        autoScrollOrientation = autoScrollOrientation,
+                        hapticFeedback = hapticFeedback,
+                        selectionTransform = selectionTransform,
+                    )
+                    .testTag(MEDIA_GRID_TEST_TAG),
+        ) {
+            items(count = items.itemCount) { index ->
+                Box(Modifier.aspectRatio(1f).fillMaxSize().testTag(MEDIA_GRID_ITEM_TEST_TAG)) {
+                    val item = items.get(index)
+                    when (item) {
+                        is MediaGridItem.MediaItem -> Text("${item.media.pickerId}")
+                        else -> Text("other item")
+                    }
+                }
+            }
+        }
+    }
+
+    /**
+     * A Composable function that displays a horizontal grid of media items with drag-to-select
+     * functionality.
+     *
+     * @param state The state object that manages the grid's selection and scroll position.
+     * @param config The configuration for the Photopicker. Defaults to the current local
+     *   configuration.
+     * @param enableAutoScroll Whether to enable auto-scrolling when dragging near the edges of the
+     *   grid.
+     * @param autoScrollThreshold The threshold (in dp) from the edge of the grid at which
+     *   auto-scrolling starts.
+     * @param autoScrollOrientation The orientation for auto-scrolling, defaults to horizontal.
+     * @param hapticFeedback The haptic feedback instance to use for selection events.
+     * @param selectionTransform A function to transform the selected [Media] item.
+     */
+    @Composable
+    private fun horizontalGrid(
+        state: GridDragSelectState,
+        config: PhotopickerConfiguration = LocalPhotopickerConfiguration.current,
+        enableAutoScroll: Boolean = true,
+        autoScrollThreshold: Float = GridDragSelectDefaults.autoScrollThreshold,
+        autoScrollOrientation: ScrollOrientation = ScrollOrientation.HORIZONTAL,
+        hapticFeedback: HapticFeedback? = null,
+        selectionTransform: (Media) -> Media = { it },
+    ) {
+        val items = flow.collectAsLazyPagingItems()
+
+        LazyHorizontalGrid(
+            rows = GridCells.Fixed(1),
+            state = state.gridState,
+            modifier =
+                Modifier.height(150.dp)
+                    .onGridDragSelect(
+                        config = config,
+                        items = items,
+                        state = state,
+                        indexOffset = 0,
+                        enableAutoScroll = enableAutoScroll,
+                        autoScrollThreshold = autoScrollThreshold,
+                        autoScrollOrientation = autoScrollOrientation,
+                        hapticFeedback = null,
+                        selectionTransform = selectionTransform,
+                    )
+                    .testTag(MEDIA_GRID_TEST_TAG),
+        ) {
+            items(count = items.itemCount) { index ->
+                Box(Modifier.aspectRatio(1f).fillMaxSize().testTag(MEDIA_GRID_ITEM_TEST_TAG)) {
+                    val item = items.get(index)
+                    when (item) {
+                        is MediaGridItem.MediaItem -> Text("${item.media.pickerId}")
+                        else -> Text("other item")
+                    }
+                }
+            }
+        }
+    }
+
+    @Test
+    fun testDragToSelectVerticalGridSelectTopRow() = runTest {
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                verticalGrid(state = state)
+            }
+        }
+
+        assertWithMessage("Expected items to be visible")
+            .that(state.gridState.layoutInfo.visibleItemsInfo)
+            .isNotEmpty()
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(topLeft)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                moveTo(topRight)
+                // Wait for the scroll to finish.
+                advanceEventTime(1000)
+                up()
+            }
+        }
+
+        composeTestRule.waitForIdle()
+        assertWithMessage("expected items in selection").that(selection.size()).isEqualTo(3)
+    }
+
+    @Test
+    fun testDragToSelectVerticalGridAutoScroll() = runTest {
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                verticalGrid(state = state)
+            }
+        }
+
+        assertWithMessage("Expected items to be visible")
+            .that(state.gridState.layoutInfo.visibleItemsInfo)
+            .isNotEmpty()
+
+        val initialVisibleIndex = state.gridState.firstVisibleItemIndex
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(center)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                dragInIncrements(totalOffset = getBoundsInRoot().bottom.toPx(), vertical = true)
+                // Wait for the scroll to finish.
+                advanceEventTime(1000)
+                up()
+            }
+        }
+
+        composeTestRule.waitForIdle()
+        assertWithMessage("Expected firstVisibleItemIndex to have changed")
+            .that(state.gridState.firstVisibleItemIndex)
+            .isNotEqualTo(initialVisibleIndex)
+    }
+
+    @Test
+    fun testDragToSelectVerticalGridAutoScrollDisabled() = runTest {
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                verticalGrid(state = state, enableAutoScroll = false)
+            }
+        }
+
+        assertWithMessage("Expected items to be visible")
+            .that(state.gridState.layoutInfo.visibleItemsInfo)
+            .isNotEmpty()
+
+        val initialVisibleIndex = state.gridState.firstVisibleItemIndex
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(center)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                dragInIncrements(totalOffset = getBoundsInRoot().bottom.toPx(), vertical = true)
+                // Wait for the scroll to finish.
+                advanceEventTime(1000)
+                up()
+            }
+        }
+
+        composeTestRule.waitForIdle()
+        assertWithMessage("Expected firstVisibleItemIndex not to have changed")
+            .that(state.gridState.firstVisibleItemIndex)
+            .isEqualTo(initialVisibleIndex)
+    }
+
+    @Test
+    fun testDragToSelectVerticalGridMovingPointerBackwardsRemovesItems() = runTest {
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                // Disable auto-scrolling to make the items landing in the selection more
+                // predictable.
+                verticalGrid(state = state, enableAutoScroll = false)
+            }
+        }
+
+        assertWithMessage("Expected items to be visible")
+            .that(state.gridState.layoutInfo.visibleItemsInfo)
+            .isNotEmpty()
+
+        val collector = mutableListOf<Set<Media>>()
+        backgroundScope.launch { selection.flow.toList(collector) }
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(topLeft)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                moveTo(topRight)
+            }
+
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+
+            assertWithMessage("Expected selection to have changed")
+                .that(collector.size)
+                .isGreaterThan(1)
+
+            assertWithMessage("Expected swiped over items to have been added")
+                .that(collector.any { it.size > 1 })
+                .isTrue()
+
+            performTouchInput {
+                moveTo(topLeft)
+                up()
+            }
+
+            assertWithMessage("Expected selection to contain only the initial item")
+                .that(selection.size())
+                .isEqualTo(1)
+        }
+    }
+
+    @Test
+    fun testDragToSelectHorizontalGrid() = runTest {
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                horizontalGrid(state = state)
+            }
+        }
+
+        assertWithMessage("Expected items to be visible")
+            .that(state.gridState.layoutInfo.visibleItemsInfo)
+            .isNotEmpty()
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(topLeft)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                dragInIncrements(totalOffset = getBoundsInRoot().right.toPx(), vertical = false)
+                // Wait for the scroll to finish.
+                advanceEventTime(1000)
+                up()
+            }
+        }
+
+        composeTestRule.waitForIdle()
+        // Given differing screen dimensions the amount of grid cells will be different, so just
+        // check that the initial cell and at least one more were selected.
+        assertWithMessage("expected items in selection").that(selection.size()).isGreaterThan(1)
+    }
+
+    @Test
+    fun testDragToSelectHorizontalGridAutoScroll() = runTest {
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                horizontalGrid(state = state)
+            }
+        }
+
+        assertWithMessage("Expected items to be visible")
+            .that(state.gridState.layoutInfo.visibleItemsInfo)
+            .isNotEmpty()
+
+        val initialVisibleIndex = state.gridState.firstVisibleItemIndex
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(center)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                dragInIncrements(totalOffset = getBoundsInRoot().right.toPx(), vertical = false)
+                // Wait for the scroll to finish.
+                advanceEventTime(1000)
+                up()
+            }
+        }
+        composeTestRule.waitForIdle()
+        assertWithMessage("Expected firstVisibleItemIndex to have changed")
+            .that(state.gridState.firstVisibleItemIndex)
+            .isNotEqualTo(initialVisibleIndex)
+    }
+
+    @Test
+    fun testDragToSelectHorizontalGridAutoScrollDisabled() = runTest {
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                horizontalGrid(state = state, enableAutoScroll = false)
+            }
+        }
+
+        assertWithMessage("Expected items to be visible")
+            .that(state.gridState.layoutInfo.visibleItemsInfo)
+            .isNotEmpty()
+
+        val initialVisibleIndex = state.gridState.firstVisibleItemIndex
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(center)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                dragInIncrements(totalOffset = getBoundsInRoot().right.toPx(), vertical = false)
+                // Wait for the scroll to finish.
+                advanceEventTime(1000)
+                up()
+            }
+        }
+
+        composeTestRule.waitForIdle()
+        assertWithMessage("Expected firstVisibleItemIndex not to have changed")
+            .that(state.gridState.firstVisibleItemIndex)
+            .isEqualTo(initialVisibleIndex)
+    }
+
+    @Test
+    fun testSelectionTransformIsApplied() = runTest {
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                verticalGrid(
+                    state = state,
+                    selectionTransform = {
+                        Media.withSelectable(
+                            item = it,
+                            selectionSource = Telemetry.MediaLocation.MAIN_GRID,
+                            album = null,
+                        )
+                    },
+                )
+            }
+        }
+        composeTestRule.waitForIdle()
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(topLeft)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                dragInIncrements(totalOffset = getBoundsInRoot().right.toPx(), vertical = false)
+                // Wait for the scroll to finish.
+                advanceEventTime(1000)
+                up()
+            }
+        }
+        composeTestRule.waitForIdle()
+
+        val snapshot = selection.snapshot()
+        assertWithMessage("Expected selection to not be empty.").that(snapshot).isNotEmpty()
+        snapshot.forEach {
+            assertWithMessage("Expected transform to be applied")
+                .that(it.selectionSource)
+                .isEqualTo(Telemetry.MediaLocation.MAIN_GRID)
+        }
+    }
+
+    @Test
+    fun testDragCancellationStopsDragState() = runTest {
+        // Simulating a true "cancel" event mid-drag via performTouchInput is complex.
+        // This test verifies state.stopDrag() has the desired effect.
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                verticalGrid(state = state)
+            }
+        }
+        composeTestRule.waitForIdle()
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(topLeft)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                moveBy(Offset(5f, 5f))
+            }
+        }
+        composeTestRule.waitForIdle()
+
+        // At this point, state.isDragging should be true.
+        assertWithMessage("Should be dragging").that(state.dragState.isDragging).isTrue()
+
+        // Now, explicitly call stopDrag as if a cancellation occurred.
+        state.stopDrag() // This is what onDragCancel calls
+        composeTestRule.waitForIdle()
+
+        assertWithMessage("DragCancel should have reset dragging")
+            .that(state.dragState.isDragging)
+            .isFalse()
+        assertWithMessage("DragCancel should have reset dragState")
+            .that(state.dragState.initial)
+            .isEqualTo(-1) // Check for reset state
+    }
+
+    @Test
+    fun testHapticFeedbackIsInvoked() = runTest {
+        val mockHapticFeedback: HapticFeedback = mock(HapticFeedback::class.java)
+        val selection =
+            SelectionImpl<Media>(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration = MULTI_SELECT_CONFIG,
+                    ),
+                preSelectedMedia = MutableStateFlow(emptyList()),
+            )
+
+        lateinit var state: GridDragSelectState
+        composeTestRule.setContent {
+            state = rememberGridDragSelectState(selection = selection)
+            CompositionLocalProvider(LocalPhotopickerConfiguration provides MULTI_SELECT_CONFIG) {
+                verticalGrid(state = state, hapticFeedback = mockHapticFeedback)
+            }
+        }
+        composeTestRule.waitForIdle()
+
+        val grid = composeTestRule.onNode(hasTestTag(MEDIA_GRID_TEST_TAG))
+        with(grid) {
+            assertIsDisplayed()
+            performTouchInput {
+                down(topLeft)
+                // Wait for the long press to register to enable drag-to-select
+                advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                moveBy(Offset(5f, 5f))
+                up()
+            }
+        }
+        composeTestRule.waitForIdle() // Wait for coroutines
+        verify(mockHapticFeedback, times(1)).performHapticFeedback(HapticFeedbackType.LongPress)
+    }
+}
+
+/**
+ * An extension function to prepare a flow of [PagingData<Media>] to be provided to the [MediaGrid]
+ * composable, by wrapping all of the [Media] objects in a [MediaGridItem.MediaItem].
+ *
+ * @return A [PagingData<MediaGridItem>] that can be processed further, or provided to the
+ *   [MediaGrid].
+ */
+private fun Flow<PagingData<Media>>.toMediaGridItemFromMedia(): Flow<PagingData<MediaGridItem>> {
+    return this.map { pagingData -> pagingData.map { MediaGridItem.MediaItem(it) } }
+}
diff --git a/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/pinch/PinchToZoomTest.kt b/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/pinch/PinchToZoomTest.kt
new file mode 100644
index 000000000..69b5fea3c
--- /dev/null
+++ b/photopicker/tests/src/com/android/photopicker/core/components/mediagrid/pinch/PinchToZoomTest.kt
@@ -0,0 +1,379 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.core.components
+
+import androidx.compose.foundation.layout.Box
+import androidx.compose.foundation.layout.fillMaxSize
+import androidx.compose.foundation.layout.size
+import androidx.compose.runtime.mutableStateListOf
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.geometry.Offset
+import androidx.compose.ui.platform.testTag
+import androidx.compose.ui.test.junit4.createComposeRule
+import androidx.compose.ui.test.onNodeWithTag
+import androidx.compose.ui.test.performTouchInput
+import androidx.compose.ui.test.pinch
+import androidx.test.ext.junit.runners.AndroidJUnit4
+import com.google.common.truth.Truth.assertThat
+import com.google.common.truth.Truth.assertWithMessage
+import org.junit.Rule
+import org.junit.Test
+import org.junit.runner.RunWith
+
+@RunWith(AndroidJUnit4::class)
+class PinchToZoomTest {
+
+    @get:Rule val composeTestRule = createComposeRule()
+
+    private val testTag = "zoomableBox"
+
+    @Test
+    fun emitsStartedChangedAndEndedEvents() {
+        val events = mutableStateListOf<PinchToZoomEvent>()
+
+        composeTestRule.setContent {
+            Box(
+                modifier =
+                    Modifier.testTag(testTag).fillMaxSize().pinchToZoom pinchToZoom@{
+                        events.add(it)
+                        return@pinchToZoom false
+                    }
+            )
+        }
+
+        val p0Start = Offset(100f, 100f)
+        val p1Start = Offset(200f, 100f) // Initial distance 100, centroid (150,100)
+        val p0End = Offset(50f, 100f)
+        val p1End = Offset(250f, 100f) // Final distance 200, centroid (150,100). Zoom factor ~2.0
+
+        composeTestRule.onNodeWithTag(testTag).performTouchInput {
+            pinch(
+                start0 = p0Start,
+                end0 = p0End,
+                start1 = p1Start,
+                end1 = p1End,
+                durationMillis = 200L,
+            )
+        }
+        composeTestRule.waitForIdle()
+
+        assertWithMessage(
+                "Should have at least Started, one/more Changed, and Ended. " +
+                    "Actual: ${events.size}, Events: ${events.joinToString()}"
+            )
+            .that(events.size)
+            .isAtLeast(3)
+
+        val startedEvent =
+            events.first { it is PinchToZoomEvent.Started } as PinchToZoomEvent.Started
+        assertWithMessage("Started event offset should not be null")
+            .that(startedEvent.offset)
+            .isNotNull()
+
+        val changedEvents = events.filterIsInstance<PinchToZoomEvent.Changed>()
+        assertWithMessage("There should be at least one Changed event")
+            .that(changedEvents)
+            .isNotEmpty()
+
+        val initialChangedEvent = changedEvents.first()
+        assertWithMessage("Initial Changed event offset should not be null")
+            .that(initialChangedEvent.offset)
+            .isNotNull()
+
+        val lastChangedEvent = changedEvents.last()
+        assertWithMessage("Last Changed event offset should not be null")
+            .that(lastChangedEvent.offset)
+            .isNotNull()
+
+        assertWithMessage(
+                "Zoom value should be > 1.0f for zooming in. Actual: ${lastChangedEvent.value}"
+            )
+            .that(lastChangedEvent.value)
+            .isGreaterThan(1.0f)
+
+        val endedEvent = events.last { it is PinchToZoomEvent.Ended }
+        assertWithMessage("Last event should be Ended")
+            .that(endedEvent)
+            .isInstanceOf(PinchToZoomEvent.Ended::class.java)
+    }
+
+    @Test
+    fun singlePointerGesture_doesNotEmitPinchEvents() {
+        val events = mutableStateListOf<PinchToZoomEvent>()
+
+        composeTestRule.setContent {
+            Box(
+                modifier =
+                    Modifier.testTag(testTag).fillMaxSize().pinchToZoom pinchToZoom@{
+                        events.add(it)
+                        return@pinchToZoom false
+                    }
+            )
+        }
+
+        composeTestRule.onNodeWithTag(testTag).performTouchInput {
+            down(0, Offset(50f, 50f))
+            advanceEventTime(50)
+            moveTo(0, Offset(100f, 100f), delayMillis = 100L)
+            advanceEventTime(50)
+            up(0)
+            advanceEventTime(50)
+        }
+        composeTestRule.waitForIdle()
+
+        assertWithMessage(
+                "No events should be emitted for a single pointer gesture. Found: " +
+                    "${events.joinToString()}"
+            )
+            .that(events)
+            .isEmpty()
+    }
+
+    @Test
+    fun twoPointersDownAndUp_withoutMove_emitsEvents() {
+        val events = mutableStateListOf<PinchToZoomEvent>()
+
+        composeTestRule.setContent {
+            Box(
+                modifier =
+                    Modifier.testTag(testTag).fillMaxSize().pinchToZoom pinchToZoom@{
+                        events.add(it)
+                        return@pinchToZoom false
+                    }
+            )
+        }
+
+        val pointer1Pos = Offset(50f, 50f)
+        val pointer2Pos = Offset(150f, 50f) // Centroid (100,50)
+
+        composeTestRule.onNodeWithTag(testTag).performTouchInput {
+            down(0, pointer1Pos)
+            down(1, pointer2Pos)
+            advanceEventTime(100) // Time for Started and initial Changed
+            up(0)
+            up(1)
+            advanceEventTime(100) // Time for Ended
+        }
+        composeTestRule.waitForIdle()
+
+        assertWithMessage(
+                "Should emit Started, Changed, and Ended. Events: ${events.joinToString()}"
+            )
+            .that(events)
+            .hasSize(3)
+
+        val startedEvent = events[0] as PinchToZoomEvent.Started
+        assertThat(startedEvent.offset).isNotNull()
+
+        val changedEvent = events[1] as PinchToZoomEvent.Changed
+        assertThat(changedEvent.offset).isNotNull()
+        assertWithMessage("Zoom value for no move should be 1.0f")
+            .that(changedEvent.value)
+            .isEqualTo(1.0f)
+
+        assertThat(events[2]).isInstanceOf(PinchToZoomEvent.Ended::class.java)
+    }
+
+    @Test
+    fun centroidMoves_offsetChangesInChangedEvent() {
+        val events = mutableStateListOf<PinchToZoomEvent>()
+
+        composeTestRule.setContent {
+            Box(
+                modifier =
+                    Modifier.testTag(testTag).fillMaxSize().pinchToZoom pinchToZoom@{
+                        events.add(it)
+                        return@pinchToZoom false
+                    }
+            )
+        }
+
+        val p1Start = Offset(50f, 100f) // Initial centroid: ((50+150)/2, (100+100)/2) = (100,100)
+        val p2Start = Offset(150f, 100f) // Initial distance: 100
+
+        val p1End = Offset(75f, 150f) // Final centroid: ((75+225)/2, (150+150)/2) = (150,150)
+        val p2End = Offset(225f, 150f) // Final distance: 150. Zoom factor = 1.5
+
+        composeTestRule.onNodeWithTag(testTag).performTouchInput {
+            pinch(
+                start0 = p1Start,
+                end0 = p1End,
+                start1 = p2Start,
+                end1 = p2End,
+                durationMillis = 200L,
+            )
+            advanceEventTime(100)
+        }
+        composeTestRule.waitForIdle()
+
+        assertWithMessage(
+                "Should have at least Started, Changed, Ended. Actual: ${events.size}, Events: ${events.joinToString()}"
+            )
+            .that(events.size)
+            .isAtLeast(3)
+
+        val startedEvent =
+            events.first { it is PinchToZoomEvent.Started } as PinchToZoomEvent.Started
+        assertWithMessage("Started event centroid mismatch").that(startedEvent.offset).isNotNull()
+
+        val changedEvents = events.filterIsInstance<PinchToZoomEvent.Changed>()
+        assertWithMessage("Should have at least one Changed event.")
+            .that(changedEvents)
+            .isNotEmpty()
+
+        val lastChangedEvent = changedEvents.last()
+        assertWithMessage(
+                "Moved Changed event centroid mismatch. Actual: ${lastChangedEvent.offset}"
+            )
+            .that(lastChangedEvent.offset)
+            .isEqualTo(Offset(150f, 150f))
+
+        assertWithMessage("Zoom factor should be > 1.0. Actual: ${lastChangedEvent.value}")
+            .that(lastChangedEvent.value)
+            .isGreaterThan(1.0f)
+
+        assertThat(events.last()).isInstanceOf(PinchToZoomEvent.Ended::class.java)
+    }
+
+    @Test
+    fun zoomOut_emitsCorrectEvents() {
+        val events = mutableStateListOf<PinchToZoomEvent>()
+
+        composeTestRule.setContent {
+            Box(
+                modifier =
+                    Modifier.testTag(testTag).fillMaxSize().pinchToZoom pinchToZoom@{
+                        events.add(it)
+                        return@pinchToZoom false
+                    }
+            )
+        }
+
+        // Initial: Centroid (150,100), Distance 200
+        val p0Start = Offset(50f, 100f)
+        val p1Start = Offset(250f, 100f)
+        // Final: Centroid (150,100), Distance 100. Zoom factor ~0.5
+        val p0End = Offset(100f, 100f)
+        val p1End = Offset(200f, 100f)
+
+        composeTestRule.onNodeWithTag(testTag).performTouchInput {
+            pinch(
+                start0 = p0Start,
+                end0 = p0End,
+                start1 = p1Start,
+                end1 = p1End,
+                durationMillis = 200L,
+            )
+        }
+        composeTestRule.waitForIdle()
+
+        assertWithMessage(
+                "Should have at least Started, one/more Changed, and Ended. " +
+                    "Actual: ${events.size}, Events: ${events.joinToString()}"
+            )
+            .that(events.size)
+            .isAtLeast(3)
+
+        val startedEvent =
+            events.first { it is PinchToZoomEvent.Started } as PinchToZoomEvent.Started
+        assertWithMessage("Started event offset should not be null")
+            .that(startedEvent.offset)
+            .isNotNull()
+
+        val changedEvents = events.filterIsInstance<PinchToZoomEvent.Changed>()
+        assertWithMessage("There should be at least one Changed event")
+            .that(changedEvents)
+            .isNotEmpty()
+
+        val lastChangedEvent = changedEvents.last()
+        assertWithMessage("Last Changed event offset should not be null")
+            .that(lastChangedEvent.offset)
+            .isNotNull()
+
+        assertWithMessage(
+                "Zoom value should be < 1.0f for zooming out. Actual: ${lastChangedEvent.value}"
+            )
+            .that(lastChangedEvent.value)
+            .isLessThan(1.0f)
+
+        val endedEvent = events.last { it is PinchToZoomEvent.Ended }
+        assertWithMessage("Last event should be Ended")
+            .that(endedEvent)
+            .isInstanceOf(PinchToZoomEvent.Ended::class.java)
+    }
+
+    @Test
+    fun onZoomEventReturnsTrue_terminatesEarly() {
+        val events = mutableStateListOf<PinchToZoomEvent>()
+        var changedEventCount = 0
+
+        composeTestRule.setContent {
+            Box(
+                modifier =
+                    Modifier.testTag(testTag).fillMaxSize().pinchToZoom pinchToZoom@{
+                        events.add(it)
+                        if (it is PinchToZoomEvent.Changed) {
+                            changedEventCount++
+                            // Return true after the first Changed event
+                            return@pinchToZoom true
+                        }
+                        return@pinchToZoom false
+                    }
+            )
+        }
+
+        val p0Start = Offset(100f, 100f)
+        val p1Start = Offset(200f, 100f) // Initial distance 100
+        val p0End = Offset(50f, 100f)
+        val p1End =
+            Offset(250f, 100f) // Final distance 200 (would normally cause more Changed events)
+
+        composeTestRule.onNodeWithTag(testTag).performTouchInput {
+            pinch(
+                start0 = p0Start,
+                end0 = p0End,
+                start1 = p1Start,
+                end1 = p1End,
+                durationMillis = 400L, // Longer duration to ensure multiple move events could occur
+            )
+        }
+        composeTestRule.waitForIdle()
+
+        assertWithMessage(
+                "Should have exactly Started, one Changed, and Ended. " +
+                    "Actual: ${events.size}, Events: ${events.joinToString()}"
+            )
+            .that(events.size)
+            .isEqualTo(3)
+
+        assertWithMessage("First event should be Started")
+            .that(events[0])
+            .isInstanceOf(PinchToZoomEvent.Started::class.java)
+
+        assertWithMessage("Second event should be Changed")
+            .that(events[1])
+            .isInstanceOf(PinchToZoomEvent.Changed::class.java)
+
+        assertWithMessage("Only one Changed event should be received")
+            .that(changedEventCount)
+            .isEqualTo(1)
+
+        assertWithMessage("Third event should be Ended")
+            .that(events[2])
+            .isInstanceOf(PinchToZoomEvent.Ended::class.java)
+    }
+}
diff --git a/photopicker/tests/src/com/android/photopicker/core/configuration/ConfigurationManagerTest.kt b/photopicker/tests/src/com/android/photopicker/core/configuration/ConfigurationManagerTest.kt
index 1c116206c..ecd621d5c 100644
--- a/photopicker/tests/src/com/android/photopicker/core/configuration/ConfigurationManagerTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/configuration/ConfigurationManagerTest.kt
@@ -19,6 +19,7 @@ package com.android.photopicker.core.configuration
 import android.content.Intent
 import android.net.Uri
 import android.os.Build
+import android.os.Bundle
 import android.platform.test.annotations.RequiresFlagsEnabled
 import android.platform.test.flag.junit.CheckFlagsRule
 import android.platform.test.flag.junit.DeviceFlagsValueProvider
@@ -30,6 +31,9 @@ import androidx.test.filters.SdkSuppress
 import androidx.test.filters.SmallTest
 import com.android.photopicker.core.events.generatePickerSessionId
 import com.android.photopicker.core.navigation.PhotopickerDestinations
+import com.android.photopicker.features.highlightmediaresults.model.HighlightAlbum
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
+import com.android.photopicker.features.highlightmediaresults.model.QueryResultsHighlightType
 import com.android.providers.media.flags.Flags
 import com.google.common.truth.Truth.assertThat
 import kotlinx.coroutines.ExperimentalCoroutinesApi
@@ -61,7 +65,7 @@ class ConfigurationManagerTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         deviceConfigProxy.reset()
     }
 
@@ -701,6 +705,430 @@ class ConfigurationManagerTest {
         }
     }
 
+    /**
+     * Ensures that [ConfigurationManager#setAction] will emit an updated configuration with the
+     * expected highlight query params info when HighlightType is HighlightMediaSection.
+     */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForSearchHighlightCollapsedHighlightType() {
+        val highlightQuery = "dog"
+        val highlightBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY to highlightQuery,
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+            // Expect the default configuration
+            val expectedConfiguration = PhotopickerConfiguration(action = "", sessionId = sessionId)
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+            configurationManager.setIntent(intent)
+            advanceTimeBy(100)
+
+            assertThat(emissions.size).isEqualTo(2)
+            assertThat(emissions.first()).isEqualTo(expectedConfiguration)
+            assertThat(emissions.last().action).isEqualTo(MediaStore.ACTION_PICK_IMAGES)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightType)
+                .isEqualTo(QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Search(searchQuery = highlightQuery))
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager#setAction] will emit an updated configuration with the
+     * expected highlight search info when HighlightType is the HighlightMediaResults.
+     */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForSearchHighlightExpandedHighlightType() {
+        val highlightQuery = "dog"
+        val highlightBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY to highlightQuery,
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+            // Expect the default configuration
+            val expectedConfiguration = PhotopickerConfiguration(action = "", sessionId = sessionId)
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+            configurationManager.setIntent(intent)
+            advanceTimeBy(100)
+
+            assertThat(emissions.size).isEqualTo(2)
+            assertThat(emissions.first()).isEqualTo(expectedConfiguration)
+            assertThat(emissions.last().action).isEqualTo(MediaStore.ACTION_PICK_IMAGES)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightType)
+                .isEqualTo(QueryResultsHighlightType.HIGHLIGHT_MEDIA_RESULTS)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Search(highlightQuery))
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager#setAction] will emit an updated configuration with the
+     * expected highlight search info for album highlight.
+     */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForAlbumHighlight() {
+        val highlightAlbumQuery = MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA
+        val highlightBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID to highlightAlbumQuery,
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+            // Expect the default configuration
+            val expectedConfiguration = PhotopickerConfiguration(action = "", sessionId = sessionId)
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+            configurationManager.setIntent(intent)
+            advanceTimeBy(100)
+
+            assertThat(emissions.size).isEqualTo(2)
+            assertThat(emissions.first()).isEqualTo(expectedConfiguration)
+            assertThat(emissions.last().action).isEqualTo(MediaStore.ACTION_PICK_IMAGES)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightType)
+                .isEqualTo(QueryResultsHighlightType.HIGHLIGHT_MEDIA_RESULTS)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Album(album = HighlightAlbum.HIGHLIGHT_ALBUM_CAMERA))
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager#setAction] will emit an updated configuration with the
+     * expected highlight search info when HighlightType is invalid.
+     */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForAlbumHighlightInvalidAlbumName() {
+        val highlightAlbumQuery = "album"
+        val highlightBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID to highlightAlbumQuery,
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+
+            assertThrows(IllegalArgumentException::class.java) {
+                configurationManager.setIntent(intent)
+            }
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager#setAction] will emit an updated configuration with the
+     * expected highlight search info when HighlightType is invalid.
+     */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForSearchInvalidHighlightType() {
+        val highlightQuery = "dog"
+        val highlightBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to -1,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY to highlightQuery,
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+
+            assertThrows(IllegalArgumentException::class.java) {
+                configurationManager.setIntent(intent)
+            }
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager#setAction] will emit an updated configuration with the
+     * expected highlight search info when HighlightType is invalid.
+     */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForAlbumHighlightInvalidHighlightType() {
+        val highlightAlbumQuery = MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA
+        val highlightBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to -1,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID to highlightAlbumQuery,
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+
+            assertThrows(IllegalArgumentException::class.java) {
+                configurationManager.setIntent(intent)
+            }
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager#setAction] will emit an updated configuration with the
+     * expected highlight search info when the HighlightSearchQuery is an empty string.
+     */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForSearchEmptyHighlightQuery() {
+        val hsrInfoBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_EXPANDED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY to "",
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS, hsrInfoBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+            // Expect the default configuration
+            val expectedConfiguration = PhotopickerConfiguration(action = "", sessionId = sessionId)
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+            configurationManager.setIntent(intent)
+            advanceTimeBy(100)
+
+            assertThat(emissions.size).isEqualTo(2)
+            assertThat(emissions.first()).isEqualTo(expectedConfiguration)
+            assertThat(emissions.last().action).isEqualTo(MediaStore.ACTION_PICK_IMAGES)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightType)
+                .isEqualTo(QueryResultsHighlightType.HIGHLIGHT_MEDIA_RESULTS)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Search(searchQuery = ""))
+        }
+    }
+
+    /** Ensures that [ConfigurationManager#setAction] will throw an exception if query is null */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForSearchNullHighlightQuery() {
+        val highlightBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY to null,
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+
+            assertThrows(IllegalArgumentException::class.java) {
+                configurationManager.setIntent(intent)
+            }
+        }
+    }
+
+    /** Ensures that [ConfigurationManager#setAction] will throw an exception if album is null */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForAlbumNullHighlightAlbum() {
+        val highlightBundle =
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID to null,
+            )
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+
+            assertThrows(IllegalArgumentException::class.java) {
+                configurationManager.setIntent(intent)
+            }
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager#setAction] will emit an updated configuration with the
+     * expected highlight search info when the EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_INFO bundle is
+     * null.
+     */
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetIntentForNullHighlightSearchInfoBundle() {
+        val highlightBundle: Bundle? = null
+        val intent =
+            Intent()
+                .setAction(MediaStore.ACTION_PICK_IMAGES)
+                .putExtra(MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS, highlightBundle)
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+            // Expect the default configuration
+            val expectedConfiguration = PhotopickerConfiguration(action = "", sessionId = sessionId)
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+            configurationManager.setIntent(intent)
+            advanceTimeBy(100)
+
+            assertThat(emissions.size).isEqualTo(2)
+            assertThat(emissions.first()).isEqualTo(expectedConfiguration)
+            assertThat(emissions.last().action).isEqualTo(MediaStore.ACTION_PICK_IMAGES)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightType)
+                .isEqualTo(QueryResultsHighlightType.UNSET_HIGHLIGHT_TYPE)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Search(searchQuery = ""))
+        }
+    }
+
     /**
      * Ensures that [ConfigurationManager#setIntent] will reject illegal configurations for
      * pickImagesInOrder
@@ -1034,4 +1462,180 @@ class ConfigurationManagerTest {
             assertThat(emissions.last().preSelectedUris).isEqualTo(arrayListOf(Uri.EMPTY))
         }
     }
+
+    /**
+     * Ensures that [ConfigurationManager.configuration] will emit an updated
+     * [PhotopickerConfiguration] with the expected
+     * [PhotopickerConfiguration.highlightQueryResultsParams] for valid highlightMediaQuery.
+     */
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.UPSIDE_DOWN_CAKE)
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetEmbeddedPhotopickerFeatureInfoForValidHighlightMediaQuery() {
+        val highlightMediaQuery = "dog"
+        val featureInfo =
+            EmbeddedPhotoPickerFeatureInfo.Builder()
+                .setHighlightSearchMediaTextQuery(highlightMediaQuery)
+                .build()
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.EMBEDDED,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+            // Expect the default configuration
+            val expectedConfiguration =
+                PhotopickerConfiguration(
+                    runtimeEnv = PhotopickerRuntimeEnv.EMBEDDED,
+                    action = "",
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+            configurationManager.setEmbeddedPhotopickerFeatureInfo(featureInfo)
+            advanceTimeBy(100)
+
+            assertThat(emissions.size).isEqualTo(2)
+            assertThat(emissions.first()).isEqualTo(expectedConfiguration)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Search(highlightMediaQuery))
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightType)
+                .isEqualTo(QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION)
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager.configuration] will emit an updated
+     * [PhotopickerConfiguration] with the expected
+     * [PhotopickerConfiguration.highlightQueryResultsParams] for invalid highlightMediaQuery.
+     */
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.UPSIDE_DOWN_CAKE)
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetEmbeddedPhotopickerFeatureInfoForInvalidHighlightMediaQuery() {
+        val highlightMediaQuery = ""
+        val featureInfo =
+            EmbeddedPhotoPickerFeatureInfo.Builder()
+                .setHighlightSearchMediaTextQuery(highlightMediaQuery)
+                .build()
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.EMBEDDED,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+            // Expect the default configuration
+            val expectedConfiguration =
+                PhotopickerConfiguration(
+                    runtimeEnv = PhotopickerRuntimeEnv.EMBEDDED,
+                    action = "",
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+            configurationManager.setEmbeddedPhotopickerFeatureInfo(featureInfo)
+            advanceTimeBy(100)
+
+            assertThat(emissions.size).isEqualTo(2)
+            assertThat(emissions.first()).isEqualTo(expectedConfiguration)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Search(highlightMediaQuery))
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightType)
+                .isEqualTo(QueryResultsHighlightType.UNSET_HIGHLIGHT_TYPE)
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager.configuration] will emit an updated
+     * [PhotopickerConfiguration] with the expected
+     * [PhotopickerConfiguration.highlightQueryResultsParams] for valid album.
+     */
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.UPSIDE_DOWN_CAKE)
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetEmbeddedPhotopickerFeatureInfoForValidHighlightAlbumName() {
+        val highlightAlbumName = MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_CAMERA
+        val featureInfo =
+            EmbeddedPhotoPickerFeatureInfo.Builder().setHighlightAlbumId(highlightAlbumName).build()
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.EMBEDDED,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+            // Expect the default configuration
+            val expectedConfiguration =
+                PhotopickerConfiguration(
+                    runtimeEnv = PhotopickerRuntimeEnv.EMBEDDED,
+                    action = "",
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+            configurationManager.setEmbeddedPhotopickerFeatureInfo(featureInfo)
+            advanceTimeBy(100)
+
+            assertThat(emissions.size).isEqualTo(2)
+            assertThat(emissions.first()).isEqualTo(expectedConfiguration)
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Album(HighlightAlbum.HIGHLIGHT_ALBUM_CAMERA))
+            assertThat(emissions.last().highlightQueryResultsParams.queryResultsHighlightType)
+                .isEqualTo(QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION)
+        }
+    }
+
+    /**
+     * Ensures that [ConfigurationManager.configuration] will emit an updated
+     * [PhotopickerConfiguration] with the expected
+     * [PhotopickerConfiguration.highlightQueryResultsParams] for invalid album.
+     */
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.UPSIDE_DOWN_CAKE)
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testSetEmbeddedPhotopickerFeatureInfoForInvalidHighlightAlbumName() {
+        val highlightAlbumName = "camera"
+        val featureInfo =
+            EmbeddedPhotoPickerFeatureInfo.Builder().setHighlightAlbumId(highlightAlbumName).build()
+
+        runTest {
+            val configurationManager =
+                ConfigurationManager(
+                    runtimeEnv = PhotopickerRuntimeEnv.EMBEDDED,
+                    scope = this.backgroundScope,
+                    dispatcher = StandardTestDispatcher(this.testScheduler),
+                    deviceConfigProxy,
+                    sessionId = sessionId,
+                )
+
+            val emissions = mutableListOf<PhotopickerConfiguration>()
+            backgroundScope.launch { configurationManager.configuration.toList(emissions) }
+
+            advanceTimeBy(100)
+
+            assertThrows(IllegalArgumentException::class.java) {
+                configurationManager.setEmbeddedPhotopickerFeatureInfo(featureInfo)
+            }
+        }
+    }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/core/configuration/TestPhotopickerConfiguration.kt b/photopicker/tests/src/com/android/photopicker/core/configuration/TestPhotopickerConfiguration.kt
index 4382acead..57dc00a8f 100644
--- a/photopicker/tests/src/com/android/photopicker/core/configuration/TestPhotopickerConfiguration.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/configuration/TestPhotopickerConfiguration.kt
@@ -19,6 +19,7 @@ package com.android.photopicker.core.configuration
 import android.content.Intent
 import android.media.ApplicationMediaCapabilities
 import com.android.photopicker.core.events.generatePickerSessionId
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQueryResultsParams
 import kotlinx.coroutines.CoroutineScope
 import kotlinx.coroutines.flow.SharingStarted
 import kotlinx.coroutines.flow.StateFlow
@@ -71,6 +72,8 @@ class TestPhotopickerConfiguration {
         private var flags: PhotopickerFlags = PhotopickerFlags()
         private var mimeTypes: ArrayList<String> = arrayListOf("image/*", "video/*")
         private var appMediaCapabilities: ApplicationMediaCapabilities? = null
+        private var highlightQueryResultsParams: HighlightQueryResultsParams =
+            DEFAULT_HIGHLIGHT_QUERY_RESULTS_PARAMS
 
         fun action(value: String) = apply { this.action = value }
 
@@ -98,6 +101,10 @@ class TestPhotopickerConfiguration {
             this.appMediaCapabilities = value
         }
 
+        fun highlightQueryResultsParams(value: HighlightQueryResultsParams) = apply {
+            this.highlightQueryResultsParams = value
+        }
+
         fun build(): PhotopickerConfiguration {
             return PhotopickerConfiguration(
                 action = action,
@@ -112,6 +119,7 @@ class TestPhotopickerConfiguration {
                 flags = flags,
                 mimeTypes = mimeTypes,
                 callingPackageMediaCapabilities = appMediaCapabilities,
+                highlightQueryResultsParams = highlightQueryResultsParams,
             )
         }
     }
diff --git a/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedFeaturesTest.kt b/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedFeaturesTest.kt
index f2ecc8852..e40b1101a 100644
--- a/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedFeaturesTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedFeaturesTest.kt
@@ -28,23 +28,31 @@ import android.os.UserManager
 import android.platform.test.annotations.DisableFlags
 import android.platform.test.annotations.EnableFlags
 import android.platform.test.flag.junit.SetFlagsRule
+import android.provider.CloudMediaProviderContract.AlbumColumns.ALBUM_ID_FAVORITES
+import android.provider.MediaStore
 import android.test.mock.MockContentResolver
 import android.view.SurfaceControlViewHost
+import android.widget.photopicker.EmbeddedPhotoPickerFeatureInfo
 import androidx.activity.compose.LocalOnBackPressedDispatcherOwner
 import androidx.compose.runtime.CompositionLocalProvider
+import androidx.compose.ui.geometry.Offset
 import androidx.compose.ui.test.ExperimentalTestApi
 import androidx.compose.ui.test.assert
+import androidx.compose.ui.test.assertCountEquals
 import androidx.compose.ui.test.assertIsDisplayed
 import androidx.compose.ui.test.assertIsNotDisplayed
+import androidx.compose.ui.test.getBoundsInRoot
 import androidx.compose.ui.test.hasAnyChild
 import androidx.compose.ui.test.hasClickAction
 import androidx.compose.ui.test.hasContentDescription
+import androidx.compose.ui.test.hasScrollAction
 import androidx.compose.ui.test.hasText
 import androidx.compose.ui.test.junit4.createAndroidComposeRule
 import androidx.compose.ui.test.longClick
 import androidx.compose.ui.test.onFirst
 import androidx.compose.ui.test.onNodeWithText
 import androidx.compose.ui.test.performTouchInput
+import androidx.compose.ui.test.pinch
 import androidx.compose.ui.test.swipeDown
 import androidx.compose.ui.test.swipeLeft
 import androidx.compose.ui.test.swipeRight
@@ -90,9 +98,11 @@ import com.android.photopicker.core.theme.PhotopickerTheme
 import com.android.photopicker.data.DataService
 import com.android.photopicker.data.TestDataServiceImpl
 import com.android.photopicker.data.model.CollectionInfo
+import com.android.photopicker.data.model.Group
 import com.android.photopicker.data.model.Media
 import com.android.photopicker.data.model.MediaSource
 import com.android.photopicker.data.model.Provider
+import com.android.photopicker.features.highlightmediaresults.model.HighlightAlbum
 import com.android.photopicker.features.overflowmenu.OverflowMenuFeature
 import com.android.photopicker.features.preview.PreviewFeature
 import com.android.photopicker.features.snackbar.SnackbarFeature
@@ -100,6 +110,7 @@ import com.android.photopicker.inject.PhotopickerTestModule
 import com.android.photopicker.inject.TestOptions
 import com.android.photopicker.tests.HiltTestActivity
 import com.android.photopicker.util.test.MockContentProviderWrapper
+import com.android.photopicker.util.test.dragInIncrements
 import com.android.photopicker.util.test.nonNullableEq
 import com.android.photopicker.util.test.whenever
 import com.android.providers.media.flags.Flags
@@ -259,7 +270,7 @@ class EmbeddedFeaturesTest : EmbeddedPhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
         // Stub for MockContentResolver constructor
         whenever(mockContext.getApplicationInfo()) { getTestableContext().getApplicationInfo() }
@@ -853,6 +864,218 @@ class EmbeddedFeaturesTest : EmbeddedPhotopickerFeatureBaseTest() {
         }
     }
 
+    @Test
+    fun testLongPressAndDragInCollapsedModeIsNotTransferred() {
+        // This test is only allowed to run on sdk level U+
+        assumeTrue(SdkLevel.isAtLeastU())
+
+        // Initialize [EmbeddedState] instances
+        @Suppress("DEPRECATION")
+        (whenever(mockSurfaceControlViewHost.transferTouchGestureToHost()) { true })
+        testEmbeddedStateWithHostInExpandedState =
+            EmbeddedState(isExpanded = false, host = mockSurfaceControlViewHost)
+
+        testScope.runTest {
+            val resources = getTestableContext().getResources()
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalEmbeddedState provides testEmbeddedStateWithHostInExpandedState
+                ) {
+                    callEmbeddedPhotopickerMain(
+                        embeddedLifecycle = embeddedLifecycle.get(),
+                        featureManager = featureManager.get(),
+                        selection = selection.get(),
+                        events = events.get(),
+                    )
+                }
+            }
+            // Wait for the PhotoGridViewModel to load data and for the UI to update.
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+            with(
+                composeTestRule
+                    .onAllNodes(
+                        hasContentDescription(
+                            value = MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING,
+                            substring = true,
+                        )
+                    )
+                    .onFirst()
+            ) {
+                assertIsDisplayed()
+                performTouchInput {
+                    down(center)
+                    advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                    dragInIncrements(totalOffset = getBoundsInRoot().bottom.toPx(), vertical = true)
+                    // Wait for the scroll to finish.
+                    advanceEventTime(1000)
+                    up()
+                }
+            }
+            // Verify whether the method to transfer touch events is invoked during testing
+            @Suppress("DEPRECATION")
+            verify(mockSurfaceControlViewHost, never()).transferTouchGestureToHost()
+        }
+    }
+
+    @Test
+    fun testLongPressAndDragInExpandedModeIsNotTransferred() {
+        // This test is only allowed to run on sdk level U+
+        assumeTrue(SdkLevel.isAtLeastU())
+
+        // Initialize [EmbeddedState] instances
+        @Suppress("DEPRECATION")
+        (whenever(mockSurfaceControlViewHost.transferTouchGestureToHost()) { true })
+        testEmbeddedStateWithHostInExpandedState =
+            EmbeddedState(isExpanded = true, host = mockSurfaceControlViewHost)
+
+        testScope.runTest {
+            val resources = getTestableContext().getResources()
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalEmbeddedState provides testEmbeddedStateWithHostInExpandedState
+                ) {
+                    callEmbeddedPhotopickerMain(
+                        embeddedLifecycle = embeddedLifecycle.get(),
+                        featureManager = featureManager.get(),
+                        selection = selection.get(),
+                        events = events.get(),
+                    )
+                }
+            }
+            // Wait for the PhotoGridViewModel to load data and for the UI to update.
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+            with(
+                composeTestRule
+                    .onAllNodes(
+                        hasContentDescription(
+                            value = MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING,
+                            substring = true,
+                        )
+                    )
+                    .onFirst()
+            ) {
+                assertIsDisplayed()
+                performTouchInput {
+                    down(center)
+                    advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                    dragInIncrements(totalOffset = getBoundsInRoot().bottom.toPx(), vertical = true)
+                    // Wait for the scroll to finish.
+                    advanceEventTime(1000)
+                    up()
+                }
+            }
+            // Verify whether the method to transfer touch events is invoked during testing
+            @Suppress("DEPRECATION")
+            verify(mockSurfaceControlViewHost, never()).transferTouchGestureToHost()
+        }
+    }
+
+    @Test
+    fun testPinchInExpandedModeIsNotTransferred() {
+        // This test is only allowed to run on sdk level U+
+        assumeTrue(SdkLevel.isAtLeastU())
+
+        // Initialize [EmbeddedState] instances
+        @Suppress("DEPRECATION")
+        (whenever(mockSurfaceControlViewHost.transferTouchGestureToHost()) { true })
+        testEmbeddedStateWithHostInExpandedState =
+            EmbeddedState(isExpanded = true, host = mockSurfaceControlViewHost)
+
+        testScope.runTest {
+            val resources = getTestableContext().getResources()
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalEmbeddedState provides testEmbeddedStateWithHostInExpandedState
+                ) {
+                    callEmbeddedPhotopickerMain(
+                        embeddedLifecycle = embeddedLifecycle.get(),
+                        featureManager = featureManager.get(),
+                        selection = selection.get(),
+                        events = events.get(),
+                    )
+                }
+            }
+            // Wait for the PhotoGridViewModel to load data and for the UI to update.
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+            composeTestRule
+                .onAllNodes(
+                    hasContentDescription(
+                        value = MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING,
+                        substring = true,
+                    )
+                )
+                .onFirst()
+                .assertIsDisplayed()
+                .performTouchInput {
+                    pinch(
+                        start0 = Offset(10f, 10f),
+                        end0 = Offset(10f, 10f),
+                        start1 = Offset(20f, 10f),
+                        end1 = Offset(50f, 10f),
+                        durationMillis = 1000L,
+                    )
+                }
+            // Verify whether the method to transfer touch events is invoked during testing
+            @Suppress("DEPRECATION")
+            verify(mockSurfaceControlViewHost, never()).transferTouchGestureToHost()
+        }
+    }
+
+    @Test
+    fun testPinchInCollapsedModeIsNotTransferred() {
+        // This test is only allowed to run on sdk level U+
+        assumeTrue(SdkLevel.isAtLeastU())
+
+        // Initialize [EmbeddedState] instances
+        @Suppress("DEPRECATION")
+        (whenever(mockSurfaceControlViewHost.transferTouchGestureToHost()) { true })
+        testEmbeddedStateWithHostInExpandedState =
+            EmbeddedState(isExpanded = false, host = mockSurfaceControlViewHost)
+
+        testScope.runTest {
+            val resources = getTestableContext().getResources()
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalEmbeddedState provides testEmbeddedStateWithHostInExpandedState
+                ) {
+                    callEmbeddedPhotopickerMain(
+                        embeddedLifecycle = embeddedLifecycle.get(),
+                        featureManager = featureManager.get(),
+                        selection = selection.get(),
+                        events = events.get(),
+                    )
+                }
+            }
+            // Wait for the PhotoGridViewModel to load data and for the UI to update.
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+            composeTestRule
+                .onAllNodes(
+                    hasContentDescription(
+                        value = MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING,
+                        substring = true,
+                    )
+                )
+                .onFirst()
+                .assertIsDisplayed()
+                .performTouchInput {
+                    pinch(
+                        start0 = Offset(10f, 10f),
+                        end0 = Offset(10f, 10f),
+                        start1 = Offset(20f, 10f),
+                        end1 = Offset(50f, 10f),
+                        durationMillis = 1000L,
+                    )
+                }
+            // Verify whether the method to transfer touch events is invoked during testing
+            @Suppress("DEPRECATION")
+            verify(mockSurfaceControlViewHost, never()).transferTouchGestureToHost()
+        }
+    }
+
     @Test
     fun testPreviewDisabled_onLongPressMediaItem_photosGrid() = runTest {
         composeTestRule.setContent {
@@ -1047,4 +1270,251 @@ class EmbeddedFeaturesTest : EmbeddedPhotopickerFeatureBaseTest() {
             composeTestRule.onNode(hasText(expectedTitle)).assertIsNotDisplayed()
             composeTestRule.onNode(hasText(expectedMessage)).assertIsNotDisplayed()
         }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightMediaSectionIsNotShownInCollapsedMode() =
+        testScope.runTest {
+            val testQuery = "cats"
+            val info: EmbeddedPhotoPickerFeatureInfo =
+                EmbeddedPhotoPickerFeatureInfo.Builder()
+                    .setHighlightSearchMediaTextQuery(testQuery)
+                    .build()
+            configurationManager.get().setEmbeddedPhotopickerFeatureInfo(info)
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(LocalEmbeddedState provides testEmbeddedStateCollapsed) {
+                    callEmbeddedPhotopickerMain(
+                        embeddedLifecycle = embeddedLifecycle.get(),
+                        featureManager = featureManager.get(),
+                        selection = selection.get(),
+                        events = events.get(),
+                    )
+                }
+            }
+
+            // Verify search query, Recents label and the SeeAll button are not displayed
+            val resources = getTestableContext().getResources()
+            val highlightText =
+                resources.getString(R.string.photopicker_hsr_suggestions_for_text) + " " + testQuery
+            composeTestRule.onNode(hasText(highlightText)).assertIsNotDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsNotDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsNotDisplayed()
+            // Verify the lazy grid is displayed, there should be only one scrollable component
+            // which is the photo grid
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(1)
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testSearchHighlightMediaSectionIsShownInExpandedMode() =
+        testScope.runTest {
+            assumeTrue(SdkLevel.isAtLeastU())
+
+            val testQuery = "cats"
+            val info: EmbeddedPhotoPickerFeatureInfo =
+                EmbeddedPhotoPickerFeatureInfo.Builder()
+                    .setHighlightSearchMediaTextQuery(testQuery)
+                    .build()
+            configurationManager.get().setEmbeddedPhotopickerFeatureInfo(info)
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(LocalEmbeddedState provides testEmbeddedStateExpanded) {
+                    callEmbeddedPhotopickerMain(
+                        embeddedLifecycle = embeddedLifecycle.get(),
+                        featureManager = featureManager.get(),
+                        selection = selection.get(),
+                        events = events.get(),
+                    )
+                }
+            }
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            // Verify search query, Recents label and the SeeAll button are displayed
+            val resources = getTestableContext().getResources()
+            val highlightText =
+                resources.getString(R.string.photopicker_hsr_suggestions_for_text) + " " + testQuery
+            composeTestRule.onNode(hasText(highlightText)).assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            // Verify the lazy grids are displayed, there should be two grid i.e. scrollable
+            // components: photogrid with a vertical scroll nad highlight grid with a horizontal
+            // scroll
+            composeTestRule.onAllNodes(hasScrollAction()).assertCountEquals(2)
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testAlbumHighlightMediaSectionIsShownInExpandedMode() =
+        testScope.runTest {
+            assumeTrue(SdkLevel.isAtLeastU())
+
+            val highlightAlbum = MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES
+            val info: EmbeddedPhotoPickerFeatureInfo =
+                EmbeddedPhotoPickerFeatureInfo.Builder().setHighlightAlbumId(highlightAlbum).build()
+            configurationManager.get().setEmbeddedPhotopickerFeatureInfo(info)
+
+            val testDataService = dataService.get() as? TestDataServiceImpl
+            checkNotNull(testDataService) { "Expected a TestDataServiceImpl" }
+            testDataService.albumMediaSetSize = 1
+            testDataService.albumSetSize = 1
+            testDataService.albumsList =
+                listOf(
+                    Group.Album(
+                        id = ALBUM_ID_FAVORITES,
+                        pickerId = 1234L,
+                        authority = "a",
+                        displayName = "Favorites",
+                        coverUri =
+                            Uri.EMPTY.buildUpon()
+                                .apply {
+                                    scheme("content")
+                                    authority("a")
+                                    path("1234")
+                                }
+                                .build(),
+                        dateTakenMillisLong = 12345678L,
+                        coverMediaSource = MediaSource.LOCAL,
+                    )
+                )
+            testDataService._availableProviders.value =
+                listOf(
+                    Provider(
+                        authority = "local_authority",
+                        mediaSource = MediaSource.LOCAL,
+                        uid = 1,
+                        displayName = "Local Provider",
+                    )
+                )
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(LocalEmbeddedState provides testEmbeddedStateExpanded) {
+                    callEmbeddedPhotopickerMain(
+                        embeddedLifecycle = embeddedLifecycle.get(),
+                        featureManager = featureManager.get(),
+                        selection = selection.get(),
+                        events = events.get(),
+                    )
+                }
+            }
+
+            // Wait sufficiently for albums list to be available
+            // Repeated calls to advanceTimeBy followed by waitForIdle  are necessary because the
+            // animations/transitions relies on the passage of time to complete its rendering.
+            advanceTimeBy(3000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+
+            // Verify album name, Recents label and the SeeAll button are displayed
+            composeTestRule
+                .onNode(hasText(HighlightAlbum.HIGHLIGHT_ALBUM_FAVORITES.albumId))
+                .assertIsDisplayed()
+            val resources = getTestableContext().getResources()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            // Verify the lazy grids are displayed, there should be two grid i.e. scrollable
+            // components: photogrid with a vertical scroll and highlight grid with a horizontal
+            // scroll
+            composeTestRule.onAllNodes(hasScrollAction()).assertCountEquals(2)
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightMediaSectionIsNotShownInExpandedModeWithEmptyTestQuery() =
+        testScope.runTest {
+            val testQuery = ""
+            val info: EmbeddedPhotoPickerFeatureInfo =
+                EmbeddedPhotoPickerFeatureInfo.Builder()
+                    .setHighlightSearchMediaTextQuery(testQuery)
+                    .build()
+            configurationManager.get().setEmbeddedPhotopickerFeatureInfo(info)
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(LocalEmbeddedState provides testEmbeddedStateExpanded) {
+                    callEmbeddedPhotopickerMain(
+                        embeddedLifecycle = embeddedLifecycle.get(),
+                        featureManager = featureManager.get(),
+                        selection = selection.get(),
+                        events = events.get(),
+                    )
+                }
+            }
+
+            // Verify search query, Recents label and the SeeAll button are not displayed
+            val resources = getTestableContext().getResources()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsNotDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsNotDisplayed()
+
+            // Verify the lazy grid is displayed, there should be only one scrollable component
+            // which is the photo grid
+            composeTestRule.onAllNodes(hasScrollAction()).assertCountEquals(1)
+        }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedPhotopickerImplTest.kt b/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedPhotopickerImplTest.kt
index b1492099b..4dc5a8258 100644
--- a/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedPhotopickerImplTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedPhotopickerImplTest.kt
@@ -69,7 +69,7 @@ class EmbeddedPhotopickerImplTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
     }
 
     @Test
diff --git a/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedServiceTest.kt b/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedServiceTest.kt
index b91e8b6d1..cddb68e56 100644
--- a/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedServiceTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/embedded/EmbeddedServiceTest.kt
@@ -103,7 +103,7 @@ class EmbeddedServiceTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
 
         embeddedService = EmbeddedService()
diff --git a/photopicker/tests/src/com/android/photopicker/core/embedded/SessionTest.kt b/photopicker/tests/src/com/android/photopicker/core/embedded/SessionTest.kt
index eb4bc6efb..2e551be9a 100644
--- a/photopicker/tests/src/com/android/photopicker/core/embedded/SessionTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/embedded/SessionTest.kt
@@ -74,6 +74,7 @@ import com.android.photopicker.data.model.Media
 import com.android.photopicker.data.model.MediaSource
 import com.android.photopicker.data.model.Provider
 import com.android.photopicker.extensions.requireSystemService
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
 import com.android.photopicker.inject.PhotopickerTestModule
 import com.android.photopicker.inject.TestOptions
 import com.android.photopicker.tests.HiltTestActivity
@@ -224,7 +225,7 @@ class SessionTest : EmbeddedPhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
 
         mockTextContextWrapper = spy(FakeTestContextWrapper())
@@ -424,6 +425,7 @@ class SessionTest : EmbeddedPhotopickerFeatureBaseTest() {
         }
 
     @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
     fun testSessionSetsEmbeddedPhotopickerFeatureInfoInConfiguration() =
         testScope.runTest {
             val component = embeddedServiceComponentBuilder.build()
@@ -450,6 +452,9 @@ class SessionTest : EmbeddedPhotopickerFeatureBaseTest() {
             assertWithMessage("Expected configuration to contain the featureInfo pre-selected URIs")
                 .that(configuration.preSelectedUris)
                 .isEqualTo(featureInfo.preSelectedUris)
+            assertWithMessage("Expected configuration to contain the highlight query")
+                .that(configuration.highlightQueryResultsParams.queryResultsHighlightQuery)
+                .isEqualTo(HighlightQuery.Search(searchQuery = ""))
         }
 
     @Test
diff --git a/photopicker/tests/src/com/android/photopicker/core/events/DispatchersTest.kt b/photopicker/tests/src/com/android/photopicker/core/events/DispatchersTest.kt
index b63ebc444..9a09f5fa7 100644
--- a/photopicker/tests/src/com/android/photopicker/core/events/DispatchersTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/events/DispatchersTest.kt
@@ -172,6 +172,7 @@ class DispatchersTest {
         }
 
         whenever(mockContext.packageManager) { mock(PackageManager::class.java) }
+        whenever(mockContext.packageName) { "" }
         whenever(mockContext.contentResolver) { mock(ContentResolver::class.java) }
         whenever(mockContext.createPackageContextAsUser(any(), anyInt(), any())) { mockContext }
         whenever(mockContext.createContextAsUser(any(UserHandle::class.java), anyInt())) {
diff --git a/photopicker/tests/src/com/android/photopicker/core/glide/LoadMediaTest.kt b/photopicker/tests/src/com/android/photopicker/core/glide/LoadMediaTest.kt
index 89572c40e..b5412a573 100644
--- a/photopicker/tests/src/com/android/photopicker/core/glide/LoadMediaTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/glide/LoadMediaTest.kt
@@ -18,13 +18,15 @@ package com.android.photopicker.core.glide
 
 import android.content.ContentProvider
 import android.content.ContentResolver
+import android.content.Context
+import android.content.res.Resources
 import android.graphics.Point
 import android.graphics.drawable.Drawable
 import android.net.Uri
 import android.os.Bundle
 import android.os.CancellationSignal
+import android.os.UserHandle
 import android.provider.CloudMediaProviderContract
-import androidx.compose.runtime.getValue
 import androidx.compose.ui.test.junit4.createComposeRule
 import androidx.test.platform.app.InstrumentationRegistry
 import com.android.modules.utils.build.SdkLevel
@@ -41,8 +43,10 @@ import com.android.photopicker.util.test.GlideLoadableIdlingResource
 import com.android.photopicker.util.test.MockContentProviderWrapper
 import com.android.photopicker.util.test.capture
 import com.android.photopicker.util.test.whenever
+import com.bumptech.glide.Priority
 import com.bumptech.glide.RequestBuilder
 import com.bumptech.glide.load.DataSource
+import com.bumptech.glide.load.data.DataFetcher
 import com.bumptech.glide.load.engine.DiskCacheStrategy
 import com.bumptech.glide.load.engine.GlideException
 import com.bumptech.glide.request.RequestListener
@@ -56,6 +60,7 @@ import dagger.hilt.android.testing.HiltAndroidRule
 import dagger.hilt.android.testing.HiltAndroidTest
 import dagger.hilt.android.testing.UninstallModules
 import dagger.hilt.components.SingletonComponent
+import javax.inject.Inject
 import kotlinx.coroutines.CoroutineDispatcher
 import kotlinx.coroutines.CoroutineScope
 import kotlinx.coroutines.test.StandardTestDispatcher
@@ -67,9 +72,10 @@ import org.junit.Before
 import org.junit.Rule
 import org.junit.Test
 import org.mockito.ArgumentCaptor
+import org.mockito.ArgumentMatchers.any
+import org.mockito.ArgumentMatchers.anyInt
 import org.mockito.Captor
 import org.mockito.Mock
-import org.mockito.Mockito.any
 import org.mockito.Mockito.verify
 import org.mockito.MockitoAnnotations
 
@@ -120,10 +126,17 @@ class LoadMediaTest {
     /** Replace the injected ContentResolver binding in [ApplicationModule] with this test value. */
     @BindValue @ApplicationOwned lateinit var contentResolver: ContentResolver
 
+    @Inject lateinit var mockContext: Context
+
     @Mock lateinit var mockContentProvider: ContentProvider
+    @Mock lateinit var mockResources: Resources
+    @Mock lateinit var mockCallback: DataFetcher.DataCallback<in Drawable>
     @Captor lateinit var uri: ArgumentCaptor<Uri>
     @Captor lateinit var mimeType: ArgumentCaptor<String>
     @Captor lateinit var options: ArgumentCaptor<Bundle>
+    @Captor lateinit var packageName: ArgumentCaptor<String>
+    @Captor lateinit var userHandle: ArgumentCaptor<UserHandle>
+    @Captor lateinit var resourceId: ArgumentCaptor<Int>
 
     /** Simple implementation of a GlideLoadable */
     private val loadable =
@@ -148,9 +161,34 @@ class LoadMediaTest {
             }
         }
 
+    private val context = InstrumentationRegistry.getInstrumentation().context
+
+    private val drawableLoadable =
+        object : GlideLoadable {
+
+            override fun getSignature(resolution: Resolution): ObjectKey {
+                return ObjectKey("${getLoadableUri()}_$resolution")
+            }
+
+            override fun getLoadableUri(): Uri {
+                return Uri.EMPTY.buildUpon()
+                    .apply {
+                        scheme(ContentResolver.SCHEME_ANDROID_RESOURCE)
+                        encodedAuthority("${context.userId}@com.example.app")
+                        path("${R.drawable.android}")
+                    }
+                    .build()
+            }
+
+            override fun getDataSource(): DataSource {
+                return DataSource.LOCAL
+            }
+        }
+
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
+        hiltRule.inject()
 
         provider = MockContentProviderWrapper(mockContentProvider)
         contentResolver = ContentResolver.wrap(provider)
@@ -172,10 +210,7 @@ class LoadMediaTest {
 
         // Return a resource png so the request is actually backed by something.
         whenever(mockContentProvider.openTypedAssetFile(any(), any(), any(), any())) {
-            InstrumentationRegistry.getInstrumentation()
-                .getContext()
-                .getResources()
-                .openRawResourceFd(R.drawable.android)
+            context.resources.openRawResourceFd(R.drawable.android)
         }
 
         composeTestRule.setContent {
@@ -228,10 +263,7 @@ class LoadMediaTest {
 
         // Return a resource png so the request is actually backed by something.
         whenever(mockContentProvider.openTypedAssetFile(any(), any(), any(), any())) {
-            InstrumentationRegistry.getInstrumentation()
-                .getContext()
-                .getResources()
-                .openRawResourceFd(R.drawable.android)
+            context.resources.openRawResourceFd(R.drawable.android)
         }
 
         composeTestRule.setContent {
@@ -276,6 +308,44 @@ class LoadMediaTest {
             .isNotNull()
     }
 
+    /**
+     * Ensure that a [GlideLoadable] with android resource uri can be loaded via the [loadMedia]
+     * composable using Glide.
+     */
+    @Test
+    fun testDrawableFetcherLoadDataForThumbnailResolution() {
+
+        whenever(
+            mockContext.createPackageContextAsUser(
+                any(String::class.java),
+                any(Int::class.java),
+                any(UserHandle::class.java),
+            )
+        ) {
+            mockContext
+        }
+
+        val icon = context.getDrawable(R.drawable.android)
+        whenever(mockContext.getResources()).thenReturn(mockResources)
+        whenever(mockResources.getDrawable(anyInt(), any())).thenReturn(icon)
+
+        val drawableFetcher = PhotopickerDrawableFetcher(drawableLoadable, mockContext)
+        drawableFetcher.loadData(Priority.HIGH, mockCallback)
+
+        verify(mockContext)
+            .createPackageContextAsUser(
+                capture(packageName),
+                any(Int::class.java),
+                capture(userHandle),
+            )
+
+        verify(mockResources).getDrawable(capture(resourceId), any())
+
+        assertThat(packageName.value).isEqualTo(drawableLoadable.getLoadableUri().host)
+        assertThat(userHandle.value).isEqualTo(UserHandle.of(context.userId))
+        assertThat(resourceId.value).isEqualTo(R.drawable.android)
+    }
+
     /** Ensures that a [GlideLoadable] can be loaded via the [loadMedia] composable using Glide. */
     @Test
     fun testLoadMediaGenericFullResolutionSMinus() {
@@ -283,10 +353,7 @@ class LoadMediaTest {
 
         // Return a resource png so the request is actually backed by something.
         whenever(mockContentProvider.openTypedAssetFile(any(), any(), any(), any())) {
-            InstrumentationRegistry.getInstrumentation()
-                .getContext()
-                .getResources()
-                .openRawResourceFd(R.drawable.android)
+            context.resources.openRawResourceFd(R.drawable.android)
         }
 
         composeTestRule.setContent {
@@ -342,10 +409,7 @@ class LoadMediaTest {
 
         // Return a resource png so the request is actually backed by something.
         whenever(mockContentProvider.openTypedAssetFile(any(), any(), any(), any())) {
-            InstrumentationRegistry.getInstrumentation()
-                .getContext()
-                .getResources()
-                .openRawResourceFd(R.drawable.android)
+            context.resources.openRawResourceFd(R.drawable.android)
         }
 
         composeTestRule.setContent {
diff --git a/photopicker/tests/src/com/android/photopicker/core/network/NetworkMonitorTest.kt b/photopicker/tests/src/com/android/photopicker/core/network/NetworkMonitorTest.kt
index 115025817..29c5a9d25 100644
--- a/photopicker/tests/src/com/android/photopicker/core/network/NetworkMonitorTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/network/NetworkMonitorTest.kt
@@ -57,7 +57,7 @@ class NetworkMonitorTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         mockSystemService(context, ConnectivityManager::class.java) { mockConnectivityManager }
         whenever(mockConnectivityManager.activeNetwork) { mockNetwork }
         whenever(mockConnectivityManager.getNetworkCapabilities(mockNetwork)) {
diff --git a/photopicker/tests/src/com/android/photopicker/core/selection/GrantsAwareSelectionTest.kt b/photopicker/tests/src/com/android/photopicker/core/selection/GrantsAwareSelectionTest.kt
index 7d0233696..9a3cbae6c 100644
--- a/photopicker/tests/src/com/android/photopicker/core/selection/GrantsAwareSelectionTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/selection/GrantsAwareSelectionTest.kt
@@ -691,4 +691,31 @@ class GrantsAwareSelectionTest {
             .that(selection.isDeSelectAllEnabled)
             .isTrue()
     }
+
+    @Test
+    fun testSelectionGetSize() = runTest {
+        val selection: Selection<SelectionData> =
+            GrantsAwareSelectionImpl(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration =
+                            TestPhotopickerConfiguration.build {
+                                action("")
+                                selectionLimit(50)
+                            },
+                    ),
+                initialSelection = INITIAL_SELECTION,
+                preGrantedItemsCount = TestDataServiceImpl().preGrantedMediaCount,
+            )
+
+        assertWithMessage("Expected size did not match")
+            .that(selection.size())
+            .isEqualTo(INITIAL_SELECTION.size)
+
+        selection.clear()
+
+        assertWithMessage("Expected empty size did not match").that(selection.size()).isEqualTo(0)
+    }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/core/selection/SelectionImplTest.kt b/photopicker/tests/src/com/android/photopicker/core/selection/SelectionImplTest.kt
index ec05e8c5e..b4dc4208a 100644
--- a/photopicker/tests/src/com/android/photopicker/core/selection/SelectionImplTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/selection/SelectionImplTest.kt
@@ -580,4 +580,31 @@ class SelectionImplTest {
             .that(selection.getPosition(missingElement))
             .isEqualTo(-1)
     }
+
+    @Test
+    fun testSelectionGetSize() = runTest {
+        val selection: Selection<SelectionData> =
+            SelectionImpl(
+                scope = backgroundScope,
+                configuration =
+                    provideTestConfigurationFlow(
+                        scope = backgroundScope,
+                        defaultConfiguration =
+                            TestPhotopickerConfiguration.build {
+                                action("")
+                                selectionLimit(50)
+                            },
+                    ),
+                initialSelection = INITIAL_SELECTION,
+                preSelectedMedia = testPreSelectionMediaData,
+            )
+
+        assertWithMessage("Expected size did not match")
+            .that(selection.size())
+            .isEqualTo(INITIAL_SELECTION.size)
+
+        selection.clear()
+
+        assertWithMessage("Expected empty size did not match").that(selection.size()).isEqualTo(0)
+    }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/core/user/UserMonitorTest.kt b/photopicker/tests/src/com/android/photopicker/core/user/UserMonitorTest.kt
index aca667018..0e2fa47e9 100644
--- a/photopicker/tests/src/com/android/photopicker/core/user/UserMonitorTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/core/user/UserMonitorTest.kt
@@ -156,11 +156,12 @@ class UserMonitorTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         val resources = InstrumentationRegistry.getInstrumentation().getContext().getResources()
 
         mockSystemService(mockContext, UserManager::class.java) { mockUserManager }
         whenever(mockContext.packageManager) { mockPackageManager }
+        whenever(mockContext.packageName) { "" }
         whenever(mockContext.contentResolver) { mockContentResolver }
         whenever(mockContext.createPackageContextAsUser(any(), anyInt(), any())) { mockContext }
         whenever(mockContext.createContextAsUser(any(UserHandle::class.java), anyInt())) {
diff --git a/photopicker/tests/src/com/android/photopicker/data/DataServiceImplTest.kt b/photopicker/tests/src/com/android/photopicker/data/DataServiceImplTest.kt
index 49540e5e4..2288ed73f 100644
--- a/photopicker/tests/src/com/android/photopicker/data/DataServiceImplTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/DataServiceImplTest.kt
@@ -50,6 +50,7 @@ import com.android.photopicker.util.test.nonNullableAny
 import com.android.photopicker.util.test.nonNullableEq
 import com.android.photopicker.util.test.whenever
 import com.google.common.truth.Truth.assertThat
+import java.lang.RuntimeException
 import kotlinx.coroutines.ExperimentalCoroutinesApi
 import kotlinx.coroutines.flow.MutableStateFlow
 import kotlinx.coroutines.flow.StateFlow
@@ -1468,6 +1469,79 @@ class DataServiceImplTest {
         assertThat(actualAllAllowedProviders[1].authority).isEqualTo(cloudProvider2.authority)
     }
 
+    @Test
+    fun testGetAllAllowedProvidersWhenPackageManagerThrows() = runTest {
+        val userStatusFlow: StateFlow<UserStatus> = MutableStateFlow(userStatus)
+        events =
+            Events(
+                scope = this.backgroundScope,
+                provideTestConfigurationFlow(this.backgroundScope),
+                testFeatureManager,
+            )
+        val cloudProvider1 =
+            Provider(
+                "cloud_primary",
+                MediaSource.REMOTE,
+                /* uid */ 0,
+                /* displayName */ "primary cloud provider",
+            )
+        val cloudProvider2 =
+            Provider(
+                "cloud_secondary",
+                MediaSource.REMOTE,
+                /* uid */ 1,
+                /* displayName */ "secondary cloud provider",
+            )
+        val resolveInfo1 = createResolveInfo(cloudProvider1)
+        val resolveInfo2 = createResolveInfo(cloudProvider2)
+
+        val dataService: DataService =
+            DataServiceImpl(
+                userStatus = userStatusFlow,
+                scope = this.backgroundScope,
+                notificationService = notificationService,
+                mediaProviderClient = mediaProviderClient,
+                dispatcher = StandardTestDispatcher(this.testScheduler),
+                config =
+                    provideTestConfigurationFlow(
+                        scope = this.backgroundScope,
+                        defaultConfiguration =
+                            PhotopickerConfiguration(
+                                action = "test_action",
+                                flags =
+                                    PhotopickerFlags(
+                                        CLOUD_ALLOWED_PROVIDERS =
+                                            arrayOf(
+                                                cloudProvider1.authority,
+                                                cloudProvider2.authority,
+                                            ),
+                                        CLOUD_ENFORCE_PROVIDER_ALLOWLIST = true,
+                                    ),
+                                sessionId = sessionId,
+                            ),
+                    ),
+                featureManager = testFeatureManager,
+                appContext = mockContext,
+                events = events,
+                processOwnerHandle = userProfilePrimary.handle,
+            )
+
+        whenever(mockContext.getPackageManager()) { mockPackageManager }
+        whenever(mockPackageManager.queryIntentContentProvidersAsUser(any(), anyInt(), any())) {
+            listOf(resolveInfo1, resolveInfo2)
+        }
+        whenever(mockPackageManager.getPackageUid(cloudProvider1.authority, 0))
+            .thenThrow(PackageManager.NameNotFoundException("Test exception 2"))
+        val actualAllAllowedProviders1 = dataService.getAllAllowedProviders()
+        assertThat(actualAllAllowedProviders1.count()).isEqualTo(1)
+        assertThat(actualAllAllowedProviders1[0].authority).isEqualTo(cloudProvider2.authority)
+
+        whenever(mockPackageManager.queryIntentContentProvidersAsUser(any(), anyInt(), any()))
+            .thenThrow(RuntimeException("Test exception 1"))
+        val actualAllAllowedProviders2 = dataService.getAllAllowedProviders()
+        assertThat(actualAllAllowedProviders2.count()).isEqualTo(0)
+    }
+
     private fun createResolveInfo(provider: Provider): ResolveInfo {
         val resolveInfo = ResolveInfo()
         resolveInfo.nonLocalizedLabel = provider.displayName
diff --git a/photopicker/tests/src/com/android/photopicker/data/PrefetchDataServiceImplTest.kt b/photopicker/tests/src/com/android/photopicker/data/PrefetchDataServiceImplTest.kt
index 48d882ac5..5f76dbcb4 100644
--- a/photopicker/tests/src/com/android/photopicker/data/PrefetchDataServiceImplTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/PrefetchDataServiceImplTest.kt
@@ -109,7 +109,7 @@ public class PrefetchDataServiceImplTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         val resources = InstrumentationRegistry.getInstrumentation().getContext().getResources()
 
         testPrimaryUserContentProvider = TestMediaProvider()
@@ -122,7 +122,9 @@ public class PrefetchDataServiceImplTest {
 
         whenever(mockPrimaryUserContext.packageManager) { mockPackageManager }
         whenever(mockPrimaryUserContext.contentResolver) { testPrimaryUserContentResolver }
+        whenever(mockPrimaryUserContext.packageName) { "" }
         whenever(mockManagedUserContext.contentResolver) { testManagedUserContentResolver }
+        whenever(mockManagedUserContext.packageName) { "" }
         whenever(
             mockPrimaryUserContext.createPackageContextAsUser(
                 any(),
@@ -200,13 +202,13 @@ public class PrefetchDataServiceImplTest {
                 resources.getDrawable(R.drawable.android, /* theme= */ null)
             }
             whenever(mockUserManager.getProfileLabel()) { PLATFORM_PROVIDED_PROFILE_LABEL }
-            whenever(mockUserManager.getUserProperties(USER_HANDLE_PRIMARY))
-            @JvmSerializableLambda {
-                UserProperties.Builder().build()
-            }
+            whenever(
+                mockUserManager.getUserProperties(USER_HANDLE_PRIMARY)
+            ) @JvmSerializableLambda { UserProperties.Builder().build() }
             // By default, allow managed profile to be available
-            whenever(mockUserManager.getUserProperties(USER_HANDLE_MANAGED))
-            @JvmSerializableLambda {
+            whenever(
+                mockUserManager.getUserProperties(USER_HANDLE_MANAGED)
+            ) @JvmSerializableLambda {
                 UserProperties.Builder()
                     .setCrossProfileContentSharingStrategy(
                         UserProperties.CROSS_PROFILE_CONTENT_SHARING_DELEGATE_FROM_PARENT
diff --git a/photopicker/tests/src/com/android/photopicker/data/TestDataServiceImpl.kt b/photopicker/tests/src/com/android/photopicker/data/TestDataServiceImpl.kt
index 3d7a08810..b02613011 100644
--- a/photopicker/tests/src/com/android/photopicker/data/TestDataServiceImpl.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/TestDataServiceImpl.kt
@@ -22,6 +22,7 @@ import androidx.paging.PagingSource
 import com.android.photopicker.data.model.CloudMediaProviderDetails
 import com.android.photopicker.data.model.CollectionInfo
 import com.android.photopicker.data.model.Group.Album
+import com.android.photopicker.data.model.Group.BaseAlbum
 import com.android.photopicker.data.model.Media
 import com.android.photopicker.data.model.MediaPageKey
 import com.android.photopicker.data.model.Provider
@@ -78,7 +79,7 @@ class TestDataServiceImpl() : DataService {
         _preGrantsCount.update { count }
     }
 
-    override fun albumMediaPagingSource(album: Album): PagingSource<MediaPageKey, Media> {
+    override fun albumMediaPagingSource(album: BaseAlbum): PagingSource<MediaPageKey, Media> {
         return albumMediaList?.let { FakeInMemoryMediaPagingSource(it) }
             ?: FakeInMemoryMediaPagingSource(albumMediaSetSize)
     }
@@ -110,7 +111,7 @@ class TestDataServiceImpl() : DataService {
     override suspend fun refreshMedia() =
         throw NotImplementedError("This method is not implemented yet.")
 
-    override suspend fun refreshAlbumMedia(album: Album) =
+    override suspend fun refreshAlbumMedia(album: BaseAlbum) =
         throw NotImplementedError("This method is not implemented yet.")
 
     override val disruptiveDataUpdateChannel = Channel<Unit>(CONFLATED)
diff --git a/photopicker/tests/src/com/android/photopicker/data/TestMediaProvider.kt b/photopicker/tests/src/com/android/photopicker/data/TestMediaProvider.kt
index 830a8b3ec..c8efe03f3 100644
--- a/photopicker/tests/src/com/android/photopicker/data/TestMediaProvider.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/TestMediaProvider.kt
@@ -27,11 +27,16 @@ import com.android.photopicker.data.model.CategoryType
 import com.android.photopicker.data.model.CollectionInfo
 import com.android.photopicker.data.model.Group
 import com.android.photopicker.data.model.Icon
+import com.android.photopicker.data.model.ItemsPerMonth
 import com.android.photopicker.data.model.Media
+import com.android.photopicker.data.model.MediaPageKey
 import com.android.photopicker.data.model.MediaSource
 import com.android.photopicker.data.model.Provider
 import com.android.photopicker.features.search.model.SearchSuggestion
 import com.android.photopicker.features.search.model.SearchSuggestionType
+import java.time.Instant
+import java.time.LocalDateTime
+import java.time.ZoneOffset
 import java.util.UUID
 import java.util.stream.Collectors
 
@@ -64,11 +69,12 @@ val DEFAULT_COLLECTION_INFO: List<CollectionInfo> =
 
 val DEFAULT_MEDIA: List<Media> =
     listOf(
-        createMediaImage(10),
-        createMediaImage(11),
-        createMediaImage(12),
-        createMediaImage(13),
-        createMediaImage(14),
+        createMediaImage(11L, 1709385600000L), // 3rd March 2024
+        createMediaImage(12L, 1709472000000L), // 2nd March 2024
+        createMediaImage(10L, 1709299200000L), // 1st March 2024
+        createMediaImage(14L, 1706793600000L), // 1st February 2024
+        createMediaImage(15L, 1707542400000L), // 10th February 2024
+        createMediaImage(13L, 1706707200000L), // 31st January 2024
     )
 
 val DEFAULT_ALBUMS: List<Group.Album> =
@@ -76,6 +82,8 @@ val DEFAULT_ALBUMS: List<Group.Album> =
 
 val DEFAULT_ALBUM_NAME = "album_id"
 
+val DEFAULT_ITEM_POSITION_FOR_MEDIA_PAGE_KEY = 2
+
 val DEFAULT_ALBUM_MEDIA: Map<String, List<Media>> = mapOf(DEFAULT_ALBUM_NAME to DEFAULT_MEDIA)
 
 val DEFAULT_SEARCH_REQUEST_ID: Int = 100
@@ -119,7 +127,7 @@ val DEFAULT_CATEGORIES_AND_ALBUMS: List<Group> =
 val DEFAULT_MEDIA_SETS: List<Group.MediaSet> =
     listOf(createMediaSet("1"), createMediaSet("2"), createMediaSet("3"))
 
-fun createMediaImage(pickerId: Long): Media {
+fun createMediaImage(pickerId: Long, dateTakenMillisLong: Long = Long.MAX_VALUE): Media {
     return Media.Image(
         mediaId = UUID.randomUUID().toString(),
         pickerId = pickerId,
@@ -127,7 +135,7 @@ fun createMediaImage(pickerId: Long): Media {
         mediaSource = MediaSource.LOCAL,
         mediaUri = Uri.parse("content://media/picker/authority/media/$pickerId"),
         glideLoadableUri = Uri.parse("content://authority/media/$pickerId"),
-        dateTakenMillisLong = Long.MAX_VALUE,
+        dateTakenMillisLong = dateTakenMillisLong,
         sizeInBytes = 10,
         mimeType = "image/*",
         standardMimeTypeExtension = 0,
@@ -201,6 +209,8 @@ class TestMediaProvider(
             CATEGORIES_PATH_SEGMENT -> getCategoriesAndAlbums()
             MEDIA_SETS_PATH_SEGMENT -> getMediaSets()
             MEDIA_SET_CONTENTS_PATH_SEGMENT -> getMedia()
+            ITEMS_PER_MONTH_PATH_SEGMENT -> getItemsPerMonth()
+            PAGE_KEY_PATH_SEGMENT -> getMediaPageKey()
             else -> {
                 val pathSegments: MutableList<String> = uri.getPathSegments()
                 if (pathSegments.size == 4 && pathSegments[2].equals(ALBUM_PATH_SEGMENT)) {
@@ -328,6 +338,70 @@ class TestMediaProvider(
         return cursor
     }
 
+    private fun getItemsPerMonth(): Cursor {
+        val cursor =
+            MatrixCursor(
+                arrayOf(
+                    MediaProviderClient.ItemsPerMonthResponse.YEAR_TAKEN.key,
+                    MediaProviderClient.ItemsPerMonthResponse.MONTH_TAKEN.key,
+                    MediaProviderClient.ItemsPerMonthResponse.ITEM_COUNT.key,
+                )
+            )
+
+        val perMonthMediaCountList = getPerMonthMediaCountList()
+        perMonthMediaCountList.forEach { (year, month, count) ->
+            cursor.addRow(arrayOf<Any?>(year, month, count))
+        }
+        return cursor
+    }
+
+    /**
+     * Calculates the count of media items per month, considering the device's local time zone.
+     *
+     * @return A list of [ItemsPerMonth] objects, where each object represents a year, month, and
+     *   the corresponding item count (all in local time)
+     */
+    fun getPerMonthMediaCountList(): List<ItemsPerMonth> {
+        val mediaItems: List<Media> = media
+        val mediaByMonth = mutableMapOf<Pair<Int, Int>, Int>()
+        mediaItems.forEach { mediaItem ->
+            val dateTakenSeconds: Long = mediaItem.dateTakenMillisLong / 1000
+            // Get the device's local time zone offset at the given timestamp.
+            val localOffset =
+                ZoneOffset.systemDefault().rules.getOffset(Instant.ofEpochSecond(dateTakenSeconds))
+            val localDateTime = LocalDateTime.ofEpochSecond(dateTakenSeconds, 0, localOffset)
+            val year = localDateTime.year
+            val month = localDateTime.monthValue
+            val yearMonthPair = Pair(year, month)
+            mediaByMonth[yearMonthPair] = mediaByMonth.getOrDefault(yearMonthPair, 0) + 1
+        }
+        return mediaByMonth.map { (yearMonthPair, count) ->
+            ItemsPerMonth(yearMonthPair.first, yearMonthPair.second, count)
+        }
+    }
+
+    private fun getMediaPageKey(): Cursor {
+        val cursor =
+            MatrixCursor(
+                arrayOf(
+                    MediaProviderClient.MediaResponse.PICKER_ID.key,
+                    MediaProviderClient.MediaResponse.DATE_TAKEN.key,
+                )
+            )
+
+        val mediaPageKey = getMediaPageKeyForItemPosition()
+        cursor.addRow(arrayOf(mediaPageKey.pickerId, mediaPageKey.dateTakenMillis))
+        return cursor
+    }
+
+    fun getMediaPageKeyForItemPosition(): MediaPageKey {
+        val targetItem = media.get(DEFAULT_ITEM_POSITION_FOR_MEDIA_PAGE_KEY)
+        return MediaPageKey(
+            pickerId = targetItem.pickerId,
+            dateTakenMillis = targetItem.dateTakenMillisLong,
+        )
+    }
+
     private fun fetchFilteredMedia(queryArgs: Bundle?, mediaItems: List<Media> = media): Cursor {
         val ids =
             queryArgs
diff --git a/photopicker/tests/src/com/android/photopicker/data/paging/AlbumMediaPagingSourceTest.kt b/photopicker/tests/src/com/android/photopicker/data/paging/AlbumMediaPagingSourceTest.kt
index 920b83913..44b3f809f 100644
--- a/photopicker/tests/src/com/android/photopicker/data/paging/AlbumMediaPagingSourceTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/paging/AlbumMediaPagingSourceTest.kt
@@ -68,7 +68,7 @@ class AlbumMediaPagingSourceTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
     }
 
     @Test
diff --git a/photopicker/tests/src/com/android/photopicker/data/paging/AlbumPagingSourceTest.kt b/photopicker/tests/src/com/android/photopicker/data/paging/AlbumPagingSourceTest.kt
index 8ee41953d..b8fdb01b3 100644
--- a/photopicker/tests/src/com/android/photopicker/data/paging/AlbumPagingSourceTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/paging/AlbumPagingSourceTest.kt
@@ -75,7 +75,7 @@ class AlbumPagingSourceTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
     }
 
     @Test
diff --git a/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryAlbumPagingSource.kt b/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryAlbumPagingSource.kt
index d25e49a12..74645d790 100644
--- a/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryAlbumPagingSource.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryAlbumPagingSource.kt
@@ -72,7 +72,7 @@ private constructor(
                                     .build(),
                             dateTakenMillisLong =
                                 currentDateTime
-                                    .minus(i.toLong(), ChronoUnit.DAYS)
+                                    .minus(i.toLong(), ChronoUnit.MINUTES)
                                     .toEpochSecond(ZoneOffset.UTC) * 1000,
                             coverMediaSource = MediaSource.LOCAL,
                         )
diff --git a/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryCategoryPagingSource.kt b/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryCategoryPagingSource.kt
index 528e215fc..7e568a573 100644
--- a/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryCategoryPagingSource.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryCategoryPagingSource.kt
@@ -69,7 +69,7 @@ private constructor(val DATA_SIZE: Int = DEFAULT_SIZE, private val DATA_LIST: Li
                                     .build(),
                             dateTakenMillisLong =
                                 currentDateTime
-                                    .minus(i.toLong(), ChronoUnit.DAYS)
+                                    .minus(i.toLong(), ChronoUnit.MINUTES)
                                     .toEpochSecond(ZoneOffset.UTC) * 1000,
                             coverMediaSource = MediaSource.LOCAL,
                         )
diff --git a/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryMediaPagingSource.kt b/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryMediaPagingSource.kt
index 9b51dd857..9b9395b77 100644
--- a/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryMediaPagingSource.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/paging/FakeInMemoryMediaPagingSource.kt
@@ -27,6 +27,7 @@ import com.android.photopicker.data.model.MediaSource
 import java.time.LocalDateTime
 import java.time.ZoneOffset
 import java.time.temporal.ChronoUnit
+import kotlinx.coroutines.delay
 
 /**
  * This [FakeInMemoryMediaPagingSource] class is responsible to providing paginated media data from
@@ -35,16 +36,19 @@ import java.time.temporal.ChronoUnit
  * It generates and returns its own fake data.
  */
 class FakeInMemoryMediaPagingSource
-private constructor(val DATA_SIZE: Int = DEFAULT_SIZE, private val DATA_LIST: List<Media>? = null) :
-    PagingSource<MediaPageKey, Media>() {
+private constructor(
+    val DATA_SIZE: Int = DEFAULT_SIZE,
+    private val DATA_LIST: List<Media>? = null,
+    private val DELAY_IN_MS: Long = 0L,
+) : PagingSource<MediaPageKey, Media>() {
 
     companion object {
         const val DEFAULT_SIZE = 1_000
     }
 
-    constructor(dataSize: Int = DEFAULT_SIZE) : this(dataSize, null)
+    constructor(dataSize: Int = DEFAULT_SIZE, delay: Long = 0L) : this(dataSize, null, delay)
 
-    constructor(dataList: List<Media>) : this(DEFAULT_SIZE, dataList)
+    constructor(dataList: List<Media>, delay: Long = 0L) : this(DEFAULT_SIZE, dataList, delay)
 
     private val currentDateTime = LocalDateTime.now()
 
@@ -79,7 +83,7 @@ private constructor(val DATA_SIZE: Int = DEFAULT_SIZE, private val DATA_LIST: Li
                                     .build(),
                             dateTakenMillisLong =
                                 currentDateTime
-                                    .minus(i.toLong(), ChronoUnit.DAYS)
+                                    .minus(i.toLong(), ChronoUnit.MINUTES)
                                     .toEpochSecond(ZoneOffset.UTC) * 1000,
                             sizeInBytes = 1000L,
                             mimeType = "image/png",
@@ -90,6 +94,7 @@ private constructor(val DATA_SIZE: Int = DEFAULT_SIZE, private val DATA_LIST: Li
             }
 
     override suspend fun load(params: LoadParams<MediaPageKey>): LoadResult<MediaPageKey, Media> {
+        delay(DELAY_IN_MS)
 
         // Handle a data size of 0 for the first page, and return an empty page with no further
         // keys.
diff --git a/photopicker/tests/src/com/android/photopicker/data/paging/MediaPagingSourceTest.kt b/photopicker/tests/src/com/android/photopicker/data/paging/MediaPagingSourceTest.kt
index f188c3347..8ebca7273 100644
--- a/photopicker/tests/src/com/android/photopicker/data/paging/MediaPagingSourceTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/paging/MediaPagingSourceTest.kt
@@ -75,7 +75,7 @@ class MediaPagingSourceTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
     }
 
     @Test
diff --git a/photopicker/tests/src/com/android/photopicker/data/paging/MediaProviderClientTest.kt b/photopicker/tests/src/com/android/photopicker/data/paging/MediaProviderClientTest.kt
index 721241ce2..3b465012a 100644
--- a/photopicker/tests/src/com/android/photopicker/data/paging/MediaProviderClientTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/data/paging/MediaProviderClientTest.kt
@@ -34,6 +34,7 @@ import com.android.photopicker.data.MediaProviderClient
 import com.android.photopicker.data.TestMediaProvider
 import com.android.photopicker.data.model.Group
 import com.android.photopicker.data.model.GroupPageKey
+import com.android.photopicker.data.model.ItemsPerMonth
 import com.android.photopicker.data.model.Media
 import com.android.photopicker.data.model.MediaPageKey
 import com.android.photopicker.data.model.MediaSource
@@ -619,4 +620,40 @@ class MediaProviderClientTest {
             assertThat(media[index]).isEqualTo(expectedMedia[index])
         }
     }
+
+    @Test
+    fun testFetchItemsPerMonth() = runTest {
+        val mediaProviderClient = MediaProviderClient()
+        val itemsPerMonthResults: List<ItemsPerMonth> =
+            mediaProviderClient.fetchItemsPerMonth(
+                contentResolver = testContentResolver,
+                availableProviders = listOf(Provider("provider", MediaSource.LOCAL, 0, "")),
+                config =
+                    PhotopickerConfiguration(
+                        action = MediaStore.ACTION_PICK_IMAGES,
+                        sessionId = sessionId,
+                    ),
+            )
+        val expectedItemsPerMonthList = testContentProvider.getPerMonthMediaCountList()
+        assertThat(itemsPerMonthResults).containsExactlyElementsIn(expectedItemsPerMonthList)
+    }
+
+    @Test
+    fun testFetchMediaPageKeyForItemPosition() = runTest {
+        val mediaProviderClient = MediaProviderClient()
+        val mediaPageKey: MediaPageKey =
+            mediaProviderClient.fetchMediaPageKeyForItemPosition(
+                contentResolver = testContentResolver,
+                itemPosition = 2,
+                availableProviders = listOf(Provider("provider", MediaSource.LOCAL, 0, "")),
+                config =
+                    PhotopickerConfiguration(
+                        action = MediaStore.ACTION_PICK_IMAGES,
+                        sessionId = sessionId,
+                    ),
+            )
+        val expectedMediaPageKey = testContentProvider.getMediaPageKeyForItemPosition()
+        assertThat(mediaPageKey.pickerId).isEqualTo(expectedMediaPageKey.pickerId)
+        assertThat(mediaPageKey.dateTakenMillis).isEqualTo(expectedMediaPageKey.dateTakenMillis)
+    }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/data/paging/MediaSetsPagingSourceTest.kt b/photopicker/tests/src/com/android/photopicker/data/paging/MediaSetsPagingSourceTest.kt
new file mode 100644
index 000000000..a35de6d95
--- /dev/null
+++ b/photopicker/tests/src/com/android/photopicker/data/paging/MediaSetsPagingSourceTest.kt
@@ -0,0 +1,146 @@
+/*
+ * Copyright (C) 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.features.data.paging
+
+import android.content.ContentResolver
+import android.content.Intent
+import android.os.CancellationSignal
+import android.provider.MediaStore
+import androidx.paging.PagingSource.LoadParams
+import androidx.test.ext.junit.runners.AndroidJUnit4
+import androidx.test.filters.SmallTest
+import com.android.photopicker.core.configuration.PhotopickerConfiguration
+import com.android.photopicker.core.configuration.provideTestConfigurationFlow
+import com.android.photopicker.core.events.Events
+import com.android.photopicker.core.events.generatePickerSessionId
+import com.android.photopicker.core.features.FeatureManager
+import com.android.photopicker.core.features.FeatureRegistration
+import com.android.photopicker.data.MediaProviderClient
+import com.android.photopicker.data.TestMediaProvider
+import com.android.photopicker.data.TestPrefetchDataService
+import com.android.photopicker.data.model.CategoryType
+import com.android.photopicker.data.model.Group
+import com.android.photopicker.data.model.GroupPageKey
+import com.android.photopicker.data.model.MediaSource
+import com.android.photopicker.data.model.Provider
+import com.android.photopicker.features.categorygrid.paging.MediaSetsPagingSource
+import kotlinx.coroutines.ExperimentalCoroutinesApi
+import kotlinx.coroutines.launch
+import kotlinx.coroutines.test.StandardTestDispatcher
+import kotlinx.coroutines.test.advanceTimeBy
+import kotlinx.coroutines.test.runTest
+import org.junit.Before
+import org.junit.Test
+import org.junit.runner.RunWith
+import org.mockito.Mock
+import org.mockito.Mockito.times
+import org.mockito.Mockito.verify
+import org.mockito.MockitoAnnotations
+
+@SmallTest
+@RunWith(AndroidJUnit4::class)
+@OptIn(ExperimentalCoroutinesApi::class)
+class MediaSetsPagingSourceTest {
+    private val testSessionId = generatePickerSessionId()
+    private val testContentProvider: TestMediaProvider = TestMediaProvider()
+    private val contentResolver: ContentResolver = ContentResolver.wrap(testContentProvider)
+    private val availableProviders: List<Provider> =
+        listOf(
+            Provider(
+                authority = "local_authority",
+                mediaSource = MediaSource.LOCAL,
+                uid = 1,
+                displayName = "Local Provider",
+            )
+        )
+    private val testPhotopickerConfiguration: PhotopickerConfiguration =
+        PhotopickerConfiguration(
+            action = MediaStore.ACTION_PICK_IMAGES,
+            intent = Intent(MediaStore.ACTION_PICK_IMAGES),
+            sessionId = testSessionId,
+        )
+
+    private val parentCategory =
+        Group.Category(
+            id = "local",
+            pickerId = 1L,
+            authority = "local_authority",
+            displayName = "From this device",
+            categoryType = CategoryType.DEVICE_FOLDERS,
+            icons = ArrayList(),
+            isLeafCategory = false,
+        )
+
+    @Mock private lateinit var mockMediaProviderClient: MediaProviderClient
+
+    @Before
+    fun setup() {
+        MockitoAnnotations.openMocks(this)
+    }
+
+    @Test
+    fun testLoad() = runTest {
+        val featureManager =
+            FeatureManager(
+                provideTestConfigurationFlow(this.backgroundScope, testPhotopickerConfiguration),
+                this.backgroundScope,
+                TestPrefetchDataService(),
+                emptySet<FeatureRegistration>(),
+            )
+        val events =
+            Events(
+                scope = this.backgroundScope,
+                provideTestConfigurationFlow(this.backgroundScope, testPhotopickerConfiguration),
+                featureManager,
+            )
+
+        val mediaSetsPagingSource =
+            MediaSetsPagingSource(
+                contentResolver = contentResolver,
+                parentCategory = parentCategory,
+                mediaProviderClient = mockMediaProviderClient,
+                availableProviders = availableProviders,
+                dispatcher = StandardTestDispatcher(this.testScheduler),
+                configuration = testPhotopickerConfiguration,
+                events = events,
+                cancellationSignal = CancellationSignal(),
+            )
+
+        val pageKey = GroupPageKey()
+        val pageSize = 10
+        val params =
+            LoadParams.Append<GroupPageKey>(
+                key = pageKey,
+                loadSize = pageSize,
+                placeholdersEnabled = false,
+            )
+
+        backgroundScope.launch { mediaSetsPagingSource.load(params) }
+        advanceTimeBy(100)
+
+        verify(mockMediaProviderClient, times(1))
+            .fetchMediaSets(
+                pageKey,
+                pageSize,
+                contentResolver,
+                availableProviders,
+                parentCategory,
+                testPhotopickerConfiguration,
+                CancellationSignal(),
+            )
+    }
+}
diff --git a/photopicker/tests/src/com/android/photopicker/extensions/ContextTest.kt b/photopicker/tests/src/com/android/photopicker/extensions/ContextTest.kt
new file mode 100644
index 000000000..a5fd71c8a
--- /dev/null
+++ b/photopicker/tests/src/com/android/photopicker/extensions/ContextTest.kt
@@ -0,0 +1,44 @@
+/*
+ * Copyright (C) 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.extensions
+
+import android.content.ContentResolver
+import android.content.Intent
+import android.os.Process
+import androidx.test.ext.junit.runners.AndroidJUnit4
+import androidx.test.filters.SmallTest
+import androidx.test.platform.app.InstrumentationRegistry
+import com.google.common.truth.Truth.assertThat
+import org.junit.Test
+import org.junit.runner.RunWith
+
+/** Unit tests for the [Intent] extension functions */
+@SmallTest
+@RunWith(AndroidJUnit4::class)
+class ContextTest {
+
+    private val context = InstrumentationRegistry.getInstrumentation().getContext()
+
+    @Test
+    fun testGetContentResolverForUnknownPackage() {
+        // Ensure when package is unknown, we fallback to getting the system context to get a
+        // content resolver without throwing an exception.
+        val unknownPackageContext: ContentResolver =
+            context.getContentResolverForUser(Process.myUserHandle(), "Unknown package name!")
+        assertThat(unknownPackageContext).isNotNull()
+    }
+}
diff --git a/photopicker/tests/src/com/android/photopicker/extensions/IntentTest.kt b/photopicker/tests/src/com/android/photopicker/extensions/IntentTest.kt
index f0e6ad197..1dda9a1e7 100644
--- a/photopicker/tests/src/com/android/photopicker/extensions/IntentTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/extensions/IntentTest.kt
@@ -17,10 +17,17 @@
 package com.android.photopicker.extensions
 
 import android.content.Intent
+import android.platform.test.annotations.RequiresFlagsEnabled
 import android.provider.MediaStore
+import androidx.core.os.bundleOf
 import androidx.test.ext.junit.runners.AndroidJUnit4
 import androidx.test.filters.SmallTest
 import com.android.photopicker.core.configuration.IllegalIntentExtraException
+import com.android.photopicker.features.highlightmediaresults.model.HighlightAlbum
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQueryResultsParams
+import com.android.photopicker.features.highlightmediaresults.model.QueryResultsHighlightType
+import com.android.providers.media.flags.Flags
 import com.google.common.truth.Truth.assertThat
 import org.junit.Assert.assertThrows
 import org.junit.Test
@@ -146,4 +153,80 @@ class IntentTest {
 
         assertThrows(IllegalIntentExtraException::class.java) { intent.getPhotopickerMimeTypes() }
     }
+
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testGetSearchHighlightMediaQueryInfoFromIntent() {
+        val searchQuery = "dog"
+        val highlightQueryResultsParams =
+            HighlightQueryResultsParams(
+                queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                queryResultsHighlightQuery = HighlightQuery.Search(searchQuery = searchQuery),
+            )
+        val intent = Intent(MediaStore.ACTION_PICK_IMAGES)
+        intent.putExtra(
+            MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS,
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY to searchQuery,
+            ),
+        )
+
+        val retrievedHighlightQueryParams = intent.getHighlightQueryResultsParams()
+
+        assertThat(retrievedHighlightQueryParams.queryResultsHighlightType)
+            .isEqualTo(highlightQueryResultsParams.queryResultsHighlightType)
+        assertThat(retrievedHighlightQueryParams.queryResultsHighlightQuery)
+            .isEqualTo(highlightQueryResultsParams.queryResultsHighlightQuery)
+    }
+
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testGetAlbumHighlightMediaQueryInfoFromIntent() {
+        val highlightQueryResultsParams =
+            HighlightQueryResultsParams(
+                queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                queryResultsHighlightQuery =
+                    HighlightQuery.Album(HighlightAlbum.HIGHLIGHT_ALBUM_FAVORITES),
+            )
+        val intent = Intent(MediaStore.ACTION_PICK_IMAGES)
+        intent.putExtra(
+            MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_ALBUM,
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_ALBUM_ID to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_ALBUM_FAVORITES,
+            ),
+        )
+
+        val retrievedHighlightQueryParams = intent.getHighlightQueryResultsParams()
+
+        assertThat(retrievedHighlightQueryParams.queryResultsHighlightType)
+            .isEqualTo(highlightQueryResultsParams.queryResultsHighlightType)
+        assertThat(retrievedHighlightQueryParams.queryResultsHighlightQuery)
+            .isEqualTo(highlightQueryResultsParams.queryResultsHighlightQuery)
+    }
+
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testGetHighlightQueryMediaInfoFromIntentDefault() {
+        val intent = Intent(MediaStore.ACTION_PICK_IMAGES)
+        intent.putExtra(
+            MediaStore.EXTRA_PICK_IMAGES_HIGHLIGHT_SEARCH_RESULTS,
+            bundleOf(
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_TYPE to
+                    MediaStore.PICK_IMAGES_HIGHLIGHT_TYPE_COLLAPSED,
+                MediaStore.KEY_PICK_IMAGES_HIGHLIGHT_SEARCH_TEXT_QUERY to "",
+            ),
+        )
+
+        val retrievedHsrInfo = intent.getHighlightQueryResultsParams()
+
+        assertThat(retrievedHsrInfo.queryResultsHighlightType)
+            .isEqualTo(QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION)
+        assertThat(retrievedHsrInfo.queryResultsHighlightQuery)
+            .isEqualTo(HighlightQuery.Search(searchQuery = ""))
+    }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/features/albumgrid/AlbumGridFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/albumgrid/AlbumGridFeatureTest.kt
index 3f04838a0..2820f7a74 100644
--- a/photopicker/tests/src/com/android/photopicker/features/albumgrid/AlbumGridFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/albumgrid/AlbumGridFeatureTest.kt
@@ -157,7 +157,7 @@ class AlbumGridFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
 
         hiltRule.inject()
 
diff --git a/photopicker/tests/src/com/android/photopicker/features/browse/BrowseFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/browse/BrowseFeatureTest.kt
index db087169e..fd4905e33 100644
--- a/photopicker/tests/src/com/android/photopicker/features/browse/BrowseFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/browse/BrowseFeatureTest.kt
@@ -120,7 +120,7 @@ class BrowseFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
         setupTestForUserMonitor(mockContext, mockUserManager, contentResolver, mockPackageManager)
 
diff --git a/photopicker/tests/src/com/android/photopicker/features/categorygrid/CategoryGridFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/categorygrid/CategoryGridFeatureTest.kt
index 577bf8710..74233c761 100644
--- a/photopicker/tests/src/com/android/photopicker/features/categorygrid/CategoryGridFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/categorygrid/CategoryGridFeatureTest.kt
@@ -26,6 +26,9 @@ import android.os.Build
 import android.os.UserManager
 import android.platform.test.annotations.DisableFlags
 import android.platform.test.annotations.EnableFlags
+import android.platform.test.annotations.RequiresFlagsEnabled
+import android.platform.test.flag.junit.CheckFlagsRule
+import android.platform.test.flag.junit.DeviceFlagsValueProvider
 import android.platform.test.flag.junit.SetFlagsRule
 import android.provider.CloudMediaProviderContract.AlbumColumns.ALBUM_ID_CAMERA
 import android.provider.CloudMediaProviderContract.AlbumColumns.ALBUM_ID_FAVORITES
@@ -37,9 +40,12 @@ import androidx.compose.ui.test.assert
 import androidx.compose.ui.test.assertIsDisplayed
 import androidx.compose.ui.test.assertIsFocused
 import androidx.compose.ui.test.assertIsNotFocused
+import androidx.compose.ui.test.getBoundsInRoot
 import androidx.compose.ui.test.hasClickAction
+import androidx.compose.ui.test.hasContentDescription
 import androidx.compose.ui.test.hasText
 import androidx.compose.ui.test.junit4.createAndroidComposeRule
+import androidx.compose.ui.test.onFirst
 import androidx.compose.ui.test.performClick
 import androidx.compose.ui.test.performTouchInput
 import androidx.compose.ui.test.swipeRight
@@ -69,12 +75,15 @@ import com.android.photopicker.data.model.Media
 import com.android.photopicker.data.model.MediaSource
 import com.android.photopicker.data.paging.FakeInMemoryAlbumPagingSource
 import com.android.photopicker.data.paging.FakeInMemoryCategoryPagingSource.Companion.TEST_ALBUM_NAME_PREFIX
+import com.android.photopicker.extensions.navigateToAlbumMediaGridForCategories
 import com.android.photopicker.extensions.navigateToCategoryGrid
+import com.android.photopicker.extensions.navigateToMediaSetContentGrid
 import com.android.photopicker.features.PhotopickerFeatureBaseTest
 import com.android.photopicker.features.categorygrid.data.CategoryDataService
 import com.android.photopicker.inject.PhotopickerTestModule
 import com.android.photopicker.tests.HiltTestActivity
 import com.android.photopicker.util.test.MockContentProviderWrapper
+import com.android.photopicker.util.test.dragInIncrements
 import com.android.photopicker.util.test.whenever
 import com.android.providers.media.flags.Flags
 import com.google.common.truth.Truth.assertWithMessage
@@ -120,6 +129,8 @@ class CategoryGridFeatureTest : PhotopickerFeatureBaseTest() {
     val composeTestRule = createAndroidComposeRule(activityClass = HiltTestActivity::class.java)
     @get:Rule(order = 2) val glideRule = GlideTestRule()
     @get:Rule(order = 3) var setFlagsRule = SetFlagsRule()
+    @get:Rule(order = 4)
+    val checkFlagsRule: CheckFlagsRule = DeviceFlagsValueProvider.createCheckFlagsRule()
 
     /* Setup dependencies for the UninstallModules for the test class. */
     @Module @InstallIn(SingletonComponent::class) class TestModule : PhotopickerTestModule()
@@ -158,9 +169,11 @@ class CategoryGridFeatureTest : PhotopickerFeatureBaseTest() {
     @Inject lateinit var dataService: DataService
     @Inject lateinit var categoryDataService: CategoryDataService
 
+    private val MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING = "taken on"
+
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
 
         hiltRule.inject()
 
@@ -975,6 +988,296 @@ class CategoryGridFeatureTest : PhotopickerFeatureBaseTest() {
         }
     }
 
+    @Test
+    @EnableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
+    fun testSpinnerForMediaSetContent() {
+        val testCategoryDataService = categoryDataService as? TestCategoryDataServiceImpl
+        checkNotNull(testCategoryDataService) { "Expected a TestCategoryDataServiceImpl" }
+
+        val testCategoryDisplayName = "People & Pets"
+        val testMediaSetname = "mediaset"
+        val mediaItemsContentDescriptionSubstring = "taken on"
+
+        val resources = getTestableContext().getResources()
+
+        testCategoryDataService.mediaSetContentDelay = 5000L
+        testCategoryDataService.mediaSetContentSize = 4
+        // Force the data service to return no data for all test sources during this test.
+        testCategoryDataService.mediaSetList =
+            listOf(
+                Group.MediaSet(
+                    id = testMediaSetname,
+                    pickerId = 1234L,
+                    authority = "a",
+                    displayName = testMediaSetname,
+                    icon = Icon(Uri.parse(""), MediaSource.LOCAL),
+                )
+            )
+
+        testCategoryDataService.categoryAlbumList =
+            listOf(
+                Group.Category(
+                    id = testCategoryDisplayName,
+                    pickerId = 1234L,
+                    authority = "a",
+                    displayName = testCategoryDisplayName,
+                    categoryType = CategoryType.PEOPLE_AND_PETS,
+                    icons = emptyList(),
+                    isLeafCategory = true,
+                )
+            )
+
+        testScope.runTest {
+            composeTestRule.setContent {
+                // Set an explicit size to prevent errors in glide being unable to measure
+                callPhotopickerMain(
+                    featureManager = featureManager,
+                    selection = selection,
+                    events = events,
+                )
+            }
+
+            advanceTimeBy(100)
+
+            // Navigate on the UI thread (similar to a click handler)
+            composeTestRule.runOnUiThread({ navController.navigateToCategoryGrid() })
+
+            assertWithMessage("Expected route to be category albumgrid")
+                .that(navController.currentBackStackEntry?.destination?.route)
+                .isEqualTo(PhotopickerDestinations.ALBUM_GRID.route)
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            advanceTimeBy(100)
+
+            composeTestRule.onNode(hasText(testCategoryDisplayName)).performClick()
+
+            composeTestRule.waitForIdle()
+
+            advanceTimeBy(100)
+
+            assertWithMessage("Expected route to be media set grid")
+                .that(navController.currentBackStackEntry?.destination?.route)
+                .isEqualTo(PhotopickerDestinations.MEDIA_SET_GRID.route)
+
+            composeTestRule.onNode(hasText(testMediaSetname)).performClick()
+
+            composeTestRule.waitForIdle()
+
+            // Wait for the Spinner to show
+            advanceTimeBy(2000)
+            composeTestRule
+                .onNode(
+                    hasContentDescription(
+                        resources.getString(R.string.photopicker_loading_media_items_description)
+                    )
+                )
+                .assertIsDisplayed()
+
+            // Wait for the media items to show
+            advanceTimeBy(4000)
+            composeTestRule
+                .onAllNodes(
+                    hasContentDescription(
+                        value = mediaItemsContentDescriptionSubstring,
+                        substring = true,
+                    )
+                )
+                .onFirst()
+                .assert(hasClickAction())
+                .assertIsDisplayed()
+        }
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
+    fun testSpinnerForEmptyMediaSetContent() {
+        val testCategoryDataService = categoryDataService as? TestCategoryDataServiceImpl
+        checkNotNull(testCategoryDataService) { "Expected a TestCategoryDataServiceImpl" }
+
+        val testCategoryDisplayName = "People & Pets"
+        val testMediaSetname = "mediaset"
+
+        val resources = getTestableContext().getResources()
+
+        testCategoryDataService.mediaSetContentDelay = 5000L
+        testCategoryDataService.mediaSetContentSize = 0
+        // Force the data service to return no data for all test sources during this test.
+        testCategoryDataService.mediaSetList =
+            listOf(
+                Group.MediaSet(
+                    id = testMediaSetname,
+                    pickerId = 1234L,
+                    authority = "a",
+                    displayName = testMediaSetname,
+                    icon = Icon(Uri.parse(""), MediaSource.LOCAL),
+                )
+            )
+
+        testCategoryDataService.categoryAlbumList =
+            listOf(
+                Group.Category(
+                    id = testCategoryDisplayName,
+                    pickerId = 1234L,
+                    authority = "a",
+                    displayName = testCategoryDisplayName,
+                    categoryType = CategoryType.PEOPLE_AND_PETS,
+                    icons = emptyList(),
+                    isLeafCategory = true,
+                )
+            )
+
+        testScope.runTest {
+            composeTestRule.setContent {
+                // Set an explicit size to prevent errors in glide being unable to measure
+                callPhotopickerMain(
+                    featureManager = featureManager,
+                    selection = selection,
+                    events = events,
+                )
+            }
+
+            advanceTimeBy(100)
+
+            // Navigate on the UI thread (similar to a click handler)
+            composeTestRule.runOnUiThread({ navController.navigateToCategoryGrid() })
+
+            assertWithMessage("Expected route to be category albumgrid")
+                .that(navController.currentBackStackEntry?.destination?.route)
+                .isEqualTo(PhotopickerDestinations.ALBUM_GRID.route)
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            advanceTimeBy(100)
+
+            composeTestRule.onNode(hasText(testCategoryDisplayName)).performClick()
+
+            composeTestRule.waitForIdle()
+
+            advanceTimeBy(100)
+
+            assertWithMessage("Expected route to be media set grid")
+                .that(navController.currentBackStackEntry?.destination?.route)
+                .isEqualTo(PhotopickerDestinations.MEDIA_SET_GRID.route)
+
+            composeTestRule.onNode(hasText(testMediaSetname)).performClick()
+
+            composeTestRule.waitForIdle()
+
+            // Wait for the Spinner to show
+            advanceTimeBy(2000)
+            composeTestRule
+                .onNode(
+                    hasContentDescription(
+                        resources.getString(R.string.photopicker_loading_media_items_description)
+                    )
+                )
+                .assertIsDisplayed()
+
+            // Wait for the Empty Page message to show
+            advanceTimeBy(4000)
+            composeTestRule
+                .onNode(hasText(resources.getString(R.string.photopicker_photos_empty_state_title)))
+                .assertIsDisplayed()
+        }
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
+    fun testTimeOutForContentForMediaSet() {
+        val testCategoryDataService = categoryDataService as? TestCategoryDataServiceImpl
+        checkNotNull(testCategoryDataService) { "Expected a TestCategoryDataServiceImpl" }
+
+        val testCategoryDisplayName = "People & Pets"
+        val testMediaSetname = "mediaset"
+
+        val resources = getTestableContext().getResources()
+
+        testCategoryDataService.mediaSetContentDelay = 12000L
+        testCategoryDataService.mediaSetContentSize = 0
+        // Force the data service to return no data for all test sources during this test.
+        testCategoryDataService.mediaSetList =
+            listOf(
+                Group.MediaSet(
+                    id = testMediaSetname,
+                    pickerId = 1234L,
+                    authority = "a",
+                    displayName = testMediaSetname,
+                    icon = Icon(Uri.parse(""), MediaSource.LOCAL),
+                )
+            )
+
+        testCategoryDataService.categoryAlbumList =
+            listOf(
+                Group.Category(
+                    id = testCategoryDisplayName,
+                    pickerId = 1234L,
+                    authority = "a",
+                    displayName = testCategoryDisplayName,
+                    categoryType = CategoryType.PEOPLE_AND_PETS,
+                    icons = emptyList(),
+                    isLeafCategory = true,
+                )
+            )
+
+        testScope.runTest {
+            composeTestRule.setContent {
+                // Set an explicit size to prevent errors in glide being unable to measure
+                callPhotopickerMain(
+                    featureManager = featureManager,
+                    selection = selection,
+                    events = events,
+                )
+            }
+
+            advanceTimeBy(100)
+
+            // Navigate on the UI thread (similar to a click handler)
+            composeTestRule.runOnUiThread({ navController.navigateToCategoryGrid() })
+
+            assertWithMessage("Expected route to be category albumgrid")
+                .that(navController.currentBackStackEntry?.destination?.route)
+                .isEqualTo(PhotopickerDestinations.ALBUM_GRID.route)
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            advanceTimeBy(100)
+
+            composeTestRule.onNode(hasText(testCategoryDisplayName)).performClick()
+
+            composeTestRule.waitForIdle()
+
+            advanceTimeBy(100)
+
+            assertWithMessage("Expected route to be media set grid")
+                .that(navController.currentBackStackEntry?.destination?.route)
+                .isEqualTo(PhotopickerDestinations.MEDIA_SET_GRID.route)
+
+            composeTestRule.onNode(hasText(testMediaSetname)).performClick()
+
+            composeTestRule.waitForIdle()
+
+            // Wait for the Spinner to show
+            advanceTimeBy(2000)
+            composeTestRule
+                .onNode(
+                    hasContentDescription(
+                        resources.getString(R.string.photopicker_loading_media_items_description)
+                    )
+                )
+                .assertIsDisplayed()
+
+            // Wait for the Empty Page message to show after timeout
+            advanceTimeBy(12000)
+            composeTestRule
+                .onNode(hasText(resources.getString(R.string.photopicker_photos_empty_state_title)))
+                .assertIsDisplayed()
+        }
+    }
+
     @Test
     @EnableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
     fun testEmptyStateContentForPeoplePetsCategory() {
@@ -1124,4 +1427,177 @@ class CategoryGridFeatureTest : PhotopickerFeatureBaseTest() {
                 .assertIsDisplayed()
         }
     }
+
+    @Test
+    @RequiresFlagsEnabled(
+        Flags.FLAG_ENABLE_MEDIA_GRID_TOUCH_FEATURES,
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+    )
+    fun testAlbumMediaGridDragSelect() =
+        testScope.runTest {
+            val videosAlbum =
+                Group.Album(
+                    id = ALBUM_ID_VIDEOS,
+                    pickerId = 1234L,
+                    authority = "a",
+                    displayName = "Videos",
+                    coverUri =
+                        Uri.EMPTY.buildUpon()
+                            .apply {
+                                scheme("content")
+                                authority("a")
+                                path("1234")
+                            }
+                            .build(),
+                    dateTakenMillisLong = 12345678L,
+                    coverMediaSource = MediaSource.LOCAL,
+                )
+
+            // Update configuration to support multi-select
+            val testIntent =
+                Intent(MediaStore.ACTION_PICK_IMAGES).apply {
+                    putExtra(MediaStore.EXTRA_PICK_IMAGES_MAX, 5)
+                }
+            configurationManager.get().setIntent(testIntent)
+            advanceTimeBy(100)
+
+            composeTestRule.setContent {
+                callPhotopickerMain(
+                    featureManager = featureManager,
+                    selection = selection,
+                    events = events,
+                )
+            }
+
+            // Navigate on the UI thread (similar to a click handler)
+            composeTestRule.runOnUiThread({
+                navController.navigateToAlbumMediaGridForCategories(album = videosAlbum)
+            })
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            assertWithMessage("Expected route to be category albumgrid")
+                .that(navController.currentBackStackEntry?.destination?.route)
+                .isEqualTo(PhotopickerDestinations.ALBUM_MEDIA_GRID.route)
+
+            // Let collectors run
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            val firstPhoto =
+                composeTestRule
+                    .onAllNodes(
+                        hasContentDescription(
+                            value = MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING,
+                            substring = true,
+                        )
+                    )
+                    .onFirst()
+
+            with(firstPhoto) {
+                assertIsDisplayed()
+                performTouchInput {
+                    down(center)
+                    // Wait for the long press to register to enable drag-to-select
+                    advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                    dragInIncrements(
+                        // * 3 because there are 3-4 columns of media files in the mediaGrid
+                        // depending on device layout
+                        totalOffset = getBoundsInRoot().right.toPx() * 3,
+                        vertical = false,
+                    )
+                    // Wait for the scroll to finish.
+                    advanceEventTime(1000)
+                    up()
+                }
+            }
+
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+
+            assertWithMessage("expected items in selection").that(selection.size()).isEqualTo(3)
+        }
+
+    @Test
+    @RequiresFlagsEnabled(
+        Flags.FLAG_ENABLE_MEDIA_GRID_TOUCH_FEATURES,
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+    )
+    fun testMediaSetGridDragSelect() =
+        testScope.runTest {
+            val testMediaSet =
+                Group.MediaSet(
+                    id = "mediaset",
+                    pickerId = 1234L,
+                    authority = "a",
+                    displayName = "Media Set",
+                    icon = Icon(Uri.parse(""), MediaSource.LOCAL),
+                )
+
+            // Update configuration to support multi-select
+            val testIntent =
+                Intent(MediaStore.ACTION_PICK_IMAGES).apply {
+                    putExtra(MediaStore.EXTRA_PICK_IMAGES_MAX, 5)
+                }
+            configurationManager.get().setIntent(testIntent)
+            advanceTimeBy(100)
+
+            composeTestRule.setContent {
+                callPhotopickerMain(
+                    featureManager = featureManager,
+                    selection = selection,
+                    events = events,
+                )
+            }
+
+            // Navigate on the UI thread (similar to a click handler)
+            composeTestRule.runOnUiThread({
+                navController.navigateToMediaSetContentGrid(mediaSet = testMediaSet)
+            })
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            assertWithMessage("Expected route to be category albumgrid")
+                .that(navController.currentBackStackEntry?.destination?.route)
+                .isEqualTo(PhotopickerDestinations.MEDIA_SET_CONTENT_GRID.route)
+
+            // Let collectors run
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            val firstPhoto =
+                composeTestRule
+                    .onAllNodes(
+                        hasContentDescription(
+                            value = MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING,
+                            substring = true,
+                        )
+                    )
+                    .onFirst()
+
+            with(firstPhoto) {
+                assertIsDisplayed()
+                performTouchInput {
+                    down(center)
+                    // Wait for the long press to register to enable drag-to-select
+                    advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                    dragInIncrements(
+                        // * 3 because there are 3-4 columns of media files in the mediaGrid
+                        // depending on device layout
+                        totalOffset = getBoundsInRoot().right.toPx() * 3,
+                        vertical = false,
+                    )
+                    // Wait for the scroll to finish.
+                    advanceEventTime(1000)
+                    up()
+                }
+            }
+
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+
+            assertWithMessage("expected items in selection").that(selection.size()).isEqualTo(3)
+        }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/features/categorygrid/CategoryGridViewModelTest.kt b/photopicker/tests/src/com/android/photopicker/features/categorygrid/CategoryGridViewModelTest.kt
index da9d3081e..64a455de3 100644
--- a/photopicker/tests/src/com/android/photopicker/features/categorygrid/CategoryGridViewModelTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/categorygrid/CategoryGridViewModelTest.kt
@@ -38,6 +38,7 @@ import com.android.photopicker.data.model.MediaSource
 import com.android.providers.media.flags.Flags
 import com.google.common.truth.Truth.assertWithMessage
 import kotlinx.coroutines.ExperimentalCoroutinesApi
+import kotlinx.coroutines.test.StandardTestDispatcher
 import kotlinx.coroutines.test.advanceTimeBy
 import kotlinx.coroutines.test.runTest
 import org.junit.Rule
@@ -135,6 +136,7 @@ class CategoryGridViewModelTest {
             val viewModel =
                 CategoryGridViewModel(
                     this.backgroundScope,
+                    StandardTestDispatcher(this.testScheduler),
                     selection,
                     TestCategoryDataServiceImpl(),
                     TestDataServiceImpl(),
diff --git a/photopicker/tests/src/com/android/photopicker/features/categorygrid/data/CategoryDataServiceImplTest.kt b/photopicker/tests/src/com/android/photopicker/features/categorygrid/data/CategoryDataServiceImplTest.kt
index 0a7658074..0f3fa842b 100644
--- a/photopicker/tests/src/com/android/photopicker/features/categorygrid/data/CategoryDataServiceImplTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/categorygrid/data/CategoryDataServiceImplTest.kt
@@ -26,6 +26,8 @@ import android.os.UserHandle
 import androidx.paging.PagingSource
 import androidx.test.ext.junit.runners.AndroidJUnit4
 import androidx.test.filters.SmallTest
+import com.android.photopicker.core.configuration.PhotopickerConfiguration
+import com.android.photopicker.core.configuration.TestPhotopickerConfiguration
 import com.android.photopicker.core.configuration.provideTestConfigurationFlow
 import com.android.photopicker.core.events.Events
 import com.android.photopicker.core.features.FeatureManager
@@ -45,6 +47,7 @@ import com.android.photopicker.data.model.MediaSource
 import com.android.photopicker.data.model.Provider
 import com.android.photopicker.features.categorygrid.data.CategoryDataService
 import com.android.photopicker.features.categorygrid.data.CategoryDataServiceImpl
+import com.android.photopicker.util.test.nonNullableAny
 import com.google.common.truth.Truth.assertThat
 import kotlinx.coroutines.ExperimentalCoroutinesApi
 import kotlinx.coroutines.flow.MutableStateFlow
@@ -59,6 +62,8 @@ import org.junit.Before
 import org.junit.Test
 import org.junit.runner.RunWith
 import org.mockito.Mockito.mock
+import org.mockito.Mockito.times
+import org.mockito.Mockito.verify
 
 @SmallTest
 @RunWith(AndroidJUnit4::class)
@@ -89,7 +94,7 @@ class CategoryDataServiceImplTest {
     private lateinit var testContentProvider: TestMediaProvider
     private lateinit var testContentResolver: ContentResolver
     private lateinit var notificationService: TestNotificationServiceImpl
-    private lateinit var mediaProviderClient: MediaProviderClient
+    private lateinit var mockMediaProviderClient: MediaProviderClient
     private lateinit var mockContext: Context
     private lateinit var mockPackageManager: PackageManager
     private lateinit var events: Events
@@ -101,7 +106,7 @@ class CategoryDataServiceImplTest {
         testContentProvider = TestMediaProvider()
         testContentResolver = ContentResolver.wrap(testContentProvider)
         notificationService = TestNotificationServiceImpl()
-        mediaProviderClient = MediaProviderClient()
+        mockMediaProviderClient = mock(MediaProviderClient::class.java)
         mockContext = mock(Context::class.java)
         mockPackageManager = mock(PackageManager::class.java)
         val userStatus =
@@ -204,6 +209,21 @@ class CategoryDataServiceImplTest {
         assertThat(secondMediaSetsPagingSource).isEqualTo(firstMediaSetsPagingSource)
         assertThat(cancellationSignal.isCanceled()).isFalse()
 
+        // Refresh request should not be sent in case of paging source invalidation.
+        verify(mockMediaProviderClient, times(0))
+            .refreshMediaSets(
+                nonNullableAny(ContentResolver::class.java, testContentResolver),
+                nonNullableAny(Group.Category::class.java, testContentProvider.parentCategory),
+                nonNullableAny(
+                    PhotopickerConfiguration::class.java,
+                    TestPhotopickerConfiguration.default(),
+                ),
+                nonNullableAny(
+                    getParameterizedTypeClass(emptyList<Provider>()),
+                    emptyList<Provider>(),
+                ),
+            )
+
         firstMediaSetsPagingSource.invalidate()
         assertThat(cancellationSignal.isCanceled()).isTrue()
     }
@@ -236,6 +256,21 @@ class CategoryDataServiceImplTest {
             categoryDataService.getMediaSets(testContentProvider.parentCategory)
         assertThat(secondMediaSetsPagingSource).isNotEqualTo(firstMediaSetsPagingSource)
         assertThat(secondMediaSetsPagingSource.invalid).isFalse()
+
+        // Refresh request should not be sent in case of an update notification.
+        verify(mockMediaProviderClient, times(0))
+            .refreshMediaSets(
+                nonNullableAny(ContentResolver::class.java, testContentResolver),
+                nonNullableAny(Group.Category::class.java, testContentProvider.parentCategory),
+                nonNullableAny(
+                    PhotopickerConfiguration::class.java,
+                    TestPhotopickerConfiguration.default(),
+                ),
+                nonNullableAny(
+                    getParameterizedTypeClass(emptyList<Provider>()),
+                    emptyList<Provider>(),
+                ),
+            )
     }
 
     @Test
@@ -272,6 +307,21 @@ class CategoryDataServiceImplTest {
         val secondMediaSetsPagingSource: PagingSource<GroupPageKey, Group.MediaSet> =
             categoryDataService.getMediaSets(testContentProvider.parentCategory)
         assertThat(secondMediaSetsPagingSource.invalid).isFalse()
+
+        // Refresh request should be sent in case of active profile change notification.
+        verify(mockMediaProviderClient, times(1))
+            .refreshMediaSets(
+                nonNullableAny(ContentResolver::class.java, testContentResolver),
+                nonNullableAny(Group.Category::class.java, testContentProvider.parentCategory),
+                nonNullableAny(
+                    PhotopickerConfiguration::class.java,
+                    TestPhotopickerConfiguration.default(),
+                ),
+                nonNullableAny(
+                    getParameterizedTypeClass(emptyList<Provider>()),
+                    emptyList<Provider>(),
+                ),
+            )
     }
 
     @Test
@@ -297,6 +347,21 @@ class CategoryDataServiceImplTest {
 
         firstMediaSetContentsPagingSource.invalidate()
         assertThat(cancellationSignal.isCanceled()).isTrue()
+
+        // Refresh request should be sent in case of paging source invalidation.
+        verify(mockMediaProviderClient, times(1))
+            .refreshMediaSetContents(
+                nonNullableAny(ContentResolver::class.java, testContentResolver),
+                nonNullableAny(Group.MediaSet::class.java, testContentProvider.mediaSets[0]),
+                nonNullableAny(
+                    PhotopickerConfiguration::class.java,
+                    TestPhotopickerConfiguration.default(),
+                ),
+                nonNullableAny(
+                    getParameterizedTypeClass(emptyList<Provider>()),
+                    emptyList<Provider>(),
+                ),
+            )
     }
 
     @Test
@@ -326,6 +391,21 @@ class CategoryDataServiceImplTest {
         val secondMediaSetContentsPagingSource: PagingSource<MediaPageKey, Media> =
             categoryDataService.getMediaSetContents(testContentProvider.mediaSets[0])
         assertThat(secondMediaSetContentsPagingSource.invalid).isFalse()
+
+        // Refresh request should be sent in case of paging source invalidation.
+        verify(mockMediaProviderClient, times(1))
+            .refreshMediaSetContents(
+                nonNullableAny(ContentResolver::class.java, testContentResolver),
+                nonNullableAny(Group.MediaSet::class.java, testContentProvider.mediaSets[0]),
+                nonNullableAny(
+                    PhotopickerConfiguration::class.java,
+                    TestPhotopickerConfiguration.default(),
+                ),
+                nonNullableAny(
+                    getParameterizedTypeClass(emptyList<Provider>()),
+                    emptyList<Provider>(),
+                ),
+            )
     }
 
     @Test
@@ -365,6 +445,21 @@ class CategoryDataServiceImplTest {
         val secondMediaSetContentsPagingSource: PagingSource<MediaPageKey, Media> =
             categoryDataService.getMediaSetContents(testContentProvider.mediaSets[0])
         assertThat(secondMediaSetContentsPagingSource.invalid).isFalse()
+
+        // Refresh request should be sent in case of paging source invalidation.
+        verify(mockMediaProviderClient, times(1))
+            .refreshMediaSetContents(
+                nonNullableAny(ContentResolver::class.java, testContentResolver),
+                nonNullableAny(Group.MediaSet::class.java, testContentProvider.mediaSets[0]),
+                nonNullableAny(
+                    PhotopickerConfiguration::class.java,
+                    TestPhotopickerConfiguration.default(),
+                ),
+                nonNullableAny(
+                    getParameterizedTypeClass(emptyList<Provider>()),
+                    emptyList<Provider>(),
+                ),
+            )
     }
 
     private fun getDataService(scope: TestScope): DataService {
@@ -372,7 +467,7 @@ class CategoryDataServiceImplTest {
             userStatus = userStatusFlow,
             scope = scope.backgroundScope,
             notificationService = notificationService,
-            mediaProviderClient = mediaProviderClient,
+            mediaProviderClient = mockMediaProviderClient,
             dispatcher = StandardTestDispatcher(scope.testScheduler),
             config = provideTestConfigurationFlow(scope.backgroundScope),
             featureManager = testFeatureManager,
@@ -391,7 +486,7 @@ class CategoryDataServiceImplTest {
             config = provideTestConfigurationFlow(scope.backgroundScope),
             scope = scope.backgroundScope,
             notificationService = notificationService,
-            mediaProviderClient = mediaProviderClient,
+            mediaProviderClient = mockMediaProviderClient,
             dispatcher = StandardTestDispatcher(scope.testScheduler),
             events = events,
         )
@@ -417,4 +512,8 @@ class CategoryDataServiceImplTest {
             )
         userStatusFlow.update { it.copy(activeContentResolver = updatedContentResolver) }
     }
+
+    inline fun <reified T : Any> getParameterizedTypeClass(input: T): Class<T> {
+        return T::class.java
+    }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/features/categorygrid/data/TestCategoryDataServiceImpl.kt b/photopicker/tests/src/com/android/photopicker/features/categorygrid/data/TestCategoryDataServiceImpl.kt
index 1f172215b..3cdc936de 100644
--- a/photopicker/tests/src/com/android/photopicker/features/categorygrid/data/TestCategoryDataServiceImpl.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/categorygrid/data/TestCategoryDataServiceImpl.kt
@@ -39,6 +39,7 @@ class TestCategoryDataServiceImpl : CategoryDataService {
 
     var mediaSetContentSize: Int = FakeInMemoryMediaPagingSource.DEFAULT_SIZE
     var mediaSetContentList: List<Media>? = null
+    var mediaSetContentDelay: Long = 0L // In milliseconds
 
     override fun getCategories(
         parentCategory: Group.Category?,
@@ -60,7 +61,7 @@ class TestCategoryDataServiceImpl : CategoryDataService {
         mediaSet: Group.MediaSet,
         cancellationSignal: CancellationSignal?,
     ): PagingSource<MediaPageKey, Media> {
-        return mediaSetContentList?.let { FakeInMemoryMediaPagingSource(it) }
-            ?: FakeInMemoryMediaPagingSource(mediaSetContentSize)
+        return mediaSetContentList?.let { FakeInMemoryMediaPagingSource(it, mediaSetContentDelay) }
+            ?: FakeInMemoryMediaPagingSource(mediaSetContentSize, mediaSetContentDelay)
     }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/features/cloudmedia/CloudMediaFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/cloudmedia/CloudMediaFeatureTest.kt
index 90c39982b..9a187901f 100644
--- a/photopicker/tests/src/com/android/photopicker/features/cloudmedia/CloudMediaFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/cloudmedia/CloudMediaFeatureTest.kt
@@ -158,7 +158,7 @@ class CloudMediaFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
 
         val testDeviceConfigProxy =
@@ -544,7 +544,10 @@ class CloudMediaFeatureTest : PhotopickerFeatureBaseTest() {
 
             val resources = getTestableContext().getResources()
             val expectedTitle =
-                resources.getString(R.string.photopicker_banner_cloud_choose_account_title)
+                resources.getString(
+                    R.string.photopicker_banner_cloud_choose_account_title,
+                    cloudProvider.displayName,
+                )
             val expectedMessage =
                 resources.getString(
                     R.string.photopicker_banner_cloud_choose_account_message,
diff --git a/photopicker/tests/src/com/android/photopicker/features/highlightmediaresults/HighlightMediaResultsFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/highlightmediaresults/HighlightMediaResultsFeatureTest.kt
new file mode 100644
index 000000000..b656e2275
--- /dev/null
+++ b/photopicker/tests/src/com/android/photopicker/features/highlightmediaresults/HighlightMediaResultsFeatureTest.kt
@@ -0,0 +1,1428 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package features.highlightmediaresults
+
+import android.content.ContentProvider
+import android.content.ContentResolver
+import android.content.Context
+import android.content.Intent
+import android.content.pm.PackageManager
+import android.net.Uri
+import android.os.Build
+import android.os.UserHandle
+import android.os.UserManager
+import android.platform.test.annotations.DisableFlags
+import android.platform.test.annotations.EnableFlags
+import android.platform.test.flag.junit.SetFlagsRule
+import android.provider.CloudMediaProviderContract.AlbumColumns.ALBUM_ID_FAVORITES
+import android.provider.MediaStore
+import android.test.mock.MockContentResolver
+import androidx.compose.runtime.Composable
+import androidx.compose.runtime.CompositionLocalProvider
+import androidx.compose.ui.Modifier
+import androidx.compose.ui.platform.testTag
+import androidx.compose.ui.test.ExperimentalTestApi
+import androidx.compose.ui.test.assertAll
+import androidx.compose.ui.test.assertCountEquals
+import androidx.compose.ui.test.assertIsDisplayed
+import androidx.compose.ui.test.assertIsNotDisplayed
+import androidx.compose.ui.test.filter
+import androidx.compose.ui.test.hasClickAction
+import androidx.compose.ui.test.hasContentDescription
+import androidx.compose.ui.test.hasScrollAction
+import androidx.compose.ui.test.hasTestTag
+import androidx.compose.ui.test.hasText
+import androidx.compose.ui.test.junit4.createAndroidComposeRule
+import androidx.compose.ui.test.onChildren
+import androidx.compose.ui.test.onFirst
+import androidx.compose.ui.test.onNodeWithContentDescription
+import androidx.compose.ui.test.performClick
+import androidx.test.filters.SdkSuppress
+import androidx.test.platform.app.InstrumentationRegistry
+import com.android.photopicker.R
+import com.android.photopicker.core.ActivityModule
+import com.android.photopicker.core.ApplicationModule
+import com.android.photopicker.core.ApplicationOwned
+import com.android.photopicker.core.Background
+import com.android.photopicker.core.ConcurrencyModule
+import com.android.photopicker.core.EmbeddedServiceModule
+import com.android.photopicker.core.Main
+import com.android.photopicker.core.PhotopickerMain
+import com.android.photopicker.core.ViewModelModule
+import com.android.photopicker.core.configuration.ConfigurationManager
+import com.android.photopicker.core.configuration.DeviceConfigProxy
+import com.android.photopicker.core.configuration.FEATURE_HIGHLIGHT_SEARCH_RESULTS
+import com.android.photopicker.core.configuration.LocalPhotopickerConfiguration
+import com.android.photopicker.core.configuration.NAMESPACE_MEDIAPROVIDER
+import com.android.photopicker.core.configuration.PhotopickerConfiguration
+import com.android.photopicker.core.configuration.PhotopickerRuntimeEnv
+import com.android.photopicker.core.configuration.TestDeviceConfigProxyImpl
+import com.android.photopicker.core.configuration.TestPhotopickerConfiguration
+import com.android.photopicker.core.events.Events
+import com.android.photopicker.core.events.LocalEvents
+import com.android.photopicker.core.features.FeatureManager
+import com.android.photopicker.core.features.LocalFeatureManager
+import com.android.photopicker.core.features.PrefetchResultKey
+import com.android.photopicker.core.glide.GlideTestRule
+import com.android.photopicker.core.navigation.LocalNavController
+import com.android.photopicker.core.navigation.PhotopickerDestinations
+import com.android.photopicker.core.selection.LocalSelection
+import com.android.photopicker.core.selection.Selection
+import com.android.photopicker.core.theme.PhotopickerTheme
+import com.android.photopicker.data.DataService
+import com.android.photopicker.data.TestDataServiceImpl
+import com.android.photopicker.data.TestSearchDataServiceImpl
+import com.android.photopicker.data.model.Group
+import com.android.photopicker.data.model.Media
+import com.android.photopicker.data.model.MediaSource
+import com.android.photopicker.data.model.Provider
+import com.android.photopicker.features.PhotopickerFeatureBaseTest
+import com.android.photopicker.features.highlightmediaresults.HighlightMedia
+import com.android.photopicker.features.highlightmediaresults.HighlightMediaResultsFeature
+import com.android.photopicker.features.highlightmediaresults.model.HighlightAlbum
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQuery
+import com.android.photopicker.features.highlightmediaresults.model.HighlightQueryResultsParams
+import com.android.photopicker.features.highlightmediaresults.model.QueryResultsHighlightType
+import com.android.photopicker.features.search.data.SearchDataService
+import com.android.photopicker.features.search.model.GlobalSearchState
+import com.android.photopicker.inject.PhotopickerTestModule
+import com.android.photopicker.tests.HiltTestActivity
+import com.android.photopicker.util.LocalLocalizationHelper
+import com.android.photopicker.util.LocalizationHelper
+import com.android.photopicker.util.test.MockContentProviderWrapper
+import com.android.photopicker.util.test.StubProvider
+import com.android.photopicker.util.test.whenever
+import com.android.providers.media.flags.Flags
+import com.google.common.truth.Truth.assertWithMessage
+import dagger.Lazy
+import dagger.Module
+import dagger.hilt.InstallIn
+import dagger.hilt.android.testing.BindValue
+import dagger.hilt.android.testing.HiltAndroidRule
+import dagger.hilt.android.testing.HiltAndroidTest
+import dagger.hilt.android.testing.UninstallModules
+import dagger.hilt.components.SingletonComponent
+import javax.inject.Inject
+import kotlinx.coroutines.CoroutineDispatcher
+import kotlinx.coroutines.CoroutineScope
+import kotlinx.coroutines.Deferred
+import kotlinx.coroutines.ExperimentalCoroutinesApi
+import kotlinx.coroutines.async
+import kotlinx.coroutines.flow.flow
+import kotlinx.coroutines.runBlocking
+import kotlinx.coroutines.test.StandardTestDispatcher
+import kotlinx.coroutines.test.TestScope
+import kotlinx.coroutines.test.advanceTimeBy
+import kotlinx.coroutines.test.runTest
+import org.junit.Before
+import org.junit.Rule
+import org.junit.Test
+import org.mockito.Mock
+import org.mockito.Mockito.any
+import org.mockito.MockitoAnnotations
+
+@UninstallModules(
+    ActivityModule::class,
+    ApplicationModule::class,
+    ConcurrencyModule::class,
+    EmbeddedServiceModule::class,
+    ViewModelModule::class,
+)
+@HiltAndroidTest
+@SdkSuppress(minSdkVersion = Build.VERSION_CODES.TIRAMISU)
+@OptIn(ExperimentalCoroutinesApi::class, ExperimentalTestApi::class)
+class HighlightMediaResultsFeatureTest : PhotopickerFeatureBaseTest() {
+
+    /* Hilt's rule needs to come first to ensure the DI container is setup for the test. */
+    @get:Rule(order = 0) val hiltRule = HiltAndroidRule(this)
+    @get:Rule(order = 1)
+    val composeTestRule = createAndroidComposeRule(activityClass = HiltTestActivity::class.java)
+    @get:Rule(order = 2) var setFlagsRule = SetFlagsRule()
+    @get:Rule(order = 3) val glideRule = GlideTestRule()
+
+    /* Setup dependencies for the UninstallModules for the test class. */
+    @Module @InstallIn(SingletonComponent::class) class TestModule : PhotopickerTestModule()
+
+    val testDispatcher = StandardTestDispatcher()
+
+    /* Overrides for ActivityModule */
+    val testScope: TestScope = TestScope(testDispatcher)
+    @BindValue @Main val mainScope: CoroutineScope = testScope
+    @BindValue @Background var testBackgroundScope: CoroutineScope = testScope.backgroundScope
+
+    /* Overrides for ViewModelModule */
+    @BindValue val viewModelScopeOverride: CoroutineScope? = testScope.backgroundScope
+
+    /* Overrides for the ConcurrencyModule */
+    @BindValue @Main val mainDispatcher: CoroutineDispatcher = testDispatcher
+    @BindValue @Background val backgroundDispatcher: CoroutineDispatcher = testDispatcher
+
+    @Inject lateinit var events: Events
+    @Inject lateinit var selection: Selection<Media>
+    @Inject lateinit var featureManager: FeatureManager
+    @Inject lateinit var userHandle: UserHandle
+    @Inject override lateinit var configurationManager: Lazy<ConfigurationManager>
+    @Inject lateinit var dataService: DataService
+    @Inject lateinit var searchDataService: SearchDataService
+
+    @BindValue @ApplicationOwned val contentResolver: ContentResolver = MockContentResolver()
+    private lateinit var provider: MockContentProviderWrapper
+
+    @Inject lateinit var mockContext: Context
+    @Inject lateinit var deviceConfig: DeviceConfigProxy
+    @Mock lateinit var mockUserManager: UserManager
+    @Mock lateinit var mockPackageManager: PackageManager
+    @Mock lateinit var mockContentProvider: ContentProvider
+    private val MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING = "taken on"
+
+    val deferredPrefetchResultsMap: Map<PrefetchResultKey, Deferred<Any?>> =
+        mapOf(
+            PrefetchResultKey.SEARCH_STATE to
+                runBlocking {
+                    async {
+                        return@async GlobalSearchState.ENABLED
+                    }
+                }
+        )
+
+    private val HIGHLIGHT_GRID_TEST_TAG = "highlight-grid"
+
+    // All highlight search feature enabled tests should be tested only for ACTION_PICK_IMAGES.
+    // Any other action will throw an exception while parsing the intent.
+
+    @Before
+    fun setup() {
+        MockitoAnnotations.openMocks(this)
+        hiltRule.inject()
+        provider = MockContentProviderWrapper(mockContentProvider)
+        setupTestForUserMonitor(mockContext, mockUserManager, contentResolver, mockPackageManager)
+
+        // Return a resource png so that glide actually has something to load
+        whenever(mockContentProvider.openTypedAssetFile(any(), any(), any(), any())) {
+            InstrumentationRegistry.getInstrumentation()
+                .getContext()
+                .getResources()
+                .openRawResourceFd(R.drawable.android)
+        }
+
+        val testDeviceConfigProxy =
+            checkNotNull(deviceConfig as? TestDeviceConfigProxyImpl) {
+                "Expected a TestDeviceConfigProxy"
+            }
+
+        testDeviceConfigProxy.setFlag(
+            NAMESPACE_MEDIAPROVIDER,
+            FEATURE_HIGHLIGHT_SEARCH_RESULTS.first,
+            false,
+        )
+    }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+    )
+    @DisableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
+    fun testHighlightMediaFeatureWhenSearchIsDisabled() {
+        val testActionPickImagesConfiguration: PhotopickerConfiguration =
+            TestPhotopickerConfiguration.build {
+                action(MediaStore.ACTION_PICK_IMAGES)
+                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+            }
+        assertWithMessage(
+                "HighlightMediaResults feature should be disabled when search is disabled"
+            )
+            .that(
+                HighlightMediaResultsFeature.isEnabled(
+                    testActionPickImagesConfiguration,
+                    deferredPrefetchResultsMap,
+                )
+            )
+            .isEqualTo(false)
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
+    @DisableFlags(
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+    )
+    fun testHighlightMediaFeatureWhenHighlightMediaFlagsAreDisabled() {
+        val testActionPickImagesConfiguration: PhotopickerConfiguration =
+            TestPhotopickerConfiguration.build {
+                action(MediaStore.ACTION_PICK_IMAGES)
+                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+            }
+        assertWithMessage(
+                "HighlightMediaResults feature should be disabled when its flags are disabled"
+            )
+            .that(
+                HighlightMediaResultsFeature.isEnabled(
+                    testActionPickImagesConfiguration,
+                    deferredPrefetchResultsMap,
+                )
+            )
+            .isEqualTo(false)
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH, Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE)
+    @DisableFlags(Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS)
+    fun testHighlightMediaFeatureWhenHighlightMediaApiFlagIsDisabled() {
+        val testActionPickImagesConfiguration: PhotopickerConfiguration =
+            TestPhotopickerConfiguration.build {
+                action(MediaStore.ACTION_PICK_IMAGES)
+                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+            }
+        assertWithMessage(
+                "HighlightMediaResults feature should be disabled when API flag is disabled"
+            )
+            .that(
+                HighlightMediaResultsFeature.isEnabled(
+                    testActionPickImagesConfiguration,
+                    deferredPrefetchResultsMap,
+                )
+            )
+            .isEqualTo(false)
+    }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+    )
+    @DisableFlags(Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE)
+    fun testHighlightMediaFeatureWhenHighlightMediaFeatureFlagIsDisabled() {
+        val testActionPickImagesConfiguration: PhotopickerConfiguration =
+            TestPhotopickerConfiguration.build {
+                action(MediaStore.ACTION_PICK_IMAGES)
+                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+            }
+        assertWithMessage(
+                "HighlightMediaResults feature should be disabled when feature flag is disabled"
+            )
+            .that(
+                HighlightMediaResultsFeature.isEnabled(
+                    testActionPickImagesConfiguration,
+                    deferredPrefetchResultsMap,
+                )
+            )
+            .isEqualTo(false)
+    }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+    )
+    fun testHighlightMediaFeatureWhenSearchAndHighlightMediaFeatureFlagAreEnabled() {
+        val testActionPickImagesConfiguration: PhotopickerConfiguration =
+            TestPhotopickerConfiguration.build {
+                action(MediaStore.ACTION_PICK_IMAGES)
+                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+            }
+        assertWithMessage(
+                "HighlightMediaResults feature should be enabled when search and highlight media flags " +
+                    "are enabled"
+            )
+            .that(
+                HighlightMediaResultsFeature.isEnabled(
+                    testActionPickImagesConfiguration,
+                    deferredPrefetchResultsMap,
+                )
+            )
+            .isEqualTo(true)
+    }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightMediaFeatureInEmbeddedWhenSearchAndHighlightMediaFeatureFlagAreEnabled() {
+        val testActionPickImagesConfiguration: PhotopickerConfiguration =
+            TestPhotopickerConfiguration.build {
+                runtimeEnv(PhotopickerRuntimeEnv.EMBEDDED)
+                action(MediaStore.ACTION_PICK_IMAGES)
+                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+            }
+        assertWithMessage(
+                "HighlightMediaResults feature should be enabled when search and highlight media flags " +
+                    "are enabled in embedded mode"
+            )
+            .that(
+                HighlightMediaResultsFeature.isEnabled(
+                    testActionPickImagesConfiguration,
+                    deferredPrefetchResultsMap,
+                )
+            )
+            .isEqualTo(true)
+    }
+
+    @Test
+    @DisableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+    )
+    fun testHighlightMediaFeatureWhenAlbumHighlightIsRequested() {
+        val testActionPickImagesConfiguration: PhotopickerConfiguration =
+            TestPhotopickerConfiguration.build {
+                action(MediaStore.ACTION_PICK_IMAGES)
+                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                highlightQueryResultsParams(
+                    HighlightQueryResultsParams(
+                        queryResultsHighlightQuery =
+                            HighlightQuery.Album(album = HighlightAlbum.HIGHLIGHT_ALBUM_CAMERA),
+                        queryResultsHighlightType =
+                            QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    )
+                )
+            }
+        assertWithMessage(
+                "HighlightMediaResults feature should be disabled when its flags are disabled"
+            )
+            .that(
+                HighlightMediaResultsFeature.isEnabled(
+                    testActionPickImagesConfiguration,
+                    deferredPrefetchResultsMap,
+                )
+            )
+            .isEqualTo(true)
+    }
+
+    @Test
+    @DisableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+    )
+    fun testAlbumHighlightMediaFeatureWithHighlightAndSearchFlagsDisabled() {
+        val testActionPickImagesConfiguration: PhotopickerConfiguration =
+            TestPhotopickerConfiguration.build {
+                action(MediaStore.ACTION_PICK_IMAGES)
+                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                highlightQueryResultsParams(
+                    HighlightQueryResultsParams(
+                        queryResultsHighlightQuery =
+                            HighlightQuery.Album(album = HighlightAlbum.HIGHLIGHT_ALBUM_CAMERA),
+                        queryResultsHighlightType =
+                            QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    )
+                )
+            }
+        assertWithMessage(
+                "HighlightMediaResults feature should be disabled when its flags are disabled"
+            )
+            .that(
+                HighlightMediaResultsFeature.isEnabled(
+                    testActionPickImagesConfiguration,
+                    deferredPrefetchResultsMap,
+                )
+            )
+            .isEqualTo(false)
+    }
+
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightMediaDisplaysAllUiElementsForSearchHighlightType() =
+        testScope.runTest {
+            val testQuery = "cats"
+            val highlightParams =
+                HighlightQueryResultsParams(
+                    queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    queryResultsHighlightQuery = HighlightQuery.Search(testQuery),
+                )
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalPhotopickerConfiguration provides
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            selectionLimit(50)
+                        },
+                    LocalNavController provides createNavController(),
+                    LocalSelection provides selection,
+                    LocalFeatureManager provides featureManager,
+                    LocalLocalizationHelper provides LocalizationHelper(),
+                ) {
+                    PhotopickerTheme(
+                        isDarkTheme = false,
+                        config =
+                            TestPhotopickerConfiguration.build {
+                                highlightQueryResultsParams(highlightParams)
+                                action(MediaStore.ACTION_PICK_IMAGES)
+                                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            },
+                    ) {
+                        // Calling just the Highlight composable to avoid any assertion conflicts
+                        // with
+                        // the photogrid
+                        HighlightGrid()
+                    }
+                }
+            }
+
+            // Verify highlight query text label, Recents label and the SeeAll button are displayed
+            val resources = getTestableContext().getResources()
+            val highlightText =
+                resources.getString(R.string.photopicker_hsr_suggestions_for_text) + " " + testQuery
+            composeTestRule
+                .onNode(hasText(highlightText), useUnmergedTree = true)
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+
+            // Verify the lazy grid is displayed, there should be only one scrollable component
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(1)
+
+            // Wait for highlight items to be loaded
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            // Assert all children of the grid i.e. highlight items are clickable items
+            composeTestRule
+                .onNode(hasScrollAction(), useUnmergedTree = true) // Locates the LazyHorizontalGrid
+                .onChildren()
+                .assertAll(hasClickAction())
+
+            // Assert the horizontal elements are clickable and selectable in the final selection
+            composeTestRule
+                .onNode(hasScrollAction(), useUnmergedTree = true) // Locates the LazyHorizontalGrid
+                .onChildren()
+                .onFirst()
+                .performClick()
+
+            advanceTimeBy(100)
+
+            assertWithMessage("Expected selection to contain an item, but it did not.")
+                .that(selection.snapshot().size)
+                .isEqualTo(1)
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightSearchMediaSeeAllButtonInteraction() =
+        testScope.runTest {
+            val testQuery = "cats"
+            val highlightParams =
+                HighlightQueryResultsParams(
+                    queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    queryResultsHighlightQuery = HighlightQuery.Search(testQuery),
+                )
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalFeatureManager provides featureManager,
+                    LocalPhotopickerConfiguration provides
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            selectionLimit(50)
+                        },
+                    LocalNavController provides createNavController(),
+                    LocalSelection provides selection,
+                    LocalEvents provides events,
+                    LocalLocalizationHelper provides LocalizationHelper(),
+                ) {
+                    PhotopickerTheme(
+                        isDarkTheme = false,
+                        config =
+                            TestPhotopickerConfiguration.build {
+                                highlightQueryResultsParams(highlightParams)
+                                action(MediaStore.ACTION_PICK_IMAGES)
+                                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            },
+                    ) {
+                        // Compose the entire tree for button test
+                        PhotopickerMain(disruptiveDataNotification = flow { emit(0) })
+                    }
+                }
+            }
+
+            // Wait sufficiently for albums list to be available
+            advanceTimeBy(3000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+
+            // Assert the UI elements before button click
+            val resources = getTestableContext().getResources()
+            val highlightText =
+                resources.getString(R.string.photopicker_hsr_suggestions_for_text) + " " + testQuery
+            composeTestRule
+                .onNode(hasText(highlightText), useUnmergedTree = true)
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            // There is a vertically scrollable photogrid and a horizontally scrollable highlight
+            // grid
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(2)
+
+            // Click the "See All" button
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .performClick()
+
+            // Assert components of the search page to open: back button, search query text is
+            // visible
+            // with a scrollable grid.
+            // Also assert on current destination. For search page, the underlying destination is
+            // the
+            // PhotoGrid itself with an expanded search bar and its content
+            val route = navController.currentBackStackEntry?.destination?.route
+            assertWithMessage("Current destination should be the album media grid")
+                .that(route)
+                .isEqualTo(PhotopickerDestinations.PHOTO_GRID.route)
+            composeTestRule
+                .onNode(
+                    hasContentDescription(resources.getString(R.string.photopicker_back_option)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule.onNode(hasText(testQuery), useUnmergedTree = true).assertIsDisplayed()
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(1)
+
+            // Assert back button navigates back to the photogrid
+            composeTestRule
+                .onNode(
+                    hasContentDescription(resources.getString(R.string.photopicker_back_option)),
+                    useUnmergedTree = true,
+                )
+                .performClick()
+            val backRoute = navController.currentBackStackEntry?.destination?.route
+            assertWithMessage("Current destination should be the photo grid")
+                .that(backRoute)
+                .isEqualTo(PhotopickerDestinations.PHOTO_GRID.route)
+
+            // Wait for grids to show up
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            // There is a vertically scrollable photogrid and a horizontally scrollable highlight
+            // grid
+            // when back is pressed
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(2)
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightMediaDisplaysAllUiElementsForAlbumHighlightType() =
+        testScope.runTest {
+            val highlightAlbum = HighlightAlbum.HIGHLIGHT_ALBUM_FAVORITES
+            val highlightParams =
+                HighlightQueryResultsParams(
+                    queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    queryResultsHighlightQuery = HighlightQuery.Album(album = highlightAlbum),
+                )
+
+            val testDataService = dataService as? TestDataServiceImpl
+            checkNotNull(testDataService) { "Expected a TestDataServiceImpl" }
+            testDataService.albumMediaSetSize = 0
+            testDataService.albumsList =
+                listOf(
+                    Group.Album(
+                        id = ALBUM_ID_FAVORITES,
+                        pickerId = 1234L,
+                        authority = "a",
+                        displayName = "Favorites",
+                        coverUri =
+                            Uri.EMPTY.buildUpon()
+                                .apply {
+                                    scheme("content")
+                                    authority("a")
+                                    path("1234")
+                                }
+                                .build(),
+                        dateTakenMillisLong = 12345678L,
+                        coverMediaSource = MediaSource.LOCAL,
+                    )
+                )
+            testDataService.albumMediaList = StubProvider.getTestMediaFromStubProvider(count = 15)
+            testDataService._availableProviders.value =
+                listOf(
+                    Provider(
+                        authority = "local_authority",
+                        mediaSource = MediaSource.LOCAL,
+                        uid = 1,
+                        displayName = "Local Provider",
+                    )
+                )
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalPhotopickerConfiguration provides
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            selectionLimit(50)
+                        },
+                    LocalNavController provides createNavController(),
+                    LocalSelection provides selection,
+                    LocalFeatureManager provides featureManager,
+                    LocalEvents provides events,
+                    LocalLocalizationHelper provides LocalizationHelper(),
+                ) {
+                    PhotopickerTheme(
+                        isDarkTheme = false,
+                        config =
+                            TestPhotopickerConfiguration.build {
+                                highlightQueryResultsParams(highlightParams)
+                                action(MediaStore.ACTION_PICK_IMAGES)
+                                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            },
+                    ) {
+                        // Compose only the highlight section to prevent assertion conflicts with
+                        // the photo grid
+                        HighlightGrid()
+                    }
+                }
+            }
+
+            // Wait sufficiently for the album list to be available. Null will be thrown otherwise
+            advanceTimeBy(3000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+
+            // Verify album name, Recents label and the SeeAll button are displayed
+            composeTestRule
+                .onNode(hasText(highlightAlbum.albumId), useUnmergedTree = true)
+                .assertIsDisplayed()
+            val resources = getTestableContext().getResources()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+
+            // Verify the lazy highlight grid is displayed, there should be only one scrollable
+            // component
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(1)
+
+            // Wait for highlight items to be loaded
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            // Assert all children of the grid i.e. highlight items are clickable and selectable
+            // items
+            composeTestRule
+                .onNode(hasScrollAction(), useUnmergedTree = true) // Locates the LazyHorizontalGrid
+                .onChildren()
+                .assertAll(hasClickAction())
+
+            advanceTimeBy(100)
+
+            composeTestRule
+                .onNode(hasScrollAction(), useUnmergedTree = true) // Locates the LazyHorizontalGrid
+                .onChildren()
+                .onFirst()
+                .performClick()
+
+            advanceTimeBy(100)
+
+            assertWithMessage("Expected selection to contain an item, but it did not.")
+                .that(selection.snapshot().size)
+                .isEqualTo(1)
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightAlbumMediaSeeAllButtonInteraction() =
+        testScope.runTest {
+            val highlightAlbum = HighlightAlbum.HIGHLIGHT_ALBUM_FAVORITES
+            val highlightParams =
+                HighlightQueryResultsParams(
+                    queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    queryResultsHighlightQuery = HighlightQuery.Album(album = highlightAlbum),
+                )
+
+            val testDataService = dataService as? TestDataServiceImpl
+            checkNotNull(testDataService) { "Expected a TestDataServiceImpl" }
+            testDataService.albumMediaSetSize = 0
+            testDataService.albumsList =
+                listOf(
+                    Group.Album(
+                        id = ALBUM_ID_FAVORITES,
+                        pickerId = 1234L,
+                        authority = "a",
+                        displayName = "Favorites",
+                        coverUri =
+                            Uri.EMPTY.buildUpon()
+                                .apply {
+                                    scheme("content")
+                                    authority("a")
+                                    path("1234")
+                                }
+                                .build(),
+                        dateTakenMillisLong = 12345678L,
+                        coverMediaSource = MediaSource.LOCAL,
+                    )
+                )
+            testDataService.albumMediaList = StubProvider.getTestMediaFromStubProvider(count = 15)
+            testDataService._availableProviders.value =
+                listOf(
+                    Provider(
+                        authority = "local_authority",
+                        mediaSource = MediaSource.LOCAL,
+                        uid = 1,
+                        displayName = "Local Provider",
+                    )
+                )
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalFeatureManager provides featureManager,
+                    LocalPhotopickerConfiguration provides
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            selectionLimit(50)
+                        },
+                    LocalNavController provides createNavController(),
+                    LocalSelection provides selection,
+                    LocalEvents provides events,
+                    LocalLocalizationHelper provides LocalizationHelper(),
+                ) {
+                    PhotopickerTheme(
+                        isDarkTheme = false,
+                        config =
+                            TestPhotopickerConfiguration.build {
+                                highlightQueryResultsParams(highlightParams)
+                                action(MediaStore.ACTION_PICK_IMAGES)
+                                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            },
+                    ) {
+                        // Compose the entire tree to test button behaviour
+                        PhotopickerMain(disruptiveDataNotification = flow { emit(0) })
+                    }
+                }
+            }
+
+            // Wait sufficiently for album list to be available
+            advanceTimeBy(3000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+
+            // Verify the UI elements
+            composeTestRule
+                .onNode(hasText(highlightAlbum.albumId), useUnmergedTree = true)
+                .assertIsDisplayed()
+            val resources = getTestableContext().getResources()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+
+            // There is a vertically scrollable photogrid and a horizontally scrollable highlight
+            // grid
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(2)
+
+            // Click the "See All" button
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .performClick()
+            // Assert components of the album media grid page to open: back button and album name
+            // are visible with a scrollable grid.
+            // Also assert on the current destination which should be the AlbumMediaGrid
+            val route = navController.currentBackStackEntry?.destination?.route
+            assertWithMessage("Current destination should be the album media grid")
+                .that(route)
+                .isEqualTo(PhotopickerDestinations.ALBUM_MEDIA_GRID.route)
+
+            composeTestRule
+                .onNode(
+                    hasContentDescription(resources.getString(R.string.photopicker_back_option)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(hasText(highlightAlbum.albumId), useUnmergedTree = true)
+                .assertIsDisplayed()
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(1)
+
+            // Assert back button navigates back to the photogrid
+            composeTestRule
+                .onNode(
+                    hasContentDescription(resources.getString(R.string.photopicker_back_option)),
+                    useUnmergedTree = true,
+                )
+                .performClick()
+            val backRoute = navController.currentBackStackEntry?.destination?.route
+            assertWithMessage("Current destination should be the photo grid")
+                .that(backRoute)
+                .isEqualTo(PhotopickerDestinations.PHOTO_GRID.route)
+
+            // Wait for the grids to show up
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            // There is a vertically scrollable photogrid and a horizontally scrollable highlight
+            // grid when back is pressed
+            composeTestRule
+                .onAllNodes(hasScrollAction(), useUnmergedTree = true)
+                .assertCountEquals(2)
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightMediaSectionIsNotShownForEmptyHighlightQuery() = runTest {
+        val testQuery = ""
+        val highlightParams =
+            HighlightQueryResultsParams(
+                queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                queryResultsHighlightQuery = HighlightQuery.Search(testQuery),
+            )
+
+        composeTestRule.setContent {
+            CompositionLocalProvider(
+                LocalFeatureManager provides featureManager,
+                LocalPhotopickerConfiguration provides
+                    TestPhotopickerConfiguration.build {
+                        highlightQueryResultsParams(highlightParams)
+                        action(MediaStore.ACTION_PICK_IMAGES)
+                        intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                        selectionLimit(50)
+                    },
+                LocalNavController provides createNavController(),
+                LocalSelection provides selection,
+                LocalEvents provides events,
+                LocalLocalizationHelper provides LocalizationHelper(),
+            ) {
+                PhotopickerTheme(
+                    isDarkTheme = false,
+                    config =
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                        },
+                ) {
+                    HighlightGrid()
+                }
+            }
+        }
+
+        advanceTimeBy(100)
+        composeTestRule.waitForIdle()
+
+        composeTestRule
+            .onNode(hasTestTag(HIGHLIGHT_GRID_TEST_TAG), useUnmergedTree = true)
+            .assertIsNotDisplayed()
+    }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun testHighlightMediaDisplaysNoElementsForEmptyHighlightParams() =
+        testScope.runTest {
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalFeatureManager provides featureManager,
+                    LocalPhotopickerConfiguration provides
+                        TestPhotopickerConfiguration.build {
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            selectionLimit(50)
+                        },
+                    LocalNavController provides createNavController(),
+                    LocalSelection provides selection,
+                    LocalEvents provides events,
+                    LocalLocalizationHelper provides LocalizationHelper(),
+                ) {
+                    PhotopickerTheme(
+                        isDarkTheme = false,
+                        config =
+                            TestPhotopickerConfiguration.build {
+                                action(MediaStore.ACTION_PICK_IMAGES)
+                                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            },
+                    ) {
+                        HighlightGrid()
+                    }
+                }
+            }
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            composeTestRule
+                .onNode(hasTestTag(HIGHLIGHT_GRID_TEST_TAG), useUnmergedTree = true)
+                .assertIsNotDisplayed()
+        }
+
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    @DisableFlags(Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE)
+    fun testHighlightSectionIsNotDisplayedWhenFeatureFlagIsDisabled() =
+        testScope.runTest {
+            val testQuery = "cats"
+            val highlightParams =
+                HighlightQueryResultsParams(
+                    queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    queryResultsHighlightQuery = HighlightQuery.Search(testQuery),
+                )
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalPhotopickerConfiguration provides
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            selectionLimit(50)
+                        },
+                    LocalNavController provides createNavController(),
+                    LocalSelection provides selection,
+                    LocalFeatureManager provides featureManager,
+                    LocalLocalizationHelper provides LocalizationHelper(),
+                ) {
+                    PhotopickerTheme(
+                        isDarkTheme = false,
+                        config =
+                            TestPhotopickerConfiguration.build {
+                                highlightQueryResultsParams(highlightParams)
+                                action(MediaStore.ACTION_PICK_IMAGES)
+                                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            },
+                    ) {
+                        // Calling just the Highlight composable to avoid any assertion conflicts
+                        // with
+                        // the photogrid
+                        HighlightGrid()
+                    }
+                }
+            }
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            composeTestRule
+                .onNode(hasTestTag(HIGHLIGHT_GRID_TEST_TAG), useUnmergedTree = true)
+                .assertIsNotDisplayed()
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun highlightSectionContent_initialState_showsLoadingPlaceholders() =
+        testScope.runTest {
+            val testQuery = "cats"
+            val highlightParams =
+                HighlightQueryResultsParams(
+                    queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    queryResultsHighlightQuery = HighlightQuery.Search(testQuery),
+                )
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalPhotopickerConfiguration provides
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            selectionLimit(50)
+                        },
+                    LocalNavController provides createNavController(),
+                    LocalSelection provides selection,
+                    LocalFeatureManager provides featureManager,
+                    LocalLocalizationHelper provides LocalizationHelper(),
+                ) {
+                    PhotopickerTheme(
+                        isDarkTheme = false,
+                        config =
+                            TestPhotopickerConfiguration.build {
+                                highlightQueryResultsParams(highlightParams)
+                                action(MediaStore.ACTION_PICK_IMAGES)
+                                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            },
+                    ) {
+                        // Calling just the Highlight composable to avoid any assertion conflicts
+                        // with
+                        // the photogrid
+                        HighlightGrid()
+                    }
+                }
+            }
+
+            // Advance time to allow initial composition but not past timeout
+            advanceTimeBy(500) // Small delay to allow composition
+
+            val resources = getTestableContext().getResources()
+            val highlightText =
+                resources.getString(R.string.photopicker_hsr_suggestions_for_text) + " " + testQuery
+            composeTestRule
+                .onNode(hasText(highlightText), useUnmergedTree = true)
+                .assertIsNotDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsNotDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            // Placeholders are displayed
+            composeTestRule
+                .onNodeWithContentDescription(
+                    resources.getString(R.string.photopicker_hsr_query_placeholder_text)
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNodeWithContentDescription(
+                    resources.getString(R.string.photopicker_hsr_media_placeholder_text)
+                )
+                .assertIsDisplayed()
+        }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun highlightSectionContent_afterTimeout_whenNoResult_hasNoHighlight() = runTest {
+        val testQuery = ""
+        val highlightParams =
+            HighlightQueryResultsParams(
+                queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                queryResultsHighlightQuery = HighlightQuery.Search(testQuery),
+            )
+
+        val testDataService = searchDataService as? TestSearchDataServiceImpl
+        checkNotNull(testDataService) { "Expected a TestSearchDataServiceImpl" }
+        testDataService.mediaSetSize = 0
+
+        composeTestRule.setContent {
+            CompositionLocalProvider(
+                LocalFeatureManager provides featureManager,
+                LocalPhotopickerConfiguration provides
+                    TestPhotopickerConfiguration.build {
+                        highlightQueryResultsParams(highlightParams)
+                        action(MediaStore.ACTION_PICK_IMAGES)
+                        intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                        selectionLimit(50)
+                    },
+                LocalNavController provides createNavController(),
+                LocalSelection provides selection,
+                LocalEvents provides events,
+                LocalLocalizationHelper provides LocalizationHelper(),
+            ) {
+                PhotopickerTheme(
+                    isDarkTheme = false,
+                    config =
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                        },
+                ) {
+                    HighlightGrid()
+                }
+            }
+        }
+
+        advanceTimeBy(4000)
+        composeTestRule.waitForIdle()
+
+        composeTestRule
+            .onNode(hasTestTag(HIGHLIGHT_GRID_TEST_TAG), useUnmergedTree = true)
+            .assertIsNotDisplayed()
+        composeTestRule.onNode(hasText("Suggestions")).assertIsNotDisplayed()
+        composeTestRule.onNode(hasText(testQuery)).assertIsNotDisplayed()
+        val resources = getTestableContext().getResources()
+        composeTestRule
+            .onNode(
+                hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                useUnmergedTree = true,
+            )
+            .assertIsNotDisplayed()
+        // Placeholders are not displayed
+        composeTestRule
+            .onNodeWithContentDescription(
+                resources.getString(R.string.photopicker_hsr_query_placeholder_text)
+            )
+            .assertIsNotDisplayed()
+        composeTestRule
+            .onNodeWithContentDescription(
+                resources.getString(R.string.photopicker_hsr_media_placeholder_text)
+            )
+            .assertIsNotDisplayed()
+    }
+
+    @Test
+    @EnableFlags(
+        Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
+        Flags.FLAG_ENABLE_PICKER_HIGHLIGHT_SEARCH_RESULTS_APIS,
+        Flags.FLAG_HIGHLIGHT_SEARCH_RESULTS_FEATURE,
+        Flags.FLAG_ENABLE_EMBEDDED_PHOTOPICKER,
+    )
+    fun highlightSectionContent_whenResults_afterTimeout_showsHighlightGrid() =
+        testScope.runTest {
+            val testQuery = "Test"
+            val highlightParams =
+                HighlightQueryResultsParams(
+                    queryResultsHighlightType = QueryResultsHighlightType.HIGHLIGHT_MEDIA_SECTION,
+                    queryResultsHighlightQuery = HighlightQuery.Search(testQuery),
+                )
+
+            val testDataService = searchDataService as? TestSearchDataServiceImpl
+            checkNotNull(testDataService) { "Expected a TestSearchDataServiceImpl" }
+            testDataService.mediaSetSize = 1
+            testDataService.mediaList =
+                listOf(
+                    Media.Image(
+                        mediaId = "Test",
+                        pickerId = 1000L,
+                        authority = "a",
+                        mediaSource = MediaSource.LOCAL,
+                        mediaUri =
+                            Uri.EMPTY.buildUpon()
+                                .apply {
+                                    scheme("content")
+                                    authority("media")
+                                    path("picker")
+                                    path("a")
+                                    path("id")
+                                }
+                                .build(),
+                        glideLoadableUri =
+                            Uri.EMPTY.buildUpon()
+                                .apply {
+                                    scheme("content")
+                                    authority(MockContentProviderWrapper.AUTHORITY)
+                                    path("id")
+                                }
+                                .build(),
+                        dateTakenMillisLong = 123456789L,
+                        sizeInBytes = 1000L,
+                        mimeType = "image/png",
+                        standardMimeTypeExtension = 1,
+                    )
+                )
+
+            composeTestRule.setContent {
+                CompositionLocalProvider(
+                    LocalFeatureManager provides featureManager,
+                    LocalPhotopickerConfiguration provides
+                        TestPhotopickerConfiguration.build {
+                            highlightQueryResultsParams(highlightParams)
+                            action(MediaStore.ACTION_PICK_IMAGES)
+                            intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            selectionLimit(50)
+                        },
+                    LocalNavController provides createNavController(),
+                    LocalSelection provides selection,
+                    LocalEvents provides events,
+                    LocalLocalizationHelper provides LocalizationHelper(),
+                ) {
+                    PhotopickerTheme(
+                        isDarkTheme = false,
+                        config =
+                            TestPhotopickerConfiguration.build {
+                                highlightQueryResultsParams(highlightParams)
+                                action(MediaStore.ACTION_PICK_IMAGES)
+                                intent(Intent(MediaStore.ACTION_PICK_IMAGES))
+                            },
+                    ) {
+                        HighlightGrid()
+                    }
+                }
+            }
+
+            // Repeated calls to advanceTimeBy followed by waitForIdle  are necessary because the
+            // animations/transitions relies on the passage of time to complete its rendering.
+            advanceTimeBy(3000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+            advanceTimeBy(1000)
+
+            val resources = getTestableContext().getResources()
+            // Placeholders are not displayed
+            composeTestRule
+                .onNodeWithContentDescription(
+                    resources.getString(R.string.photopicker_hsr_query_placeholder_text)
+                )
+                .assertIsNotDisplayed()
+            composeTestRule
+                .onNodeWithContentDescription(
+                    resources.getString(R.string.photopicker_hsr_media_placeholder_text)
+                )
+                .assertIsNotDisplayed()
+
+            composeTestRule
+                .onNode(hasTestTag(HIGHLIGHT_GRID_TEST_TAG), useUnmergedTree = true)
+                .assertIsDisplayed()
+            val highlightText =
+                resources.getString(R.string.photopicker_hsr_suggestions_for_text) + " " + testQuery
+            composeTestRule.onNode(hasText(highlightText)).assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_recents_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNode(
+                    hasText(resources.getString(R.string.photopicker_hsr_see_all_button_label)),
+                    useUnmergedTree = true,
+                )
+                .assertIsDisplayed()
+            composeTestRule
+                .onNodeWithContentDescription(
+                    resources.getString(R.string.photopicker_hsr_media_text)
+                )
+                .onChildren()
+                .filter(
+                    hasContentDescription(
+                        MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING,
+                        substring = true,
+                    )
+                )
+                .onFirst()
+                .performClick()
+
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            // Ensure the click handler correctly ran by checking the selection snapshot.
+            assertWithMessage("Expected selection to contain an item, but it did not.")
+                .that(selection.snapshot().size)
+                .isEqualTo(1)
+        }
+
+    @Composable
+    private fun HighlightGrid(modifier: Modifier = Modifier.testTag(HIGHLIGHT_GRID_TEST_TAG)) {
+        HighlightMedia(modifier = modifier)
+    }
+}
diff --git a/photopicker/tests/src/com/android/photopicker/features/mediaprepare/MediaPreparerTest.kt b/photopicker/tests/src/com/android/photopicker/features/mediaprepare/MediaPreparerTest.kt
index 9f25b35d0..2730479b8 100644
--- a/photopicker/tests/src/com/android/photopicker/features/mediaprepare/MediaPreparerTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/mediaprepare/MediaPreparerTest.kt
@@ -316,7 +316,7 @@ class MediaPreparerTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
 
         hiltRule.inject()
 
diff --git a/photopicker/tests/src/com/android/photopicker/features/navigationbar/NavigationBarFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/navigationbar/NavigationBarFeatureTest.kt
index 24eacb5c6..c81375384 100644
--- a/photopicker/tests/src/com/android/photopicker/features/navigationbar/NavigationBarFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/navigationbar/NavigationBarFeatureTest.kt
@@ -34,6 +34,7 @@ import androidx.compose.ui.test.assertIsDisplayed
 import androidx.compose.ui.test.hasClickAction
 import androidx.compose.ui.test.hasText
 import androidx.compose.ui.test.junit4.createAndroidComposeRule
+import androidx.compose.ui.test.onNodeWithContentDescription
 import androidx.test.filters.SdkSuppress
 import com.android.photopicker.R
 import com.android.photopicker.core.ActivityModule
@@ -136,7 +137,7 @@ class NavigationBarFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
 
         hiltRule.inject()
 
@@ -378,4 +379,111 @@ class NavigationBarFeatureTest : PhotopickerFeatureBaseTest() {
                 .assert(hasClickAction())
         }
     }
+
+    @Test
+    fun testNavigationBar_withVideoMimetype_displayVideosButton() {
+        val videosGridNavButtonLabel =
+            getTestableContext()
+                .getResources()
+                .getString(R.string.photopicker_videos_nav_button_label)
+
+        testScope.runTest {
+            val testIntent =
+                Intent(MediaStore.ACTION_PICK_IMAGES).apply {
+                    putExtra(Intent.EXTRA_MIME_TYPES, arrayListOf("video/*", "video/mpeg"))
+                }
+            configurationManager.get().setIntent(testIntent)
+
+            composeTestRule.setContent {
+                callPhotopickerMain(
+                    featureManager = featureManager,
+                    selection = selection,
+                    events = events,
+                )
+            }
+
+            composeTestRule.waitForIdle()
+
+            // Photos Grid Nav Button with Videos title
+            composeTestRule
+                .onNode(hasText(videosGridNavButtonLabel))
+                .assertIsDisplayed()
+                .assert(hasClickAction())
+        }
+    }
+
+    /* Verify Navigation Bar when search flag enabled contains icon in button.*/
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.TIRAMISU)
+    @EnableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
+    fun testNavigationBar_withSearchFlagEnabled_displaysButtonIcon() {
+        val photosGridNavButtonLabel =
+            getTestableContext()
+                .getResources()
+                .getString(R.string.photopicker_photos_nav_button_label)
+        val categoryGridNavButtonLabel =
+            getTestableContext()
+                .getResources()
+                .getString(R.string.photopicker_categories_nav_button_label)
+
+        testScope.runTest {
+            val testIntent = Intent(MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP)
+
+            configurationManager.get().setIntent(testIntent)
+
+            composeTestRule.setContent {
+                callPhotopickerMain(
+                    featureManager = featureManager,
+                    selection = selection,
+                    events = events,
+                )
+            }
+
+            composeTestRule.waitForIdle()
+
+            composeTestRule
+                .onNodeWithContentDescription(photosGridNavButtonLabel)
+                .assertIsDisplayed()
+            composeTestRule
+                .onNodeWithContentDescription(categoryGridNavButtonLabel)
+                .assertIsDisplayed()
+        }
+    }
+
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.TIRAMISU)
+    @DisableFlags(Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH)
+    fun testNavigationBar_withSearchFlagDisabled_displaysNoButtonIcon() {
+        val photosGridNavButtonLabel =
+            getTestableContext()
+                .getResources()
+                .getString(R.string.photopicker_photos_nav_button_label)
+        val categoryGridNavButtonLabel =
+            getTestableContext()
+                .getResources()
+                .getString(R.string.photopicker_categories_nav_button_label)
+
+        testScope.runTest {
+            val testIntent = Intent(MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP)
+
+            configurationManager.get().setIntent(testIntent)
+
+            composeTestRule.setContent {
+                callPhotopickerMain(
+                    featureManager = featureManager,
+                    selection = selection,
+                    events = events,
+                )
+            }
+
+            composeTestRule.waitForIdle()
+
+            composeTestRule
+                .onNodeWithContentDescription(photosGridNavButtonLabel)
+                .assertDoesNotExist()
+            composeTestRule
+                .onNodeWithContentDescription(categoryGridNavButtonLabel)
+                .assertDoesNotExist()
+        }
+    }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/features/overflowmenu/OverflowMenuFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/overflowmenu/OverflowMenuFeatureTest.kt
index 222cb7521..e35848de0 100644
--- a/photopicker/tests/src/com/android/photopicker/features/overflowmenu/OverflowMenuFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/overflowmenu/OverflowMenuFeatureTest.kt
@@ -121,7 +121,7 @@ class OverflowMenuFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
         setupTestForUserMonitor(mockContext, mockUserManager, contentResolver, mockPackageManager)
     }
diff --git a/photopicker/tests/src/com/android/photopicker/features/photogrid/PhotoGridFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/photogrid/PhotoGridFeatureTest.kt
index 28ca56b55..8763c052f 100644
--- a/photopicker/tests/src/com/android/photopicker/features/photogrid/PhotoGridFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/photogrid/PhotoGridFeatureTest.kt
@@ -25,12 +25,16 @@ import android.os.Build
 import android.os.UserManager
 import android.platform.test.annotations.DisableFlags
 import android.platform.test.annotations.EnableFlags
+import android.platform.test.annotations.RequiresFlagsEnabled
+import android.platform.test.flag.junit.CheckFlagsRule
+import android.platform.test.flag.junit.DeviceFlagsValueProvider
 import android.platform.test.flag.junit.SetFlagsRule
 import android.provider.MediaStore
 import android.test.mock.MockContentResolver
 import androidx.compose.ui.test.ExperimentalTestApi
 import androidx.compose.ui.test.assert
 import androidx.compose.ui.test.assertIsDisplayed
+import androidx.compose.ui.test.getBoundsInRoot
 import androidx.compose.ui.test.hasClickAction
 import androidx.compose.ui.test.hasContentDescription
 import androidx.compose.ui.test.hasText
@@ -69,6 +73,7 @@ import com.android.photopicker.features.PhotopickerFeatureBaseTest
 import com.android.photopicker.inject.PhotopickerTestModule
 import com.android.photopicker.tests.HiltTestActivity
 import com.android.photopicker.util.test.MockContentProviderWrapper
+import com.android.photopicker.util.test.dragInIncrements
 import com.android.photopicker.util.test.whenever
 import com.android.providers.media.flags.Flags
 import com.google.common.truth.Truth.assertWithMessage
@@ -116,6 +121,8 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
     val composeTestRule = createAndroidComposeRule(activityClass = HiltTestActivity::class.java)
     @get:Rule(order = 2) val glideRule = GlideTestRule()
     @get:Rule(order = 3) var setFlagsRule = SetFlagsRule()
+    @get:Rule(order = 4)
+    val checkFlagsRule: CheckFlagsRule = DeviceFlagsValueProvider.createCheckFlagsRule()
 
     /* Setup dependencies for the UninstallModules for the test class. */
     @Module @InstallIn(SingletonComponent::class) class TestModule : PhotopickerTestModule()
@@ -148,12 +155,12 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Inject override lateinit var configurationManager: Lazy<ConfigurationManager>
     @Inject lateinit var mockContext: Context
-    @Inject lateinit var selection: Selection<Media>
-    @Inject lateinit var featureManager: FeatureManager
-    @Inject lateinit var events: Events
+    @Inject lateinit var selection: Lazy<Selection<Media>>
+    @Inject lateinit var featureManager: Lazy<FeatureManager>
+    @Inject lateinit var events: Lazy<Events>
     @Inject lateinit var bannerManager: Lazy<BannerManager>
-    @Inject lateinit var dataService: DataService
-    @Inject lateinit var databaseManager: DatabaseManager
+    @Inject lateinit var dataService: Lazy<DataService>
+    @Inject lateinit var databaseManager: Lazy<DatabaseManager>
 
     private val MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING = "taken on"
 
@@ -161,7 +168,7 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
 
         hiltRule.inject()
 
@@ -217,8 +224,8 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
             composeTestRule.setContent {
                 callPhotopickerMain(
                     featureManager = featureManager,
-                    selection = selection,
-                    events = events,
+                    selection = selection.get(),
+                    events = events.get(),
                 )
             }
 
@@ -236,14 +243,14 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
         testScope.runTest {
             composeTestRule.setContent {
                 callPhotopickerMain(
-                    featureManager = featureManager,
-                    selection = selection,
-                    events = events,
+                    featureManager = featureManager.get(),
+                    selection = selection.get(),
+                    events = events.get(),
                 )
             }
 
             assertWithMessage("Expected selection to initially be empty.")
-                .that(selection.snapshot().size)
+                .that(selection.get().snapshot().size)
                 .isEqualTo(0)
 
             // Wait for the PhotoGridViewModel to load data and for the UI to update.
@@ -265,7 +272,7 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
 
             // Ensure the click handler correctly ran by checking the selection snapshot.
             assertWithMessage("Expected selection to contain an item, but it did not.")
-                .that(selection.snapshot().size)
+                .that(selection.get().snapshot().size)
                 .isEqualTo(1)
         }
     }
@@ -275,9 +282,9 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
         testScope.runTest {
             composeTestRule.setContent {
                 callPhotopickerMain(
-                    featureManager = featureManager,
-                    selection = selection,
-                    events = events,
+                    featureManager = featureManager.get(),
+                    selection = selection.get(),
+                    events = events.get(),
                 )
             }
 
@@ -304,9 +311,9 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
         testScope.runTest {
             composeTestRule.setContent {
                 callPhotopickerMain(
-                    featureManager = featureManager,
-                    selection = selection,
-                    events = events,
+                    featureManager = featureManager.get(),
+                    selection = selection.get(),
+                    events = events.get(),
                 )
             }
 
@@ -337,9 +344,9 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
         testScope.runTest {
             composeTestRule.setContent {
                 callPhotopickerMain(
-                    featureManager = featureManager,
-                    selection = selection,
-                    events = events,
+                    featureManager = featureManager.get(),
+                    selection = selection.get(),
+                    events = events.get(),
                 )
             }
 
@@ -367,7 +374,7 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
     @Test
     fun testShowsEmptyStateWhenEmpty() {
 
-        val testDataService = dataService as? TestDataServiceImpl
+        val testDataService = dataService.get() as? TestDataServiceImpl
         checkNotNull(testDataService) { "Expected a TestDataServiceImpl" }
 
         // Force the data service to return no data for all test sources during this test.
@@ -378,9 +385,9 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
         testScope.runTest {
             composeTestRule.setContent {
                 callPhotopickerMain(
-                    featureManager = featureManager,
-                    selection = selection,
-                    events = events,
+                    featureManager = featureManager.get(),
+                    selection = selection.get(),
+                    events = events.get(),
                 )
             }
 
@@ -402,7 +409,7 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
     fun testShowsBannersInGrid() {
 
         testScope.runTest {
-            val bannerStateDao = databaseManager.acquireDao(BannerStateDao::class.java)
+            val bannerStateDao = databaseManager.get().acquireDao(BannerStateDao::class.java)
             whenever(bannerStateDao.getBannerState(anyString(), anyInt())) { null }
 
             configurationManager
@@ -417,9 +424,9 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
             bannerManager.get().refreshBanners()
             composeTestRule.setContent {
                 callPhotopickerMain(
-                    featureManager = featureManager,
-                    selection = selection,
-                    events = events,
+                    featureManager = featureManager.get(),
+                    selection = selection.get(),
+                    events = events.get(),
                 )
             }
 
@@ -434,4 +441,69 @@ class PhotoGridFeatureTest : PhotopickerFeatureBaseTest() {
             composeTestRule.onNode(hasText(expectedPrivacyMessage)).assertIsDisplayed()
         }
     }
+
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_MEDIA_GRID_TOUCH_FEATURES)
+    fun testPhotoGridDragSelect() =
+        testScope.runTest {
+
+            // Update configuration to support multi-select
+            val testIntent =
+                Intent(MediaStore.ACTION_PICK_IMAGES).apply {
+                    putExtra(MediaStore.EXTRA_PICK_IMAGES_MAX, 5)
+                }
+            configurationManager.get().setIntent(testIntent)
+            advanceTimeBy(100)
+
+            // Ensure banners are ready before starting UI.
+            bannerManager.get().refreshBanners()
+            advanceTimeBy(100)
+
+            composeTestRule.setContent {
+                callPhotopickerMain(
+                    featureManager = featureManager.get(),
+                    selection = selection.get(),
+                    events = events.get(),
+                )
+            }
+
+            // Wait for the PhotoGridViewModel to load data and for the UI to update.
+            advanceTimeBy(100)
+            composeTestRule.waitForIdle()
+
+            val firstPhoto =
+                composeTestRule
+                    .onAllNodes(
+                        hasContentDescription(
+                            value = MEDIA_ITEM_CONTENT_DESCRIPTION_SUBSTRING,
+                            substring = true,
+                        )
+                    )
+                    .onFirst()
+
+            with(firstPhoto) {
+                assertIsDisplayed()
+                performTouchInput {
+                    down(center)
+                    // Wait for the long press to register to enable drag-to-select
+                    advanceEventTime(viewConfiguration.longPressTimeoutMillis + 1)
+                    dragInIncrements(
+                        // * 3 because there are 3-4 columns of media files in the mediaGrid
+                        // depending on device layout
+                        totalOffset = getBoundsInRoot().right.toPx() * 3,
+                        vertical = false,
+                    )
+                    // Wait for the scroll to finish.
+                    advanceEventTime(1000)
+                    up()
+                }
+            }
+
+            advanceTimeBy(1000)
+            composeTestRule.waitForIdle()
+
+            assertWithMessage("expected items in selection")
+                .that(selection.get().size())
+                .isEqualTo(3)
+        }
 }
diff --git a/photopicker/tests/src/com/android/photopicker/features/photogrid/PhotoGridViewModelTest.kt b/photopicker/tests/src/com/android/photopicker/features/photogrid/PhotoGridViewModelTest.kt
index 16462ba06..9474b97d3 100644
--- a/photopicker/tests/src/com/android/photopicker/features/photogrid/PhotoGridViewModelTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/photogrid/PhotoGridViewModelTest.kt
@@ -130,12 +130,13 @@ class PhotoGridViewModelTest {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         deviceConfigProxy.reset()
         val resources = InstrumentationRegistry.getInstrumentation().getContext().getResources()
 
         mockSystemService(mockContext, UserManager::class.java) { mockUserManager }
         whenever(mockContext.packageManager) { mockPackageManager }
+        whenever(mockContext.packageName) { "" }
         whenever(mockContext.contentResolver) { mockContentResolver }
         whenever(mockContext.createPackageContextAsUser(any(), anyInt(), any())) { mockContext }
         whenever(mockContext.createContextAsUser(any(UserHandle::class.java), anyInt())) {
@@ -160,10 +161,9 @@ class PhotoGridViewModelTest {
                 resources.getDrawable(R.drawable.android, /* theme= */ null)
             }
             whenever(mockUserManager.getProfileLabel()) { PLATFORM_PROVIDED_PROFILE_LABEL }
-            whenever(mockUserManager.getUserProperties(USER_HANDLE_PRIMARY))
-            @JvmSerializableLambda {
-                UserProperties.Builder().build()
-            }
+            whenever(
+                mockUserManager.getUserProperties(USER_HANDLE_PRIMARY)
+            ) @JvmSerializableLambda { UserProperties.Builder().build() }
         }
     }
 
diff --git a/photopicker/tests/src/com/android/photopicker/features/preview/PreviewFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/preview/PreviewFeatureTest.kt
index c19b7aadb..b04319f66 100644
--- a/photopicker/tests/src/com/android/photopicker/features/preview/PreviewFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/preview/PreviewFeatureTest.kt
@@ -247,7 +247,7 @@ class PreviewFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
 
         hiltRule.inject()
 
diff --git a/photopicker/tests/src/com/android/photopicker/features/preview/PreviewViewModelTest.kt b/photopicker/tests/src/com/android/photopicker/features/preview/PreviewViewModelTest.kt
index 1d4da0cbd..3c9f90483 100644
--- a/photopicker/tests/src/com/android/photopicker/features/preview/PreviewViewModelTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/preview/PreviewViewModelTest.kt
@@ -221,14 +221,13 @@ class PreviewViewModelTest {
     @Before
     fun setup() {
         deviceConfigProxy.reset()
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         mockSystemService(mockContext, UserManager::class.java) { mockUserManager }
 
         if (SdkLevel.isAtLeastV()) {
-            whenever(mockUserManager.getUserProperties(any(UserHandle::class.java)))
-            @JvmSerializableLambda {
-                UserProperties.Builder().build()
-            }
+            whenever(
+                mockUserManager.getUserProperties(any(UserHandle::class.java))
+            ) @JvmSerializableLambda { UserProperties.Builder().build() }
             whenever(mockUserManager.getUserBadge()) {
                 InstrumentationRegistry.getInstrumentation()
                     .getContext()
@@ -248,6 +247,7 @@ class PreviewViewModelTest {
 
         // Stubs for UserMonitor
         whenever(mockContext.packageManager) { mockPackageManager }
+        whenever(mockContext.packageName) { "" }
         whenever(mockContext.contentResolver) { mockContentResolver }
         whenever(mockContext.createPackageContextAsUser(any(), anyInt(), any())) { mockContext }
         whenever(mockContext.createContextAsUser(any(UserHandle::class.java), anyInt())) {
diff --git a/photopicker/tests/src/com/android/photopicker/features/privacyexplainer/PrivacyExplainerFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/privacyexplainer/PrivacyExplainerFeatureTest.kt
index 56b1d6e7b..acc4db0bf 100644
--- a/photopicker/tests/src/com/android/photopicker/features/privacyexplainer/PrivacyExplainerFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/privacyexplainer/PrivacyExplainerFeatureTest.kt
@@ -134,7 +134,7 @@ class PrivacyExplainerFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
 
         hiltRule.inject()
 
@@ -183,6 +183,8 @@ class PrivacyExplainerFeatureTest : PhotopickerFeatureBaseTest() {
                     events = events,
                 )
             }
+            // Wait for the PhotoGrid to load.
+            advanceTimeBy(100)
             composeTestRule.waitForIdle()
             composeTestRule.onNode(hasText(expectedPrivacyMessage)).assertIsDisplayed()
         }
@@ -227,6 +229,8 @@ class PrivacyExplainerFeatureTest : PhotopickerFeatureBaseTest() {
                     events = events,
                 )
             }
+            // Wait for the PhotoGrid to load.
+            advanceTimeBy(100)
             composeTestRule.waitForIdle()
             composeTestRule.onNode(hasText(expectedPrivacyMessage)).assertIsNotDisplayed()
         }
diff --git a/photopicker/tests/src/com/android/photopicker/features/profileselector/ProfileSelectorFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/profileselector/ProfileSelectorFeatureTest.kt
index 10fd756cd..c3361b86d 100644
--- a/photopicker/tests/src/com/android/photopicker/features/profileselector/ProfileSelectorFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/profileselector/ProfileSelectorFeatureTest.kt
@@ -144,7 +144,7 @@ class ProfileSelectorFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
         setupTestForUserMonitor(mockContext, mockUserManager, contentResolver, mockPackageManager)
     }
diff --git a/photopicker/tests/src/com/android/photopicker/features/profileselector/ProfileSelectorViewModelTest.kt b/photopicker/tests/src/com/android/photopicker/features/profileselector/ProfileSelectorViewModelTest.kt
index 5f52fe3d6..d1f456bca 100644
--- a/photopicker/tests/src/com/android/photopicker/features/profileselector/ProfileSelectorViewModelTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/profileselector/ProfileSelectorViewModelTest.kt
@@ -141,11 +141,12 @@ class ProfileSelectorViewModelTest {
     @Before
     fun setup() {
         deviceConfigProxy.reset()
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         mockSystemService(mockContext, UserManager::class.java) { mockUserManager }
 
         // Stubs for UserMonitor
         whenever(mockContext.packageManager) { mockPackageManager }
+        whenever(mockContext.packageName) { "" }
         whenever(mockContext.contentResolver) { mockContentResolver }
         whenever(mockContext.createPackageContextAsUser(any(), anyInt(), any())) { mockContext }
         whenever(mockContext.createContextAsUser(any(UserHandle::class.java), anyInt())) {
diff --git a/photopicker/tests/src/com/android/photopicker/features/profileselector/SwitchProfileBannerTest.kt b/photopicker/tests/src/com/android/photopicker/features/profileselector/SwitchProfileBannerTest.kt
index b30286412..4d264b682 100644
--- a/photopicker/tests/src/com/android/photopicker/features/profileselector/SwitchProfileBannerTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/profileselector/SwitchProfileBannerTest.kt
@@ -154,7 +154,7 @@ class SwitchProfileBannerTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
         setupTestForUserMonitor(mockContext, mockUserManager, contentResolver, mockPackageManager)
 
@@ -207,6 +207,8 @@ class SwitchProfileBannerTest : PhotopickerFeatureBaseTest() {
                     events = events,
                 )
             }
+            // Wait for the PhotoGrid to load.
+            advanceTimeBy(100)
             composeTestRule.waitForIdle()
 
             val expectedMessage =
diff --git a/photopicker/tests/src/com/android/photopicker/features/search/SearchFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/search/SearchFeatureTest.kt
index 921b6077d..34e3c4453 100644
--- a/photopicker/tests/src/com/android/photopicker/features/search/SearchFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/search/SearchFeatureTest.kt
@@ -148,7 +148,7 @@ class SearchFeatureTest : PhotopickerFeatureBaseTest() {
     @Before
     fun setup() {
 
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
         setupTestForUserMonitor(mockContext, mockUserManager, contentResolver, mockPackageManager)
     }
diff --git a/photopicker/tests/src/com/android/photopicker/features/search/SearchViewModelTest.kt b/photopicker/tests/src/com/android/photopicker/features/search/SearchViewModelTest.kt
index fc9836914..c0539d691 100644
--- a/photopicker/tests/src/com/android/photopicker/features/search/SearchViewModelTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/search/SearchViewModelTest.kt
@@ -313,6 +313,79 @@ class SearchViewModelTest {
             .isNull()
     }
 
+    @Test
+    fun testSetSearchBarText() = runTest {
+        val searchText = "london"
+        provideSelectionEvents(this.backgroundScope)
+        val configurationManager =
+            ConfigurationManager(
+                runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                scope = this.backgroundScope,
+                dispatcher = StandardTestDispatcher(this.testScheduler),
+                deviceConfigProxy,
+                generatePickerSessionId(),
+            )
+        val viewModel =
+            SearchViewModel(
+                this.backgroundScope,
+                StandardTestDispatcher(this.testScheduler),
+                TestSearchDataServiceImpl(),
+                TestDataServiceImpl(),
+                selection,
+                events,
+                configurationManager,
+            )
+
+        // Assert initial value is empty
+        assertWithMessage("Initial search bar text should be empty")
+            .that("")
+            .isEqualTo(viewModel.searchBarTextState.value)
+
+        // Update the search text
+        viewModel.setSearchBarText(searchText)
+
+        // Assert the new value
+        assertWithMessage("Initial search bar text should be empty")
+            .that(searchText)
+            .isEqualTo(viewModel.searchBarTextState.value)
+    }
+
+    @Test
+    fun testSetSearchBarFocusedState() = runTest {
+        provideSelectionEvents(this.backgroundScope)
+        val configurationManager =
+            ConfigurationManager(
+                runtimeEnv = PhotopickerRuntimeEnv.ACTIVITY,
+                scope = this.backgroundScope,
+                dispatcher = StandardTestDispatcher(this.testScheduler),
+                deviceConfigProxy,
+                generatePickerSessionId(),
+            )
+        val viewModel =
+            SearchViewModel(
+                this.backgroundScope,
+                StandardTestDispatcher(this.testScheduler),
+                TestSearchDataServiceImpl(),
+                TestDataServiceImpl(),
+                selection,
+                events,
+                configurationManager,
+            )
+
+        // Assert initial value is empty
+        assertWithMessage("Initial search bar focused value should be false")
+            .that(false)
+            .isEqualTo(viewModel.searchBarFocusedState.value)
+
+        // Update the search text
+        viewModel.setSearchBarFocusedState(true)
+
+        // Assert the new value
+        assertWithMessage("Initial search bar text should be empty")
+            .that(true)
+            .isEqualTo(viewModel.searchBarFocusedState.value)
+    }
+
     private fun provideSelectionEvents(scope: CoroutineScope) {
         selection =
             SelectionImpl<Media>(
diff --git a/photopicker/tests/src/com/android/photopicker/features/selectionbar/SelectionBarFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/selectionbar/SelectionBarFeatureTest.kt
index 79b31183e..77270235f 100644
--- a/photopicker/tests/src/com/android/photopicker/features/selectionbar/SelectionBarFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/selectionbar/SelectionBarFeatureTest.kt
@@ -167,7 +167,7 @@ class SelectionBarFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
 
         val testIntent =
diff --git a/photopicker/tests/src/com/android/photopicker/features/snackbar/SnackbarFeatureTest.kt b/photopicker/tests/src/com/android/photopicker/features/snackbar/SnackbarFeatureTest.kt
index e1079a88b..97d5907e4 100644
--- a/photopicker/tests/src/com/android/photopicker/features/snackbar/SnackbarFeatureTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/features/snackbar/SnackbarFeatureTest.kt
@@ -120,7 +120,7 @@ class SnackbarFeatureTest : PhotopickerFeatureBaseTest() {
 
     @Before
     fun setup() {
-        MockitoAnnotations.initMocks(this)
+        MockitoAnnotations.openMocks(this)
         hiltRule.inject()
 
         // Stub for MockContentResolver constructor
diff --git a/photopicker/tests/src/com/android/photopicker/inject/ObtainViewModelTest.kt b/photopicker/tests/src/com/android/photopicker/inject/ObtainViewModelTest.kt
new file mode 100644
index 000000000..713ae0eb4
--- /dev/null
+++ b/photopicker/tests/src/com/android/photopicker/inject/ObtainViewModelTest.kt
@@ -0,0 +1,147 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.inject
+
+import androidx.compose.runtime.CompositionLocalProvider
+import androidx.compose.ui.platform.LocalContext
+import androidx.compose.ui.test.junit4.createAndroidComposeRule
+import androidx.lifecycle.ViewModel
+import androidx.lifecycle.ViewModelStore
+import androidx.lifecycle.ViewModelStoreOwner
+import androidx.lifecycle.compose.LocalLifecycleOwner
+import androidx.lifecycle.viewmodel.compose.LocalViewModelStoreOwner
+import androidx.savedstate.compose.LocalSavedStateRegistryOwner
+import androidx.test.ext.junit.runners.AndroidJUnit4
+import com.android.photopicker.core.configuration.LocalPhotopickerConfiguration
+import com.android.photopicker.core.configuration.PhotopickerRuntimeEnv
+import com.android.photopicker.core.configuration.TestPhotopickerConfiguration
+import com.android.photopicker.core.obtainViewModel
+import com.android.photopicker.tests.HiltTestActivity
+import dagger.hilt.android.testing.HiltAndroidRule
+import dagger.hilt.android.testing.HiltAndroidTest
+import org.junit.Assert.assertNotNull
+import org.junit.Assert.assertTrue
+import org.junit.Before
+import org.junit.Rule
+import org.junit.Test
+import org.junit.runner.RunWith
+
+@RunWith(AndroidJUnit4::class)
+@HiltAndroidTest
+class ObtainViewModelTest {
+
+    @get:Rule(order = 0) val hiltRule = HiltAndroidRule(this)
+
+    @get:Rule(order = 0)
+    val composeTestRule = createAndroidComposeRule(activityClass = HiltTestActivity::class.java)
+
+    class TestViewModel : ViewModel()
+
+    @Before
+    fun setup() {
+        hiltRule.inject()
+    }
+
+    @Test
+    fun obtainViewModelForNonActivityScoped() {
+
+        lateinit var testActivity: HiltTestActivity
+        composeTestRule.activity.let { activity -> testActivity = activity }
+
+        val testViewModelStoreOwner =
+            object : ViewModelStoreOwner {
+                override val viewModelStore: ViewModelStore = ViewModelStore()
+            }
+
+        var firstObtainedViewModel: TestViewModel? = null
+        var secondObtainedViewModel: TestViewModel? = null
+
+        composeTestRule.setContent {
+            val configuration =
+                TestPhotopickerConfiguration.build { runtimeEnv(PhotopickerRuntimeEnv.ACTIVITY) }
+            // Different view model store owners will return different view models unless
+            // same view models are requested in the function call
+            CompositionLocalProvider(
+                LocalPhotopickerConfiguration provides configuration,
+                LocalContext provides testActivity,
+                LocalViewModelStoreOwner provides testViewModelStoreOwner,
+                LocalLifecycleOwner provides testActivity,
+                LocalSavedStateRegistryOwner provides testActivity,
+            ) {
+                firstObtainedViewModel = obtainViewModel()
+            }
+
+            CompositionLocalProvider(
+                LocalPhotopickerConfiguration provides configuration,
+                LocalContext provides testActivity,
+                LocalViewModelStoreOwner provides testActivity,
+                LocalLifecycleOwner provides testActivity,
+                LocalSavedStateRegistryOwner provides testActivity,
+            ) {
+                secondObtainedViewModel = obtainViewModel()
+            }
+        }
+        assertNotNull(firstObtainedViewModel)
+        assertNotNull(secondObtainedViewModel)
+
+        assertTrue(firstObtainedViewModel != secondObtainedViewModel)
+    }
+
+    @Test
+    fun obtainViewModelForActivityScoped() {
+
+        lateinit var testActivity: HiltTestActivity
+        composeTestRule.activity.let { activity -> testActivity = activity }
+
+        val testViewModelStoreOwner =
+            object : ViewModelStoreOwner {
+                override val viewModelStore: ViewModelStore = ViewModelStore()
+            }
+
+        var firstObtainedViewModel: TestViewModel? = null
+        var secondObtainedViewModel: TestViewModel? = null
+
+        composeTestRule.setContent {
+            val configuration =
+                TestPhotopickerConfiguration.build { runtimeEnv(PhotopickerRuntimeEnv.ACTIVITY) }
+            // Different view model store owners will return same view models when requested
+            CompositionLocalProvider(
+                LocalPhotopickerConfiguration provides configuration,
+                LocalContext provides testActivity,
+                LocalViewModelStoreOwner provides testViewModelStoreOwner,
+                LocalLifecycleOwner provides testActivity,
+                LocalSavedStateRegistryOwner provides testActivity,
+            ) {
+                firstObtainedViewModel = obtainViewModel(isActivityScoped = true)
+            }
+
+            CompositionLocalProvider(
+                LocalPhotopickerConfiguration provides configuration,
+                LocalContext provides testActivity,
+                LocalViewModelStoreOwner provides testActivity,
+                LocalLifecycleOwner provides testActivity,
+                LocalSavedStateRegistryOwner provides testActivity,
+            ) {
+                secondObtainedViewModel = obtainViewModel(isActivityScoped = true)
+            }
+        }
+        assertNotNull(firstObtainedViewModel)
+        assertNotNull(secondObtainedViewModel)
+
+        assertTrue(firstObtainedViewModel == secondObtainedViewModel)
+    }
+}
diff --git a/photopicker/tests/src/com/android/photopicker/util/ApplyWhenTest.kt b/photopicker/tests/src/com/android/photopicker/util/ApplyWhenTest.kt
new file mode 100644
index 000000000..b29aee0e3
--- /dev/null
+++ b/photopicker/tests/src/com/android/photopicker/util/ApplyWhenTest.kt
@@ -0,0 +1,218 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.util
+
+import com.google.common.truth.Truth.assertThat
+import org.junit.Test
+import org.junit.runner.RunWith
+import org.junit.runners.JUnit4
+
+@RunWith(JUnit4::class)
+class ApplyWhenTest {
+
+    data class TestSubject(var value: Int, var name: String = "initial")
+
+    // Tests for applyWhen
+    @Test
+    fun applyWhenExecutesBlockAndReturnsItsResultWhenConditionIsTrue() {
+        val subject = TestSubject(10)
+        val condition = true
+        var blockExecuted = false
+
+        val result =
+            subject.applyWhen(condition) {
+                blockExecuted = true
+                this.value = 20
+                this.name = "modified_by_block"
+                this // block returns the modified receiver
+            }
+
+        assertThat(blockExecuted).isTrue()
+        assertThat(subject.value).isEqualTo(20)
+        assertThat(subject.name).isEqualTo("modified_by_block")
+        assertThat(result).isSameInstanceAs(subject)
+        assertThat(result.value).isEqualTo(20)
+        assertThat(result.name).isEqualTo("modified_by_block")
+    }
+
+    @Test
+    fun applyWhenBlockConditionTrue() {
+        val subject = TestSubject(10, "original")
+        val condition = true
+        var blockExecuted = false
+
+        val result =
+            subject.applyWhen(condition) {
+                blockExecuted = true
+                TestSubject(this.value * 2, "new_object_from_block")
+            }
+
+        assertThat(blockExecuted).isTrue()
+        assertThat(subject.value).isEqualTo(10) // Original subject unchanged
+        assertThat(subject.name).isEqualTo("original")
+        assertThat(result).isNotSameInstanceAs(subject)
+        assertThat(result.value).isEqualTo(20)
+        assertThat(result.name).isEqualTo("new_object_from_block")
+    }
+
+    @Test
+    fun applyWhenBlockConditionFalse() {
+        val subject = TestSubject(10, "initial")
+        val condition = false
+        var blockExecuted = false
+
+        val result =
+            subject.applyWhen(condition) {
+                blockExecuted = true
+                this.value = 20
+                this.name = "modified_by_block_false_cond"
+                this
+            }
+
+        assertThat(blockExecuted).isFalse()
+        assertThat(subject.value).isEqualTo(10)
+        assertThat(subject.name).isEqualTo("initial")
+        assertThat(result).isSameInstanceAs(subject)
+        assertThat(result.value).isEqualTo(10)
+        assertThat(result.name).isEqualTo("initial")
+    }
+
+    // Tests for applyChoice
+    @Test
+    fun applyChoiceExecutesTrueBlockAndReturnsResultWhenConditionTrue() {
+        val subject = TestSubject(10)
+        val condition = true
+        var trueBlockExecuted = false
+        var falseBlockExecuted = false
+
+        val result =
+            subject.applyChoice(
+                condition = condition,
+                trueBlock = {
+                    trueBlockExecuted = true
+                    this.value = 100
+                    this.name = "from_true_block"
+                    this
+                },
+                falseBlock = {
+                    falseBlockExecuted = true
+                    this.value = 200
+                    this.name = "from_false_block"
+                    this
+                },
+            )
+
+        assertThat(trueBlockExecuted).isTrue()
+        assertThat(falseBlockExecuted).isFalse()
+        assertThat(subject.value).isEqualTo(100)
+        assertThat(subject.name).isEqualTo("from_true_block")
+        assertThat(result).isSameInstanceAs(subject)
+        assertThat(result.value).isEqualTo(100)
+        assertThat(result.name).isEqualTo("from_true_block")
+    }
+
+    @Test
+    fun applyChoiceExecutesTrueBlockAndReturnsResultWhenConditionTrueReturnsNewObject() {
+        val subject = TestSubject(10, "original")
+        val condition = true
+        var trueBlockExecuted = false
+        var falseBlockExecuted = false
+
+        val result =
+            subject.applyChoice(
+                condition = condition,
+                trueBlock = {
+                    trueBlockExecuted = true
+                    TestSubject(this.value * 2, "new_object_from_true_block")
+                },
+                falseBlock = {
+                    falseBlockExecuted = true
+                    this
+                },
+            )
+
+        assertThat(trueBlockExecuted).isTrue()
+        assertThat(falseBlockExecuted).isFalse()
+        assertThat(subject.value).isEqualTo(10) // Original subject unchanged
+        assertThat(subject.name).isEqualTo("original")
+        assertThat(result).isNotSameInstanceAs(subject)
+        assertThat(result.value).isEqualTo(20)
+        assertThat(result.name).isEqualTo("new_object_from_true_block")
+    }
+
+    @Test
+    fun applyChoiceExecutesFalseBlockAndReturnsResultWhenConditionIsFalse() {
+        val subject = TestSubject(10)
+        val condition = false
+        var trueBlockExecuted = false
+        var falseBlockExecuted = false
+
+        val result =
+            subject.applyChoice(
+                condition = condition,
+                trueBlock = {
+                    trueBlockExecuted = true
+                    this.value = 100
+                    this.name = "from_true_block"
+                    this
+                },
+                falseBlock = {
+                    falseBlockExecuted = true
+                    this.value = 200
+                    this.name = "from_false_block"
+                    this
+                },
+            )
+
+        assertThat(trueBlockExecuted).isFalse()
+        assertThat(falseBlockExecuted).isTrue()
+        assertThat(subject.value).isEqualTo(200)
+        assertThat(subject.name).isEqualTo("from_false_block")
+        assertThat(result).isSameInstanceAs(subject)
+        assertThat(result.value).isEqualTo(200)
+        assertThat(result.name).isEqualTo("from_false_block")
+    }
+
+    @Test
+    fun applyChoiceExecutesFalseBlockAndReturnsResultWhenConditionFalseReturnsNewObject() {
+        val subject = TestSubject(10, "original")
+        val condition = false
+        var trueBlockExecuted = false
+        var falseBlockExecuted = false
+
+        val result =
+            subject.applyChoice(
+                condition = condition,
+                trueBlock = {
+                    trueBlockExecuted = true
+                    this
+                },
+                falseBlock = {
+                    falseBlockExecuted = true
+                    TestSubject(this.value * 3, "new_object_from_false_block")
+                },
+            )
+
+        assertThat(trueBlockExecuted).isFalse()
+        assertThat(falseBlockExecuted).isTrue()
+        assertThat(subject.value).isEqualTo(10) // Original subject unchanged
+        assertThat(subject.name).isEqualTo("original")
+        assertThat(result).isNotSameInstanceAs(subject)
+        assertThat(result.value).isEqualTo(30)
+        assertThat(result.name).isEqualTo("new_object_from_false_block")
+    }
+}
diff --git a/photopicker/tests/src/com/android/photopicker/util/MapOfDeferredWithTimeoutTest.kt b/photopicker/tests/src/com/android/photopicker/util/MapOfDeferredWithTimeoutTest.kt
index 4d4273480..7cd844e17 100644
--- a/photopicker/tests/src/com/android/photopicker/util/MapOfDeferredWithTimeoutTest.kt
+++ b/photopicker/tests/src/com/android/photopicker/util/MapOfDeferredWithTimeoutTest.kt
@@ -16,6 +16,7 @@
 
 package com.android.photopicker.util
 
+import android.content.pm.PackageManager.NameNotFoundException
 import androidx.test.ext.junit.runners.AndroidJUnit4
 import androidx.test.filters.SmallTest
 import com.google.common.truth.Truth.assertWithMessage
@@ -87,7 +88,7 @@ class MapOfDeferredWithTimeoutTest {
                                 delay(10)
                                 true
                             },
-                        "key3" to { throw RuntimeException() },
+                        "key3" to { throw NameNotFoundException() },
                     )
 
                 val resultMap: Map<String, Deferred<Any?>> =
diff --git a/photopicker/tests/src/com/android/photopicker/util/test/TouchInjectionScope.kt b/photopicker/tests/src/com/android/photopicker/util/test/TouchInjectionScope.kt
new file mode 100644
index 000000000..979a25911
--- /dev/null
+++ b/photopicker/tests/src/com/android/photopicker/util/test/TouchInjectionScope.kt
@@ -0,0 +1,39 @@
+/*
+ * Copyright 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.photopicker.util.test
+
+import androidx.compose.ui.geometry.Offset
+import androidx.compose.ui.test.TouchInjectionScope
+import kotlin.math.abs
+
+/**
+ * Applies drag action of an amount of [totalOffset]. Note, we drag in small increments of 10f, or
+ * otherwise won't be detected by `detectDragGesturesAfterLongPress`.
+ */
+fun TouchInjectionScope.dragInIncrements(totalOffset: Float, vertical: Boolean = true) {
+    var currentOffset = 0f
+    val positiveOffset = totalOffset > 0
+    while (abs(currentOffset) < abs(totalOffset)) {
+        val increment = if (positiveOffset) 10f else -10f
+        currentOffset += increment
+        moveBy(
+            delta =
+                Offset(x = if (vertical) 0f else increment, y = if (vertical) increment else 0f),
+            delayMillis = 10L,
+        )
+    }
+}
diff --git a/res/values-af/strings.xml b/res/values-af/strings.xml
index d235faeca..ec30df29f 100644
--- a/res/values-af/strings.xml
+++ b/res/values-af/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Laat toe"</string>
     <string name="deny" msgid="6040983710442068936">"Weier"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Blaai"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Wolkmedia-app"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Wolkmedia-app"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Wolkmedia-app"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Instellings"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Wolkmedia-instellings"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Wolkmedia-instellings"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Kry toegang tot jou wolkmedia wanneer n app of webwerf jou vra om fotos of videos te kies"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Kry toegang tot wolkmedia vanaf"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Geen"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Het dit"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Kry toegang tot pakketnaam van media-eienaar"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Laat die app toe om toegang tot eienaarpakketname van alle toeganklike medialers te kry."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Van hierdie toestel af"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Uit jou apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Skermskote"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Aflaaie"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Gunstelinge"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Video\'s"</string>
 </resources>
diff --git a/res/values-am/strings.xml b/res/values-am/strings.xml
index f36a77372..23154e19a 100644
--- a/res/values-am/strings.xml
+++ b/res/values-am/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"             "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"   "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"    "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"         "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"  "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-ar/strings.xml b/res/values-ar/strings.xml
index 63ffd1654..b3fa05d0a 100644
--- a/res/values-ar/strings.xml
+++ b/res/values-ar/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">" ..."</string>
-    <string name="picker_settings" msgid="6443463167344790260">"    "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"    "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"    "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"    "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"    "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"                "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"      "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"            ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">" "</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-as/strings.xml b/res/values-as/strings.xml
index 503df68ff..594e1346b 100644
--- a/res/values-as/strings.xml
+++ b/res/values-as/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"                "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"     "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">" "</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"      "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"             "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-az/strings.xml b/res/values-az/strings.xml
index 5180a3cb1..75b5ed068 100644
--- a/res/values-az/strings.xml
+++ b/res/values-az/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"caz verin"</string>
     <string name="deny" msgid="6040983710442068936">"Rdd edin"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Gzdn keirin"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Bulud media ttbiqi"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Bulud media ttbiqi"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Bulud media ttbiqi"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Ayarlar"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Cloud media ayarlar"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Cloud media ayarlar"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Ttbiq v ya vebsayt sizdn foto v ya video semyi tlb etdikd bulud medianza giri edin"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Bulud mediasna buradan giri edin:"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"He biri"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Anladm"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Media sahibi paketi adna giri"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Ttbiq latan media fayllarnn sahib paketi adlarna giri icazsi verir."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Bu cihazdan"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Ttbiqlrinizdn"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Skrinotlar"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Endirmlr"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Sevimlilr"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videolar"</string>
 </resources>
diff --git a/res/values-b+sr+Latn/strings.xml b/res/values-b+sr+Latn/strings.xml
index a94a21bbd..0ec6166b8 100644
--- a/res/values-b+sr+Latn/strings.xml
+++ b/res/values-b+sr+Latn/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Dozvoli"</string>
     <string name="deny" msgid="6040983710442068936">"Odbij"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Pregledaj"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplikacija za medije u klaudu"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikacija za medije u klaudu"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikacija za medije u klaudu"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Podeavanja"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Podeavanja medija u klaudu"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Podeavanja medija u klaudu"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Pristup medijima u klaudu kada aplikacija ili veb-sajt zatrai da izaberete slike ili video snimke"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Pristupajte medijima u klaudu iz"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nita"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Vai"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Pristup nazivu paketa vlasnika medija"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Dozvoljava da aplikacija pristupa nazivima paketa vlasnika svih dostupnih medijskih fajlova."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Sa ovog ureaja"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Iz aplikacija"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Snimci ekrana"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Preuzimanja"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Omiljeno"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videi"</string>
 </resources>
diff --git a/res/values-be/strings.xml b/res/values-be/strings.xml
index 91f0483dc..87e631ad9 100644
--- a/res/values-be/strings.xml
+++ b/res/values-be/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">" "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"    ,      -      "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"    :"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"   - "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"      -    ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-bg/strings.xml b/res/values-bg/strings.xml
index b525e65ad..fcef42e3c 100644
--- a/res/values-bg/strings.xml
+++ b/res/values-bg/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">".    "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"    "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"    "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"    "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"    "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"      ,            "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"     "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"        "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"              ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-bn/strings.xml b/res/values-bn/strings.xml
index e8d4c6191..3946ff990 100644
--- a/res/values-bn/strings.xml
+++ b/res/values-bn/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"         ,     "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"     "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"           "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-bs/strings.xml b/res/values-bs/strings.xml
index 73fd8f851..77fadc825 100644
--- a/res/values-bs/strings.xml
+++ b/res/values-bs/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Dozvoli"</string>
     <string name="deny" msgid="6040983710442068936">"Odbij"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Pregledajte"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplikacija za medije u oblaku"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikacija za medije u oblaku"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikacija za medije u oblaku"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Postavke"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Postavke medija u oblaku"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Postavke medija u oblaku"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Pristupite medijima u oblaku kada vam aplikacija ili web lokacija zatrai da odaberete fotografije ili videozapise"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Pristupite medijima u oblaku iz"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nita"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Razumijem"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Pristup nazivu paketa vlasnika medijskih fajlova"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Dozvoljava aplikaciji da pristupa nazivima paketa vlasnika svih dostupnih medijskih fajlova."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"S ovog ureaja"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Iz vaih aplikacija"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Snimci ekrana"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Preuzimanja"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Omiljeno"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videozapisi"</string>
 </resources>
diff --git a/res/values-ca/strings.xml b/res/values-ca/strings.xml
index e2f3b2683..09534dbb7 100644
--- a/res/values-ca/strings.xml
+++ b/res/values-ca/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Permet"</string>
     <string name="deny" msgid="6040983710442068936">"Denega"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Navega"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"App de multimdia al nvol"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"App de contingut multimdia al nvol"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"App de contingut multimdia al nvol"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Configuraci"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Config. de contingut multimdia al nvol"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Configuraci de contingut multimdia al nvol"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Accedeix al contingut multimdia al nvol quan una aplicaci o un lloc web et demani que seleccionis fotos o vdeos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Accedeix al contingut multimdia al nvol des de"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Cap"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Entesos"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Accedeix als noms de paquet del propietari en fitxers multimdia"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Permet que l\'aplicaci accedeixi als noms de paquet del propietari de tots els fitxers multimdia accessibles."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"D\'aquest dispositiu"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"De les teves aplicacions"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Cmera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Captures de pantalla"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Baixades"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Preferits"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vdeos"</string>
 </resources>
diff --git a/res/values-cs/strings.xml b/res/values-cs/strings.xml
index 70bb04d25..21e533eb6 100644
--- a/res/values-cs/strings.xml
+++ b/res/values-cs/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Povolit"</string>
     <string name="deny" msgid="6040983710442068936">"Zakzat"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Prochzet"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplikace pro mdia vcloudu"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikace pro mdia vcloudu"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikace pro cloudov mdia"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Nastaven"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Nastaven cloudovch mdi"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Nastaven cloudovch mdi"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Kdy vs njak aplikace nebo webov strnka pod o vbr fotografi i vide, mete vybrat ze svch mdi v cloudu"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Vybrat mdia ztto aplikace"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"dn aplikace"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Rozumm"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Pstup knzvu balku vlastnka mdi"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Umouje aplikaci pstup knzvm balk vlastnk vech dostupnch medilnch soubor."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Ztohoto zazen"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Zvaich aplikac"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Fotoapart"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Snmky obrazovky"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Staen soubory"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Oblben"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videa"</string>
 </resources>
diff --git a/res/values-da/strings.xml b/res/values-da/strings.xml
index f165c9584..19dce9f88 100644
--- a/res/values-da/strings.xml
+++ b/res/values-da/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Tillad"</string>
     <string name="deny" msgid="6040983710442068936">"Afvis"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Gennemse"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Skymedieapp"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Skymedieapp"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Skymedieapp"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Indstillinger"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Indstillinger for medier i skyen"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Indstillinger for medier i skyen"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Tilg dine medier i skyen, nr en app eller et website beder dig om at vlge billeder eller videoer"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"F adgang til medier i skyen via"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Ingen"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"F adgang til det pakkenavn, der tilhrer ejerens app."</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Tillader, at appen fr adgang til det pakkenavn, der tilhrer ejerens app, i alle tilgngelige mediefiler."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Fra denne enhed"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Fra dine apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshots"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoritter"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videoer"</string>
 </resources>
diff --git a/res/values-de/strings.xml b/res/values-de/strings.xml
index 5dd280550..46c90cbf8 100644
--- a/res/values-de/strings.xml
+++ b/res/values-de/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Zulassen"</string>
     <string name="deny" msgid="6040983710442068936">"Ablehnen"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Stbern"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Cloud-Medien-App"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Cloud-Medien-App"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Cloud-Medien-App"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Einstellungen"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Einstellungen fr Cloud-Medien"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Einstellungen fr Cloud-Medien"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Hier kannst du festlegen, welche Cloud-Medien angezeigt werden sollen, wenn du von einer App oder Website aufgefordert wirst, Fotos oder Videos auszuwhlen"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Zugriff auf Cloud-Medien aus folgenden Apps:"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Keine"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Ok"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Auf Paketnamen des Medieninhabers zugreifen"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"App darf auf Paketnamen des Inhabers aller zugnglichen Mediendateien zugreifen."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Von diesem Gert"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Aus meinen Apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshots"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoriten"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videos"</string>
 </resources>
diff --git a/res/values-el/strings.xml b/res/values-el/strings.xml
index 93807e3fe..60f23c917 100644
--- a/res/values-el/strings.xml
+++ b/res/values-el/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"   cloud"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"   cloud"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"   cloud"</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  cloud"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  cloud"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"      cloud             "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"    cloud "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">" "</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"              ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"   "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"   "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-en-rAU/strings.xml b/res/values-en-rAU/strings.xml
index b92f07de8..e98649684 100644
--- a/res/values-en-rAU/strings.xml
+++ b/res/values-en-rAU/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Allow"</string>
     <string name="deny" msgid="6040983710442068936">"Deny"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Browse"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Cloud media app"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Cloud media app"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Cloud media app"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Settings"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Cloud media settings"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Cloud media settings"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Access your cloud media when an app or website asks you to select photos or videos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Access cloud media from"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"None"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Got it"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Access media owner package name"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Allows the app to access owner package names of all accessible media files."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"From this device"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"From your apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Camera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshots"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favourites"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videos"</string>
 </resources>
diff --git a/res/values-en-rCA/strings.xml b/res/values-en-rCA/strings.xml
index 517fdb71c..568a5b9d7 100644
--- a/res/values-en-rCA/strings.xml
+++ b/res/values-en-rCA/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Allow"</string>
     <string name="deny" msgid="6040983710442068936">"Deny"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Browse"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Cloud media app"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Cloud media app"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Cloud media app"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Settings"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Cloud media settings"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Cloud media settings"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Access your cloud media when an app or website asks you to select photos or videos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Access cloud media from"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"None"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Got it"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Access media owner package name"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Allows the app to access owner package names of all accessible media files."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"From this device"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"From your apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Camera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshots"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favorites"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videos"</string>
 </resources>
diff --git a/res/values-en-rGB/strings.xml b/res/values-en-rGB/strings.xml
index b92f07de8..e98649684 100644
--- a/res/values-en-rGB/strings.xml
+++ b/res/values-en-rGB/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Allow"</string>
     <string name="deny" msgid="6040983710442068936">"Deny"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Browse"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Cloud media app"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Cloud media app"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Cloud media app"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Settings"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Cloud media settings"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Cloud media settings"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Access your cloud media when an app or website asks you to select photos or videos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Access cloud media from"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"None"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Got it"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Access media owner package name"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Allows the app to access owner package names of all accessible media files."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"From this device"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"From your apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Camera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshots"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favourites"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videos"</string>
 </resources>
diff --git a/res/values-en-rIN/strings.xml b/res/values-en-rIN/strings.xml
index b92f07de8..e98649684 100644
--- a/res/values-en-rIN/strings.xml
+++ b/res/values-en-rIN/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Allow"</string>
     <string name="deny" msgid="6040983710442068936">"Deny"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Browse"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Cloud media app"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Cloud media app"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Cloud media app"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Settings"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Cloud media settings"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Cloud media settings"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Access your cloud media when an app or website asks you to select photos or videos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Access cloud media from"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"None"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Got it"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Access media owner package name"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Allows the app to access owner package names of all accessible media files."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"From this device"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"From your apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Camera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshots"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favourites"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videos"</string>
 </resources>
diff --git a/res/values-es-rUS/strings.xml b/res/values-es-rUS/strings.xml
index 7081ee0cb..15b49c2cb 100644
--- a/res/values-es-rUS/strings.xml
+++ b/res/values-es-rUS/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Permitir"</string>
     <string name="deny" msgid="6040983710442068936">"Rechazar"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Explorar"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"App multimedia en la nube"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"App multimedia en la nube"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"App de contenido multimedia en la nube"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Configuracin"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Conf. de contenido multimedia en nube"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Configuracin de contenido multimedia en la nube"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Accede a tu contenido multimedia en la nube cuando una app o sitio web te pida que selecciones fotos o videos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Accede al contenido multimedia en la nube desde"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Ninguna"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Entendido"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Acceder a los nombres de paquetes de propietarios de medios"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Permite que la app acceda a los nombres de paquetes de propietarios de todos los archivos multimedia accesibles."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"De este dispositivo"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"De tus apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Cmara"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Capturas de pantalla"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Descargas"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoritos"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videos"</string>
 </resources>
diff --git a/res/values-es/strings.xml b/res/values-es/strings.xml
index 95dc9bc2a..bca71509c 100644
--- a/res/values-es/strings.xml
+++ b/res/values-es/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Permitir"</string>
     <string name="deny" msgid="6040983710442068936">"Denegar"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Buscar"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"App multimedia en la nube"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Servicio de almacenamiento en la nube"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplicacin de fotos en la nube"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Ajustes"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Ajustes de contenido multimedia en la nube"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Ajustes de contenido multimedia en la nube"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Accede a tu contenido multimedia en la nube cuando una aplicacin o sitio web te pide que selecciones fotos o vdeos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Accede al contenido multimedia en la nube desde"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Ninguna"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Entendido"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Acceder a los nombres de paquete del propietario en archivos multimedia"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Permite que la aplicacin acceda a los nombres de paquete del propietario en todos los archivos multimedia accesibles."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"De este dispositivo"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"De tus aplicaciones"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Cmara"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Capturas de pantalla"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Descargas"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoritos"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vdeos"</string>
 </resources>
diff --git a/res/values-et/strings.xml b/res/values-et/strings.xml
index 4e7bf66b4..2850270d8 100644
--- a/res/values-et/strings.xml
+++ b/res/values-et/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Luba"</string>
     <string name="deny" msgid="6040983710442068936">"Keela"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Sirvimine "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Pilvemeedia rakendus"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Pilvemeedia rakendus"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Pilvemeedia rakendus"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Seaded"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Pilvemeedia seaded"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Pilvemeedia seaded"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Juurdeps teie pilves olevale meediale, kui rakendus vi veebisait palub teil fotosid vi videoid valida."</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Pilvemeedia rakendus:"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Pole"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Selge"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Juurdeps meediumi omaniku paketinimele"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Vimaldab rakendusel pseda juurde kigi juurdepsetavate meediumifailide omaniku paketinimedele."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Sellest seadmest"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Teie rakendustest"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kaamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Ekraanipildid"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Allalaadimised"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Lemmikud"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videod"</string>
 </resources>
diff --git a/res/values-eu/strings.xml b/res/values-eu/strings.xml
index 5f76881b7..34fcbe30c 100644
--- a/res/values-eu/strings.xml
+++ b/res/values-eu/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Eman baimena"</string>
     <string name="deny" msgid="6040983710442068936">"Ukatu"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Arakatu"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Hodeiko multimedia-aplikazioa"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Hodeiko multimedia-aplikazioa"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Hodeiko multimedia-aplikazioa"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Ezarpenak"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Hodeiko multimedia-edukiaren ezarpenak"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Hodeiko multimedia-edukiaren ezarpenak"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Atzitu hodeiko multimedia-edukia aplikazio edo webgune batek argazkiak edo bideoak hautatzeko eskatzen dizunean"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Atzitu honen bidez gordetako hodeiko multimedia-edukia:"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Bat ere ez"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Ados"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"erabili multimedia-edukiaren jabearen paketearen izena"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Erabilgarri dauden multimedia-fitxategi guztien pakete-izenak (jabearenak) erabiltzeko baimena ematen die aplikazioei."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Gailu honetakoak"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Zure aplikazioetakoak"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Pantaila-argazkiak"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Deskargak"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Gogokoak"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Bideoak"</string>
 </resources>
diff --git a/res/values-fa/strings.xml b/res/values-fa/strings.xml
index 9eae3f9c2..dc108a747 100644
--- a/res/values-fa/strings.xml
+++ b/res/values-fa/strings.xml
@@ -18,7 +18,7 @@
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="uid_label" msgid="8421971615411294156">""</string>
     <string name="storage_description" msgid="4081716890357580107">"  "</string>
-    <string name="picker_app_label" msgid="1195424381053599122">" "</string>
+    <string name="picker_app_label" msgid="1195424381053599122">" "</string>
     <string name="artist_label" msgid="8105600993099120273">""</string>
     <string name="unknown" msgid="2059049215682829375">""</string>
     <string name="root_images" msgid="5861633549189045666">""</string>
@@ -38,15 +38,15 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"   "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"   "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"                 "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"    "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
     <string name="picker_settings_toast_error" msgid="697274445512467469">"       ."</string>
-    <string name="picker_sync_notification_channel" msgid="1867105708912627993">" "</string>
-    <string name="picker_sync_notification_title" msgid="1122713382122055246">" "</string>
+    <string name="picker_sync_notification_channel" msgid="1867105708912627993">" "</string>
+    <string name="picker_sync_notification_title" msgid="1122713382122055246">" "</string>
     <string name="picker_sync_notification_text" msgid="8204423917712309382">"  "</string>
     <string name="add" msgid="2894574044585549298">""</string>
     <string name="deselect" msgid="4297825044827769490">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"              ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">" "</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-fi/strings.xml b/res/values-fi/strings.xml
index 657704dd2..96142f712 100644
--- a/res/values-fi/strings.xml
+++ b/res/values-fi/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Salli"</string>
     <string name="deny" msgid="6040983710442068936">"Est"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Selaa"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Pilvimediasovellus"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Pilvimediasovellus"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Pilvimediasovellus"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Asetukset"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Pilvimedian asetukset"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Pilvimedian asetukset"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Kyt pilvimediaa, kun sovellus tai verkkosivusto pyyt sinua valitsemaan kuvia tai videoita"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Psy pilvimediaan:"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Psy median omistajan paketin nimeen"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Sallii sovellukselle psyn omistajan paketin nimiin kaikissa saatavilla olevissa mediatiedostoissa."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Tlt laitteelta"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Sovelluksistasi"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Kuvakaappaukset"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Lataukset"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Suosikit"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videot"</string>
 </resources>
diff --git a/res/values-fr-rCA/strings.xml b/res/values-fr-rCA/strings.xml
index 7e7941de4..e7844ba34 100644
--- a/res/values-fr-rCA/strings.xml
+++ b/res/values-fr-rCA/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Autoriser"</string>
     <string name="deny" msgid="6040983710442068936">"Refuser"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Parcourir"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Appli multimdia infonuagique"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Appli multimdia infonuagique"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Appli multimdia infonuagique"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Paramtres"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Paramtres multimdias infonuagiques"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Paramtres multimdias infonuagiques"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Accdez  votre contenu multimdia infonuagique lorsqu\'une appli ou un site Web vous demande de slectionner des photos ou des vidos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Accder au contenu multimdia infonuagique  partir de"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Aucune"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Accder au nom de l\'ensemble propritaire du contenu multimdia"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Autorise l\'appli  accder aux noms des ensembles propritaires de tous les fichiers multimdias accessibles."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" partir de cet appareil"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" partir de vos applis"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Appareil photo"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Captures d\'cran"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Tlchargements"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoris"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vidos"</string>
 </resources>
diff --git a/res/values-fr/strings.xml b/res/values-fr/strings.xml
index aeceb8fe8..68d7f81a4 100644
--- a/res/values-fr/strings.xml
+++ b/res/values-fr/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Autoriser"</string>
     <string name="deny" msgid="6040983710442068936">"Refuser"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Parcourir"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Appli multimdia cloud"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Appli multimdia cloud"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Appli multimdia cloud"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Paramtres"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Paramtres multimdias cloud"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Paramtres multimdias cloud"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Accdez  vos contenus multimdias stocks dans le cloud quand une appli ou un site Web vous demande de slectionner des photos ou des vidos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Accder aux contenus multimdias cloud de"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Aucune"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Accder au nom de package du propritaire des fichiers multimdias"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Autorisez l\'application  accder aux noms de package du propritaire de l\'ensemble des fichiers multimdias accessibles."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Sur cet appareil"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Depuis vos applis"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Appareil photo"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Captures d\'cran"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Tlchargements"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoris"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vidos"</string>
 </resources>
diff --git a/res/values-gl/strings.xml b/res/values-gl/strings.xml
index 99b5a4e43..97513ce3c 100644
--- a/res/values-gl/strings.xml
+++ b/res/values-gl/strings.xml
@@ -18,7 +18,7 @@
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="uid_label" msgid="8421971615411294156">"Multimedia"</string>
     <string name="storage_description" msgid="4081716890357580107">"Almacenamento local"</string>
-    <string name="picker_app_label" msgid="1195424381053599122">"Seleccionador multimedia"</string>
+    <string name="picker_app_label" msgid="1195424381053599122">"Selector de contido multimedia"</string>
     <string name="artist_label" msgid="8105600993099120273">"Artista"</string>
     <string name="unknown" msgid="2059049215682829375">"Descoecida"</string>
     <string name="root_images" msgid="5861633549189045666">"Imaxes"</string>
@@ -38,15 +38,15 @@
     <string name="allow" msgid="8885707816848569619">"Permitir"</string>
     <string name="deny" msgid="6040983710442068936">"Denegar"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Examinar"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplicacin multimedia na nube"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplicacin multimedia na nube"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplicacin multimedia na nube"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Configuracin"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Config. do contido multimedia na nube"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Configuracin do contido multimedia na nube"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Accede ao teu contido multimedia na nube cando unha aplicacin ou sitio web che pida seleccionar fotos ou vdeos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Acceder ao contido multimedia gardado na nube desde"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Ningunha aplicacin"</string>
     <string name="picker_settings_toast_error" msgid="697274445512467469">"App multimedia con servizo na nube non cambiada."</string>
-    <string name="picker_sync_notification_channel" msgid="1867105708912627993">"Seleccionador de contido multimedia"</string>
-    <string name="picker_sync_notification_title" msgid="1122713382122055246">"Seleccionador de contido multimedia"</string>
+    <string name="picker_sync_notification_channel" msgid="1867105708912627993">"Selector de contido multimedia"</string>
+    <string name="picker_sync_notification_title" msgid="1122713382122055246">"Selector de contido multimedia"</string>
     <string name="picker_sync_notification_text" msgid="8204423917712309382">"Sincronizando contido multimedia"</string>
     <string name="add" msgid="2894574044585549298">"Engadir"</string>
     <string name="deselect" msgid="4297825044827769490">"Anular seleccin"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Entendido"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Acceso ao nome do paquete do propietario do contido multimedia"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Permite que a aplicacin acceda aos nomes dos paquetes do propietario de todos os ficheiros multimedia accesibles."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Deste dispositivo"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Das tas aplicacins"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Cmara"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Capturas de pantalla"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Descargas"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoritos"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vdeos"</string>
 </resources>
diff --git a/res/values-gu/strings.xml b/res/values-gu/strings.xml
index c2022e231..4176081c7 100644
--- a/res/values-gu/strings.xml
+++ b/res/values-gu/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"           ,      "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"    "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">" "</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"             ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-hi/strings.xml b/res/values-hi/strings.xml
index aa5f0dce5..9d2598c2e 100644
--- a/res/values-hi/strings.xml
+++ b/res/values-hi/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">"  "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"   "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"   "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"            ,       "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"        :"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">" "</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"        "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">" ,                 ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-hr/strings.xml b/res/values-hr/strings.xml
index a586482ab..6d03ce151 100644
--- a/res/values-hr/strings.xml
+++ b/res/values-hr/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Dopusti"</string>
     <string name="deny" msgid="6040983710442068936">"Odbij"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Pregled"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplikacija za medije u oblaku"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikacija za medijske sadraje u oblaku"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikacija za medijske sadraje u oblaku"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Postavke"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Postavke za medijske sadraje u oblaku"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Postavke za medijske sadraje u oblaku"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Pristupite medijskim sadrajima u oblaku kad aplikacija ili web-lokacija zatrai da odaberete fotografije ili videozapise"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Pristupi medijskim sadrajima u oblaku putem"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nita"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Shvaam"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Naziv paketa vlasnika medijskog sadraja"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Aplikacijama omoguuje pristup nazivima paketa vlasnika svih pristupanih medijskih datoteka."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"S ovog ureaja"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Iz vaih aplikacija"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Snimke zaslona"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Preuzimanja"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoriti"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videozapisi"</string>
 </resources>
diff --git a/res/values-hu/strings.xml b/res/values-hu/strings.xml
index d8dca3f14..970f930de 100644
--- a/res/values-hu/strings.xml
+++ b/res/values-hu/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Engedlyezs"</string>
     <string name="deny" msgid="6040983710442068936">"Tilts"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Bngszs"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Felhbeli mdiaalkalmazs"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Felhbeli mdiaalkalmazs"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Felhbeli mdiaalkalmazs"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Belltsok"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Felhbeli mdiatartalmak belltsai"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Felhbeli mdiatartalmak belltsai"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Hozzfrs a felhalap mdiatartalmaihoz, amikor valamelyik alkalmazs vagy webhely fnykpek vagy videk kivlasztsra kri."</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Hozzfrs a kvetkez szolgltatsban trolt felhbeli mdiatartalmakhoz:"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nincs"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"rtem"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Hozzfrs a tulajdonoscsomag-nevekhez."</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Lehetv teszi az alkalmazs szmra, hogy hozzfrjen az sszes hozzfrhet mdiafjl tulajdonoscsomag-neveihez."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Errl az eszkzrl"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Az alkalmazsaibl"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Kpernykpek"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Letltsek"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Kedvencek"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videk"</string>
 </resources>
diff --git a/res/values-hy/strings.xml b/res/values-hy/strings.xml
index 867010099..5651b63de 100644
--- a/res/values-hy/strings.xml
+++ b/res/values-hy/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"          ,      "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"       "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"      "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"          "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-in/strings.xml b/res/values-in/strings.xml
index 030eae0d4..9af189a13 100644
--- a/res/values-in/strings.xml
+++ b/res/values-in/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Izinkan"</string>
     <string name="deny" msgid="6040983710442068936">"Tolak"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Cari "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplikasi media cloud"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikasi media cloud"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikasi media cloud"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Setelan"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Setelan media cloud"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Setelan media cloud"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Akses media cloud saat aplikasi atau situs meminta Anda memilih foto atau video"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Akses media cloud dari"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Tidak ada"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Oke"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Akses nama paket pemilik media"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Memungkinkan aplikasi mengakses nama paket pemilik semua file media yang dapat diakses."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Dari perangkat ini"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Dari aplikasi Anda"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshot"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Download"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favorit"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Video"</string>
 </resources>
diff --git a/res/values-is/strings.xml b/res/values-is/strings.xml
index c568c963d..99500150e 100644
--- a/res/values-is/strings.xml
+++ b/res/values-is/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Leyfa"</string>
     <string name="deny" msgid="6040983710442068936">"Hafna"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Skoa"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Efnisforrit  ski"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Efnisforrit  ski"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Efnisforrit  ski"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Stillingar"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Stillingar efnis  ski"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Stillingar efnis  ski"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Opnau efni itt  skinu egar forrit ea vefsvi biur ig um a velja myndir ea myndskei"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Opna skjaefni fr"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Ekkert"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"g skil"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Agangur a pakkaheitum eiganda efnis"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Veitir forritinu agang a pakkaheitum eiganda fyrir allar tiltkar efnisskrr."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"r essu tki"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"r forritunum num"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Myndavl"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Skjmyndir"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Niurhal"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Upphald"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vde"</string>
 </resources>
diff --git a/res/values-it/strings.xml b/res/values-it/strings.xml
index 3a8287fa8..3379d673b 100644
--- a/res/values-it/strings.xml
+++ b/res/values-it/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Consenti"</string>
     <string name="deny" msgid="6040983710442068936">"Rifiuta"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Sfoglia"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"App multimediale cloud"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"App multimediale cloud"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"App multimediale cloud"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Impostazioni"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Impostazioni multimediali cloud"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Impostazioni multimediali cloud"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Accedi ai tuoi contenuti multimediali sul cloud quando un\'app o un sito web ti chiede di selezionare foto o video"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Accedi ai contenuti multimediali sul cloud da"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nessuna app"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Ok"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Accedi al nome del pacchetto del proprietario dei media"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Consente all\'app di accedere ai nomi di tutti i file multimediali accessibili dei pacchetti del proprietario."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Da questo dispositivo"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Dalle tue app"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Fotocamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshot"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Download"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Preferiti"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Video"</string>
 </resources>
diff --git a/res/values-iw/strings.xml b/res/values-iw/strings.xml
index 27dfd1696..09bdc5bb7 100644
--- a/res/values-iw/strings.xml
+++ b/res/values-iw/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"            "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"   "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -117,7 +117,7 @@
     <string name="picker_banner_cloud_dismiss_button" msgid="2935903078288463882">""</string>
     <string name="picker_banner_cloud_choose_app_button" msgid="934085679890435479">" "</string>
     <string name="picker_banner_cloud_choose_account_button" msgid="7979484877116991631">" "</string>
-    <string name="picker_banner_cloud_change_account_button" msgid="8361239765828471146">" "</string>
+    <string name="picker_banner_cloud_change_account_button" msgid="8361239765828471146">"  "</string>
     <string name="picker_loading_photos_message" msgid="6449180084857178949">"  "</string>
     <string name="permission_write_audio" msgid="8819694245323580601">"{count,plural, =1{  <xliff:g id="APP_NAME_0">^1</xliff:g>     ?}one{  <xliff:g id="APP_NAME_1">^1</xliff:g>  <xliff:g id="COUNT">^2</xliff:g>  ?}two{  <xliff:g id="APP_NAME_1">^1</xliff:g>  <xliff:g id="COUNT">^2</xliff:g>  ?}other{  <xliff:g id="APP_NAME_1">^1</xliff:g>  <xliff:g id="COUNT">^2</xliff:g>  ?}}"</string>
     <string name="permission_progress_write_audio" msgid="6029375427984180097">"{count,plural, =1{   }one{  -<xliff:g id="COUNT">^1</xliff:g>  }two{  -<xliff:g id="COUNT">^1</xliff:g>  }other{  -<xliff:g id="COUNT">^1</xliff:g>  }}"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"              ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-ja/strings.xml b/res/values-ja/strings.xml
index ccf352d7a..9ef69ffda 100644
--- a/res/values-ja/strings.xml
+++ b/res/values-ja/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">" "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">" "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">" "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">" "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">" "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">" "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">""</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">" "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">""</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-ka/strings.xml b/res/values-ka/strings.xml
index 838b9dab6..8e75752bb 100644
--- a/res/values-ka/strings.xml
+++ b/res/values-ka/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"   ,         "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"   :"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"    "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"        ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-kk/strings.xml b/res/values-kk/strings.xml
index 077db1ac9..c504ecbdb 100644
--- a/res/values-kk/strings.xml
+++ b/res/values-kk/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"  -      ,    ."</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"   "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -156,7 +156,7 @@
     <string name="transcode_processing_error" msgid="8921643164508407874">"    ."</string>
     <string name="transcode_processing_success" msgid="447288876429730122">"  ."</string>
     <string name="transcode_processing_started" msgid="7789086308155361523">"  ."</string>
-    <string name="transcode_processing" msgid="6753136468864077258">" "</string>
+    <string name="transcode_processing" msgid="6753136468864077258">"  "</string>
     <string name="transcode_cancel" msgid="8555752601907598192">" "</string>
     <string name="transcode_wait" msgid="8909773149560697501">""</string>
     <string name="safety_protection_icon_label" msgid="6714354052747723623">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"           ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">" "</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-km/strings.xml b/res/values-km/strings.xml
index e11b9a346..f8c265962 100644
--- a/res/values-km/strings.xml
+++ b/res/values-km/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">""</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">""</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">""</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">""</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">""</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"   "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">""</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">""</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">""</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">""</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-kn/strings.xml b/res/values-kn/strings.xml
index 2913b2d09..9ea60312a 100644
--- a/res/values-kn/strings.xml
+++ b/res/values-kn/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"              "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"     "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -127,22 +127,22 @@
     <string name="permission_progress_write_image" msgid="3623580315590025262">"{count,plural, =1{ }one{<xliff:g id="COUNT">^1</xliff:g>  }other{<xliff:g id="COUNT">^1</xliff:g>  }}"</string>
     <string name="permission_write_generic" msgid="7431128739233656991">"{count,plural, =1{    <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>   <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>   <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
     <string name="permission_progress_write_generic" msgid="2806560971318391443">"{count,plural, =1{  }one{<xliff:g id="COUNT">^1</xliff:g>  }other{<xliff:g id="COUNT">^1</xliff:g>  }}"</string>
-    <string name="permission_trash_audio" msgid="6554672354767742206">"{count,plural, =1{      <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
-    <string name="permission_progress_trash_audio" msgid="3116279868733641329">"{count,plural, =1{    }one{<xliff:g id="COUNT">^1</xliff:g>    }other{<xliff:g id="COUNT">^1</xliff:g>    }}"</string>
-    <string name="permission_trash_video" msgid="7555850843259959642">"{count,plural, =1{    <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
-    <string name="permission_progress_trash_video" msgid="4637821778329459681">"{count,plural, =1{  }one{<xliff:g id="COUNT">^1</xliff:g>   }other{<xliff:g id="COUNT">^1</xliff:g>   }}"</string>
-    <string name="permission_trash_image" msgid="3333128084684156675">"{count,plural, =1{    <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
-    <string name="permission_progress_trash_image" msgid="3063857679090024764">"{count,plural, =1{  }one{<xliff:g id="COUNT">^1</xliff:g>   }other{<xliff:g id="COUNT">^1</xliff:g>   }}"</string>
-    <string name="permission_trash_generic" msgid="5545420534785075362">"{count,plural, =1{     <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
-    <string name="permission_progress_trash_generic" msgid="7815124979717814057">"{count,plural, =1{   }one{<xliff:g id="COUNT">^1</xliff:g>   }other{<xliff:g id="COUNT">^1</xliff:g>   }}"</string>
-    <string name="permission_untrash_audio" msgid="8404597563284002472">"{count,plural, =1{       <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>      <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>      <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
-    <string name="permission_progress_untrash_audio" msgid="2775372344946464508">"{count,plural, =1{     }one{<xliff:g id="COUNT">^1</xliff:g>     }other{<xliff:g id="COUNT">^1</xliff:g>     }}"</string>
-    <string name="permission_untrash_video" msgid="3178914827607608162">"{count,plural, =1{     <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
-    <string name="permission_progress_untrash_video" msgid="5500929409733841567">"{count,plural, =1{   }one{<xliff:g id="COUNT">^1</xliff:g>    }other{<xliff:g id="COUNT">^1</xliff:g>    }}"</string>
-    <string name="permission_untrash_image" msgid="3397523279351032265">"{count,plural, =1{     <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
-    <string name="permission_progress_untrash_image" msgid="5295061520504846264">"{count,plural, =1{   }one{<xliff:g id="COUNT">^1</xliff:g>    }other{<xliff:g id="COUNT">^1</xliff:g>    }}"</string>
-    <string name="permission_untrash_generic" msgid="2118366929431671046">"{count,plural, =1{      <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
-    <string name="permission_progress_untrash_generic" msgid="1489511601966842579">"{count,plural, =1{    }one{<xliff:g id="COUNT">^1</xliff:g>    }other{<xliff:g id="COUNT">^1</xliff:g>    }}"</string>
+    <string name="permission_trash_audio" msgid="6554672354767742206">"{count,plural, =1{      <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
+    <string name="permission_progress_trash_audio" msgid="3116279868733641329">"{count,plural, =1{    }one{<xliff:g id="COUNT">^1</xliff:g>    }other{<xliff:g id="COUNT">^1</xliff:g>    }}"</string>
+    <string name="permission_trash_video" msgid="7555850843259959642">"{count,plural, =1{    <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
+    <string name="permission_progress_trash_video" msgid="4637821778329459681">"{count,plural, =1{  }one{<xliff:g id="COUNT">^1</xliff:g>   }other{<xliff:g id="COUNT">^1</xliff:g>   }}"</string>
+    <string name="permission_trash_image" msgid="3333128084684156675">"{count,plural, =1{    <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
+    <string name="permission_progress_trash_image" msgid="3063857679090024764">"{count,plural, =1{  }one{<xliff:g id="COUNT">^1</xliff:g>   }other{<xliff:g id="COUNT">^1</xliff:g>   }}"</string>
+    <string name="permission_trash_generic" msgid="5545420534785075362">"{count,plural, =1{     <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
+    <string name="permission_progress_trash_generic" msgid="7815124979717814057">"{count,plural, =1{   }one{<xliff:g id="COUNT">^1</xliff:g>   }other{<xliff:g id="COUNT">^1</xliff:g>   }}"</string>
+    <string name="permission_untrash_audio" msgid="8404597563284002472">"{count,plural, =1{       <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>      <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>      <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
+    <string name="permission_progress_untrash_audio" msgid="2775372344946464508">"{count,plural, =1{     }one{<xliff:g id="COUNT">^1</xliff:g>     }other{<xliff:g id="COUNT">^1</xliff:g>     }}"</string>
+    <string name="permission_untrash_video" msgid="3178914827607608162">"{count,plural, =1{     <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
+    <string name="permission_progress_untrash_video" msgid="5500929409733841567">"{count,plural, =1{   }one{<xliff:g id="COUNT">^1</xliff:g>    }other{<xliff:g id="COUNT">^1</xliff:g>    }}"</string>
+    <string name="permission_untrash_image" msgid="3397523279351032265">"{count,plural, =1{     <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
+    <string name="permission_progress_untrash_image" msgid="5295061520504846264">"{count,plural, =1{   }one{<xliff:g id="COUNT">^1</xliff:g>    }other{<xliff:g id="COUNT">^1</xliff:g>    }}"</string>
+    <string name="permission_untrash_generic" msgid="2118366929431671046">"{count,plural, =1{      <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>     <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
+    <string name="permission_progress_untrash_generic" msgid="1489511601966842579">"{count,plural, =1{    }one{<xliff:g id="COUNT">^1</xliff:g>    }other{<xliff:g id="COUNT">^1</xliff:g>    }}"</string>
     <string name="permission_delete_audio" msgid="3326674742892796627">"{count,plural, =1{     <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>    <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
     <string name="permission_progress_delete_audio" msgid="1734871539021696401">"{count,plural, =1{   }one{<xliff:g id="COUNT">^1</xliff:g>   }other{<xliff:g id="COUNT">^1</xliff:g>   }}"</string>
     <string name="permission_delete_video" msgid="604024971828349279">"{count,plural, =1{   <xliff:g id="APP_NAME_0">^1</xliff:g>   ?}one{ <xliff:g id="COUNT">^2</xliff:g>   <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}other{ <xliff:g id="COUNT">^2</xliff:g>   <xliff:g id="APP_NAME_1">^1</xliff:g>   ?}}"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"           ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-ko/strings.xml b/res/values-ko/strings.xml
index 773ae1350..3c580de48 100644
--- a/res/values-ko/strings.xml
+++ b/res/values-ko/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"         ."</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"  "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -69,7 +69,7 @@
     <string name="picker_personal_profile_label" msgid="6189198163209597344">""</string>
     <string name="picker_profile_admin_title" msgid="4172022376418293777">" "</string>
     <string name="picker_profile_admin_msg_from_personal" msgid="1941639895084555723">"      ."</string>
-    <string name="picker_profile_admin_msg_from_work" msgid="8048524337462790110">"      ."</string>
+    <string name="picker_profile_admin_msg_from_work" msgid="8048524337462790110">"      ."</string>
     <string name="picker_profile_admin_msg" msgid="4060112887923255178">"<xliff:g id="PROFILE2">%2$s</xliff:g>  <xliff:g id="PROFILE1">%1$s</xliff:g>    ."</string>
     <string name="picker_profile_switch_message" msgid="1133817927412489487">"<xliff:g id="PROFILE">%s</xliff:g>  "</string>
     <string name="picker_profile_work_paused_title" msgid="382212880704235925">"  "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"    "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"            ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-ky/strings.xml b/res/values-ky/strings.xml
index 1b9323d2c..6a0547612 100644
--- a/res/values-ky/strings.xml
+++ b/res/values-ky/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"        "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"     :"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"    "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"          ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">" "</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-lo/strings.xml b/res/values-lo/strings.xml
index 8099406dd..dfd6141a5 100644
--- a/res/values-lo/strings.xml
+++ b/res/values-lo/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">""</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">""</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">""</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">""</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">""</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"    "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">""</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">""</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">""</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-lt/strings.xml b/res/values-lt/strings.xml
index 66f66730e..53d7152d0 100644
--- a/res/values-lt/strings.xml
+++ b/res/values-lt/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Leisti"</string>
     <string name="deny" msgid="6040983710442068936">"Atmesti"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Naryti"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Medijos debesyje programa"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Medijos debesyje programa"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Medijos debesyje programa"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Nustatymai"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Medijos debesyje nustatymai"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Medijos debesyje nustatymai"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Pasiekite medij debesyje, kai programa ar svetain paprays pasirinkti nuotraukas ar vaizdo raus"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Pasiekti medij debesyje i"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nra"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Supratau"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Pasiekti medijos savininko paketo pavadinim"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Leidiama programai pasiekti vis pasiekiam medijos fail savininko paket pavadinimus."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"I io renginio"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"I js program"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Fotoaparatas"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Ekrano kopijos"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Atsisiuntimai"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Mgstamiausi"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vaizdo raai"</string>
 </resources>
diff --git a/res/values-lv/strings.xml b/res/values-lv/strings.xml
index 0bc94f523..5df8ff41e 100644
--- a/res/values-lv/strings.xml
+++ b/res/values-lv/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Ataut"</string>
     <string name="deny" msgid="6040983710442068936">"Neataut"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Prlkot"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Mkoa multivides lietotne"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Mkoa multivides lietotne"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Mkoa multivides lietotne"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Iestatjumi"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Mkoa multivides iestatjumi"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Mkoa multivides iestatjumi"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Piekstiet savam mkoa multivides saturam, kad lietotne vai vietne ldz atlast fotoattlus vai video"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Piekstiet mkoa multivides saturam no"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nav"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Labi"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Piekt multivides panieka pakotnes nosaukumam"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Atauj lietotnei piekt visu pieejamo multivides failu panieku pakotu nosaukumiem."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"No s ierces"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"No jsu lietotnm"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Ekrnuzmumi"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Lejupieldes"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Izlase"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videoklipi"</string>
 </resources>
diff --git a/res/values-mk/strings.xml b/res/values-mk/strings.xml
index e2453f3c8..6d2e7398c 100644
--- a/res/values-mk/strings.xml
+++ b/res/values-mk/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"    "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"    "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"     "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  .   "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"     "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"           -       "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"      "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"         "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"                ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"  "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-ml/strings.xml b/res/values-ml/strings.xml
index b60406631..8f6c9b5cf 100644
--- a/res/values-ml/strings.xml
+++ b/res/values-ml/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"          "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"   "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"           ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-mn/strings.xml b/res/values-mn/strings.xml
index 102b33471..05b7c20ab 100644
--- a/res/values-mn/strings.xml
+++ b/res/values-mn/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"            "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"   "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"    "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"          ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-mr/strings.xml b/res/values-mr/strings.xml
index 16a41df8c..4cda883d5 100644
--- a/res/values-mr/strings.xml
+++ b/res/values-mr/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"         ,      "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"    "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"           ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-ms/strings.xml b/res/values-ms/strings.xml
index 73f3d064b..7a5bcc5eb 100644
--- a/res/values-ms/strings.xml
+++ b/res/values-ms/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Benarkan"</string>
     <string name="deny" msgid="6040983710442068936">"Tolak"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Semak imbas"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Apl media awan"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Apl media awan"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Apl media awan"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Tetapan"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Tetapan media awan"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Tetapan media awan"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Akses media awan anda apabila apl atau laman web meminta anda memilih foto atau video"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Akses media awan daripada"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Tiada"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Akses nama pakej pemilik media"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Membenarkan apl mengakses nama pakej pemilik bagi semua fail media yang boleh diakses."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Daripada peranti ini"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Daripada apl anda"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Tangkapan skrin"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Muat turun"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Kegemaran"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Video"</string>
 </resources>
diff --git a/res/values-my/strings.xml b/res/values-my/strings.xml
index c9e5cae6d..9e6db108c 100644
--- a/res/values-my/strings.xml
+++ b/res/values-my/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Cloud "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Cloud "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Cloud "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Cloud "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Cloud "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">" ()    ()    cloud  "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Cloud   "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"  "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"    "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">""</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-nb/strings.xml b/res/values-nb/strings.xml
index 73839699d..e9b744def 100644
--- a/res/values-nb/strings.xml
+++ b/res/values-nb/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Tillat"</string>
     <string name="deny" msgid="6040983710442068936">"Avvis"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Bla gjennom"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Skymedieapp"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Skymedieapp"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Skymedieapp"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Innstillinger"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Innstillinger for skymedier"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Innstillinger for skymedier"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"F tilgang til skymediene dine nr en app eller et nettsted ber deg om  velge bilder eller videoer"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"pne skymedier fra"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Ingen"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Greit"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Se eierens pakkenavn for medier"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Tillater at appen ser eierens pakkenavn for alle tilgjengelige mediefiler."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Fra denne enheten"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Fra appene dine"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Skjermbilder"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Nedlastinger"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoritter"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videoer"</string>
 </resources>
diff --git a/res/values-ne/strings.xml b/res/values-ne/strings.xml
index e02285137..af29ae15e 100644
--- a/res/values-ne/strings.xml
+++ b/res/values-ne/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"               "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"    "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"  "</string>
@@ -64,7 +64,7 @@
     <skip />
     <string name="picker_albums" msgid="4822511902115299142">""</string>
     <string name="picker_preview" msgid="6257414886055861039">""</string>
-    <string name="picker_work_profile" msgid="2083221066869141576">"   "</string>
+    <string name="picker_work_profile" msgid="2083221066869141576">"   "</string>
     <string name="picker_personal_profile" msgid="639484258397758406">"   "</string>
     <string name="picker_personal_profile_label" msgid="6189198163209597344">""</string>
     <string name="picker_profile_admin_title" msgid="4172022376418293777">"    "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"              "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">" "</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"  "</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-nl/strings.xml b/res/values-nl/strings.xml
index 30645a9ad..cd124b231 100644
--- a/res/values-nl/strings.xml
+++ b/res/values-nl/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Toestaan"</string>
     <string name="deny" msgid="6040983710442068936">"Weigeren"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Browsen"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Cloudmedia-app"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Cloudmedia-app"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Cloudmedia-app"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Instellingen"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Instellingen voor cloudmedia"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Instellingen voor cloudmedia"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Krijg toegang tot je cloudmedia als een app of website je vraagt om foto\'s of video\'s te selecteren"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Cloudmedia openen vanuit"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Geen"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Toegang tot pakketnaam van media-eigenaar"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Hiermee krijgt de app toegang tot de pakketnamen van de eigenaren van alle toegankelijke mediabestanden."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Vanaf dit apparaat"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Van je apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Camera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Screenshots"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favorieten"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Video\'s"</string>
 </resources>
diff --git a/res/values-or/strings.xml b/res/values-or/strings.xml
index 4b7390003..e0dbccdc3 100644
--- a/res/values-or/strings.xml
+++ b/res/values-or/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"                "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"    "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"             "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-pa/strings.xml b/res/values-pa/strings.xml
index 9636cdf80..7136ebc7a 100644
--- a/res/values-pa/strings.xml
+++ b/res/values-pa/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">"  "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"           ,       "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"     "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">" "</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"      "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"                "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-pl/strings.xml b/res/values-pl/strings.xml
index 78edccbc7..b64c90e50 100644
--- a/res/values-pl/strings.xml
+++ b/res/values-pl/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Zezwl"</string>
     <string name="deny" msgid="6040983710442068936">"Odmw"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Przegldaj"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplikacja do multimediw wchmurze"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikacja do multimediw wchmurze"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikacja do multimediw wchmurze"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Ustawienia"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Ustawienia multimediw wchmurze"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Ustawienia multimediw wchmurze"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Korzystaj zmultimediw wchmurze, gdy aplikacja bd strona poprosi owybr zdj lub filmw"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Otwieraj multimedia wchmurze za pomoc:"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Brak"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Dostp do nazwy pakietu waciciela multimediw"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Zezwala aplikacji na dostp do nazw pakietw waciciela wszystkich dostpnych plikw multimedialnych."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Ztego urzdzenia"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"ZTwoich aplikacji"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Aparat"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Zrzuty ekranu"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Pobrane"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Ulubione"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Filmy"</string>
 </resources>
diff --git a/res/values-pt-rBR/strings.xml b/res/values-pt-rBR/strings.xml
index f72cb4b15..428c20150 100644
--- a/res/values-pt-rBR/strings.xml
+++ b/res/values-pt-rBR/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Permitir"</string>
     <string name="deny" msgid="6040983710442068936">"Negar"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Procurar"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"App de mdia em nuvem"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"App de mdia em nuvem"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"App de mdia em nuvem"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Configuraes"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Configuraes de mdia em nuvem"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Configuraes de mdia em nuvem"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Acesse seus contedos de mdia na nuvem quando um app ou site pedir para voc selecionar fotos ou vdeos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Acessar a mdia em nuvem de"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nenhum"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Entendi"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Acessar o nome do pacote de proprietrios de mdia"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Permite que o app acesse os nomes de pacotes de proprietrios de todos os arquivos de mdia acessveis."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Neste dispositivo"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Dos seus apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Cmera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Capturas de tela"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoritos"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vdeos"</string>
 </resources>
diff --git a/res/values-pt-rPT/strings.xml b/res/values-pt-rPT/strings.xml
index 21440f748..b63677684 100644
--- a/res/values-pt-rPT/strings.xml
+++ b/res/values-pt-rPT/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Permitir"</string>
     <string name="deny" msgid="6040983710442068936">"Recusar"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Procurar"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"App de multimdia na nuvem"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"App de multimdia na nuvem"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"App de multimdia na nuvem"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Definies"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Definies de multimdia na nuvem"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Definies de multimdia na nuvem"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Aceda ao contedo multimdia na nuvem quando uma app ou um Website lhe pede para selecionar fotos ou vdeos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Aceda a multimdia na nuvem a partir de"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nenhuma"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Acesso ao nome do pacote do proprietrio do recurso multimdia"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Permite que a app aceda aos nomes dos pacotes do proprietrio de todos os ficheiros multimdia acessveis."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Deste dispositivo"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Das suas apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Cmara"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Capturas de ecr"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Transferncias"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoritos"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vdeos"</string>
 </resources>
diff --git a/res/values-pt/strings.xml b/res/values-pt/strings.xml
index f72cb4b15..428c20150 100644
--- a/res/values-pt/strings.xml
+++ b/res/values-pt/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Permitir"</string>
     <string name="deny" msgid="6040983710442068936">"Negar"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Procurar"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"App de mdia em nuvem"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"App de mdia em nuvem"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"App de mdia em nuvem"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Configuraes"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Configuraes de mdia em nuvem"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Configuraes de mdia em nuvem"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Acesse seus contedos de mdia na nuvem quando um app ou site pedir para voc selecionar fotos ou vdeos"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Acessar a mdia em nuvem de"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Nenhum"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Entendi"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Acessar o nome do pacote de proprietrios de mdia"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Permite que o app acesse os nomes de pacotes de proprietrios de todos os arquivos de mdia acessveis."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Neste dispositivo"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Dos seus apps"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Cmera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Capturas de tela"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Downloads"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoritos"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vdeos"</string>
 </resources>
diff --git a/res/values-ro/strings.xml b/res/values-ro/strings.xml
index f8676547f..34030f502 100644
--- a/res/values-ro/strings.xml
+++ b/res/values-ro/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Permite"</string>
     <string name="deny" msgid="6040983710442068936">"Refuz"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Rsfoiete"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplicaia media n cloud"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplicaia media n cloud"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplicaia media n cloud"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Setri"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Setri pentru coninutul media din cloud"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Setri pentru coninutul media din cloud"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Acceseaz coninutul media din cloud atunci cnd o aplicaie sau un site i solicit s selectezi fotografii sau videoclipuri"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Acceseaz coninutul media n cloud din"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Niciuna"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Acceseaz numele pachetului proprietarului de coninut media"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Permite ca aplicaia s acceseze numele pachetelor proprietarului pentru toate fiierele media accesibile."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"De pe acest dispozitiv"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Din aplicaiile tale"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Camer foto"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Capturi de ecran"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Descrcri"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Preferate"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videoclipuri"</string>
 </resources>
diff --git a/res/values-ru/strings.xml b/res/values-ru/strings.xml
index 3b8468cab..3a10eb93e 100644
--- a/res/values-ru/strings.xml
+++ b/res/values-ru/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"    "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"    "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"   "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"   "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"         ,      ."</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"        ?"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"      "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"          ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">" "</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-si/strings.xml b/res/values-si/strings.xml
index 53cffa7a4..636d5082f 100644
--- a/res/values-si/strings.xml
+++ b/res/values-si/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"                 "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"     "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"              ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-sk/strings.xml b/res/values-sk/strings.xml
index b6c044328..58e879df7 100644
--- a/res/values-sk/strings.xml
+++ b/res/values-sk/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Povoli"</string>
     <string name="deny" msgid="6040983710442068936">"Zamietnu"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Prehliada"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Ap. na prstup kmd. vcloude"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikcia na prstup kmd. vcloude"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikcia na prstup kmdim vcloude"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Nastavenia"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Nastavenia mdi vcloude"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Nastavenia mdi vcloude"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Ke vs nejak aplikcia alebo web poiada ovber fotiek alebo vide, mete vybera zo svojich mdi vcloude."</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Otvramdi vcloude pomocouaplikcie:"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"iadna aplikcia"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Dobre"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Prstup knzvu balka mdi vlastnka"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Umon aplikcii prstup knzvom balkov vetkch dostupnch sborov mdi vlastnka."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Ztohto zariadenia"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Zvaich aplikci"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Snmky obrazovky"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Stiahnut"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Obben"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Vide"</string>
 </resources>
diff --git a/res/values-sl/strings.xml b/res/values-sl/strings.xml
index d67979b50..fc0d2a99f 100644
--- a/res/values-sl/strings.xml
+++ b/res/values-sl/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Dovoli"</string>
     <string name="deny" msgid="6040983710442068936">"Zavrni"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Brskanje "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplikacija za predstavnost v oblaku"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikacija za predstavnost v oblaku"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikacija za predstavnost v oblaku"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Nastavitve"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Nastavitve predstavnosti v oblaku"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Nastavitve predstavnosti v oblaku"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Dostopajte do predstavnosti v oblaku, kadar vas aplikacija ali spletno mesto pozove k izbiri fotografij ali videoposnetkov."</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Dostop do predstavnosti v oblaku v storitvi"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Brez"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Razumem"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Dostop do imena lastnikega paketa"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Aplikaciji omogoa dostop do imen lastnikih paketov vseh dostopnih predstavnostnih datotek."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Iz te naprave"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Iz vaih aplikacij"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Fotoaparat"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Posnetki zaslona"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Prenosi"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Priljubljeno"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videoposnetki"</string>
 </resources>
diff --git a/res/values-sq/strings.xml b/res/values-sq/strings.xml
index adddb7e17..aa14c6b51 100644
--- a/res/values-sq/strings.xml
+++ b/res/values-sq/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Lejo"</string>
     <string name="deny" msgid="6040983710442068936">"Refuzo"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Shfleto"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Aplikacioni i medias n ren kompjuterike"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Aplikacion i medias n ren kompjuterike"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Aplikacioni i medias n ren kompjuterike"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Cilsimet"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Cilsimet e medias n ren kompjuterike"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Cilsimet e medias n ren kompjuterike"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Qasu te media jote n ren kompjuterike kur nj aplikacion ose uebsajt t krkon t zgjedhsh fotografit ose videot"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Qasu te media n ren kompjuterike nga"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Asnj"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"E kuptova"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Qasu tek emri i pakets s zotruesit t medias"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Lejon q aplikacioni t ket qasje te emrat e paketave t zotruesit pr t gjith skedart e medias."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Nga kjo pajisje"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Nga aplikacionet e tua"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Pamjet e ekranit"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Shkarkimet"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"T preferuarat"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videot"</string>
 </resources>
diff --git a/res/values-sr/strings.xml b/res/values-sr/strings.xml
index 80da576ce..b5b7c5bc3 100644
--- a/res/values-sr/strings.xml
+++ b/res/values-sr/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"    "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"    "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"    "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"   "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"   "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"       -       "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"    "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"    "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"          ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-sv/strings.xml b/res/values-sv/strings.xml
index f1fe1bc99..d2fc9b5f2 100644
--- a/res/values-sv/strings.xml
+++ b/res/values-sv/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Tillt"</string>
     <string name="deny" msgid="6040983710442068936">"Neka"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Blddra bland"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Molnmedieapp"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Molnmedieapp"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Molnmedieapp"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Instllningar"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Instllningar fr molnmedia"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Instllningar fr molnmedia"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"F tillgng till molnmedia nr en app eller webbplats ber dig att vlja foton eller videor"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"F tillgng till molnmedia frn"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Ingen"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"tkomst till mediegarens paketnamn"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Tillter att appen fr tkomst till garens paketnamn fr alla tillgngliga mediefiler."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Frn denna enhet"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Frn dina appar"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Skrmbilder"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Nedladdningar"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoriter"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videor"</string>
 </resources>
diff --git a/res/values-sw/strings.xml b/res/values-sw/strings.xml
index a10e3da2c..b60412f5e 100644
--- a/res/values-sw/strings.xml
+++ b/res/values-sw/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Ruhusu"</string>
     <string name="deny" msgid="6040983710442068936">"Kataa"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Vinjari"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Programu ya maudhui ya wingu"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Programu ya maudhui ya wingu"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Programu ya maudhui kwenye wingu"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Mipangilio"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Mipangilio ya maudhui kwenye wingu"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Mipangilio ya maudhui kwenye wingu"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Fikia maudhui yako yaliyo kwenye wingu programu au tovuti inapokuomba uchague picha au video"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Fikia maudhui yaliyo kwenye wingu katika"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Hamna"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Nimeelewa"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Fikia jina la kifurushi cha mmiliki wa maudhui"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Huruhusu programu kufikia majina ya kifurushi cha mmiliki ya faili zote za maudhui zinazoweza kufikiwa."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Kutoka kwenye kifaa hiki"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Kutoka kwenye programu zako"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Picha za skrini"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Vipakuliwa"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Vipendwa"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Video"</string>
 </resources>
diff --git a/res/values-ta/strings.xml b/res/values-ta/strings.xml
index 00250f335..7eb21ed06 100644
--- a/res/values-ta/strings.xml
+++ b/res/values-ta/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">"..."</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"          "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"   "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"    "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"          ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">" "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">" "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-te/strings.xml b/res/values-te/strings.xml
index c9a7b89c8..a14e278fd 100644
--- a/res/values-te/strings.xml
+++ b/res/values-te/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"  "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"  "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"               "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"      "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"     "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"           ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-th/strings.xml b/res/values-th/strings.xml
index c9cd5d694..3aad60701 100644
--- a/res/values-th/strings.xml
+++ b/res/values-th/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">""</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">""</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">""</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">""</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">""</string>
     <string name="picker_settings_description" msgid="2916686824777214585">""</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">""</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">""</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">""</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">""</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-tl/strings.xml b/res/values-tl/strings.xml
index 2a99b7197..11ccdc3b6 100644
--- a/res/values-tl/strings.xml
+++ b/res/values-tl/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Payagan"</string>
     <string name="deny" msgid="6040983710442068936">"Tanggihan"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Mag-browse"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Cloud media app"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Cloud media app"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Cloud media app"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Mga Setting"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Mga setting ng media sa cloud"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Mga setting ng media sa cloud"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"I-access ang cloud media mo kapag hiningi sa iyo ng isang app o website na pumili ng mga larawan o video"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"I-access ang cloud media sa"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Wala"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"I-access ang pangalan ng package ng may-ari ng media"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Pinapayagan ang app na i-access ang mga pangalan ng package ng may-ari ng lahat ng naa-access na file ng media."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Mula sa device na ito"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Mula sa iyong mga app"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Camera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Mga Screenshot"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Mga Download"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Mga Paborito"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Mga Video"</string>
 </resources>
diff --git a/res/values-tr/strings.xml b/res/values-tr/strings.xml
index 7e92e0404..5902e6dbc 100644
--- a/res/values-tr/strings.xml
+++ b/res/values-tr/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"zin ver"</string>
     <string name="deny" msgid="6040983710442068936">"Reddet"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Gz at"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Bulut medya uygulamas"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Bulut medya uygulamas"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Bulut medya uygulamas"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Ayarlar"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Bulut medya ayarlar"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Bulut medya ayarlar"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Bir uygulama ya da web sitesi, fotoraf veya video semenizi istediinde bulut medyalarnza eriin"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"uradaki bulut medyasna eriin"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Yok"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Anladm"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Medya sahibinin paket adna erime"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Uygulamann, tm eriilebilir medya dosyalar sahibinin paket adlarna erimesine izin verir."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Bu cihazdan"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Uygulamalarnzdan"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Ekran grntleri"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"ndirilenler"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Favoriler"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videolar"</string>
 </resources>
diff --git a/res/values-uk/strings.xml b/res/values-uk/strings.xml
index dee7f1bf0..af32c0b84 100644
--- a/res/values-uk/strings.xml
+++ b/res/values-uk/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"   "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"   "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"        ,      ."</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"        "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"    "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"          ."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"  "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-ur/strings.xml b/res/values-ur/strings.xml
index 336bd85e8..ad262f07e 100644
--- a/res/values-ur/strings.xml
+++ b/res/values-ur/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">" "</string>
     <string name="deny" msgid="6040983710442068936">" "</string>
     <string name="picker_browse" msgid="5554477454636075934">" "</string>
-    <string name="picker_settings" msgid="6443463167344790260">"  "</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"  "</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"  "</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"   "</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"   "</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"                      "</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"       "</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">" "</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"  "</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"         "</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"                 "</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"  "</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"   "</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">" "</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">" "</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-uz/strings.xml b/res/values-uz/strings.xml
index 69515bbc7..f282e7ba6 100644
--- a/res/values-uz/strings.xml
+++ b/res/values-uz/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Ruxsat"</string>
     <string name="deny" msgid="6040983710442068936">"Rad etish"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Tanlash"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"Bulutli media ilovasi"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"Bulutli media ilovasi"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"Bulutli media ilovasi"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Sozlamalar"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Bulutdagi media sozlamalari"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Bulutdagi media sozlamalari"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Biror ilova yoki sayt sizdan surat yoki videolarni tanlashni soraganda bulutli mediadan foydalaning"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Bulutli media kontentni ochish"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Hech qanday"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"OK"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"media fayllarning egalik paketi nomlariga ruxsat"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Ilovaga hammaga ochiq media fayllarning egalik paketi nomlariga kirishga ruxsat beradi."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Bu qurilmadan"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Ilovalaringizdan"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Kamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Skrinshotlar"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Yuklanmalar"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Sevimlilar"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Videolar"</string>
 </resources>
diff --git a/res/values-v36/constants.xml b/res/values-v36/constants.xml
new file mode 100644
index 000000000..d9e3e69c2
--- /dev/null
+++ b/res/values-v36/constants.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<!-- Copyright (C) 2025 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<resources>
+
+    <!-- Indicates whether we're running on platform Baklava+ (API 36). -->
+    <bool name="platformIsAtLeastBaklava">true</bool>
+
+</resources>
\ No newline at end of file
diff --git a/res/values-vi/strings.xml b/res/values-vi/strings.xml
index 3d61a10d8..e85b68e6e 100644
--- a/res/values-vi/strings.xml
+++ b/res/values-vi/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Cho php"</string>
     <string name="deny" msgid="6040983710442068936">"T chi"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Duyt qua"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"ng dng nghe nhn trn m my"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"ng dng nghe nhn trn m my"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"ng dng nghe nhn trn m my"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Ci t"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Ci t ni dung nghe nhn trn m my"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Ci t ni dung nghe nhn trn m my"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Truy cp vo ni dung nghe nhn ca bn trn m my khi c ng dng hay trang web yu cu bn chn nh hoc video"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Truy cp ni dung nghe nhn trn m my qua"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Khng c"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Ti hiu"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Truy cp tn gi ch s hu ca tt c tp a phng tin"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Cho php ng dng truy cp tn gi ch s hu ca tt c tp a phng tin c th truy cp."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"T thit b ny"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"T cc ng dng ca bn"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Camera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"nh chp mn hnh"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Ni dung  ti xung"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Yu thch"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Video"</string>
 </resources>
diff --git a/res/values-zh-rCN/strings.xml b/res/values-zh-rCN/strings.xml
index d2c011f78..a9ac10b79 100644
--- a/res/values-zh-rCN/strings.xml
+++ b/res/values-zh-rCN/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">""</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">""</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">""</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">""</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">""</string>
     <string name="picker_settings_description" msgid="2916686824777214585">""</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">""</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">""</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">""</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">""</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-zh-rHK/strings.xml b/res/values-zh-rHK/strings.xml
index 4c425c559..b32aa569f 100644
--- a/res/values-zh-rHK/strings.xml
+++ b/res/values-zh-rHK/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">""</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">""</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">""</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">""</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">""</string>
     <string name="picker_settings_description" msgid="2916686824777214585">""</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">""</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">""</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">""</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">""</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-zh-rTW/strings.xml b/res/values-zh-rTW/strings.xml
index ba856c406..2abfcae4a 100644
--- a/res/values-zh-rTW/strings.xml
+++ b/res/values-zh-rTW/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">""</string>
     <string name="deny" msgid="6040983710442068936">""</string>
     <string name="picker_browse" msgid="5554477454636075934">""</string>
-    <string name="picker_settings" msgid="6443463167344790260">""</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">""</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">""</string>
+    <string name="picker_settings" msgid="7388913035769329672">""</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">""</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">""</string>
     <string name="picker_settings_description" msgid="2916686824777214585">""</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">""</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">""</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">""</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">""</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">""</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">""</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">""</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">""</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">""</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">""</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">""</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">""</string>
 </resources>
diff --git a/res/values-zu/strings.xml b/res/values-zu/strings.xml
index cfab6ce82..38efea8a0 100644
--- a/res/values-zu/strings.xml
+++ b/res/values-zu/strings.xml
@@ -38,9 +38,9 @@
     <string name="allow" msgid="8885707816848569619">"Vumela"</string>
     <string name="deny" msgid="6040983710442068936">"Nqaba"</string>
     <string name="picker_browse" msgid="5554477454636075934">"Bhrawuza"</string>
-    <string name="picker_settings" msgid="6443463167344790260">"I-app yemidiya ye-cloud"</string>
-    <string name="picker_settings_system_settings_menu_title" msgid="3055084757610063581">"I-app yemidiya ye-cloud"</string>
-    <string name="picker_settings_title" msgid="5647700706470673258">"I-app yemidiya ye-cloud"</string>
+    <string name="picker_settings" msgid="7388913035769329672">"Amasethingi"</string>
+    <string name="picker_settings_system_settings_menu_title" msgid="8376154377841981825">"Amasethingi emidiya eCloud"</string>
+    <string name="picker_settings_title" msgid="1745398289847815694">"Amasethingi emidiya eCloud"</string>
     <string name="picker_settings_description" msgid="2916686824777214585">"Finyelela kumidiya yakho ye-cloud uma i-app noma iwebhusayithi ikucela ukuthi ukhethe izithombe noma amavidiyo"</string>
     <string name="picker_settings_selection_message" msgid="245453573086488596">"Finyelela imidiya yacloud ukusuka"</string>
     <string name="picker_settings_no_provider" msgid="2582311853680058223">"Lutho"</string>
@@ -167,4 +167,11 @@
     <string name="dialog_button_text" msgid="351366485240852280">"Ngiyezwa"</string>
     <string name="permlab_accessMediaOwnerPackageName" msgid="3849443148060165651">"Finyelela igama lephakheji lomnikazi wemidiya"</string>
     <string name="permdesc_accessMediaOwnerPackageName" msgid="7381563109363105371">"Ivumela i-app ukuthi ifinyelele kumagama amaphakheji omnikazi awo wonke amafayela emidiya afinyelelekayo."</string>
+    <string name="device_folders_collection_display_name" msgid="3792747330533159857">"Kusuka kule divayisi"</string>
+    <string name="app_folders_collection_display_name" msgid="2606436050952788816">"Ukusuka kuma-app akho"</string>
+    <string name="camera_album_display_name" msgid="1093891161978593789">"Ikhamera"</string>
+    <string name="screenshots_album_display_name" msgid="3614860974116695364">"Izithombe-skrini"</string>
+    <string name="downloads_album_display_name" msgid="3297383597164642280">"Okudawunilodiwe"</string>
+    <string name="favorites_album_display_name" msgid="3533041926539268094">"Okuthandwayo"</string>
+    <string name="videos_album_display_name" msgid="4274973715629315179">"Amavidiyo"</string>
 </resources>
diff --git a/res/values/constants.xml b/res/values/constants.xml
new file mode 100644
index 000000000..dda166193
--- /dev/null
+++ b/res/values/constants.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<!-- Copyright (C) 2025 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<resources>
+
+    <!-- Indicates whether we're running on platform Baklava+ (API 36). -->
+    <bool name="platformIsAtLeastBaklava">false</bool>
+
+</resources>
\ No newline at end of file
diff --git a/res/values/strings.xml b/res/values/strings.xml
index a96497df4..0027a523d 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -83,13 +83,13 @@
     <string name="picker_browse">Browse\u2026</string>
 
     <!-- Settings menu item in Photo Picker menu which allows users to change the cloud media provider app. [CHAR LIMIT=30] -->
-    <string name="picker_settings">Cloud media app</string>
+    <string name="picker_settings">Settings</string>
 
     <!-- PhotoPicker Settings item title in the System Settings menu. [CHAR LIMIT=40] -->
-    <string name="picker_settings_system_settings_menu_title">Cloud media app</string>
+    <string name="picker_settings_system_settings_menu_title">Cloud media settings</string>
 
     <!-- Settings page title in Photo Picker. [CHAR LIMIT=NONE] -->
-    <string name="picker_settings_title">Cloud media app</string>
+    <string name="picker_settings_title">Cloud media settings</string>
 
     <!-- Settings page description in Photo Picker. [CHAR LIMIT=NONE] -->
     <string name="picker_settings_description">Access your cloud media when an app or website asks you to select photos or videos</string>
@@ -540,4 +540,21 @@
     <string name="permlab_accessMediaOwnerPackageName">Access media owner package name</string>
     <!-- Description of ACCESS_OWNER_PACKAGE_NAME permission-->
     <string name="permdesc_accessMediaOwnerPackageName">Allows the app to access owner package names of all accessible media files.</string>
+
+    <!-- ========================= CATEGORIES AND ALBUMS STRINGS ========================= -->
+    <!-- Device folders collection display name -->
+    <string name="device_folders_collection_display_name" translation_description="Display name for the collection of local folders on the device. [CHAR_LIMIT=50]">"From this device"</string>
+    <!-- App folders collection display name -->
+    <string name="app_folders_collection_display_name" translation_description="Display name for the collection of app media sets on the device. [CHAR_LIMIT=50]">"From your apps"</string>
+    <!-- Camera album display name -->
+    <string name="camera_album_display_name" translation_description="Display name for the album containing all the media captured by camera. [CHAR_LIMIT=50]">Camera</string>
+    <!-- Screenshots album display name -->
+    <string name="screenshots_album_display_name" translation_description="Display name for the album containing all the screenshots. [CHAR_LIMIT=50]">Screenshots</string>
+    <!-- Downloads album display name -->
+    <string name="downloads_album_display_name" translation_description="Display name for the album containing all the downloaded media on the device. [CHAR_LIMIT=50]">Downloads</string>
+    <!-- Favorites album display name -->
+    <string name="favorites_album_display_name" translation_description="Display name for the album containing all the media marked as favorite. [CHAR_LIMIT=50]">Favorites</string>
+    <!-- Videos album display name -->
+    <string name="videos_album_display_name" translation_description="Display name for the album containing videos. [CHAR_LIMIT=50]">Videos</string>
+
 </resources>
diff --git a/src/com/android/providers/media/AccessChecker.java b/src/com/android/providers/media/AccessChecker.java
index ba16cdf77..50a4895e0 100644
--- a/src/com/android/providers/media/AccessChecker.java
+++ b/src/com/android/providers/media/AccessChecker.java
@@ -55,10 +55,8 @@ import static com.android.providers.media.LocalUriMatcher.VIDEO_MEDIA_ID;
 import static com.android.providers.media.LocalUriMatcher.VIDEO_THUMBNAILS;
 import static com.android.providers.media.LocalUriMatcher.VIDEO_THUMBNAILS_ID;
 import static com.android.providers.media.MediaGrants.PACKAGE_USER_ID_COLUMN;
-import static com.android.providers.media.MediaProvider.INCLUDED_DEFAULT_DIRECTORIES;
 import static com.android.providers.media.util.DatabaseUtils.bindSelection;
 
-import android.os.Bundle;
 import android.provider.MediaStore;
 import android.provider.MediaStore.Files.FileColumns;
 import android.provider.MediaStore.MediaColumns;
@@ -69,6 +67,8 @@ import androidx.annotation.Nullable;
 import androidx.annotation.VisibleForTesting;
 
 import java.util.ArrayList;
+import java.util.List;
+import java.util.Optional;
 
 /**
  * Class responsible for performing all access checks (read/write access states for calling package)
@@ -271,7 +271,7 @@ public class AccessChecker {
     @NonNull
     public static String getWhereForConstrainedAccess(
             @NonNull LocalCallingIdentity callingIdentity, int uriType,
-            boolean forWrite, @NonNull Bundle extras) {
+            boolean forWrite, Optional<List<String>> includedDefaultDirectoriesOptional) {
         switch (uriType) {
             case AUDIO_MEDIA_ID:
             case AUDIO_MEDIA: {
@@ -365,9 +365,12 @@ public class AccessChecker {
 
                 // Allow access to file in directories. This si particularly used only for
                 // SystemGallery use-case
-                final String defaultDirectorySql = getWhereForDefaultDirectoryMatch(extras);
-                if (defaultDirectorySql != null) {
-                    options.add(defaultDirectorySql);
+                if (includedDefaultDirectoriesOptional.isPresent()) {
+                    final String defaultDirectorySql = getWhereForDefaultDirectoryMatch(
+                            includedDefaultDirectoriesOptional.get());
+                    if (defaultDirectorySql != null) {
+                        options.add(defaultDirectorySql);
+                    }
                 }
 
                 return TextUtils.join(" OR ", options);
@@ -445,12 +448,11 @@ public class AccessChecker {
      * @see MediaProvider#INCLUDED_DEFAULT_DIRECTORIES
      */
     @Nullable
-    private static String getWhereForDefaultDirectoryMatch(@NonNull Bundle extras) {
-        final ArrayList<String> includedDefaultDirs = extras.getStringArrayList(
-                INCLUDED_DEFAULT_DIRECTORIES);
+    private static String getWhereForDefaultDirectoryMatch(
+            List<String> includedDefaultDirectories) {
         final ArrayList<String> options = new ArrayList<>();
-        if (includedDefaultDirs != null) {
-            for (String defaultDir : includedDefaultDirs) {
+        if (includedDefaultDirectories != null) {
+            for (String defaultDir : includedDefaultDirectories) {
                 options.add(FileColumns.RELATIVE_PATH + " LIKE '" + defaultDir + "/%'");
             }
         }
diff --git a/src/com/android/providers/media/FileAccessAttributes.java b/src/com/android/providers/media/FileAccessAttributes.java
index e9dc55680..f4d38dbd6 100644
--- a/src/com/android/providers/media/FileAccessAttributes.java
+++ b/src/com/android/providers/media/FileAccessAttributes.java
@@ -18,9 +18,16 @@ package com.android.providers.media;
 
 import android.database.Cursor;
 
+import com.android.tools.r8.keepanno.annotations.KeepItemKind;
+import com.android.tools.r8.keepanno.annotations.UsedByNative;
+
+import java.util.Objects;
+
 /**
- * Class to represent the file metadata stored in the database (SQLite/xAttr)
+ * Class to represent the file metadata stored in the database (SQLite/LevelDb)
  */
+@UsedByNative(description = "Called from JNI in jni/com_android_providers_media_FuseDaemon.cpp",
+        kind = KeepItemKind.CLASS_AND_MEMBERS)
 public final class FileAccessAttributes {
     private final long mId;
     private final int mMediaType;
@@ -41,7 +48,7 @@ public final class FileAccessAttributes {
     }
 
     public static FileAccessAttributes fromCursor(Cursor c) {
-        final long id  = c.getLong(0);
+        final long id = c.getLong(0);
         String ownerPackageName = c.getString(1);
         final boolean isPending = c.getInt(2) != 0;
         final int mediaType = c.getInt(3);
@@ -53,7 +60,22 @@ public final class FileAccessAttributes {
     public String toString() {
         return String.format("Id: %s, Mediatype: %s, isPending: %s, "
                         + "isTrashed: %s, ownerpackageName: %s", this.mId, this.mMediaType,
-                mIsPending, mIsTrashed, mOwnerId);
+                this.mIsPending, this.mIsTrashed, this.mOwnerPackageName);
+    }
+
+    @Override
+    public boolean equals(Object o) {
+        if (this == o) return true;
+        if (o == null || getClass() != o.getClass()) return false;
+        FileAccessAttributes that = (FileAccessAttributes) o;
+        return mId == that.mId && mMediaType == that.mMediaType && mIsPending == that.mIsPending
+                && mIsTrashed == that.mIsTrashed && Objects.equals(mOwnerPackageName,
+                that.mOwnerPackageName);
+    }
+
+    @Override
+    public int hashCode() {
+        return Objects.hash(mId, mMediaType, mIsPending, mIsTrashed, mOwnerId, mOwnerPackageName);
     }
 
     public long getId() {
diff --git a/src/com/android/providers/media/FilesOwnershipUtils.java b/src/com/android/providers/media/FilesOwnershipUtils.java
index a0e2ee5fb..81098e4ac 100644
--- a/src/com/android/providers/media/FilesOwnershipUtils.java
+++ b/src/com/android/providers/media/FilesOwnershipUtils.java
@@ -60,9 +60,9 @@ public class FilesOwnershipUtils {
      * owner_package_name as null in the files table.
      * </p>
      */
-    public void removeOwnerPackageNameForUris(@NonNull String[] packages, @NonNull List<Uri> uris,
+    public int removeOwnerPackageNameForUris(@NonNull String[] packages, @NonNull List<Uri> uris,
             int packageUserId) {
-        mExternalDatabase.runWithTransaction(db -> {
+        return mExternalDatabase.runWithTransaction(db -> {
             db.execSQL("CREATE TEMPORARY TABLE " +  TEMP_TABLE_NAME + " (" + FILE_ID_COLUMN_NAME
                     + " INTEGER)");
 
@@ -114,7 +114,7 @@ public class FilesOwnershipUtils {
 
             db.execSQL("DROP TABLE " + TEMP_TABLE_NAME);
 
-            return null;
+            return rowsAffected;
         });
     }
 
diff --git a/src/com/android/providers/media/LocalCallingIdentity.java b/src/com/android/providers/media/LocalCallingIdentity.java
index 2a5e452ce..ea64bb559 100644
--- a/src/com/android/providers/media/LocalCallingIdentity.java
+++ b/src/com/android/providers/media/LocalCallingIdentity.java
@@ -60,6 +60,7 @@ import android.os.UserHandle;
 import android.os.UserManager;
 import android.provider.MediaStore.Files.FileColumns;
 import android.util.ArrayMap;
+import android.util.ArraySet;
 import android.util.Log;
 
 import androidx.annotation.GuardedBy;
@@ -67,11 +68,13 @@ import androidx.annotation.NonNull;
 import androidx.annotation.VisibleForTesting;
 
 import com.android.modules.utils.build.SdkLevel;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.util.Logging;
 import com.android.providers.media.util.LongArray;
 import com.android.providers.media.util.UserCache;
 
 import java.io.PrintWriter;
+import java.util.HashMap;
 import java.util.Locale;
 
 public class LocalCallingIdentity {
@@ -356,6 +359,52 @@ public class LocalCallingIdentity {
     public static final int PERMISSION_ACCESS_OEM_METADATA = 1 << 30;
     public static final int PERMISSION_UPDATE_OEM_METADATA = 1 << 31;
 
+    /**
+     * This map stores the list of appOp permissions checked/resolved for each uid.
+     */
+    private static final HashMap<Integer, ArraySet<String>> sCacheAppOpsResolved = new HashMap<>();
+
+    /**
+     * This method checks if a given appop for the uid has been checked before and should make a
+     * checkOp call instead of a noteOp call for appOp permission check.
+     *
+     * @param uid   package uid
+     * @param appop appop permission to check for the given uid
+     * @return {@code true} if appop checked for the first time for given uid
+     */
+    public static boolean shouldNoteAppOp(int uid, String appop) {
+        if (!Flags.enableAppopPermissionChecksCache()) {
+            return true;
+        }
+
+        synchronized (sCacheAppOpsResolved) {
+            /* returns true if ArraySet does not contain the appop for the given uid key
+             * and updates the set in place
+             */
+            return sCacheAppOpsResolved.computeIfAbsent(uid, k -> new ArraySet<>()).add(appop);
+        }
+    }
+
+    /**
+     * Clear appOps resolved cache
+     */
+    public static void clearAppOpsResolvedCache() {
+        synchronized (sCacheAppOpsResolved) {
+            sCacheAppOpsResolved.clear();
+        }
+    }
+
+    /**
+     * Clear appOps resolved cache for the given uid
+     *
+     * @param uid package uid
+     */
+    public static void clearAppOpsResolvedCacheForUid(int uid) {
+        synchronized (sCacheAppOpsResolved) {
+            sCacheAppOpsResolved.remove(uid);
+        }
+    }
+
     private volatile int hasPermission;
     private volatile int hasPermissionResolved;
 
diff --git a/src/com/android/providers/media/MaliciousAppDetector.java b/src/com/android/providers/media/MaliciousAppDetector.java
deleted file mode 100644
index b7f6d5726..000000000
--- a/src/com/android/providers/media/MaliciousAppDetector.java
+++ /dev/null
@@ -1,167 +0,0 @@
-/*
- * Copyright (C) 2024 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-package com.android.providers.media;
-
-import android.content.Context;
-import android.content.SharedPreferences;
-import android.database.Cursor;
-import android.database.sqlite.SQLiteDatabase;
-import android.provider.MediaStore;
-import android.util.Log;
-
-import androidx.annotation.VisibleForTesting;
-
-import java.util.HashSet;
-import java.util.Set;
-
-public final class MaliciousAppDetector {
-
-    private static final String TAG = "MaliciousAppDetector";
-    private static final String MALICIOUS_APP_UID_LIST = "malicious_app_uid_list";
-    // default file creation threshold limit set to 1 million
-    private static final int FILE_CREATION_THRESHOLD_LIMIT = 1_000_000;
-    // default checking malicious behaviour on every 1000th insertion
-    private static final int FREQUENCY_OF_MALICIOUS_INSERTION_CHECK = 1000;
-
-    public static final String MALICIOUS_APP_DETECTOR_PREFS = "malicious_app_detector_prefs";
-
-    private Set<String> mMaliciousAppUidSet = new HashSet<>();
-    private final int mFileCreationThresholdLimit;
-    private final int mFrequencyOfMaliciousInsertionCheck;
-    private final SharedPreferences mMaliciousAppDetectorPrefs;
-
-    public MaliciousAppDetector(Context context) {
-        this(context, FILE_CREATION_THRESHOLD_LIMIT, FREQUENCY_OF_MALICIOUS_INSERTION_CHECK);
-    }
-
-    public MaliciousAppDetector(Context context, int fileCreationThresholdLimit,
-            int frequencyOfMaliciousInsertionCheck) {
-        mMaliciousAppDetectorPrefs = context.getSharedPreferences(MALICIOUS_APP_DETECTOR_PREFS,
-                Context.MODE_PRIVATE);
-        mMaliciousAppUidSet = mMaliciousAppDetectorPrefs.getStringSet(MALICIOUS_APP_UID_LIST,
-                new HashSet<>());
-        mFileCreationThresholdLimit = fileCreationThresholdLimit;
-        mFrequencyOfMaliciousInsertionCheck = frequencyOfMaliciousInsertionCheck;
-    }
-
-    /**
-     * Monitors file creation activity and flags potentially malicious applications
-     * The method retrieves the application's UID and queries the media provider database to count
-     * the number of files associated with the application. If the file count exceeds the limit,
-     * the application's UID is added to the shared preferences
-     *
-     * @param context the context used to access shared preferences and package manager
-     * @param helper database helper used to interact with the media provider database
-     * @param packageName package name of the application to monitor
-     */
-    public void detectFileCreationByMaliciousApp(Context context, DatabaseHelper helper,
-            String packageName) {
-        try {
-            int uid = context.getPackageManager().getPackageUid(packageName, 0);
-            helper.runWithoutTransaction((db) -> {
-                int filesCount = getFilesCountForApp(db, packageName);
-                if (isInsertionLimitExceeded(filesCount)) {
-                    addUidToSharedPreference(uid);
-                }
-                return null;
-            });
-        } catch (Exception e) {
-            Log.e(TAG,
-                    "Error while detecting malicious file creation for " + packageName, e);
-        }
-    }
-
-    /**
-     * Checks if an app with the given UID is allowed to create files
-     *
-     * @param uid the uid of the application to check
-     * @return {@code true} if the application is allowed to create files, {@code false} otherwise
-     */
-    public boolean isAppAllowedToCreateFiles(long uid) {
-        String uidString = String.valueOf(uid);
-        return !mMaliciousAppUidSet.contains(uidString);
-    }
-
-    /**
-     * Retrieves the number of files owned by a specific application in the media provider database
-     *
-     * @param db media provider database
-     * @param packageName application package name
-     * @return total number of files owned by the application
-     */
-    private int getFilesCountForApp(SQLiteDatabase db, String packageName) {
-        String selection = MediaStore.MediaColumns.OWNER_PACKAGE_NAME + " = ? AND "
-                + MediaStore.MediaColumns.VOLUME_NAME + " = ?";
-        String[] selectionArgs = new String[]{packageName, MediaStore.VOLUME_EXTERNAL_PRIMARY};
-
-        try (Cursor cursor = db.query("files",
-                new String[]{MediaStore.Files.FileColumns._ID},
-                selection,
-                selectionArgs,
-                null, null, null, null)) {
-            return cursor.getCount();
-        }
-    }
-
-    /**
-     * Checks if the number of files created by an application exceeds the defined threshold
-     *
-     * @param filesCount number of files to check against
-     * @return {@code true} if the file count exceeds the threshold limit, {@code false} otherwise
-     */
-    private boolean isInsertionLimitExceeded(int filesCount) {
-        return mFileCreationThresholdLimit <= filesCount;
-    }
-
-    /**
-     * Adds the UID of an application to the shared preferences
-     *
-     * @param uid the uid of the application to add to the set
-     */
-    private void addUidToSharedPreference(int uid) {
-        SharedPreferences.Editor editor = mMaliciousAppDetectorPrefs.edit();
-        Set<String> uidSet = mMaliciousAppDetectorPrefs.getStringSet(MALICIOUS_APP_UID_LIST,
-                new HashSet<>());
-        if (uidSet == null) {
-            mMaliciousAppUidSet = new HashSet<>();
-        } else {
-            mMaliciousAppUidSet = new HashSet<>(uidSet);
-        }
-        mMaliciousAppUidSet.add(String.valueOf(uid));
-        editor.putStringSet(MALICIOUS_APP_UID_LIST, mMaliciousAppUidSet);
-        editor.apply();
-    }
-
-    /**
-     * Clears the shared preferences containing the set of malicious app UIDs
-     */
-    @VisibleForTesting
-    public void clearSharedPref() {
-        SharedPreferences.Editor editor = mMaliciousAppDetectorPrefs.edit();
-        mMaliciousAppUidSet = new HashSet<>();
-        editor.putStringSet(MALICIOUS_APP_UID_LIST, new HashSet<>());
-        editor.apply();
-    }
-
-    public int getFrequencyOfMaliciousInsertionCheck() {
-        return mFrequencyOfMaliciousInsertionCheck;
-    }
-
-    public int getFileCreationThresholdLimit() {
-        return mFileCreationThresholdLimit;
-    }
-}
diff --git a/src/com/android/providers/media/MediaProvider.java b/src/com/android/providers/media/MediaProvider.java
index 85227f7d6..a947c082a 100644
--- a/src/com/android/providers/media/MediaProvider.java
+++ b/src/com/android/providers/media/MediaProvider.java
@@ -145,6 +145,7 @@ import static com.android.providers.media.flags.Flags.versionLockdown;
 import static com.android.providers.media.photopicker.data.ItemsProvider.EXTRA_MIME_TYPE_SELECTION;
 import static com.android.providers.media.scan.MediaScanner.REASON_DEMAND;
 import static com.android.providers.media.scan.MediaScanner.REASON_IDLE;
+import static com.android.providers.media.scan.MediaScanner.REASON_UNKNOWN;
 import static com.android.providers.media.util.DatabaseUtils.bindList;
 import static com.android.providers.media.util.FileUtils.DEFAULT_FOLDER_NAMES;
 import static com.android.providers.media.util.FileUtils.PATTERN_PENDING_FILEPATH_FOR_SQL;
@@ -296,6 +297,8 @@ import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.annotation.RequiresApi;
 import androidx.annotation.VisibleForTesting;
+import androidx.work.WorkInfo;
+import androidx.work.WorkManager;
 
 import com.android.modules.utils.BackgroundThread;
 import com.android.modules.utils.build.SdkLevel;
@@ -443,15 +446,6 @@ public class MediaProvider extends ContentProvider {
      */
     private static final String FILE_DATABASE_UUID = ".database_uuid";
 
-    /**
-     * Specify what default directories the caller gets full access to. By default, the caller
-     * shouldn't get full access to any default dirs.
-     * But for example, we do an exception for System Gallery apps and allow them full access to:
-     * DCIM, Pictures, Movies.
-     */
-    static final String INCLUDED_DEFAULT_DIRECTORIES =
-            "android:included-default-directories";
-
     /**
      * Value indicating that operations should include database rows matching the criteria defined
      * by this key only when calling package has write permission to the database row or column is
@@ -489,6 +483,16 @@ public class MediaProvider extends ContentProvider {
      */
     private static final long POLLING_TIME_IN_MILLIS = 100;
 
+    private static final long TIMEOUT_MILLIS = 10000;
+    private static final long POLL_INTERVAL_MILLIS = 100;
+    static final String WORK_INFO_STATE = "work_info_state";
+    static final String WAIT_FOR_SCAN_COMPLETION = "wait_for_scan_completion";
+    static final String VOLUME_NAME = "volume_name";
+    static final String IS_SCAN_VOLUME_CALL = "is_scan_volume_call";
+    static final String BROADCAST_INTENT = "broadcast_intent";
+    static final String CANCEL_WORK_AFTER_ENQUEUEING = "cancel_work_after_enqueueing";
+    static final String REMOVE_VOL_BEFORE_ENQUEUEING = "remove_vol_before_enqueueing";
+
     /**
      * Enable option to defer the scan triggered as part of MediaProvider#update()
      */
@@ -520,9 +524,8 @@ public class MediaProvider extends ContentProvider {
      * {@link MediaStore#getExternalVolumeNames(Context)}.
      */
     @ChangeId
-    @EnabledSince(targetSdkVersion = Build.VERSION_CODES.CUR_DEVELOPMENT)
+    @EnabledAfter(targetSdkVersion = Build.VERSION_CODES.BAKLAVA)
     @VisibleForTesting
-    // TODO: b/402623169 Set CUR_DEVELOPMENT as the latest version once available
     static final long EXCLUDE_UNRELIABLE_STORAGE_VOLUMES = 391360514L;
 
     /**
@@ -663,7 +666,6 @@ public class MediaProvider extends ContentProvider {
     private int mExternalStorageAuthorityAppId;
     private int mDownloadsAuthorityAppId;
     private Size mThumbSize;
-    private MaliciousAppDetector mMaliciousAppDetector;
 
     /**
      * Map from UID to cached {@link LocalCallingIdentity}. Values are only
@@ -1118,20 +1120,6 @@ public class MediaProvider extends ContentProvider {
                 }
 
                 mDatabaseBackupAndRecovery.backupVolumeDbData(helper, insertedRow);
-
-
-                // check for potentially malicious file creation activity
-                // to prevent excessive file creation that could exhaust system inodes,
-                // this check periodically monitors the number of files created by an app.
-                // if an app exceeds a defined threshold, it is flagged as potentially malicious
-                if (shouldCheckForMaliciousActivity()
-                        && insertedRow.getVolumeName().equals(MediaStore.VOLUME_EXTERNAL_PRIMARY)
-                        && insertedRow.getId()
-                        % mMaliciousAppDetector.getFrequencyOfMaliciousInsertionCheck()
-                        == 0) {
-                    mMaliciousAppDetector.detectFileCreationByMaliciousApp(getContext(), helper,
-                            insertedRow.getOwnerPackageName());
-                }
             });
         }
 
@@ -1638,7 +1626,6 @@ public class MediaProvider extends ContentProvider {
                 BackgroundThread.getExecutor(), this::storageNativeBootPropertyChangeListener);
 
         PulledMetrics.initialize(context);
-        mMaliciousAppDetector = createMaliciousAppDetector();
 
         initializeMimeTypeFixHandlerForAndroid15(getContext());
 
@@ -1796,6 +1783,9 @@ public class MediaProvider extends ContentProvider {
             }
         }
 
+        // Clear appops cache
+        LocalCallingIdentity.clearAppOpsResolvedCache();
+
         // Trim any stale log files before we emit new events below
         Logging.trimPersistent();
 
@@ -2277,6 +2267,17 @@ public class MediaProvider extends ContentProvider {
         mMediaScanner.onIdleScanStopped();
     }
 
+    /**
+     * Called when WorkManager stops the scan volume work. We cancel the ongoing scan for given
+     * volume.
+     *
+     * @param mediaVolume Volume for which we want to cancel the scan
+     * @param scanReason reason why scan was triggered
+     */
+    public void onScanVolumeWorkStopped(MediaVolume mediaVolume, int scanReason) {
+        mMediaScanner.onScanVolumeStopped(mediaVolume, scanReason);
+    }
+
     /**
      * Orphan any content of the given package. This will delete Android/media orphaned files from
      * the database.
@@ -2289,6 +2290,9 @@ public class MediaProvider extends ContentProvider {
             if (SdkLevel.isAtLeastU()) {
                 removeAllMediaGrantsForUid(uid, userId, packageName);
             }
+
+            LocalCallingIdentity.clearAppOpsResolvedCacheForUid(uid);
+
             return null;
         });
     }
@@ -3119,7 +3123,8 @@ public class MediaProvider extends ContentProvider {
         }
 
         final String writeAccessCheckSql = getWhereForConstrainedAccess(mCallingIdentity.get(),
-                uriType, /* forWrite */ true, Bundle.EMPTY);
+                uriType, /* forWrite */ true, /* includedDefaultDirectoriesOptional */
+                Optional.empty());
 
         final String matchWritableRowsClause = String.format("%s=0 OR (%s=1 AND (%s OR %s))",
                 column, column, MATCH_PENDING_FROM_FUSE, writeAccessCheckSql);
@@ -3278,7 +3283,8 @@ public class MediaProvider extends ContentProvider {
         final String[] selectionArgs = new String[] {path};
 
         final SQLiteQueryBuilder qbForQuery =
-                getQueryBuilder(TYPE_QUERY, match, uri, Bundle.EMPTY, null);
+                getQueryBuilder(TYPE_QUERY, match, uri, Bundle.EMPTY,
+                        null, /* includedDefaultDirectoriesOptional */ Optional.empty());
         try (Cursor c = qbForQuery.query(helper, new String[] {FileColumns.OWNER_PACKAGE_NAME},
                 selection, selectionArgs, null, null, null, null, null)) {
             if (!c.moveToFirst()) {
@@ -3295,7 +3301,8 @@ public class MediaProvider extends ContentProvider {
         }
 
         final SQLiteQueryBuilder qbForUpdate =
-                getQueryBuilder(TYPE_UPDATE, match, uri, Bundle.EMPTY, null);
+                getQueryBuilder(TYPE_UPDATE, match, uri, Bundle.EMPTY, null,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty());
         ContentValues values = new ContentValues();
         values.put(FileColumns.OWNER_PACKAGE_NAME, "null");
         return qbForUpdate.update(helper, values, selection, selectionArgs) == 1;
@@ -3303,14 +3310,15 @@ public class MediaProvider extends ContentProvider {
 
     private boolean updateDatabaseForFuseRename(@NonNull DatabaseHelper helper,
             @NonNull String oldPath, @NonNull String newPath, @NonNull ContentValues values) {
-        return updateDatabaseForFuseRename(helper, oldPath, newPath, values, Bundle.EMPTY);
+        return updateDatabaseForFuseRename(helper, oldPath, newPath, values, Bundle.EMPTY,
+                /* includedDefaultDirectoriesOptional */ Optional.empty());
     }
 
     private boolean updateDatabaseForFuseRename(@NonNull DatabaseHelper helper,
             @NonNull String oldPath, @NonNull String newPath, @NonNull ContentValues values,
-            @NonNull Bundle qbExtras) {
+            @NonNull Bundle qbExtras, Optional<List<String>> includedDefaultDirectoriesOptional) {
         return updateDatabaseForFuseRename(helper, oldPath, newPath, values, qbExtras,
-                FileUtils.getContentUriForPath(oldPath));
+                FileUtils.getContentUriForPath(oldPath), includedDefaultDirectoriesOptional);
     }
 
     /**
@@ -3318,10 +3326,12 @@ public class MediaProvider extends ContentProvider {
      */
     private boolean updateDatabaseForFuseRename(@NonNull DatabaseHelper helper,
             @NonNull String oldPath, @NonNull String newPath, @NonNull ContentValues values,
-            @NonNull Bundle qbExtras, Uri uriOldPath) {
+            @NonNull Bundle qbExtras, Uri uriOldPath,
+            Optional<List<String>> includedDefaultDirectoriesOptional) {
         boolean allowHidden = isCallingPackageAllowedHidden();
         final SQLiteQueryBuilder qbForUpdate = getQueryBuilder(TYPE_UPDATE,
-                matchUri(uriOldPath, allowHidden), uriOldPath, qbExtras, null);
+                matchUri(uriOldPath, allowHidden), uriOldPath, qbExtras, null,
+                includedDefaultDirectoriesOptional);
 
         // uriOldPath may use Files uri which doesn't allow modifying AudioColumns. Include
         // AudioColumns projection map if we are modifying any audio columns while renaming
@@ -3358,7 +3368,8 @@ public class MediaProvider extends ContentProvider {
         }
 
         if (retryUpdateWithReplace) {
-            if (deleteForFuseRename(helper, oldPath, newPath, qbExtras, selection, allowHidden)) {
+            if (deleteForFuseRename(helper, oldPath, newPath, qbExtras, selection, allowHidden,
+                    includedDefaultDirectoriesOptional)) {
                 Log.i(TAG, "Retrying database update after deleting conflicting entry");
                 count = qbForUpdate.update(helper, values, selection, new String[]{oldPath});
             } else {
@@ -3369,13 +3380,15 @@ public class MediaProvider extends ContentProvider {
     }
 
     private boolean deleteForFuseRename(DatabaseHelper helper, String oldPath,
-            String newPath, Bundle qbExtras, String selection, boolean allowHidden) {
+            String newPath, Bundle qbExtras, String selection, boolean allowHidden,
+            Optional<List<String>> includedDefaultDirectoriesOptional) {
         // We are replacing file in newPath with file in oldPath. If calling package has
         // write permission for newPath, delete existing database entry and retry update.
         final Uri uriNewPath = FileUtils.getContentUriForPath(oldPath);
         final SQLiteQueryBuilder qbForDelete = getQueryBuilder(TYPE_DELETE,
-                matchUri(uriNewPath, allowHidden), uriNewPath, qbExtras, null);
-        if (qbForDelete.delete(helper, selection, new String[] {newPath}) == 1) {
+                matchUri(uriNewPath, allowHidden), uriNewPath, qbExtras, null,
+                includedDefaultDirectoriesOptional);
+        if (qbForDelete.delete(helper, selection, new String[]{newPath}) == 1) {
             return true;
         }
         // Check if delete can be done using other URI grants
@@ -3505,7 +3518,7 @@ public class MediaProvider extends ContentProvider {
 
         final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_UPDATE,
                 matchUri(uriOldPath, isCallingPackageAllowedHidden()), uriOldPath, Bundle.EMPTY,
-                null);
+                null, /* includedDefaultDirectoriesOptional */ Optional.empty());
         final DatabaseHelper helper;
         try {
             helper = getDatabaseForUri(uriOldPath);
@@ -3597,9 +3610,6 @@ public class MediaProvider extends ContentProvider {
 
         helper.beginTransaction();
         try {
-            final Bundle qbExtras = new Bundle();
-            qbExtras.putStringArrayList(INCLUDED_DEFAULT_DIRECTORIES,
-                    getIncludedDefaultDirectories());
             final boolean wasHidden = FileUtils.shouldDirBeHidden(new File(oldPath));
             final boolean isHidden = FileUtils.shouldDirBeHidden(new File(newPath));
             for (String filePath : fileList) {
@@ -3608,7 +3618,7 @@ public class MediaProvider extends ContentProvider {
                 if(!updateDatabaseForFuseRename(helper, oldPath + "/" + filePath, newFilePath,
                         getContentValuesForFuseRename(newFilePath, mimeType, wasHidden, isHidden,
                                 /* isSameMimeType */ true),
-                        qbExtras)) {
+                        new Bundle(), Optional.of(getIncludedDefaultDirectories()))) {
                     Log.e(TAG, "Calling package doesn't have write permission to rename file.");
                     return OsConstants.EPERM;
                 }
@@ -3732,7 +3742,7 @@ public class MediaProvider extends ContentProvider {
             return false;
         }
         return updateDatabaseForFuseRename(helper, oldPath, newPath, contentValues, Bundle.EMPTY,
-                oldPathGrantedUri);
+                oldPathGrantedUri, /* includedDefaultDirectoriesOptional */ Optional.empty());
     }
 
     /**
@@ -3922,7 +3932,8 @@ public class MediaProvider extends ContentProvider {
                 type = TYPE_QUERY;
             }
 
-            final SQLiteQueryBuilder qb = getQueryBuilder(type, table, uri, Bundle.EMPTY, null);
+            final SQLiteQueryBuilder qb = getQueryBuilder(type, table, uri, Bundle.EMPTY,
+                    null, /* includedDefaultDirectoriesOptional */ Optional.empty());
             try (Cursor c = qb.query(helper,
                     new String[] { BaseColumns._ID }, null, null, null, null, null, null, null)) {
                 if (c.getCount() == 1) {
@@ -4012,9 +4023,6 @@ public class MediaProvider extends ContentProvider {
         PulledMetrics.logVolumeAccessViaMediaProvider(getCallingUidOrSelf(), volumeName);
         queryArgs = (queryArgs != null) ? queryArgs : new Bundle();
 
-        // INCLUDED_DEFAULT_DIRECTORIES extra should only be set inside MediaProvider.
-        queryArgs.remove(INCLUDED_DEFAULT_DIRECTORIES);
-
         final ArraySet<String> honoredArgs = new ArraySet<>();
         DatabaseUtils.resolveQueryArgs(queryArgs, honoredArgs::add, this::ensureCustomCollator);
 
@@ -4081,7 +4089,7 @@ public class MediaProvider extends ContentProvider {
 
         final DatabaseHelper helper = getDatabaseForUri(uri);
         final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_QUERY, table, uri, queryArgs,
-                honoredArgs::add);
+                honoredArgs::add, /* includedDefaultDirectoriesOptional */ Optional.empty());
         // Allowing hidden column _user_id for this query to support Cloned Profile use case.
         if (table == FILES) {
             qb.allowColumn(FileColumns._USER_ID);
@@ -5627,7 +5635,7 @@ public class MediaProvider extends ContentProvider {
         // row irrespective of is_download=1.
         final Uri uri = FileUtils.getContentUriForPath(path);
         SQLiteQueryBuilder qb = getQueryBuilder(TYPE_UPDATE, matchUri(uri, allowHidden), uri,
-                extras, null);
+                extras, null, /* includedDefaultDirectoriesOptional */ Optional.empty());
 
         // We won't be able to update columns that are not part of projection map of Files table. We
         // have already checked strict columns in previous insert operation which failed with
@@ -5698,13 +5706,6 @@ public class MediaProvider extends ContentProvider {
     @Nullable
     private Uri insertInternal(@NonNull Uri uri, @Nullable ContentValues initialValues,
             @Nullable Bundle extras) throws FallbackException {
-        if (shouldCheckForMaliciousActivity() && !mMaliciousAppDetector.isAppAllowedToCreateFiles(
-                mCallingIdentity.get().uid)) {
-            Log.w(TAG, "Cannot be created, app has created files more than threshold limit of "
-                    + mMaliciousAppDetector.getFileCreationThresholdLimit());
-            throw new UnsupportedOperationException(
-                    "Cannot be created, app has created files more than threshold limit");
-        }
         final String originalVolumeName = getVolumeName(uri);
         PulledMetrics.logVolumeAccessViaMediaProvider(getCallingUidOrSelf(), originalVolumeName);
 
@@ -5712,9 +5713,6 @@ public class MediaProvider extends ContentProvider {
         // REDACTED_URI_BUNDLE_KEY extra should only be set inside MediaProvider.
         extras.remove(QUERY_ARG_REDACTED_URI);
 
-        // INCLUDED_DEFAULT_DIRECTORIES extra should only be set inside MediaProvider.
-        extras.remove(INCLUDED_DEFAULT_DIRECTORIES);
-
         final boolean allowHidden = isCallingPackageAllowedHidden();
         final int match = matchUri(uri, allowHidden);
 
@@ -5870,7 +5868,8 @@ public class MediaProvider extends ContentProvider {
         long rowId = -1;
         Uri newUri = null;
 
-        final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_INSERT, match, uri, extras, null);
+        final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_INSERT, match, uri, extras, null,
+                /* includedDefaultDirectoriesOptional */ Optional.empty());
 
         switch (match) {
             case IMAGES_MEDIA: {
@@ -6142,7 +6141,8 @@ public class MediaProvider extends ContentProvider {
         // We already handle the required permission checks for the app before we get here
         final LocalCallingIdentity token = clearLocalCallingIdentity();
         try {
-            return getQueryBuilder(type, match, uri, extras, honored);
+            return getQueryBuilder(type, match, uri, extras, honored,
+                    /* includedDefaultDirectoriesOptional */ Optional.empty());
         } finally {
             restoreLocalCallingIdentity(token);
         }
@@ -6164,17 +6164,20 @@ public class MediaProvider extends ContentProvider {
      * </ul>
      */
     private @NonNull SQLiteQueryBuilder getQueryBuilder(int type, int match,
-            @NonNull Uri uri, @NonNull Bundle extras, @Nullable Consumer<String> honored) {
+            @NonNull Uri uri, @NonNull Bundle extras, @Nullable Consumer<String> honored,
+            Optional<List<String>> includedDefaultDirectoriesOptional) {
         Trace.beginSection("MP.getQueryBuilder");
         try {
-            return getQueryBuilderInternal(type, match, uri, extras, honored);
+            return getQueryBuilderInternal(type, match, uri, extras, honored,
+                    includedDefaultDirectoriesOptional);
         } finally {
             Trace.endSection();
         }
     }
 
     private @NonNull SQLiteQueryBuilder getQueryBuilderInternal(int type, int match,
-            @NonNull Uri uri, @NonNull Bundle extras, @Nullable Consumer<String> honored) {
+            @NonNull Uri uri, @NonNull Bundle extras, @Nullable Consumer<String> honored,
+            Optional<List<String>> includedDefaultDirectoriesOptional) {
         final boolean forWrite;
         switch (type) {
             case TYPE_QUERY: forWrite = false; break;
@@ -6244,7 +6247,8 @@ public class MediaProvider extends ContentProvider {
         // to commit to this as an API.
         final boolean includeAllVolumes = shouldIncludeRecentlyUnmountedVolumes(uri, extras);
 
-        appendAccessCheckQuery(qb, forWrite, uri, match, extras, volumeName);
+        appendAccessCheckQuery(qb, forWrite, uri, match, extras, volumeName,
+                includedDefaultDirectoriesOptional);
 
         switch (match) {
             case IMAGES_MEDIA_ID:
@@ -6696,7 +6700,8 @@ public class MediaProvider extends ContentProvider {
     }
 
     private void appendAccessCheckQuery(@NonNull SQLiteQueryBuilder qb, boolean forWrite,
-            @NonNull Uri uri, int uriType, @NonNull Bundle extras, @NonNull String volumeName) {
+            @NonNull Uri uri, int uriType, @NonNull Bundle extras, @NonNull String volumeName,
+            Optional<List<String>> includedDefaultDirectoriesOptional) {
         Objects.requireNonNull(extras);
         final Uri redactedUri = extras.getParcelable(QUERY_ARG_REDACTED_URI);
 
@@ -6737,7 +6742,7 @@ public class MediaProvider extends ContentProvider {
                 // Allow access to files which are owned by the caller. Or allow access to files
                 // based on legacy or any other special access permissions.
                 options.add(getWhereForConstrainedAccess(mCallingIdentity.get(), uriType, forWrite,
-                        extras));
+                        includedDefaultDirectoriesOptional));
             }
         } else {
             if (isLatestSelectionOnlyRequired) {
@@ -6747,7 +6752,7 @@ public class MediaProvider extends ContentProvider {
             // Allow access to files which are owned by the caller. Or allow access to files
             // based on legacy or any other special access permissions.
             options.add(getWhereForConstrainedAccess(mCallingIdentity.get(), uriType, forWrite,
-                    extras));
+                    includedDefaultDirectoriesOptional));
         }
 
         appendWhereStandalone(qb, TextUtils.join(" OR ", options));
@@ -6841,9 +6846,6 @@ public class MediaProvider extends ContentProvider {
             return 0;
         }
 
-        // INCLUDED_DEFAULT_DIRECTORIES extra should only be set inside MediaProvider.
-        extras.remove(INCLUDED_DEFAULT_DIRECTORIES);
-
         uri = safeUncanonicalize(uri);
         final boolean allowHidden = isCallingPackageAllowedHidden();
         final int match = matchUri(uri, allowHidden);
@@ -6919,7 +6921,8 @@ public class MediaProvider extends ContentProvider {
             }
         }
 
-        final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_DELETE, match, uri, extras, null);
+        final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_DELETE, match, uri, extras, null,
+                /* includedDefaultDirectoriesOptional */ Optional.empty());
 
         {
             // Give callers interacting with a specific media item a chance to
@@ -6943,16 +6946,18 @@ public class MediaProvider extends ContentProvider {
             final int[] countPerMediaType = new int[FileColumns.MEDIA_TYPE_COUNT];
             if (isFilesTable) {
                 String deleteparam = uri.getQueryParameter(MediaStore.PARAM_DELETE_DATA);
-
-                // if calling package is not self and its target SDK version is greater than U,
-                // ignore the deleteparam and do not allow use by apps
-                if (!isCallingPackageSelf() && getCallingPackageTargetSdkVersion()
-                        > Build.VERSION_CODES.UPSIDE_DOWN_CAKE) {
-                    deleteparam = null;
+                boolean deleteData = (deleteparam == null) || Boolean.parseBoolean(deleteparam);
+                // if calling package is neither self nor file manager and its
+                // target SDK version is greater than U, ignore the deleteparam
+                // and do not allow use by apps
+                if (!deleteData && getCallingPackageTargetSdkVersion()
+                        > Build.VERSION_CODES.UPSIDE_DOWN_CAKE && !isCallingPackageSelf()
+                        && !isCallingPackageManager()) {
+                    deleteData = true;
                     Log.w(TAG, "Ignoring param:deletedata post U for external apps");
                 }
 
-                if (deleteparam == null || ! deleteparam.equals("false")) {
+                if (deleteData) {
                     Cursor c = qb.query(helper, projection, userWhere, userWhereArgs,
                             null, null, null, null, null);
                     try {
@@ -7057,7 +7062,8 @@ public class MediaProvider extends ContentProvider {
                 // 2. delete file row from the db
                 final boolean allowHidden = isCallingPackageAllowedHidden();
                 final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_DELETE,
-                        matchUri(uriGranted, allowHidden), uriGranted, extras, null);
+                        matchUri(uriGranted, allowHidden), uriGranted, extras, null,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty());
                 int count = qb.delete(helper, BaseColumns._ID + "=" + id, null);
 
                 if (isDownload == 1) {
@@ -7324,10 +7330,17 @@ public class MediaProvider extends ContentProvider {
                 removeRecoveryData();
                 return new Bundle();
             }
+            case MediaStore.MEDIA_SERVICE_V2_CALL: {
+                return getResultForMediaServiceV2Call(extras);
+            }
             case MediaStore.BULK_UPDATE_OEM_METADATA_CALL: {
                 callForBulkUpdateOemMetadataColumn();
                 return new Bundle();
             }
+            case MediaStore.QUERY_FILE_ATTRS_FROM_LEVELDB: {
+                getResultForQueryFileAccessAttrsFromLevelDb(arg);
+                return new Bundle();
+            }
             default:
                 throw new UnsupportedOperationException("Unsupported call: " + method);
         }
@@ -7375,6 +7388,26 @@ public class MediaProvider extends ContentProvider {
         }
     }
 
+    // TODO: b/411419451 - Delete method after query_leveldb_for_file_attributes flag rollout
+    private void getResultForQueryFileAccessAttrsFromLevelDb(String filepath) {
+        // WRITE_MEDIA_STORAGE is a privileged permission which only MediaProvider and some
+        // system apps.
+        getContext().enforceCallingPermission(Manifest.permission.WRITE_MEDIA_STORAGE,
+                "Calling app does not have permission to call "
+                        + "QUERY_FILE_ACCESS_ATTRS_FROM_LEVELDB by uid : "
+                        + Binder.getCallingUid());
+        final LocalCallingIdentity token = clearLocalCallingIdentity();
+        final CallingIdentity providerToken = clearCallingIdentity();
+        try {
+            FuseDaemon daemon = getFuseDaemonForFile(new File(filepath), mVolumeCache);
+            daemon.queryFileAccessAttributes(filepath);
+        } catch (IOException e) {
+            Log.w(TAG, "Query for file access attributes failed. " + e);
+        } finally {
+            restoreLocalCallingIdentity(token);
+            restoreCallingIdentity(providerToken);
+        }
+    }
     private String appendMediaTypeClause(Set<Integer> mediaTypesToBeUpdated) {
         List<String> whereMediaTypesCondition = new ArrayList<String>();
         for (Integer mediaType : mediaTypesToBeUpdated) {
@@ -7454,8 +7487,11 @@ public class MediaProvider extends ContentProvider {
         } else if (uris != null) {
             mMediaGrants.removeMediaGrantsForPackage(packageNames, uris, userId);
             if (isOwnedPhotosEnabled(packageUid)) {
-                mFilesOwnershipUtils.removeOwnerPackageNameForUris(packageNames, uris,
-                        userId);
+                int revokedAccessCount = mFilesOwnershipUtils.removeOwnerPackageNameForUris(
+                        packageNames, uris, userId);
+                MediaProviderStatsLog.write(
+                        MediaProviderStatsLog.OWNED_PHOTOS_REVOKED_FROM_APP_REPORTED,
+                        revokedAccessCount, packageUid);
             }
         }
         return null;
@@ -7798,8 +7834,9 @@ public class MediaProvider extends ContentProvider {
     }
 
     private Bundle markMediaAsFavorite(Bundle extras) {
-        final ContentValues values = extras.getParcelable(MediaStore.EXTRA_CONTENT_VALUES);
+        final boolean areFavorites = extras.getBoolean(MediaColumns.IS_FAVORITE);
         final ClipData clipData = extras.getParcelable(MediaStore.EXTRA_CLIP_DATA);
+
         final List<Uri> uris = collectUris(clipData);
 
         if (!isCallingPackageManager()) {
@@ -7812,6 +7849,13 @@ public class MediaProvider extends ContentProvider {
             }
         }
 
+        final ContentValues values = new ContentValues();
+        if (areFavorites) {
+            values.put(MediaColumns.IS_FAVORITE, 1);
+        } else {
+            values.put(MediaColumns.IS_FAVORITE, 0);
+        }
+
         final LocalCallingIdentity token = clearLocalCallingIdentity();
         try {
             for (Uri uri : uris) {
@@ -8166,6 +8210,88 @@ public class MediaProvider extends ContentProvider {
         mDatabaseBackupAndRecovery.removeRecoveryDataExceptValidUsers(validUsers);
     }
 
+    /**
+     * Utility function to test MediaServiceV2. Only to be used to testing.
+     */
+    private Bundle getResultForMediaServiceV2Call(Bundle extras) {
+        getContext().enforceCallingPermission(Manifest.permission.WRITE_MEDIA_STORAGE,
+                "Permission missing to call QUEUE_SCAN_VOLUME by uid:"
+                        + Binder.getCallingUid());
+
+        try {
+            Optional<UUID> uuidOptional;
+            MediaVolume volume;
+
+            boolean removeVolBeforeEnqueueing =
+                    extras.getBoolean(REMOVE_VOL_BEFORE_ENQUEUEING, false);
+            if (removeVolBeforeEnqueueing) {
+                volume = getVolume(extras.getString(VOLUME_NAME));
+                synchronized (mAttachedVolumes) {
+                    if (mAttachedVolumes.contains(volume)) {
+                        mAttachedVolumes.remove(volume);
+                    }
+                }
+            }
+
+            boolean isScanVolumeCall = extras.getBoolean(IS_SCAN_VOLUME_CALL, false);
+            if (isScanVolumeCall) {
+                volume = getVolume(extras.getString(VOLUME_NAME));
+                uuidOptional = MediaServiceV2.queueVolumeScan(getContext(), volume, REASON_UNKNOWN);
+            } else {
+                Intent intent = extras.getParcelable(BROADCAST_INTENT);
+                uuidOptional = MediaServiceV2.enqueueWork(getContext(), intent);
+            }
+
+            Bundle result = new Bundle();
+            if (uuidOptional.isEmpty()) {
+                result.putString(WORK_INFO_STATE, null);
+                return result;
+            }
+
+            UUID uuid = uuidOptional.get();
+
+            WorkManager workManager =  WorkManager.getInstance(getContext());
+
+            boolean waitForScanCompletion = extras.getBoolean(WAIT_FOR_SCAN_COMPLETION, true);
+            if (waitForScanCompletion) {
+                long waitTimeRemainingMillis = TIMEOUT_MILLIS;
+                WorkInfo.State currentState = workManager.getWorkInfoById(uuid).get().getState();
+                while (!currentState.isFinished() && waitTimeRemainingMillis >= 0) {
+                    SystemClock.sleep(POLL_INTERVAL_MILLIS);
+                    waitTimeRemainingMillis -= POLL_INTERVAL_MILLIS;
+                    currentState = workManager.getWorkInfoById(uuid).get().getState();
+                }
+            }
+
+            boolean cancelWorkAfterEnqueuing =
+                    extras.getBoolean(CANCEL_WORK_AFTER_ENQUEUEING, false);
+            if (cancelWorkAfterEnqueuing) {
+                //wait for work to enqueue
+                long waitTimeRemainingMillis = TIMEOUT_MILLIS;
+                WorkInfo.State currentState = workManager.getWorkInfoById(uuid).get().getState();
+                while (WorkInfo.State.ENQUEUED.equals(currentState)
+                        && waitTimeRemainingMillis >= 0) {
+                    SystemClock.sleep(POLL_INTERVAL_MILLIS);
+                    waitTimeRemainingMillis -= POLL_INTERVAL_MILLIS;
+                    currentState = workManager.getWorkInfoById(uuid).get().getState();
+                }
+
+                // cancel work once work is enqueued
+                workManager.cancelWorkById(uuid);
+            }
+
+            WorkInfo workInfo = workManager.getWorkInfoById(uuid).get();
+            if (workInfo == null) {
+                result.putString(WORK_INFO_STATE, null);
+            } else {
+                result.putString(WORK_INFO_STATE, workInfo.getState().toString());
+            }
+            return result;
+        } catch (Exception e) {
+            throw new RuntimeException(e);
+        }
+    }
+
     private String getSecurityExceptionMessage(String method) {
         int callingUid = Binder.getCallingUid();
         return String.format("%s not allowed. Calling app ID: %d, Calling UID %d. "
@@ -8690,8 +8816,6 @@ public class MediaProvider extends ContentProvider {
         // Related items are only considered for new media creation, and they
         // can't be leveraged to move existing content into blocked locations
         extras.remove(QUERY_ARG_RELATED_URI);
-        // INCLUDED_DEFAULT_DIRECTORIES extra should only be set inside MediaProvider.
-        extras.remove(INCLUDED_DEFAULT_DIRECTORIES);
 
         final String userWhere = extras.getString(QUERY_ARG_SQL_SELECTION);
         final String[] userWhereArgs = extras.getStringArray(QUERY_ARG_SQL_SELECTION_ARGS);
@@ -8764,7 +8888,8 @@ public class MediaProvider extends ContentProvider {
             }
         }
 
-        final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_UPDATE, match, uri, extras, null);
+        final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_UPDATE, match, uri, extras, null,
+                /* includedDefaultDirectoriesOptional */ Optional.empty());
 
         // Give callers interacting with a specific media item a chance to
         // escalate access if they don't already have it
@@ -9302,7 +9427,8 @@ public class MediaProvider extends ContentProvider {
                 extras.putInt(QUERY_ARG_MATCH_PENDING, MATCH_INCLUDE);
                 extras.putInt(QUERY_ARG_MATCH_TRASHED, MATCH_INCLUDE);
                 final SQLiteQueryBuilder qbForReplace = getQueryBuilder(TYPE_DELETE,
-                        matchUri(uri, allowHidden), uri, extras, null);
+                        matchUri(uri, allowHidden), uri, extras, null,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty());
                 final long rowId = getIdIfPathOwnedByPackages(qbForReplace, helper, path,
                         mCallingIdentity.get().getSharedPackagesAsString());
 
@@ -9598,7 +9724,8 @@ public class MediaProvider extends ContentProvider {
         try {
             helper = getDatabaseForUri(membersUri);
             qb = getQueryBuilder(TYPE_DELETE, AUDIO_PLAYLISTS_ID_MEMBERS,
-                    membersUri, queryArgs, null);
+                    membersUri, queryArgs, null,
+                    /* includedDefaultDirectoriesOptional */ Optional.empty());
         } catch (VolumeNotFoundException ignored) {
             return new int[0];
         }
@@ -10495,7 +10622,7 @@ public class MediaProvider extends ContentProvider {
         // Check if the caller has access to private app directories. Checks for Android/data,
         // Android/media and Android/obb
         boolean isUidAllowedAccessToDataOrObbPath =
-                isUidAllowedAccessToDataOrObbPathForFuse(mCallingIdentity.get().uid, filePath);
+                isUidAllowedAccessToDataOrObbPath(mCallingIdentity.get().uid, filePath);
 
         /*
          * If owned photos is enabled, then image or video stored in app's private directory may
@@ -10544,6 +10671,7 @@ public class MediaProvider extends ContentProvider {
      * the caller does not have special access.
      */
     private boolean isPrivatePackagePathNotAccessibleByCaller(String path) {
+        path = FileUtils.normalizeAndFilterDefaultIgnorableCodepoints(path);
         // Files under the apps own private directory
         final String appSpecificDir = extractPathOwnerPackageName(path);
 
@@ -10556,7 +10684,7 @@ public class MediaProvider extends ContentProvider {
         if (isExternalMediaDirectory(path)) {
             return false;
         }
-        return !isUidAllowedAccessToDataOrObbPathForFuse(mCallingIdentity.get().uid, path);
+        return !isUidAllowedAccessToDataOrObbPath(mCallingIdentity.get().uid, path);
     }
 
     private boolean shouldBypassDatabaseAndSetDirtyForFuse(int uid, String path) {
@@ -10727,6 +10855,34 @@ public class MediaProvider extends ContentProvider {
         return !matcher.matches();
     }
 
+    private boolean shouldQueryLevelDbForFileAttributes() {
+        // Don't query leveldb for wear targets and devices with android version R or lower.
+        return Flags.queryLeveldbForFileAttributes()
+                && !getContext().getPackageManager().hasSystemFeature(PackageManager.FEATURE_WATCH)
+                && SdkLevel.isAtLeastS();
+    }
+
+    private FileAccessAttributes queryLevelDbForFileAttributes(final String path)
+            throws IOException {
+        // Query levelDb only for external_primary storage paths
+        // TODO: b/411419451 - Remove check on path when Stable Uris rolled out for all volume paths
+        if (shouldQueryLevelDbForFileAttributes() && path.contains("/storage/emulated/")) {
+            try {
+                Trace.beginSection("MP.queryFileAttrsFromLevelDb");
+                FuseDaemon daemon = getFuseDaemonForFile(new File(path), mVolumeCache);
+                return daemon.queryFileAccessAttributes(path);
+            } catch (Exception e) {
+                Log.w(TAG, "LevelDb query for file access attributes for path " + path + " failed. "
+                        + e);
+                return null;
+            } finally {
+                Trace.endSection();
+            }
+        }
+
+        return null;
+    }
+
     private FileAccessAttributes queryForFileAttributes(final String path)
             throws FileNotFoundException {
         Trace.beginSection("MP.queryFileAttr");
@@ -10875,7 +11031,23 @@ public class MediaProvider extends ContentProvider {
                         mediaCapabilitiesUid, new long[0]);
             }
 
-            checkIfFileOpenIsPermitted(path, queryForFileAttributes(path), redactedUriId, forWrite);
+            final long leveldbQueryStartTime = SystemClock.elapsedRealtimeNanos();
+            FileAccessAttributes attrsFromLevelDb = queryLevelDbForFileAttributes(path);
+            final long leveldbQueryTime =
+                    SystemClock.elapsedRealtimeNanos() - leveldbQueryStartTime;
+
+            final long sqlQueryStartTime = SystemClock.elapsedRealtimeNanos();
+            FileAccessAttributes attrs = queryForFileAttributes(path);
+            final long sqlQueryTime = SystemClock.elapsedRealtimeNanos() - sqlQueryStartTime;
+
+            if (attrs != null && attrsFromLevelDb != null) {
+                MediaProviderStatsLog.write(
+                        MediaProviderStatsLog.FILE_ACCESS_ATTRIBUTES_QUERY_REPORTED,
+                        (int) sqlQueryTime, (int) leveldbQueryTime, attrs.equals(attrsFromLevelDb));
+            }
+
+            checkIfFileOpenIsPermitted(path, attrs, redactedUriId, forWrite);
+
             isSuccess = true;
             return new FileOpenResult(0 /* status */, originalUid, mediaCapabilitiesUid,
                     redact ? getRedactionRangesForFuse(path, ioPath, originalUid, uid, tid,
@@ -11397,6 +11569,11 @@ public class MediaProvider extends ContentProvider {
 
     @Keep
     public boolean isUidAllowedAccessToDataOrObbPathForFuse(int uid, String path) {
+        return isUidAllowedAccessToDataOrObbPath(uid,
+                FileUtils.normalizeAndFilterDefaultIgnorableCodepoints(path));
+    }
+
+    private boolean isUidAllowedAccessToDataOrObbPath(int uid, String path) {
         final LocalCallingIdentity token =
                 clearLocalCallingIdentity(getCachedCallingIdentityForFuse(uid));
         try {
@@ -11677,7 +11854,8 @@ public class MediaProvider extends ContentProvider {
 
         // First, check to see if caller has direct write access
         if (forWrite) {
-            final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_UPDATE, table, uri, extras, null);
+            final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_UPDATE, table, uri, extras,
+                    null, /* includedDefaultDirectoriesOptional */ Optional.empty());
             qb.allowColumn(SQLiteQueryBuilder.ROWID_COLUMN);
             try (Cursor c = qb.query(helper, new String[] { SQLiteQueryBuilder.ROWID_COLUMN },
                     selection, selectionArgs, null, null, null, null, null)) {
@@ -11701,7 +11879,8 @@ public class MediaProvider extends ContentProvider {
         }
 
         // Second, check to see if caller has direct read access
-        final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_QUERY, table, uri, extras, null);
+        final SQLiteQueryBuilder qb = getQueryBuilder(TYPE_QUERY, table, uri, extras, null,
+                /* includedDefaultDirectoriesOptional */ Optional.empty());
         qb.allowColumn(SQLiteQueryBuilder.ROWID_COLUMN);
         try (Cursor c = qb.query(helper, new String[] { SQLiteQueryBuilder.ROWID_COLUMN },
                 selection, selectionArgs, null, null, null, null, null)) {
@@ -12473,18 +12652,4 @@ public class MediaProvider extends ContentProvider {
     protected DatabaseBackupAndRecovery createDatabaseBackupAndRecovery() {
         return new DatabaseBackupAndRecovery(mConfigStore, mVolumeCache);
     }
-
-    protected MaliciousAppDetector createMaliciousAppDetector() {
-        return new MaliciousAppDetector(getContext());
-    }
-
-    protected boolean shouldCheckForMaliciousActivity() {
-        // Check for malicious activity if not a system gallery app, not the media provider itself,
-        // and the malicious app detector flag is enabled
-        if (!SdkLevel.isAtLeastS()) {
-            return false;
-        }
-        return Flags.enableMaliciousAppDetector() && !isCallingPackageSystemGallery()
-                && !isCallingPackageSelf();
-    }
 }
diff --git a/src/com/android/providers/media/MediaReceiver.java b/src/com/android/providers/media/MediaReceiver.java
index 50db65b24..c2ee2e61b 100644
--- a/src/com/android/providers/media/MediaReceiver.java
+++ b/src/com/android/providers/media/MediaReceiver.java
@@ -22,6 +22,8 @@ import android.content.ComponentName;
 import android.content.Context;
 import android.content.Intent;
 
+import com.android.modules.utils.build.SdkLevel;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.photopicker.PickerSyncController;
 import com.android.providers.media.stableuris.job.StableUriIdleMaintenanceService;
 
@@ -37,8 +39,13 @@ public class MediaReceiver extends BroadcastReceiver {
         } else {
             // All other operations are heavier-weight, so redirect them through
             // service to ensure they have breathing room to finish
-            intent.setComponent(new ComponentName(context, MediaService.class));
-            MediaService.enqueueWork(context, intent);
+            if (SdkLevel.isAtLeastS() && Flags.enableMediaServiceV2()) {
+                intent.setComponent(new ComponentName(context, MediaServiceV2.class));
+                MediaServiceV2.enqueueWork(context, intent);
+            } else {
+                intent.setComponent(new ComponentName(context, MediaService.class));
+                MediaService.enqueueWork(context, intent);
+            }
         }
     }
 }
diff --git a/src/com/android/providers/media/MediaService.java b/src/com/android/providers/media/MediaService.java
index 1c3d8720f..f04e58efa 100644
--- a/src/com/android/providers/media/MediaService.java
+++ b/src/com/android/providers/media/MediaService.java
@@ -43,14 +43,23 @@ import java.io.IOException;
 public class MediaService extends JobIntentService {
     private static final int JOB_ID = -300;
 
-    private static final String ACTION_SCAN_VOLUME
+    public static final String ACTION_SCAN_VOLUME
             = "com.android.providers.media.action.SCAN_VOLUME";
 
-    private static final String EXTRA_MEDIAVOLUME = "MediaVolume";
-
-    private static final String EXTRA_SCAN_REASON = "scan_reason";
+    public static final String EXTRA_MEDIAVOLUME = "MediaVolume";
 
+    public static final String EXTRA_SCAN_REASON = "scan_reason";
 
+    /**
+     * @deprecated Use {@link MediaServiceV2#queueVolumeScan(Context, MediaVolume, int)} instead.
+     * Queues a volume scan operation. This method is now deprecated. To be used for version R or
+     * lower.
+     *
+     * @param context The application context.
+     * @param volume The {@link MediaVolume} to scan.
+     * @param reason The reason for the scan.
+     */
+    @Deprecated
     public static void queueVolumeScan(Context context, MediaVolume volume, int reason) {
         Intent intent = new Intent(ACTION_SCAN_VOLUME);
         intent.putExtra(EXTRA_MEDIAVOLUME, volume) ;
@@ -58,6 +67,10 @@ public class MediaService extends JobIntentService {
         enqueueWork(context, intent);
     }
 
+    /**
+     * @deprecated Enqueues work for given given intent.
+     */
+    @Deprecated
     public static void enqueueWork(Context context, Intent work) {
         enqueueWork(context, MediaService.class, JOB_ID, work);
     }
@@ -71,28 +84,30 @@ public class MediaService extends JobIntentService {
         try {
             switch (intent.getAction()) {
                 case Intent.ACTION_LOCALE_CHANGED: {
-                    onLocaleChanged();
+                    onLocaleChanged(this);
                     break;
                 }
                 case Intent.ACTION_PACKAGE_FULLY_REMOVED:
                 case Intent.ACTION_PACKAGE_DATA_CLEARED: {
                     final String packageName = intent.getData().getSchemeSpecificPart();
                     final int uid = intent.getIntExtra(Intent.EXTRA_UID, 0);
-                    onPackageOrphaned(packageName, uid);
+                    onPackageOrphaned(this, packageName, uid);
                     break;
                 }
                 case Intent.ACTION_MEDIA_SCANNER_SCAN_FILE: {
-                    onScanFile(this, intent.getData());
+                    onScanFile(this, intent.getData().getPath());
                     break;
                 }
                 case Intent.ACTION_MEDIA_MOUNTED: {
-                    onMediaMountedBroadcast(this, intent);
+                    final StorageVolume volume =
+                            intent.getParcelableExtra(StorageVolume.EXTRA_STORAGE_VOLUME);
+                    onMediaMountedBroadcast(this, volume);
                     break;
                 }
                 case ACTION_SCAN_VOLUME: {
                     final MediaVolume volume = intent.getParcelableExtra(EXTRA_MEDIAVOLUME);
                     if (volume.isPublicVolume()) {
-                        recoverPublicVolumeIfNeeded(volume);
+                        recoverPublicVolumeIfNeeded(volume, getContentResolver());
                     }
                     int reason = intent.getIntExtra(EXTRA_SCAN_REASON, REASON_DEMAND);
                     onScanVolume(this, volume, reason);
@@ -113,23 +128,22 @@ public class MediaService extends JobIntentService {
         }
     }
 
-    private void onLocaleChanged() {
-        try (ContentProviderClient cpc = getContentResolver()
+    static void onLocaleChanged(Context context) {
+        try (ContentProviderClient cpc = context.getContentResolver()
                 .acquireContentProviderClient(MediaStore.AUTHORITY)) {
             ((MediaProvider) cpc.getLocalContentProvider()).onLocaleChanged();
         }
     }
 
-    private void onPackageOrphaned(String packageName, int uid) {
-        try (ContentProviderClient cpc = getContentResolver()
+    static void onPackageOrphaned(Context context, String packageName, int uid) {
+        try (ContentProviderClient cpc = context.getContentResolver()
                 .acquireContentProviderClient(MediaStore.AUTHORITY)) {
             ((MediaProvider) cpc.getLocalContentProvider()).onPackageOrphaned(packageName, uid);
         }
     }
 
-    private static void onMediaMountedBroadcast(Context context, Intent intent)
+    static void onMediaMountedBroadcast(Context context, StorageVolume volume)
             throws IOException {
-        final StorageVolume volume = intent.getParcelableExtra(StorageVolume.EXTRA_STORAGE_VOLUME);
         if (volume != null) {
             MediaVolume mediaVolume = MediaVolume.fromStorageVolume(volume);
             try (ContentProviderClient cpc = context.getContentResolver()
@@ -150,8 +164,12 @@ public class MediaService extends JobIntentService {
         }
     }
 
-    private void recoverPublicVolumeIfNeeded(MediaVolume volume) {
-        try (ContentProviderClient cpc = getContentResolver()
+    /**
+     * Attempts to recover a public media volume.
+     */
+    static void recoverPublicVolumeIfNeeded(MediaVolume volume,
+            ContentResolver contentResolver) {
+        try (ContentProviderClient cpc = contentResolver
                 .acquireContentProviderClient(MediaStore.AUTHORITY)) {
             ((MediaProvider) cpc.getLocalContentProvider()).recoverPublicVolume(volume);
         } catch (Exception e) {
@@ -229,8 +247,8 @@ public class MediaService extends JobIntentService {
         }
     }
 
-    private static Uri onScanFile(Context context, Uri uri) throws IOException {
-        final File file = new File(uri.getPath()).getCanonicalFile();
+    static Uri onScanFile(Context context, String path) throws IOException {
+        final File file = new File(path).getCanonicalFile();
         try (ContentProviderClient cpc = context.getContentResolver()
                 .acquireContentProviderClient(MediaStore.AUTHORITY)) {
             final MediaProvider provider = ((MediaProvider) cpc.getLocalContentProvider());
diff --git a/src/com/android/providers/media/MediaServiceV2.java b/src/com/android/providers/media/MediaServiceV2.java
new file mode 100644
index 000000000..cc43f437e
--- /dev/null
+++ b/src/com/android/providers/media/MediaServiceV2.java
@@ -0,0 +1,345 @@
+/*
+ * Copyright (C) 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.providers.media;
+
+import static com.android.providers.media.MediaService.ACTION_SCAN_VOLUME;
+import static com.android.providers.media.MediaService.EXTRA_MEDIAVOLUME;
+import static com.android.providers.media.MediaService.EXTRA_SCAN_REASON;
+import static com.android.providers.media.scan.MediaScanner.REASON_MOUNTED;
+import static com.android.providers.media.scan.MediaScanner.REASON_UNKNOWN;
+
+import android.content.ContentProviderClient;
+import android.content.Context;
+import android.content.Intent;
+import android.os.Parcel;
+import android.os.Trace;
+import android.os.storage.StorageVolume;
+import android.provider.MediaStore;
+import android.util.Log;
+
+import androidx.annotation.NonNull;
+import androidx.work.Data;
+import androidx.work.ExistingWorkPolicy;
+import androidx.work.OneTimeWorkRequest;
+import androidx.work.OutOfQuotaPolicy;
+import androidx.work.WorkManager;
+import androidx.work.Worker;
+import androidx.work.WorkerParameters;
+
+import com.android.modules.utils.build.SdkLevel;
+import com.android.providers.media.flags.Flags;
+import com.android.providers.media.photopicker.sync.WorkManagerInitializer;
+import com.android.providers.media.photopicker.util.exceptions.RequestObsoleteException;
+
+import java.util.Optional;
+import java.util.UUID;
+
+public class MediaServiceV2 extends Worker {
+    private static final String KEY_INTENT_ACTION = "intent_action";
+    private static final String KEY_MEDIA_VOLUME_SERIALISED = "media_volume_serialised";
+    private static final String KEY_STORAGE_VOLUME_SERIALISED = "storage_volume_serialised";
+    private static final String KEY_SCAN_REASON = "scan_reason";
+    private static final String KEY_PACKAGE_NAME = "package_name";
+    private static final String KEY_UID = "uid";
+    private static final String KEY_PATH = "path";
+    private static final String SCAN_VOLUME_WORK_CHAIN = "scan_volume_work_chain";
+    private static final String MEDIA_BROADCAST_WORK_CHAIN = "media_broadcast_work_chain";
+    private static final String TAG = MediaServiceV2.class.getSimpleName();
+    private final Context mContext;
+
+    public MediaServiceV2(@NonNull Context context, @NonNull WorkerParameters workerParams) {
+        super(context, workerParams);
+        mContext = context;
+    }
+
+    /**
+     * Queues a volume scan operation.
+     *
+     * @param context The application context.
+     * @param volume The {@link MediaVolume} to scan.
+     * @param reason The reason for the scan.
+     *
+     * @return {@link UUID} UUID of work request for scan volume
+     */
+    public static Optional<UUID> queueVolumeScan(Context context, MediaVolume volume, int reason) {
+        Intent intent = new Intent(ACTION_SCAN_VOLUME);
+        intent.putExtra(EXTRA_MEDIAVOLUME, volume);
+        intent.putExtra(EXTRA_SCAN_REASON, reason);
+        return enqueueWork(context, intent);
+    }
+
+    /**
+     * Enqueues work for given given intent. Ensure that SdkLevel >= S and enable_media_service_v2
+     * flag is enabled before calling this function.
+     */
+    public static Optional<UUID> enqueueWork(Context context, Intent intent) {
+        if (!Flags.enableMediaServiceV2() || !SdkLevel.isAtLeastS()) {
+            Log.e(TAG, "Work not enqueued because enable_media_service_v2 flag was disabled "
+                    + "or SdkLevel was less than S.");
+            return Optional.empty();
+        }
+
+        Log.i(TAG, "Creating work for intent " + intent.toString());
+        String action = intent.getAction();
+
+        if (action == null) {
+            Log.e(TAG, "Intent does not have action. No work created.");
+            return Optional.empty();
+        }
+
+        WorkManager workManager = WorkManagerInitializer.getWorkManager(context);
+
+        // All scan volume work and media mounted (which internally calls scan volume) work are
+        // enqueued on one thread and all other broadcasts are enqueued on other thread.
+        final String uniqueChainName;
+        if (ACTION_SCAN_VOLUME.equalsIgnoreCase(action)
+                || Intent.ACTION_MEDIA_MOUNTED.equalsIgnoreCase(action)) {
+            uniqueChainName = SCAN_VOLUME_WORK_CHAIN;
+        }  else {
+            uniqueChainName = MEDIA_BROADCAST_WORK_CHAIN;
+        }
+
+        Optional<OneTimeWorkRequest> workRequestOptional = getWorkRequest(intent);
+        if (workRequestOptional.isEmpty()) {
+            return Optional.empty();
+        }
+
+        OneTimeWorkRequest workRequest = workRequestOptional.get();
+        workManager.enqueueUniqueWork(uniqueChainName,
+                ExistingWorkPolicy.APPEND_OR_REPLACE, workRequest);
+        Log.i(TAG, "Work enqueued for intent: " + intent);
+
+        return Optional.of(workRequest.getId());
+    }
+
+    private static Optional<OneTimeWorkRequest> getWorkRequest(Intent intent) {
+        OneTimeWorkRequest.Builder workRequestBuilder =
+                new OneTimeWorkRequest.Builder(MediaServiceV2.class);
+        Data.Builder dataBuilder = new Data.Builder();
+        String action = intent.getAction();
+
+        dataBuilder.put(KEY_INTENT_ACTION, action);
+
+        switch (action) {
+            case Intent.ACTION_PACKAGE_FULLY_REMOVED:
+            case Intent.ACTION_PACKAGE_DATA_CLEARED: {
+                dataBuilder.putString(KEY_PACKAGE_NAME, intent.getData().getSchemeSpecificPart());
+                dataBuilder.putInt(KEY_UID, intent.getIntExtra(Intent.EXTRA_UID, 0));
+                break;
+            }
+            case Intent.ACTION_MEDIA_SCANNER_SCAN_FILE: {
+                dataBuilder.putString(KEY_PATH, intent.getData().getPath());
+                break;
+            }
+            case Intent.ACTION_MEDIA_MOUNTED: {
+                final StorageVolume storageVolume =
+                        intent.getParcelableExtra(StorageVolume.EXTRA_STORAGE_VOLUME);
+                byte[] bytes = serializeStorageVolume(storageVolume);
+                dataBuilder.putByteArray(KEY_STORAGE_VOLUME_SERIALISED, bytes);
+                workRequestBuilder.setExpedited(OutOfQuotaPolicy.RUN_AS_NON_EXPEDITED_WORK_REQUEST);
+                break;
+            }
+            case ACTION_SCAN_VOLUME: {
+                MediaVolume mediaVolume = intent.getParcelableExtra(EXTRA_MEDIAVOLUME);
+                byte[] bytes = serializeMediaVolume(mediaVolume);
+                dataBuilder.putByteArray(KEY_MEDIA_VOLUME_SERIALISED, bytes);
+                int scanReason = intent.getIntExtra(EXTRA_SCAN_REASON, REASON_UNKNOWN);
+                dataBuilder.putInt(KEY_SCAN_REASON, scanReason);
+                workRequestBuilder.setExpedited(OutOfQuotaPolicy.RUN_AS_NON_EXPEDITED_WORK_REQUEST);
+                break;
+            }
+            case Intent.ACTION_LOCALE_CHANGED: {
+                // This is a no-op
+                break;
+            }
+            default : {
+                Log.e(TAG, "Unknown intent action " + action);
+                return Optional.empty();
+            }
+        }
+
+        Data inputData = dataBuilder.build();
+        workRequestBuilder.setInputData(inputData);
+        return Optional.of(workRequestBuilder.build());
+    }
+
+    @NonNull
+    @Override
+    public Result doWork() {
+        Data data = getInputData();
+        String action = data.getString(KEY_INTENT_ACTION);
+
+        Log.i(TAG, "Work initiated for action [ " + action + " ]");
+
+        try {
+            Trace.beginSection("MediaServiceV2.handle [ " + action +  " ]");
+            checkIsWorkerStopped();
+            Data inputData = getInputData();
+            switch (action) {
+                case Intent.ACTION_LOCALE_CHANGED: {
+                    MediaService.onLocaleChanged(mContext);
+                    break;
+                }
+                case Intent.ACTION_PACKAGE_FULLY_REMOVED:
+                case Intent.ACTION_PACKAGE_DATA_CLEARED: {
+                    final String packageName = inputData.getString(KEY_PACKAGE_NAME);
+                    final int uid = inputData.getInt(KEY_UID, 0);
+                    MediaService.onPackageOrphaned(mContext, packageName, uid);
+                    break;
+                }
+                case Intent.ACTION_MEDIA_SCANNER_SCAN_FILE: {
+                    final String path = inputData.getString(KEY_PATH);
+                    MediaService.onScanFile(mContext, path);
+                    break;
+                }
+                case Intent.ACTION_MEDIA_MOUNTED: {
+                    byte[] bytes = data.getByteArray(KEY_STORAGE_VOLUME_SERIALISED);
+                    StorageVolume storageVolume = deserializeStorageVolume(bytes);
+                    MediaService.onMediaMountedBroadcast(mContext, storageVolume);
+                    break;
+                }
+                case ACTION_SCAN_VOLUME : {
+                    byte[] bytes = data.getByteArray(KEY_MEDIA_VOLUME_SERIALISED);
+                    final MediaVolume volume = deserializeMediaVolume(bytes);
+                    int scanReason = data.getInt(KEY_SCAN_REASON, REASON_UNKNOWN);
+                    Log.i(TAG, "Starting scan volume for " + volume.getName());
+                    if (volume.isPublicVolume()) {
+                        MediaService.recoverPublicVolumeIfNeeded(volume,
+                                mContext.getContentResolver());
+                    }
+                    MediaService.onScanVolume(mContext, volume, scanReason);
+                    break;
+                }
+                default: {
+                    Log.i(TAG, "Unknown intent action [ " + action + " ]");
+                }
+            }
+        } catch (Exception e) {
+            Log.e(TAG, "Work failed for action [" + action + " ]", e);
+            return Result.failure();
+        } finally {
+            Log.i(TAG, "Work ended for action [ " + action + " ]");
+            Trace.endSection();
+        }
+
+        return Result.success();
+    }
+
+    @Override
+    public void onStopped() {
+        Data data = getInputData();
+        String action = data.getString(KEY_INTENT_ACTION);
+
+        Log.i(TAG, "[onStopped] Work stopped for action: " + action);
+
+        try {
+            Trace.beginSection("MediaServiceV2.onStopped [ " + action +  " ]");
+            switch (action) {
+                case ACTION_SCAN_VOLUME : {
+                    byte[] bytes = data.getByteArray(KEY_MEDIA_VOLUME_SERIALISED);
+                    int scanReason = data.getInt(KEY_SCAN_REASON, REASON_UNKNOWN);
+                    final MediaVolume mediaVolume = deserializeMediaVolume(bytes);
+                    stopScanVolume(mediaVolume, scanReason);
+                    break;
+                }
+                case Intent.ACTION_MEDIA_MOUNTED: {
+                    byte[] bytes = data.getByteArray(KEY_STORAGE_VOLUME_SERIALISED);
+                    final StorageVolume storageVolume = deserializeStorageVolume(bytes);
+                    final MediaVolume mediaVolume = MediaVolume.fromStorageVolume(storageVolume);
+                    stopScanVolume(mediaVolume, REASON_MOUNTED);
+                    break;
+                }
+                case Intent.ACTION_LOCALE_CHANGED:
+                case Intent.ACTION_PACKAGE_FULLY_REMOVED:
+                case Intent.ACTION_PACKAGE_DATA_CLEARED:
+                case Intent.ACTION_MEDIA_SCANNER_SCAN_FILE: {
+                    // This is a no-op
+                    break;
+                }
+                default: {
+                    Log.e(TAG, "[onStopped] Unknown intent action received: " + action);
+                }
+            }
+        } catch (Exception e) {
+            Log.e(TAG, "[onStopped] Exception while handling stopped work for action: "
+                    + action, e);
+        } finally {
+            Log.i(TAG, "[onStopped] Finished handling stop for action: " + action);
+            Trace.endSection();
+        }
+    }
+
+    private void stopScanVolume(MediaVolume volume, int scanReason) {
+        try (ContentProviderClient cpc = mContext.getContentResolver()
+                .acquireContentProviderClient(MediaStore.AUTHORITY)) {
+            ((MediaProvider) cpc.getLocalContentProvider())
+                    .onScanVolumeWorkStopped(volume, scanReason);
+        }
+    }
+
+    /**
+     * If the system crashes and calls onStopped(), the work is rescheduled afterwards. So if the
+     * work is running, we stop it.
+     */
+    private void checkIsWorkerStopped() throws RequestObsoleteException {
+        if (isStopped()) {
+            throw new RequestObsoleteException("Work is stopped. Id: " + getId());
+        }
+    }
+
+    private static byte[] serializeMediaVolume(MediaVolume mediaVolume) {
+        Parcel parcel = Parcel.obtain();
+        try {
+            mediaVolume.writeToParcel(parcel, 0);
+            return parcel.marshall();
+        } finally {
+            parcel.recycle();
+        }
+    }
+
+    private static MediaVolume deserializeMediaVolume(byte[] bytes) {
+        Parcel parcel = Parcel.obtain();
+        try {
+            parcel.unmarshall(bytes, 0, bytes.length);
+            parcel.setDataPosition(0);
+            return MediaVolume.CREATOR.createFromParcel(parcel);
+        } finally {
+            parcel.recycle();
+        }
+    }
+
+    private static byte[] serializeStorageVolume(StorageVolume storageVolume) {
+        Parcel parcel = Parcel.obtain();
+        try {
+            storageVolume.writeToParcel(parcel, 0);
+            return parcel.marshall();
+        } finally {
+            parcel.recycle();
+        }
+    }
+
+    private static StorageVolume deserializeStorageVolume(byte[] bytes) {
+        Parcel parcel = Parcel.obtain();
+        try {
+            parcel.unmarshall(bytes, 0, bytes.length);
+            parcel.setDataPosition(0);
+            return StorageVolume.CREATOR.createFromParcel(parcel);
+        } finally {
+            parcel.recycle();
+        }
+    }
+}
diff --git a/src/com/android/providers/media/backupandrestore/BackupAndRestoreUtils.java b/src/com/android/providers/media/backupandrestore/BackupAndRestoreUtils.java
index c162c8c06..ac0e4569e 100644
--- a/src/com/android/providers/media/backupandrestore/BackupAndRestoreUtils.java
+++ b/src/com/android/providers/media/backupandrestore/BackupAndRestoreUtils.java
@@ -17,6 +17,7 @@
 package com.android.providers.media.backupandrestore;
 
 import static com.android.providers.media.flags.Flags.enableBackupAndRestore;
+import static com.android.providers.media.flags.Flags.enableVersioningForBackupAndRestore;
 
 import android.annotation.NonNull;
 import android.content.Context;
@@ -30,11 +31,29 @@ import com.android.providers.media.util.FileUtils;
 import com.google.common.collect.HashBiMap;
 
 import java.io.File;
+import java.util.LinkedHashSet;
+import java.util.Set;
 
 /**
  * Class containing common constants and methods for backup and restore.
  */
 public final class BackupAndRestoreUtils {
+    /**
+     * The current level db version.
+     */
+    static final String CURRENT_LEVEL_DB_VERSION_KEY = "CURRENT_LEVEL_DB_VERSION";
+
+    /**
+     * The default level db version.
+     */
+    static final long DEFAULT_LEVEL_DB_VERSION = 1;
+
+    /**
+     * Increment the level db version when new columns are added to existing
+     * {@link BackupAndRestoreUtils#BACKUP_COLUMNS}. A new level db instance will be created with
+     * newly added columns.
+     */
+    static final long LATEST_LEVEL_DB_VERSION = 2;
 
     /**
      * String separator used for separating key, value pairs.
@@ -72,54 +91,69 @@ public final class BackupAndRestoreUtils {
     static final String TAG = BackupAndRestoreUtils.class.getSimpleName();
 
     /**
-     * Array of columns backed up for restore in the future.
+     * static variable that keeps backup and restore feature enabled
+     */
+    private static final boolean IS_BACKUP_AND_RESTORE_ENABLED = true;
+
+    /**
+     * Set of columns backed up for restore in the future. LinkedHashSet is used to maintain the
+     * order of elements that are inserted in the set.
      */
-    static final String[] BACKUP_COLUMNS = new String[]{
-            MediaStore.Files.FileColumns.IS_FAVORITE,
-            MediaStore.Files.FileColumns.MEDIA_TYPE,
-            MediaStore.Files.FileColumns.MIME_TYPE,
-            MediaStore.Files.FileColumns._USER_ID,
-            MediaStore.Files.FileColumns.SIZE,
-            MediaStore.MediaColumns.DATE_TAKEN,
-            MediaStore.MediaColumns.CD_TRACK_NUMBER,
-            MediaStore.MediaColumns.ALBUM,
-            MediaStore.MediaColumns.ARTIST,
-            MediaStore.MediaColumns.AUTHOR,
-            MediaStore.MediaColumns.COMPOSER,
-            MediaStore.MediaColumns.GENRE,
-            MediaStore.MediaColumns.TITLE,
-            MediaStore.MediaColumns.YEAR,
-            MediaStore.MediaColumns.DURATION,
-            MediaStore.MediaColumns.NUM_TRACKS,
-            MediaStore.MediaColumns.WRITER,
-            MediaStore.MediaColumns.ALBUM_ARTIST,
-            MediaStore.MediaColumns.DISC_NUMBER,
-            MediaStore.MediaColumns.COMPILATION,
-            MediaStore.MediaColumns.BITRATE,
-            MediaStore.MediaColumns.CAPTURE_FRAMERATE,
-            MediaStore.Audio.AudioColumns.TRACK,
-            MediaStore.MediaColumns.DOCUMENT_ID,
-            MediaStore.MediaColumns.INSTANCE_ID,
-            MediaStore.MediaColumns.ORIGINAL_DOCUMENT_ID,
-            MediaStore.MediaColumns.RESOLUTION,
-            MediaStore.MediaColumns.ORIENTATION,
-            MediaStore.Video.VideoColumns.COLOR_STANDARD,
-            MediaStore.Video.VideoColumns.COLOR_TRANSFER,
-            MediaStore.Video.VideoColumns.COLOR_RANGE,
-            MediaStore.Files.FileColumns._VIDEO_CODEC_TYPE,
-            MediaStore.MediaColumns.WIDTH,
-            MediaStore.MediaColumns.HEIGHT,
-            MediaStore.Images.ImageColumns.DESCRIPTION,
-            MediaStore.Images.ImageColumns.EXPOSURE_TIME,
-            MediaStore.Images.ImageColumns.F_NUMBER,
-            MediaStore.Images.ImageColumns.ISO,
-            MediaStore.Images.ImageColumns.SCENE_CAPTURE_TYPE,
-            MediaStore.Files.FileColumns._SPECIAL_FORMAT,
-            MediaStore.Files.FileColumns.OWNER_PACKAGE_NAME,
-            // Keeping at the last as it is a BLOB type and can have separator used in our
-            // serialisation
-            MediaStore.MediaColumns.XMP,
-    };
+    public static final Set<String> BACKUP_COLUMNS = new LinkedHashSet<>();
+
+    static {
+        BACKUP_COLUMNS.add(MediaStore.Files.FileColumns.IS_FAVORITE);
+        BACKUP_COLUMNS.add(MediaStore.Files.FileColumns.MEDIA_TYPE);
+        BACKUP_COLUMNS.add(MediaStore.Files.FileColumns.MIME_TYPE);
+        BACKUP_COLUMNS.add(MediaStore.Files.FileColumns._USER_ID);
+        BACKUP_COLUMNS.add(MediaStore.Files.FileColumns.SIZE);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.DATE_TAKEN);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.CD_TRACK_NUMBER);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.ALBUM);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.ARTIST);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.AUTHOR);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.COMPOSER);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.GENRE);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.TITLE);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.YEAR);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.DURATION);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.NUM_TRACKS);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.WRITER);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.ALBUM_ARTIST);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.DISC_NUMBER);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.COMPILATION);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.BITRATE);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.CAPTURE_FRAMERATE);
+        BACKUP_COLUMNS.add(MediaStore.Audio.AudioColumns.TRACK);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.DOCUMENT_ID);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.INSTANCE_ID);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.ORIGINAL_DOCUMENT_ID);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.RESOLUTION);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.ORIENTATION);
+        BACKUP_COLUMNS.add(MediaStore.Video.VideoColumns.COLOR_STANDARD);
+        BACKUP_COLUMNS.add(MediaStore.Video.VideoColumns.COLOR_TRANSFER);
+        BACKUP_COLUMNS.add(MediaStore.Video.VideoColumns.COLOR_RANGE);
+        BACKUP_COLUMNS.add(MediaStore.Files.FileColumns._VIDEO_CODEC_TYPE);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.WIDTH);
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.HEIGHT);
+        BACKUP_COLUMNS.add(MediaStore.Images.ImageColumns.DESCRIPTION);
+        BACKUP_COLUMNS.add(MediaStore.Images.ImageColumns.EXPOSURE_TIME);
+        BACKUP_COLUMNS.add(MediaStore.Images.ImageColumns.F_NUMBER);
+        BACKUP_COLUMNS.add(MediaStore.Images.ImageColumns.ISO);
+        BACKUP_COLUMNS.add(MediaStore.Images.ImageColumns.SCENE_CAPTURE_TYPE);
+        BACKUP_COLUMNS.add(MediaStore.Files.FileColumns._SPECIAL_FORMAT);
+        BACKUP_COLUMNS.add(MediaStore.Files.FileColumns.OWNER_PACKAGE_NAME);
+
+        // add fields for subsequent versions here
+        if (enableVersioningForBackupAndRestore() && LATEST_LEVEL_DB_VERSION >= 2) {
+            BACKUP_COLUMNS.add(MediaStore.Files.FileColumns.DATE_ADDED);
+            BACKUP_COLUMNS.add(MediaStore.Files.FileColumns.DATE_MODIFIED);
+        }
+
+        // Keeping at the last as it is a BLOB type and can have separator used in our
+        // serialisation. Added in version 1.
+        BACKUP_COLUMNS.add(MediaStore.MediaColumns.XMP);
+    }
 
     static final HashBiMap<String, String> sIdToColumnBiMap = HashBiMap.create();
 
@@ -169,6 +203,13 @@ public final class BackupAndRestoreUtils {
         sIdToColumnBiMap.put("38", MediaStore.Images.ImageColumns.SCENE_CAPTURE_TYPE);
         sIdToColumnBiMap.put("39", MediaStore.Files.FileColumns._SPECIAL_FORMAT);
         sIdToColumnBiMap.put("40", MediaStore.Files.FileColumns.OWNER_PACKAGE_NAME);
+
+        // add fields for subsequent versions here
+        if (enableVersioningForBackupAndRestore() && LATEST_LEVEL_DB_VERSION >= 2) {
+            sIdToColumnBiMap.put("41", MediaStore.Files.FileColumns.DATE_ADDED);
+            sIdToColumnBiMap.put("42", MediaStore.Files.FileColumns.DATE_MODIFIED);
+        }
+
         // Adding number gap to allow addition of new values
         sIdToColumnBiMap.put("80", MediaStore.MediaColumns.XMP);
     }
@@ -186,7 +227,11 @@ public final class BackupAndRestoreUtils {
      *         {@code false} otherwise.
      */
     static boolean isBackupAndRestoreSupported(Context context) {
-        if (!enableBackupAndRestore() || !SdkLevel.isAtLeastS()) {
+        if (!SdkLevel.isAtLeastB()) {
+            return false;
+        }
+
+        if (!enableBackupAndRestore() && !IS_BACKUP_AND_RESTORE_ENABLED) {
             return false;
         }
 
diff --git a/src/com/android/providers/media/backupandrestore/BackupExecutor.java b/src/com/android/providers/media/backupandrestore/BackupExecutor.java
index 118ddd88f..c52c680ca 100644
--- a/src/com/android/providers/media/backupandrestore/BackupExecutor.java
+++ b/src/com/android/providers/media/backupandrestore/BackupExecutor.java
@@ -20,9 +20,13 @@ import static android.provider.MediaStore.VOLUME_EXTERNAL_PRIMARY;
 
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.BACKUP_COLUMNS;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.BACKUP_DIRECTORY_NAME;
+import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.CURRENT_LEVEL_DB_VERSION_KEY;
+import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.DEFAULT_LEVEL_DB_VERSION;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.FIELD_SEPARATOR;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.KEY_VALUE_SEPARATOR;
+import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.LATEST_LEVEL_DB_VERSION;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.isBackupAndRestoreSupported;
+import static com.android.providers.media.flags.Flags.enableVersioningForBackupAndRestore;
 import static com.android.providers.media.util.Logging.TAG;
 
 import android.annotation.SuppressLint;
@@ -33,6 +37,7 @@ import android.provider.MediaStore.Files.FileColumns;
 import android.provider.MediaStore.MediaColumns;
 import android.util.Log;
 
+import com.android.modules.utils.build.SdkLevel;
 import com.android.providers.media.DatabaseHelper;
 import com.android.providers.media.leveldb.LevelDBEntry;
 import com.android.providers.media.leveldb.LevelDBInstance;
@@ -51,7 +56,6 @@ import java.util.Optional;
  * Class containing implementation details for backing up files table data to leveldb.
  */
 public final class BackupExecutor {
-
     private static final String EXTERNAL_PRIMARY_VOLUME_CLAUSE =
             FileColumns.VOLUME_NAME + " = '" + VOLUME_EXTERNAL_PRIMARY + "'";
 
@@ -92,28 +96,40 @@ public final class BackupExecutor {
      */
     public void doBackup(CancellationSignal signal) {
         if (!isBackupAndRestoreSupported(mContext)) {
+            removeBackupFolderForUnsupportedSdkLevels();
             return;
         }
         Log.v(TAG, "Backup is enabled");
 
-        if (mLevelDBInstance == null) {
-            mLevelDBInstance = LevelDBManager.getInstance(getBackupFilePath());
-        }
+        mLevelDBInstance = LevelDBManager.getInstance(getBackupFilePath());
         final long lastBackedUpGenerationNumberFromLevelDb = getLastBackedUpGenerationNumber();
+        final long currentLevelDbVersion = getCurrentLevelDbVersion();
         final long currentDbGenerationNumber = mExternalDatabaseHelper.runWithoutTransaction(
                 DatabaseHelper::getGeneration);
         final long lastBackedUpGenerationNumber = clearBackupIfNeededAndReturnLastBackedUpNumber(
-                currentDbGenerationNumber, lastBackedUpGenerationNumberFromLevelDb);
+                currentDbGenerationNumber, lastBackedUpGenerationNumberFromLevelDb,
+                currentLevelDbVersion);
         Log.v(TAG, "Last backed up generation number: " + lastBackedUpGenerationNumber);
         long lastGenerationNumber = backupData(lastBackedUpGenerationNumber, signal);
         updateLastBackedUpGenerationNumber(lastGenerationNumber);
+        setLatestLevelDbVersion();
+    }
+
+    private void removeBackupFolderForUnsupportedSdkLevels() {
+        if (!SdkLevel.isAtLeastB() && LevelDBManager.isLevelDbPresentForPath(getBackupFilePath())) {
+            Log.i(TAG, "Backup is enabled only for B+ devices. "
+                    + "Deleting leveldb backup since the SdkLevel < B.");
+            LevelDBManager.delete(getBackupFilePath());
+        }
     }
 
     private long clearBackupIfNeededAndReturnLastBackedUpNumber(long currentDbGenerationNumber,
-            long lastBackedUpGenerationNumber) {
-        if (currentDbGenerationNumber < lastBackedUpGenerationNumber) {
-            // If DB generation number is lesser than last backed, we would have to re-sync
-            // everything
+            long lastBackedUpGenerationNumber, long currentLevelDbVersion) {
+        if (currentDbGenerationNumber < lastBackedUpGenerationNumber
+                || (enableVersioningForBackupAndRestore()
+                && currentLevelDbVersion < LATEST_LEVEL_DB_VERSION)) {
+             // If the DB generation number is less than the last backed-up value or the current
+             // levelDB version is lower than the latest version, a full re-sync is required.
             mLevelDBInstance = LevelDBManager.recreate(getBackupFilePath());
             return 0;
         }
@@ -123,7 +139,7 @@ public final class BackupExecutor {
 
     @SuppressLint("Range")
     private long backupData(long lastBackedUpGenerationNumber, CancellationSignal signal) {
-        List<String> queryColumns = new ArrayList<>(Arrays.asList(BACKUP_COLUMNS));
+        List<String> queryColumns = new ArrayList<>(BACKUP_COLUMNS);
         queryColumns.addAll(Arrays.asList(FileColumns.DATA, FileColumns.GENERATION_MODIFIED));
         final String selectionClause = prepareSelectionClause(lastBackedUpGenerationNumber);
         return mExternalDatabaseHelper.runWithTransaction((db) -> {
@@ -244,6 +260,26 @@ public final class BackupExecutor {
         return Long.parseLong(value);
     }
 
+    private long getCurrentLevelDbVersion() {
+        if (!enableVersioningForBackupAndRestore()) {
+            return DEFAULT_LEVEL_DB_VERSION;
+        }
+
+        LevelDBResult levelDBResult = mLevelDBInstance.query(CURRENT_LEVEL_DB_VERSION_KEY);
+        if (!levelDBResult.isSuccess() && !levelDBResult.isNotFound()) {
+            throw new IllegalStateException("Error in fetching current level db version : "
+                    + levelDBResult.getErrorMessage());
+        }
+
+        String value = levelDBResult.getValue();
+
+        if (levelDBResult.isNotFound() || value == null || value.isEmpty()) {
+            return DEFAULT_LEVEL_DB_VERSION;
+        }
+
+        return Long.parseLong(value);
+    }
+
     private void updateLastBackedUpGenerationNumber(long lastGenerationNumber) {
         LevelDBResult levelDBResult = mLevelDBInstance.insert(
                 new LevelDBEntry(LAST_BACKED_GENERATION_NUMBER_KEY,
@@ -254,6 +290,16 @@ public final class BackupExecutor {
         }
     }
 
+    private void setLatestLevelDbVersion() {
+        LevelDBResult levelDBResult = mLevelDBInstance.insert(
+                new LevelDBEntry(CURRENT_LEVEL_DB_VERSION_KEY,
+                        String.valueOf(LATEST_LEVEL_DB_VERSION)));
+        if (!levelDBResult.isSuccess()) {
+            throw new IllegalStateException("Error in inserting level db version : "
+                    + levelDBResult.getErrorMessage());
+        }
+    }
+
     /**
      * Returns backup file path based on the volume name.
      */
diff --git a/src/com/android/providers/media/backupandrestore/MediaBackupAgent.java b/src/com/android/providers/media/backupandrestore/MediaBackupAgent.java
index 6fa98220e..f8da8f199 100644
--- a/src/com/android/providers/media/backupandrestore/MediaBackupAgent.java
+++ b/src/com/android/providers/media/backupandrestore/MediaBackupAgent.java
@@ -35,6 +35,7 @@ import android.provider.MediaStore;
 import android.util.Log;
 
 import com.android.providers.media.MediaProvider;
+import com.android.providers.media.util.Logging;
 
 import java.io.File;
 import java.io.IOException;
@@ -82,13 +83,17 @@ public final class MediaBackupAgent extends BackupAgent {
 
         Context context = getApplicationContext();
         if (isBackupAndRestoreSupported(context)) {
+            Logging.logPersistent("Backup is supported and initiated.");
             try (ContentProviderClient cpc = context.getContentResolver()
                     .acquireContentProviderClient(MediaStore.AUTHORITY)) {
                 final MediaProvider provider = ((MediaProvider) cpc.getLocalContentProvider());
                 provider.triggerBackup();
             } catch (Exception e) {
                 Log.e(TAG, "Failed to trigger backup", e);
+                Logging.logPersistent("Backup failed. " + e.getMessage());
             }
+        } else {
+            Logging.logPersistent("Backup is not supported.");
         }
 
         super.onFullBackup(data);
@@ -107,6 +112,7 @@ public final class MediaBackupAgent extends BackupAgent {
 
         Context context = getApplicationContext();
         if (isBackupAndRestoreSupported(context)) {
+            Logging.logPersistent("Restore is supported and initiated.");
             // The backed-up data from the source device will be read from the restore directory,
             // while the device will create its own backup directory.
             copyContentsFromBackupToRestoreDirectory(context);
@@ -116,6 +122,8 @@ public final class MediaBackupAgent extends BackupAgent {
 
             // Indicates restore is completed and metadata can be read from restore directory
             enableRestoreFromRecentBackup(context);
+        } else {
+            Logging.logPersistent("Restore is not supported.");
         }
     }
 
diff --git a/src/com/android/providers/media/fuse/ExternalStorageServiceImpl.java b/src/com/android/providers/media/fuse/ExternalStorageServiceImpl.java
index 0ff6df47b..11e29b61d 100644
--- a/src/com/android/providers/media/fuse/ExternalStorageServiceImpl.java
+++ b/src/com/android/providers/media/fuse/ExternalStorageServiceImpl.java
@@ -35,7 +35,9 @@ import androidx.annotation.Nullable;
 import com.android.modules.utils.build.SdkLevel;
 import com.android.providers.media.MediaProvider;
 import com.android.providers.media.MediaService;
+import com.android.providers.media.MediaServiceV2;
 import com.android.providers.media.MediaVolume;
+import com.android.providers.media.flags.Flags;
 
 import java.io.File;
 import java.io.IOException;
@@ -106,7 +108,13 @@ public final class ExternalStorageServiceImpl extends ExternalStorageService {
             case Environment.MEDIA_MOUNTED:
                 MediaVolume volume = MediaVolume.fromStorageVolume(vol);
                 mediaProvider.attachVolume(volume, /* validate */ false, Environment.MEDIA_MOUNTED);
-                MediaService.queueVolumeScan(mediaProvider.getContext(), volume, REASON_MOUNTED);
+                if (SdkLevel.isAtLeastS() && Flags.enableMediaServiceV2()) {
+                    MediaServiceV2.queueVolumeScan(mediaProvider.getContext(), volume,
+                            REASON_MOUNTED);
+                } else {
+                    MediaService.queueVolumeScan(mediaProvider.getContext(), volume,
+                            REASON_MOUNTED);
+                }
                 break;
             case Environment.MEDIA_UNMOUNTED:
             case Environment.MEDIA_EJECTING:
diff --git a/src/com/android/providers/media/fuse/FuseDaemon.java b/src/com/android/providers/media/fuse/FuseDaemon.java
index fa910c195..3a8a5d7b9 100644
--- a/src/com/android/providers/media/fuse/FuseDaemon.java
+++ b/src/com/android/providers/media/fuse/FuseDaemon.java
@@ -23,6 +23,7 @@ import androidx.annotation.NonNull;
 
 import com.android.internal.annotations.GuardedBy;
 import com.android.providers.media.FdAccessResult;
+import com.android.providers.media.FileAccessAttributes;
 import com.android.providers.media.MediaProvider;
 import com.android.providers.media.util.FileUtils;
 
@@ -267,6 +268,19 @@ public final class FuseDaemon extends Thread {
         }
     }
 
+    /**
+     * Read backed up data for given file
+     * @return FileAccessAttributes
+     */
+    public FileAccessAttributes queryFileAccessAttributes(String filepath) throws IOException {
+        synchronized (mLock) {
+            if (mPtr == 0) {
+                throw new IOException("FUSE daemon unavailable");
+            }
+            return native_query_file_access_attributes(mPtr, filepath);
+        }
+    }
+
     /**
      * Reads backed up data for given file from external storage.
      */
@@ -351,6 +365,8 @@ public final class FuseDaemon extends Thread {
             String value);
     private native String[] native_read_backed_up_file_paths(long daemon, String volumeName,
             String lastReadValue, int limit);
+    private native FileAccessAttributes native_query_file_access_attributes(long daemon,
+            String path);
     private native String native_read_backed_up_data(long daemon, String key);
     private native String native_read_ownership(long daemon, String ownerPackageIdentifier);
     private native void native_create_owner_id_relation(long daemon, String ownerId,
diff --git a/src/com/android/providers/media/leveldb/LevelDBManager.java b/src/com/android/providers/media/leveldb/LevelDBManager.java
index b7d95ed43..8b4892a35 100644
--- a/src/com/android/providers/media/leveldb/LevelDBManager.java
+++ b/src/com/android/providers/media/leveldb/LevelDBManager.java
@@ -49,6 +49,20 @@ public final class LevelDBManager {
         }
     }
 
+    /**
+     * Checks if a LevelDB instance is present for a given path.
+     *
+     * @param path The path to check for the presence of a LevelDB instance.
+     * @return {@code true} if a LevelDB instance is present for the specified path,
+     * {@code false} otherwise.
+     */
+    public static boolean isLevelDbPresentForPath(String path) {
+        synchronized (sLockObject) {
+            path = Ascii.toLowerCase(path.trim());
+            return INSTANCES.containsKey(path);
+        }
+    }
+
     /**
      * Deletes existing leveldb instance on given path and creates a new one.
      *
diff --git a/src/com/android/providers/media/photopicker/CategoriesState.java b/src/com/android/providers/media/photopicker/CategoriesState.java
index 380247ee3..8e70dd113 100644
--- a/src/com/android/providers/media/photopicker/CategoriesState.java
+++ b/src/com/android/providers/media/photopicker/CategoriesState.java
@@ -50,4 +50,23 @@ public class CategoriesState {
                 && Flags.enableCloudMediaProviderCapabilities()
                 && client.fetchCapabilities().isMediaCategoriesEnabled();
     }
+
+    /**
+     * Checks whether or not the given provider sends cloud albums as a category
+     * @param context The app context
+     * @param authority The provider authority
+     * @return True if the provider sends cloud albums as a category
+     */
+    public boolean isCloudAlbumsAsCategoryEnabled(Context context, String authority) {
+        PickerSearchProviderClient client = PickerSearchProviderClient.create(
+                context, authority);
+
+        return SdkLevel.isAtLeastT()
+                && mConfigStore.isModernPickerEnabled()
+                && Flags.enablePhotopickerSearch()
+                && Flags.enableCloudMediaProviderCapabilities()
+                && Flags.fetchCloudAlbumsAsCategories()
+                && client.fetchCapabilities().isMediaCategoriesEnabled()
+                && client.fetchCapabilities().isAlbumsAsCategoryEnabled();
+    }
 }
diff --git a/src/com/android/providers/media/photopicker/PhotoPickerProvider.java b/src/com/android/providers/media/photopicker/PhotoPickerProvider.java
index c7336fd96..3e3d98386 100644
--- a/src/com/android/providers/media/photopicker/PhotoPickerProvider.java
+++ b/src/com/android/providers/media/photopicker/PhotoPickerProvider.java
@@ -26,6 +26,7 @@ import android.content.ContentProviderClient;
 import android.content.ContentResolver;
 import android.content.res.AssetFileDescriptor;
 import android.database.Cursor;
+import android.database.MatrixCursor;
 import android.graphics.Point;
 import android.net.Uri;
 import android.os.Bundle;
@@ -34,6 +35,8 @@ import android.os.IBinder;
 import android.os.OperationCanceledException;
 import android.os.ParcelFileDescriptor;
 import android.provider.CloudMediaProvider;
+import android.provider.CloudMediaProviderContract;
+import android.provider.CloudMediaProviderContract.Capabilities;
 import android.provider.ICloudMediaSurfaceController;
 import android.provider.MediaStore;
 
@@ -43,6 +46,7 @@ import androidx.annotation.Nullable;
 import com.android.providers.media.LocalCallingIdentity;
 import com.android.providers.media.MediaProvider;
 import com.android.providers.media.PickerUriResolver;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.photopicker.data.CloudProviderQueryExtras;
 import com.android.providers.media.photopicker.data.ExternalDbFacade;
 
@@ -70,7 +74,8 @@ public class PhotoPickerProvider extends CloudMediaProvider {
                 CloudProviderQueryExtras.fromCloudMediaBundle(extras);
 
         return mDbFacade.queryMedia(queryExtras.getGeneration(), queryExtras.getAlbumId(),
-                queryExtras.getMimeTypes(), queryExtras.getPageSize(), queryExtras.getPageToken());
+                queryExtras.getMimeTypes(), queryExtras.getPageSize(), queryExtras.getPageToken(),
+                CloudMediaProviderContract.SORT_ORDER_DESC_DATE_TAKEN);
     }
 
     @Override
@@ -153,6 +158,61 @@ public class PhotoPickerProvider extends CloudMediaProvider {
                 ICloudMediaSurfaceController.Stub.asInterface(binder));
     }
 
+    @Override
+    @NonNull
+    public Capabilities onGetCapabilities() {
+        Capabilities.Builder capabilities = new Capabilities.Builder();
+        capabilities.setMediaCategoriesEnabled(Flags.enableLocalMediaProviderCapabilities());
+        return capabilities.build();
+    }
+
+    @Override
+    @NonNull
+    public Cursor onQueryMediaCategories(
+            @Nullable String parentCategoryId,
+            @NonNull Bundle extras,
+            @Nullable CancellationSignal cancellationSignal) {
+        if (!Flags.enableLocalMediaProviderCapabilities()
+                || (cancellationSignal != null && cancellationSignal.isCanceled())) {
+            return new MatrixCursor(CloudMediaProviderContract.MediaCategoryColumns.ALL_PROJECTION);
+        }
+        final CloudProviderQueryExtras queryExtras =
+                CloudProviderQueryExtras.fromCloudMediaBundle(extras);
+        return mDbFacade.queryMediaCategories(queryExtras.getMimeTypes());
+    }
+
+    @Override
+    @NonNull
+    public Cursor onQueryMediaSets(
+            @Nullable String mediaCategoryId,
+            @NonNull Bundle extras,
+            @Nullable CancellationSignal cancellationSignal) {
+        if (!Flags.enableLocalMediaProviderCapabilities()
+                || (cancellationSignal != null && cancellationSignal.isCanceled())) {
+            return new MatrixCursor(CloudMediaProviderContract.MediaSetColumns.ALL_PROJECTION);
+        }
+        final CloudProviderQueryExtras queryExtras =
+                CloudProviderQueryExtras.fromCloudMediaBundle(extras);
+        return mDbFacade.queryMediaSets(mediaCategoryId, queryExtras.getMimeTypes(),
+                queryExtras.getPageSize(), queryExtras.getPageToken());
+    }
+
+    @Override
+    @NonNull
+    public Cursor onQueryMediaInMediaSet(
+            @Nullable String mediaSetId,
+            @Nullable Bundle extras,
+            @Nullable CancellationSignal cancellationSignal) {
+        if (!Flags.enableLocalMediaProviderCapabilities()
+                || (cancellationSignal != null && cancellationSignal.isCanceled())) {
+            return new MatrixCursor(CloudMediaProviderContract.MediaColumns.ALL_PROJECTION);
+        }
+        final CloudProviderQueryExtras queryExtras =
+                CloudProviderQueryExtras.fromCloudMediaBundle(extras);
+        return mDbFacade.queryMediaInMediaSet(mediaSetId, queryExtras.getMimeTypes(),
+                queryExtras.getPageSize(), queryExtras.getPageToken(), queryExtras.getSortOrder());
+    }
+
     private MediaProvider getMediaProvider() {
         ContentResolver cr = getContext().getContentResolver();
         try (ContentProviderClient cpc = cr.acquireContentProviderClient(MediaStore.AUTHORITY)) {
diff --git a/src/com/android/providers/media/photopicker/data/CloudProviderQueryExtras.java b/src/com/android/providers/media/photopicker/data/CloudProviderQueryExtras.java
index 1f1e187a2..66b5c1e01 100644
--- a/src/com/android/providers/media/photopicker/data/CloudProviderQueryExtras.java
+++ b/src/com/android/providers/media/photopicker/data/CloudProviderQueryExtras.java
@@ -56,6 +56,7 @@ public class CloudProviderQueryExtras {
     private final int mPageSize;
     private final long mDateTakenBeforeMs;
     private final int mRowId;
+    private final int mSortOrder;
 
     private boolean mShouldScreenSelectionUris;
     private final List<String> mLocalIdSelection;
@@ -80,13 +81,14 @@ public class CloudProviderQueryExtras {
         mLocalIdSelection = LIST_DEFAULT;
         mCloudIdSelection = LIST_DEFAULT;
         mPageToken = STRING_DEFAULT;
+        mSortOrder = CloudMediaProviderContract.SORT_ORDER_DESC_DATE_TAKEN;
     }
 
     private CloudProviderQueryExtras(String albumId, String albumAuthority, String[] mimeTypes,
             long sizeBytes, long generation, int limit, boolean isFavorite, boolean isVideo,
             boolean isLocalOnly, int pageSize, long dateTakenBeforeMs, int rowId,
             boolean shouldScreenSelectionUris, List<String> localIdSelection,
-            List<String> cloudIdSelection, String pageToken) {
+            List<String> cloudIdSelection, String pageToken, int sortOrder) {
         mAlbumId = albumId;
         mAlbumAuthority = albumAuthority;
         mMimeTypes = mimeTypes;
@@ -103,6 +105,7 @@ public class CloudProviderQueryExtras {
         mLocalIdSelection = localIdSelection;
         mCloudIdSelection = cloudIdSelection;
         mPageToken = pageToken;
+        mSortOrder = sortOrder;
     }
 
     /**
@@ -139,7 +142,8 @@ public class CloudProviderQueryExtras {
 
         return new CloudProviderQueryExtras(albumId, albumAuthority, mimeTypes, sizeBytes,
                 generation, limit, isFavorite, isVideo, isLocalOnly, pageSize, dateTakenBeforeMs,
-                rowId, shouldScreenSelectionUris, localIdSelection, cloudIdSelection, pageToken);
+                rowId, shouldScreenSelectionUris, localIdSelection, cloudIdSelection, pageToken,
+                CloudMediaProviderContract.SORT_ORDER_DESC_DATE_TAKEN);
     }
 
     public static CloudProviderQueryExtras fromCloudMediaBundle(Bundle bundle) {
@@ -171,10 +175,13 @@ public class CloudProviderQueryExtras {
         final List<String> cloudIdSelection = bundle.getStringArrayList(QUERY_CLOUD_ID_SELECTION);
         final String pageToken = bundle.getString(
                 CloudMediaProviderContract.EXTRA_PAGE_TOKEN, STRING_DEFAULT);
+        final int sortOrder = bundle.getInt(CloudMediaProviderContract.EXTRA_SORT_ORDER,
+                CloudMediaProviderContract.SORT_ORDER_DESC_DATE_TAKEN);
 
         return new CloudProviderQueryExtras(albumId, albumAuthority, mimeTypes, sizeBytes,
                 generation, limit, isFavorite, isVideo, isLocalOnly, pageSize, dateTakenBeforeMs,
-                rowId, shouldScreenSelectionUris, localIdSelection, cloudIdSelection, pageToken);
+                rowId, shouldScreenSelectionUris, localIdSelection, cloudIdSelection, pageToken,
+                sortOrder);
     }
 
     public PickerDbFacade.QueryFilter toQueryFilter() {
@@ -265,4 +272,8 @@ public class CloudProviderQueryExtras {
     public String getPageToken() {
         return mPageToken;
     }
+
+    public int getSortOrder() {
+        return mSortOrder;
+    }
 }
diff --git a/src/com/android/providers/media/photopicker/data/ExternalDbFacade.java b/src/com/android/providers/media/photopicker/data/ExternalDbFacade.java
index 9d75256d5..d21a7f7a3 100644
--- a/src/com/android/providers/media/photopicker/data/ExternalDbFacade.java
+++ b/src/com/android/providers/media/photopicker/data/ExternalDbFacade.java
@@ -25,25 +25,40 @@ import static android.provider.CloudMediaProviderContract.EXTRA_ALBUM_ID;
 import static android.provider.CloudMediaProviderContract.EXTRA_MEDIA_COLLECTION_ID;
 import static android.provider.CloudMediaProviderContract.EXTRA_PAGE_SIZE;
 import static android.provider.CloudMediaProviderContract.EXTRA_PAGE_TOKEN;
+import static android.provider.CloudMediaProviderContract.EXTRA_SORT_ORDER;
 import static android.provider.CloudMediaProviderContract.EXTRA_SYNC_GENERATION;
+import static android.provider.CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS;
+import static android.provider.CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS;
+import static android.provider.CloudMediaProviderContract.MediaCategoryColumns;
 import static android.provider.CloudMediaProviderContract.MediaCollectionInfo;
+import static android.provider.CloudMediaProviderContract.MediaSetColumns;
 
 import static com.android.providers.media.photopicker.data.PickerDbFacade.QueryFilterBuilder.INT_DEFAULT;
 import static com.android.providers.media.photopicker.data.PickerDbFacade.QueryFilterBuilder.LONG_DEFAULT;
-import static com.android.providers.media.photopicker.data.PickerDbFacade.addMimeTypesToQueryBuilderAndSelectionArgs;
 import static com.android.providers.media.photopicker.util.CursorUtils.getCursorLong;
 import static com.android.providers.media.photopicker.util.CursorUtils.getCursorString;
 import static com.android.providers.media.util.DatabaseUtils.bindList;
+import static com.android.providers.media.util.DatabaseUtils.replaceMatchAnyChar;
 
+import android.content.ComponentName;
 import android.content.ContentValues;
 import android.content.Context;
+import android.content.Intent;
+import android.content.pm.ApplicationInfo;
+import android.content.pm.LauncherActivityInfo;
+import android.content.pm.LauncherApps;
+import android.content.pm.PackageManager;
+import android.content.res.Resources;
 import android.database.Cursor;
 import android.database.MatrixCursor;
+import android.database.MergeCursor;
 import android.database.sqlite.SQLiteConstraintException;
 import android.database.sqlite.SQLiteDatabase;
+import android.database.sqlite.SQLiteException;
 import android.database.sqlite.SQLiteQueryBuilder;
 import android.os.Bundle;
 import android.os.Environment;
+import android.os.UserHandle;
 import android.provider.CloudMediaProviderContract;
 import android.provider.MediaStore;
 import android.provider.MediaStore.Files.FileColumns;
@@ -51,16 +66,24 @@ import android.provider.MediaStore.MediaColumns;
 import android.text.TextUtils;
 import android.util.Log;
 
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 import androidx.annotation.VisibleForTesting;
 
 import com.android.providers.media.DatabaseHelper;
+import com.android.providers.media.R;
 import com.android.providers.media.VolumeCache;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.photopicker.PickerSyncController;
 import com.android.providers.media.util.MimeUtils;
 
 import java.util.ArrayList;
 import java.util.Arrays;
+import java.util.Collections;
+import java.util.HashSet;
 import java.util.List;
+import java.util.Locale;
+import java.util.Set;
 
 /**
  * This is a facade that hides the complexities of executing some SQL statements on the external db.
@@ -79,37 +102,142 @@ public class ExternalDbFacade {
     private static final String COLUMN_OLD_ID_AS_ID = COLUMN_OLD_ID + " AS " +
             CloudMediaProviderContract.MediaColumns.ID;
     private static final String COLUMN_GENERATION_MODIFIED = MediaColumns.GENERATION_MODIFIED;
-
-    private static final String[] PROJECTION_MEDIA_COLUMNS = new String[] {
-        MediaColumns._ID + " AS " + CloudMediaProviderContract.MediaColumns.ID,
-        "COALESCE(" + MediaColumns.DATE_TAKEN + "," + MediaColumns.DATE_MODIFIED +
-                    "* 1000) AS " + CloudMediaProviderContract.MediaColumns.DATE_TAKEN_MILLIS,
-        MediaColumns.GENERATION_MODIFIED + " AS " +
-                CloudMediaProviderContract.MediaColumns.SYNC_GENERATION,
-        MediaColumns.SIZE + " AS " + CloudMediaProviderContract.MediaColumns.SIZE_BYTES,
-        MediaColumns.MIME_TYPE + " AS " + CloudMediaProviderContract.MediaColumns.MIME_TYPE,
-        FileColumns._SPECIAL_FORMAT + " AS " +
-                CloudMediaProviderContract.MediaColumns.STANDARD_MIME_TYPE_EXTENSION,
-        MediaColumns.DURATION + " AS " + CloudMediaProviderContract.MediaColumns.DURATION_MILLIS,
-        MediaColumns.IS_FAVORITE + " AS " + CloudMediaProviderContract.MediaColumns.IS_FAVORITE,
-        MediaColumns.WIDTH + " AS " + CloudMediaProviderContract.MediaColumns.WIDTH,
-        MediaColumns.HEIGHT + " AS " + CloudMediaProviderContract.MediaColumns.HEIGHT,
-        MediaColumns.ORIENTATION + " AS " + CloudMediaProviderContract.MediaColumns.ORIENTATION,
-        MediaColumns.OWNER_PACKAGE_NAME + " AS "
-                + CloudMediaProviderContract.MediaColumns.OWNER_PACKAGE_NAME,
-        FileColumns._USER_ID + " AS " + CloudMediaProviderContract.MediaColumns.USER_ID,
+    private static final String COLUMN_DATE_TAKEN_MILLIS = "COALESCE(" + MediaColumns.DATE_TAKEN
+            + "," + MediaColumns.DATE_MODIFIED + "* 1000)";
+    private static final String COLUMN_ROW_NUMBER = "row_number";
+    private static final String TABLE_SUBQUERY = "subquery_table";
+
+    private static final String[] PROJECTION_MEDIA_COLUMNS = new String[]{
+            MediaColumns._ID + " AS " + CloudMediaProviderContract.MediaColumns.ID,
+            COLUMN_DATE_TAKEN_MILLIS + " AS "
+                    + CloudMediaProviderContract.MediaColumns.DATE_TAKEN_MILLIS,
+            MediaColumns.GENERATION_MODIFIED + " AS "
+                    + CloudMediaProviderContract.MediaColumns.SYNC_GENERATION,
+            MediaColumns.SIZE + " AS " + CloudMediaProviderContract.MediaColumns.SIZE_BYTES,
+            MediaColumns.MIME_TYPE + " AS " + CloudMediaProviderContract.MediaColumns.MIME_TYPE,
+            FileColumns._SPECIAL_FORMAT + " AS "
+                    + CloudMediaProviderContract.MediaColumns.STANDARD_MIME_TYPE_EXTENSION,
+            MediaColumns.DURATION + " AS "
+                    + CloudMediaProviderContract.MediaColumns.DURATION_MILLIS,
+            MediaColumns.IS_FAVORITE + " AS " + CloudMediaProviderContract.MediaColumns.IS_FAVORITE,
+            MediaColumns.WIDTH + " AS " + CloudMediaProviderContract.MediaColumns.WIDTH,
+            MediaColumns.HEIGHT + " AS " + CloudMediaProviderContract.MediaColumns.HEIGHT,
+            MediaColumns.ORIENTATION + " AS " + CloudMediaProviderContract.MediaColumns.ORIENTATION,
+            MediaColumns.OWNER_PACKAGE_NAME + " AS "
+                    + CloudMediaProviderContract.MediaColumns.OWNER_PACKAGE_NAME,
+            FileColumns._USER_ID + " AS " + CloudMediaProviderContract.MediaColumns.USER_ID,
+    };
+    private static final String[] PROJECTION_MEDIA_INFO = new String[]{
+            "MAX(" + MediaColumns.GENERATION_MODIFIED + ") AS "
+                    + MediaCollectionInfo.LAST_MEDIA_SYNC_GENERATION
     };
-    private static final String[] PROJECTION_MEDIA_INFO = new String[] {
-        "MAX(" + MediaColumns.GENERATION_MODIFIED + ") AS "
-        + MediaCollectionInfo.LAST_MEDIA_SYNC_GENERATION
+    private static final String[] PROJECTION_ALBUM_DB = new String[]{
+            "COUNT(" + MediaColumns._ID + ") AS "
+                    + CloudMediaProviderContract.AlbumColumns.MEDIA_COUNT,
+            "MAX(" + COLUMN_DATE_TAKEN_MILLIS + ") AS "
+                    + CloudMediaProviderContract.AlbumColumns.DATE_TAKEN_MILLIS,
+            MediaColumns._ID + " AS " + CloudMediaProviderContract.AlbumColumns.MEDIA_COVER_ID,
     };
-    private static final String[] PROJECTION_ALBUM_DB = new String[] {
-        "COUNT(" + MediaColumns._ID + ") AS " + CloudMediaProviderContract.AlbumColumns.MEDIA_COUNT,
-        "MAX(COALESCE(" + MediaColumns.DATE_TAKEN + "," + MediaColumns.DATE_MODIFIED +
-                    "* 1000)) AS " + CloudMediaProviderContract.AlbumColumns.DATE_TAKEN_MILLIS,
-        MediaColumns._ID + " AS " + CloudMediaProviderContract.AlbumColumns.MEDIA_COVER_ID,
+
+    /**
+     * Projection array defining the columns required to represent the downloads media set.
+     */
+    private static final String[] PROJECTION_DOWNLOADS_FOLDER = new String[]{
+            MediaColumns._ID + " AS " + MediaSetColumns.MEDIA_COVER_ID,
+            COLUMN_DATE_TAKEN_MILLIS + " AS "
+                    + CloudMediaProviderContract.AlbumColumns.DATE_TAKEN_MILLIS,
     };
 
+    /**
+     * Projection array defining the columns required to represent a device folder media set.
+     */
+    private static final String[] PROJECTION_DEVICE_MEDIA_SET = new String[]{
+            String.format(Locale.ROOT,
+                    "'%s:'||%s AS %s",
+                    MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    MediaColumns.BUCKET_ID,
+                    MediaSetColumns.ID),
+            String.format(Locale.ROOT,
+                    "%s AS %s",
+                    MediaColumns.BUCKET_DISPLAY_NAME,
+                    MediaSetColumns.DISPLAY_NAME),
+            MediaSetColumns.MEDIA_COUNT,
+            String.format(Locale.ROOT,
+                    "%s AS %s",
+                    MediaColumns._ID,
+                    MediaSetColumns.MEDIA_COVER_ID),
+            CloudMediaProviderContract.AlbumColumns.DATE_TAKEN_MILLIS};
+
+    /**
+     * Projection array defining the columns required to represent an app-specific media set.
+     */
+    private static final String[] PROJECTION_APPS_MEDIA_SET = new String[]{
+            String.format(Locale.ROOT,
+                    "'%s:'||%s AS %s",
+                    MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                    MediaColumns.OWNER_PACKAGE_NAME,
+                    MediaSetColumns.ID),
+            MediaColumns.OWNER_PACKAGE_NAME,
+            MediaSetColumns.MEDIA_COUNT,
+            String.format(Locale.ROOT,
+                    "%s AS %s",
+                    MediaColumns._ID,
+                    MediaSetColumns.MEDIA_COVER_ID),
+            CloudMediaProviderContract.AlbumColumns.DATE_TAKEN_MILLIS,
+            String.format(Locale.ROOT,
+                    "%s AS %s",
+                    FileColumns._USER_ID,
+                    CloudMediaProviderContract.MediaColumns.USER_ID)};
+
+    /**
+     * Projection array for the inner subquery used when querying device media sets (folders).
+     * Calculates row numbers and media counts by partitioning over bucket_id.
+     */
+    private static final String[] PROJECTION_DEVICE_MEDIA_SET_SUBQUERY = new String[]{
+            MediaColumns.BUCKET_ID,
+            MediaColumns.BUCKET_DISPLAY_NAME,
+            MediaColumns._ID,
+            String.format(Locale.ROOT,
+                    "%s AS %s",
+                    COLUMN_DATE_TAKEN_MILLIS,
+                    CloudMediaProviderContract.AlbumColumns.DATE_TAKEN_MILLIS),
+            String.format(Locale.ROOT,
+                    "ROW_NUMBER() OVER(PARTITION BY %s ORDER BY %s DESC, %s DESC) AS %s",
+                    MediaColumns.BUCKET_ID,
+                    COLUMN_DATE_TAKEN_MILLIS,
+                    MediaColumns._ID,
+                    COLUMN_ROW_NUMBER),
+            String.format(Locale.ROOT,
+                    "COUNT(*) OVER (PARTITION BY %s) AS %s",
+                    MediaColumns.BUCKET_ID,
+                    MediaSetColumns.MEDIA_COUNT)};
+
+    /**
+     * Projection string for the inner subquery used when querying app-specific media sets.
+     * Calculates row numbers and media counts by partitioning over owner_package_name.
+     */
+    private static final String[] PROJECTION_APPS_MEDIA_SET_SUBQUERY = new String[]{
+            MediaColumns.OWNER_PACKAGE_NAME,
+            MediaColumns._ID,
+            String.format(Locale.ROOT,
+                    "%s AS %s",
+                    COLUMN_DATE_TAKEN_MILLIS,
+                    CloudMediaProviderContract.AlbumColumns.DATE_TAKEN_MILLIS),
+            String.format(Locale.ROOT,
+                    "ROW_NUMBER() OVER(PARTITION BY %s ORDER BY %s DESC, %s DESC) AS %s",
+                    MediaColumns.OWNER_PACKAGE_NAME,
+                    COLUMN_DATE_TAKEN_MILLIS,
+                    MediaColumns._ID,
+                    COLUMN_ROW_NUMBER),
+            String.format(Locale.ROOT,
+                    "COUNT(*) OVER (PARTITION BY %s) AS %s",
+                    MediaColumns.OWNER_PACKAGE_NAME,
+                    MediaSetColumns.MEDIA_COUNT),
+            String.format(Locale.ROOT,
+                    "%s AS %s",
+                    FileColumns._USER_ID,
+                    CloudMediaProviderContract.MediaColumns.USER_ID)};
+
     private static final String WHERE_IMAGE_TYPE = FileColumns.MEDIA_TYPE + " = "
             + FileColumns.MEDIA_TYPE_IMAGE;
     private static final String WHERE_VIDEO_TYPE = FileColumns.MEDIA_TYPE + " = "
@@ -147,11 +275,66 @@ public class ExternalDbFacade {
 
     public static final String RELATIVE_PATH_CAMERA = Environment.DIRECTORY_DCIM + "/Camera/%";
 
+    public static final String RELATIVE_PATH_DOWNLOAD = Environment.DIRECTORY_DOWNLOADS + "/";
+
+    private static final String WHERE_MIME_TYPE = MediaColumns.MIME_TYPE + " LIKE ? ";
+
+    private static final String WHERE_RELATIVE_PATH_NOT =
+            MediaColumns.RELATIVE_PATH + " NOT LIKE ?";
+
+    private static final String WHERE_OWNER_PACKAGE_NAME_IS_NOT_NULL =
+            MediaColumns.OWNER_PACKAGE_NAME + " IS NOT NULL";
+
+    private static final String WHERE_BUCKET_ID_NOT_NULL = MediaColumns.BUCKET_ID + " IS NOT NULL";
+
+    private static final String WHERE_RELATIVE_PATH_IS_NOT_SCREENSHOT_DIR =
+            "NOT ( " + WHERE_RELATIVE_PATH_IS_SCREENSHOT_DIR + " )";
+
+    private static final String WHERE_IS_NOT_DOWNLOAD = MediaColumns.IS_DOWNLOAD + " IS NOT 1";
+
+    private static final String WHERE_RELATIVE_PATH_IS_DOWNLOAD = String.format(
+            Locale.ROOT,
+            "%s IS '%s'",
+            MediaColumns.RELATIVE_PATH,
+            RELATIVE_PATH_DOWNLOAD);
+
+    private static final String WHERE_RELATIVE_PATH_IS_NOT_DOWNLOAD = String.format(
+            Locale.ROOT,
+            "NOT(%s)",
+            WHERE_RELATIVE_PATH_IS_DOWNLOAD);
+
+    private static final String WHERE_ROW_NUMBER_IS_ONE = String.format(
+            Locale.ROOT,
+            "%s.%s = 1",
+            TABLE_SUBQUERY, COLUMN_ROW_NUMBER);
+
+    private static final String WHERE_BUCKET_ID_IS = MediaColumns.BUCKET_ID + " IS ?";
+    private static final String WHERE_OWNER_PACKAGE_NAME_IS =
+            MediaColumns.OWNER_PACKAGE_NAME + " IS ?";
+
+    // Include all the media items that are either downloaded
+    // or are moved/copied to the "Download/" folder
+    private static final String WHERE_IS_DOWNLOAD_MEDIA_SET = String.format(
+            Locale.ROOT,
+            "%s OR %s",
+            WHERE_IS_DOWNLOAD,
+            WHERE_RELATIVE_PATH_IS_DOWNLOAD);
+
     @VisibleForTesting
     static String[] LOCAL_ALBUM_IDS = {
-        ALBUM_ID_CAMERA,
-        ALBUM_ID_SCREENSHOTS,
-        ALBUM_ID_DOWNLOADS
+            ALBUM_ID_CAMERA,
+            ALBUM_ID_SCREENSHOTS,
+            ALBUM_ID_DOWNLOADS
+    };
+
+    /**
+     * Local album ids that are displayed along with other collections in the "Collections" tab in
+     * the picker ui, when the feature flag
+     * {@link Flags#FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES} is enabled
+     */
+    private static final String[] COLLECTION_TAB_LOCAL_ALBUM_IDS = {
+            ALBUM_ID_CAMERA,
+            ALBUM_ID_SCREENSHOTS
     };
 
     private final Context mContext;
@@ -191,7 +374,7 @@ public class ExternalDbFacade {
             return false;
         }
 
-        final boolean oldIsMedia= MimeUtils.isImageOrVideoMediaType(oldMediaType);
+        final boolean oldIsMedia = MimeUtils.isImageOrVideoMediaType(oldMediaType);
         final boolean newIsMedia = MimeUtils.isImageOrVideoMediaType(newMediaType);
 
         final boolean oldIsVisible = !oldIsTrashed && !oldIsPending;
@@ -254,11 +437,11 @@ public class ExternalDbFacade {
                 return qb.insert(db, cv) > 0;
             } catch (SQLiteConstraintException e) {
                 String select = COLUMN_OLD_ID + " = ?";
-                String[] selectionArgs = new String[] {String.valueOf(oldId)};
+                String[] selectionArgs = new String[]{String.valueOf(oldId)};
 
                 return qb.update(db, cv, select, selectionArgs) > 0;
             }
-         });
+        });
     }
 
     /**
@@ -270,8 +453,8 @@ public class ExternalDbFacade {
         return mDatabaseHelper.runWithTransaction(db -> {
             SQLiteQueryBuilder qb = createDeletedMediaQueryBuilder();
 
-            return qb.delete(db, COLUMN_OLD_ID + " = ?", new String[] {String.valueOf(oldId)}) > 0;
-         });
+            return qb.delete(db, COLUMN_OLD_ID + " = ?", new String[]{String.valueOf(oldId)}) > 0;
+        });
     }
 
     /**
@@ -280,16 +463,16 @@ public class ExternalDbFacade {
     public Cursor queryDeletedMedia(long generation) {
         final Cursor cursor = mDatabaseHelper.runWithTransaction(db -> {
             SQLiteQueryBuilder qb = createDeletedMediaQueryBuilder();
-            String[] projection = new String[] {COLUMN_OLD_ID_AS_ID};
+            String[] projection = new String[]{COLUMN_OLD_ID_AS_ID};
             String select = COLUMN_GENERATION_MODIFIED + " > ?";
-            String[] selectionArgs = new String[] {String.valueOf(generation)};
+            String[] selectionArgs = new String[]{String.valueOf(generation)};
 
             return qb.query(db, projection, select, selectionArgs,  /* groupBy */ null,
                     /* having */ null, /* orderBy */ null);
-         });
+        });
 
-        cursor.setExtras(getCursorExtras(generation, /* albumId */ null, /*pageSize*/ -1,
-                /*pageToken*/ null));
+        cursor.setExtras(getCursorExtras(generation, /* albumId */ null, /* pageSize */ -1,
+                /* pageToken */ null));
         return cursor;
     }
 
@@ -297,8 +480,8 @@ public class ExternalDbFacade {
      * Returns all items from the files table where {@link MediaColumns#GENERATION_MODIFIED}
      * is greater than {@code generation}.
      */
-    public Cursor queryMedia(long generation, String albumId, String[] mimeTypes, int pageSize,
-            String pageToken) {
+    public Cursor queryMedia(long generation, String albumId, String[] mimeTypes,
+            int pageSize, String pageToken, int sortOrder) {
         final List<String> selectionArgs = new ArrayList<>();
         final String orderBy = getOrderByClause();
 
@@ -360,7 +543,6 @@ public class ExternalDbFacade {
                 + CloudMediaProviderContract.MediaColumns.ID + " DESC";
     }
 
-
     private String setPageToken(Cursor mediaList) {
         String token = null;
         if (mediaList.moveToLast()) {
@@ -408,44 +590,44 @@ public class ExternalDbFacade {
      * of the media items in the files table greater than {@code generation}.
      */
     private Cursor getMediaCollectionInfoCursor(long generation) {
-        final String[] selectionArgs = new String[] {String.valueOf(generation)};
-        final String[] projection = new String[] {
-            MediaCollectionInfo.LAST_MEDIA_SYNC_GENERATION
+        final String[] selectionArgs = new String[]{String.valueOf(generation)};
+        final String[] projection = new String[]{
+                MediaCollectionInfo.LAST_MEDIA_SYNC_GENERATION
         };
 
         return mDatabaseHelper.runWithTransaction(db -> {
-                SQLiteQueryBuilder qbMedia = createMediaQueryBuilder();
-                qbMedia.appendWhereStandalone(WHERE_GREATER_GENERATION);
-                SQLiteQueryBuilder qbDeletedMedia = createDeletedMediaQueryBuilder();
-                qbDeletedMedia.appendWhereStandalone(WHERE_GREATER_GENERATION);
-
-                try (Cursor mediaCursor = query(qbMedia, db, PROJECTION_MEDIA_INFO, selectionArgs);
-                        Cursor deletedMediaCursor = query(qbDeletedMedia, db,
-                                PROJECTION_MEDIA_INFO, selectionArgs)) {
-                    final int mediaGenerationIndex = mediaCursor.getColumnIndexOrThrow(
-                            MediaCollectionInfo.LAST_MEDIA_SYNC_GENERATION);
-                    final int deletedMediaGenerationIndex =
-                            deletedMediaCursor.getColumnIndexOrThrow(
-                                    MediaCollectionInfo.LAST_MEDIA_SYNC_GENERATION);
-
-                    long mediaGeneration = 0;
-                    if (mediaCursor.moveToFirst()) {
-                        mediaGeneration = mediaCursor.getLong(mediaGenerationIndex);
-                    }
-
-                    long deletedMediaGeneration = 0;
-                    if (deletedMediaCursor.moveToFirst()) {
-                        deletedMediaGeneration = deletedMediaCursor.getLong(
-                                deletedMediaGenerationIndex);
-                    }
+            SQLiteQueryBuilder qbMedia = createMediaQueryBuilder();
+            qbMedia.appendWhereStandalone(WHERE_GREATER_GENERATION);
+            SQLiteQueryBuilder qbDeletedMedia = createDeletedMediaQueryBuilder();
+            qbDeletedMedia.appendWhereStandalone(WHERE_GREATER_GENERATION);
+
+            try (Cursor mediaCursor = query(qbMedia, db, PROJECTION_MEDIA_INFO, selectionArgs);
+                    Cursor deletedMediaCursor =
+                            query(qbDeletedMedia, db, PROJECTION_MEDIA_INFO, selectionArgs)) {
+                final int mediaGenerationIndex = mediaCursor.getColumnIndexOrThrow(
+                        MediaCollectionInfo.LAST_MEDIA_SYNC_GENERATION);
+                final int deletedMediaGenerationIndex =
+                        deletedMediaCursor.getColumnIndexOrThrow(
+                                MediaCollectionInfo.LAST_MEDIA_SYNC_GENERATION);
 
-                    long maxGeneration = Math.max(mediaGeneration, deletedMediaGeneration);
-                    MatrixCursor result = new MatrixCursor(projection);
-                    result.addRow(new Long[] { maxGeneration });
+                long mediaGeneration = 0;
+                if (mediaCursor.moveToFirst()) {
+                    mediaGeneration = mediaCursor.getLong(mediaGenerationIndex);
+                }
 
-                    return result;
+                long deletedMediaGeneration = 0;
+                if (deletedMediaCursor.moveToFirst()) {
+                    deletedMediaGeneration = deletedMediaCursor.getLong(
+                            deletedMediaGenerationIndex);
                 }
-            });
+
+                long maxGeneration = Math.max(mediaGeneration, deletedMediaGeneration);
+                MatrixCursor result = new MatrixCursor(projection);
+                result.addRow(new Long[]{maxGeneration});
+
+                return result;
+            }
+        });
     }
 
     public Bundle getMediaCollectionInfo(long generation) {
@@ -471,7 +653,11 @@ public class ExternalDbFacade {
     public Cursor queryAlbums(String[] mimeTypes) {
         final MatrixCursor c = new MatrixCursor(AlbumColumns.ALL_PROJECTION);
 
-        for (String albumId: LOCAL_ALBUM_IDS) {
+        String[] albumIds = LOCAL_ALBUM_IDS;
+        if (Flags.enableLocalMediaProviderCapabilities()) {
+            albumIds = COLLECTION_TAB_LOCAL_ALBUM_IDS;
+        }
+        for (String albumId : albumIds) {
             Cursor cursor = mDatabaseHelper.runWithTransaction(db -> {
                 final SQLiteQueryBuilder qb = createMediaQueryBuilder();
                 final List<String> selectionArgs = new ArrayList<>();
@@ -491,13 +677,13 @@ public class ExternalDbFacade {
                 continue;
             }
 
-            final String[] projectionValue = new String[] {
-                /* albumId */ albumId,
-                getCursorString(cursor, AlbumColumns.DATE_TAKEN_MILLIS),
-                /* displayName */ albumId,
-                getCursorString(cursor, AlbumColumns.MEDIA_COVER_ID),
-                String.valueOf(count),
-                PickerSyncController.LOCAL_PICKER_PROVIDER_AUTHORITY
+            final String[] projectionValue = new String[]{
+                    /* albumId */ albumId,
+                    getCursorString(cursor, AlbumColumns.DATE_TAKEN_MILLIS),
+                    /* displayName */ getLocalizedDisplayName(albumId, mContext),
+                    getCursorString(cursor, AlbumColumns.MEDIA_COVER_ID),
+                    String.valueOf(count),
+                    PickerSyncController.LOCAL_PICKER_PROVIDER_AUTHORITY
             };
 
             c.addRow(projectionValue);
@@ -541,6 +727,27 @@ public class ExternalDbFacade {
         return selectionArgs;
     }
 
+    private static void addMimeTypesToQueryBuilderAndSelectionArgs(SQLiteQueryBuilder qb,
+            List<String> selectionArgs, String[] mimeTypes) {
+        if (mimeTypes == null) {
+            return;
+        }
+
+        mimeTypes = replaceMatchAnyChar(mimeTypes);
+        ArrayList<String> whereMimeTypes = new ArrayList<>();
+        for (String mimeType : mimeTypes) {
+            if (!TextUtils.isEmpty(mimeType)) {
+                whereMimeTypes.add(WHERE_MIME_TYPE);
+                selectionArgs.add(mimeType);
+            }
+        }
+
+        if (whereMimeTypes.isEmpty()) {
+            return;
+        }
+        qb.appendWhereStandalone(TextUtils.join(" OR ", whereMimeTypes));
+    }
+
     private static SQLiteQueryBuilder createDeletedMediaQueryBuilder() {
         SQLiteQueryBuilder qb = new SQLiteQueryBuilder();
         qb.setTables(TABLE_DELETED_MEDIA);
@@ -591,4 +798,653 @@ public class ExternalDbFacade {
 
         return MediaStore.getVersion(mContext) + ":" + TextUtils.join(":", getVolumeList());
     }
+
+    /**
+     * Queries media categories based on the provided MIME types.
+     * This method retrieves cursor for the two local categories "From this device" collection
+     * and "From your apps" collection.
+     *
+     * <p>The "From this device" collection includes:</p>
+     * <ul>
+     * <li>Media files marked as downloads ({@link #WHERE_IS_DOWNLOAD}).</li>
+     * <li>Media files residing in device folders, excluding the Screenshots and Camera directories
+     * </ul>
+     *
+     * <p>The "From your apps" collection includes:</p>
+     * <ul>
+     * <li>Media files owned by non-system applications
+     * </ul>
+     *
+     * <p>The results are returned as a merged {@link Cursor} containing the category metadata.</p>
+     *
+     * @param mimeTypes An array of MIME types to filter the media files. If {@code null},
+     *                  all media files ("image/*" and "video/*") are considered.
+     * @return A {@link Cursor} containing the metadata of the collections.
+     */
+    public Cursor queryMediaCategories(@Nullable String[] mimeTypes) {
+        // Separate query for download media (is_download = 1).
+        // This is necessary because downloads can reside in various file locations
+        // and need to be included independently to bypass standard folder filters.
+        final Cursor downloadCursor = getDownloadsMediaSet(mimeTypes);
+        final Cursor deviceFoldersCursor =
+                getLocalMediaSets(mimeTypes, /*pageSize*/ 4, /*pageToken*/ null,
+                        MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+        Cursor deviceFolders = new MergeCursor(new Cursor[]{downloadCursor, deviceFoldersCursor});
+
+        final Cursor appFolders =
+                getLocalMediaSets(mimeTypes, /*pageSize*/ 4, /*pageToken*/null,
+                        MEDIA_CATEGORY_TYPE_APP_FOLDERS);
+
+        Cursor deviceFolderCategory =
+                getCategoryFromFolderCursor(deviceFolders, MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+        Cursor appFolderCategory =
+                getCategoryFromFolderCursor(appFolders, MEDIA_CATEGORY_TYPE_APP_FOLDERS);
+
+        return new MergeCursor(new Cursor[]{deviceFolderCategory, appFolderCategory});
+    }
+
+    /**
+     * Queries and returns a cursor of media sets based on the specified category type,
+     * applying appropriate filtering and pagination.
+     *
+     * <p>The behavior depends on the {@code mediaCategoryId}:</p>
+     * <ul>
+     * <li> "From this device" category: Returns a media sets representing local device folders.
+     * If querying the first page (pageToken is null), this includes the Downloads folder first,
+     * followed by other local device folders.
+     * Camera folders and screenshots are always excluded from the local folders list.</li>
+     *
+     * <li> "From your apps" category: Returns media sets representing media owned by installed
+     * applications. Folders related to Downloads, Camera and non-launchable applications
+     * are excluded.</li>
+     *
+     * <li>Unrecognized Category ID: Logs an error and returns an empty cursor.</li>
+     * </ul>
+     *
+     * @param mediaCategoryId The identifier for the desired category.
+     *                        See {@code CloudMediaProviderContract} for specific constants.
+     * @param mimeTypes       Optional array of MIME types to filter the media within sets
+     *                        (e.g., "image/png", "video/mp4"). If null or empty, defaults to
+     *                        including all image and video media types.
+     * @param pageSize        The maximum number of media sets to return in this page.
+     * @param pageToken       A token representing the starting point for the next page of results.
+     * @return A {@link Cursor} containing the requested media sets, ordered appropriately.
+     * Returns an empty cursor if the category ID is unrecognized or no matching sets are found.
+     * The cursor should be closed after use.
+     */
+    public @NonNull Cursor queryMediaSets(
+            @Nullable String mediaCategoryId,
+            @Nullable String[] mimeTypes,
+            int pageSize,
+            @Nullable String pageToken) {
+        try {
+            Cursor cursor;
+            if (MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS.equals(mediaCategoryId)) {
+                Cursor downloadCursor = null;
+                if (pageToken == null) {
+                    downloadCursor = getDownloadsMediaSet(mimeTypes);
+                    if (downloadCursor.getCount() > 0) {
+                        pageSize = pageSize - 1;
+                    }
+                }
+                final Cursor deviceFoldersCursor =
+                        getLocalMediaSets(mimeTypes, pageSize, pageToken,
+                                MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+                if (downloadCursor == null) {
+                    cursor = deviceFoldersCursor;
+                } else {
+                    cursor = new MergeCursor(new Cursor[]{downloadCursor, deviceFoldersCursor});
+                    cursor.setExtras(deviceFoldersCursor.getExtras());
+                }
+            } else if (MEDIA_CATEGORY_TYPE_APP_FOLDERS.equals(mediaCategoryId)) {
+                cursor = getLocalMediaSets(mimeTypes, pageSize, pageToken,
+                        MEDIA_CATEGORY_TYPE_APP_FOLDERS);
+            } else {
+                Log.e(TAG, "Found unrecognized mediaCategoryId: " + mediaCategoryId);
+                cursor = new MatrixCursor(MediaSetColumns.ALL_PROJECTION);
+            }
+            return cursor;
+        } catch (Exception exception) {
+            Log.e(TAG, String.format(Locale.ROOT,
+                            "Query to get media sets could not complete for following parameters: "
+                                    + "mediaCategoryId = %s, mimeTypes = %s, pageSize = %s, "
+                                    + "pageToken = %s",
+                            mediaCategoryId,
+                            Arrays.toString(mimeTypes),
+                            pageSize,
+                            pageToken),
+                    exception);
+            Log.d(TAG, "Returning empty cursor");
+            return new MatrixCursor(MediaSetColumns.ALL_PROJECTION);
+        }
+    }
+
+    /**
+     * Retrieves a paginated and sorted list of media items belonging to a specified media set.
+     *
+     * @param mediaSetId The unique identifier for the media set from which to query media.
+     * @param mimeTypes  Optional array of MIME types to filter the media within sets
+     *                   (e.g., "image/png", "video/mp4"). If null or empty, defaults to
+     *                   including all image and video media types.
+     * @param pageSize   The maximum number of media sets to return in this page.
+     * @param pageToken  A token representing the starting point for the next page of results.
+     * @param sortOrder  An integer constant defining the sorting criteria for the returned media.
+     * @return A {@link Cursor} containing the queried media items, matching the specified criteria.
+     */
+    public Cursor queryMediaInMediaSet(String mediaSetId, String[] mimeTypes,
+            int pageSize, String pageToken, int sortOrder) {
+        final List<String> selectionArgs = new ArrayList<>();
+        final String orderBy = getOrderByClauseForMediaInMediaSet(sortOrder);
+
+        Log.d(TAG, "Token received for queryMediaInMediaSet = " + pageToken);
+
+        final Cursor cursor = mDatabaseHelper.runWithTransaction(db -> {
+            SQLiteQueryBuilder qb = createMediaQueryBuilder();
+
+            if (pageToken != null) {
+                String[] lastMedia = parsePageToken(pageToken);
+                if (lastMedia != null) {
+                    qb.appendWhereStandalone(getDateTakenWhereClause());
+                    addSelectionArgsForWhereClause(lastMedia, selectionArgs);
+                }
+            }
+
+            List<String> mediaSetSelectionArgs = appendWhereForMediaSets(qb, mediaSetId, mimeTypes);
+            if (mediaSetSelectionArgs == null) {
+                return new MatrixCursor(PROJECTION_MEDIA_COLUMNS);
+            }
+            selectionArgs.addAll(mediaSetSelectionArgs);
+
+            return qb.query(db, PROJECTION_MEDIA_COLUMNS, /* select */ null,
+                    selectionArgs.toArray(new String[selectionArgs.size()]), /* groupBy */ null,
+                    /* having */ null, orderBy, String.valueOf(pageSize));
+        });
+
+        String nextPageToken = null;
+        if (cursor.getCount() > 0 && pageSize != INT_DEFAULT) {
+            nextPageToken = setPageToken(cursor);
+
+        }
+        cursor.setExtras(getCursorExtrasForMediaSet(nextPageToken, pageSize, sortOrder, mimeTypes));
+        return cursor;
+    }
+
+    @NonNull
+    private Cursor getDownloadsMediaSet(@Nullable String[] mimeTypes) {
+        final MatrixCursor downloadMediaSet = new MatrixCursor(MediaSetColumns.ALL_PROJECTION);
+        final String orderBy = getMediaSetOrderByClause();
+
+        try (Cursor downloadCursor = mDatabaseHelper.runWithoutTransaction(db -> {
+            final SQLiteQueryBuilder qb = createMediaQueryBuilder();
+            final List<String> selectionArgs =
+                    new ArrayList<>(appendWhereForMediaSets(qb, null, mimeTypes));
+            qb.appendWhereStandalone(WHERE_IS_DOWNLOAD_MEDIA_SET);
+            return qb.query(db, PROJECTION_DOWNLOADS_FOLDER, /* selection */ null,
+                    selectionArgs.toArray(new String[selectionArgs.size()]),
+                    /* groupBy */ null, /* having */ null, orderBy, /* limit */ "1");
+        })) {
+            if (!downloadCursor.moveToFirst()) {
+                return downloadMediaSet;
+            }
+            Long count = 0L;
+            try (Cursor countCursor = mDatabaseHelper.runWithoutTransaction(db ->
+                    db.rawQuery(getDownloadCursorCountQuery(), null))) {
+                if (countCursor.moveToFirst()) {
+                    count = countCursor.getLong(
+                            countCursor.getColumnIndexOrThrow(MediaSetColumns.MEDIA_COUNT));
+                }
+            }
+            if (count == 0) {
+                return downloadMediaSet;
+            }
+
+            final String[] projectionValue = new String[]{
+                    /*mediaSetId*/ String.format(
+                    Locale.ROOT,
+                    "%s:%s",
+                    MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    ALBUM_ID_DOWNLOADS),
+                    /*displayName*/ getLocalizedDisplayName(
+                    ALBUM_ID_DOWNLOADS, mContext),
+                    /*mediaCount*/ String.valueOf(count),
+                    /*mediaCoverId*/ getCursorString(downloadCursor,
+                    MediaSetColumns.MEDIA_COVER_ID)
+            };
+            downloadMediaSet.addRow(projectionValue);
+            return downloadMediaSet;
+        }
+
+    }
+
+    private static String getDownloadCursorCountQuery() {
+        return String.format(Locale.ROOT, "SELECT COUNT(*) AS %s FROM %s WHERE (%s OR %s)",
+                MediaSetColumns.MEDIA_COUNT,
+                TABLE_FILES,
+                WHERE_IS_DOWNLOAD,
+                WHERE_RELATIVE_PATH_IS_DOWNLOAD);
+    }
+
+    @NonNull
+    private Cursor getLocalMediaSets(
+            @Nullable String[] mimeTypes,
+            int pageSize,
+            @Nullable String pageToken,
+            @CloudMediaProviderContract.MediaCategoryType String categoryType) {
+        final List<String> selectionArgs = new ArrayList<>();
+        final String orderBy = getMediaSetOrderByClause();
+        final String[] projection = switch (categoryType) {
+            case MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS -> PROJECTION_DEVICE_MEDIA_SET;
+            case MEDIA_CATEGORY_TYPE_APP_FOLDERS -> PROJECTION_APPS_MEDIA_SET;
+            default -> null;
+        };
+        // return an empty cursor if the projection is null
+        if (projection == null) {
+            Log.e(TAG, String.format(
+                    "Returning an empty cursor as unrecognized media category type received: %s",
+                    categoryType));
+            return new MatrixCursor(MediaSetColumns.ALL_PROJECTION);
+        }
+
+        final Cursor cursor = mDatabaseHelper.runWithoutTransaction(db -> {
+            final SQLiteQueryBuilder queryBuilder = new SQLiteQueryBuilder();
+            final String subQuery = getMediaSetSubQuery(categoryType, selectionArgs, mimeTypes);
+
+            // return an empty cursor if the sub query is null
+            if (subQuery == null) {
+                return new MatrixCursor(projection);
+            }
+            queryBuilder.setTables(subQuery);
+            queryBuilder.appendWhereStandalone(WHERE_ROW_NUMBER_IS_ONE);
+            if (pageToken != null) {
+                String[] lastMediaSet = parsePageToken(pageToken);
+                if (lastMediaSet != null) {
+                    queryBuilder.appendWhereStandalone(getDateTakenWhereClause());
+                    addSelectionArgsForWhereClause(lastMediaSet, selectionArgs);
+                }
+            }
+            try {
+                return queryBuilder.query(db, projection, /* selection */ null,
+                        selectionArgs.toArray(new String[selectionArgs.size()]), /* groupBy */ null,
+                        /* having */ null, orderBy, /* limit */ String.valueOf(pageSize));
+            } catch (SQLiteException exception) {
+                Log.e(TAG, "The SQLite query could not complete.", exception);
+                return new MatrixCursor(projection);
+            }
+        });
+
+        String nextPageToken = null;
+        if (cursor.getCount() > 0 && pageSize != INT_DEFAULT) {
+            nextPageToken = setPageToken(cursor);
+        }
+
+        cursor.setExtras(getCursorExtrasForMediaSet(nextPageToken, pageSize,
+                /* sortOrder */ INT_DEFAULT, mimeTypes));
+
+        if (MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS.equals(categoryType)) {
+            return cursor;
+        }
+
+        return createAppsMediaSetsCursor(cursor);
+    }
+
+    @NonNull
+    private Cursor createAppsMediaSetsCursor(@NonNull Cursor cursor) {
+        List<String> projectionList =
+                new ArrayList<>(Arrays.asList(MediaSetColumns.ALL_PROJECTION));
+        projectionList.add(AlbumColumns.DATE_TAKEN_MILLIS);
+        projectionList.add(CloudMediaProviderContract.MediaColumns.USER_ID);
+        String[] projectionKey = projectionList.toArray(new String[0]);
+        MatrixCursor appMediaSetCursor = new MatrixCursor(projectionKey);
+        // Propagate extras from 'cursor' to 'appMediaSetCursor' to preserve essential metadata.
+        appMediaSetCursor.setExtras(cursor.getExtras());
+        if (!cursor.moveToFirst()) {
+            return appMediaSetCursor;
+        }
+
+        do {
+            String ownerPackageName = getCursorString(cursor, MediaColumns.OWNER_PACKAGE_NAME);
+
+            PackageManager packageManager = mContext.getPackageManager();
+            try {
+                assert ownerPackageName != null;
+                ApplicationInfo applicationInfo = packageManager
+                        .getApplicationInfo(ownerPackageName, 0);
+                String displayName = packageManager.getApplicationLabel(applicationInfo).toString();
+
+                appMediaSetCursor.addRow(
+                        new Object[]{
+                                getCursorString(cursor, MediaSetColumns.ID),
+                                displayName,
+                                getCursorString(cursor, MediaSetColumns.MEDIA_COUNT),
+                                getCursorString(cursor, MediaSetColumns.MEDIA_COVER_ID),
+                                getCursorString(cursor, AlbumColumns.DATE_TAKEN_MILLIS),
+                                getCursorString(cursor,
+                                        CloudMediaProviderContract.MediaColumns.USER_ID)}
+                );
+            } catch (PackageManager.NameNotFoundException exception) {
+                Log.e(TAG, String.format(
+                                Locale.ROOT,
+                                "Package info not found for %s. "
+                                        + "Skipping this app media set.",
+                                ownerPackageName),
+                        exception);
+            } catch (RuntimeException exception) {
+                Log.e(TAG, String.format(
+                                Locale.ROOT,
+                                "Error getting package info for %s. "
+                                        + "Skipping this app media set.",
+                                ownerPackageName),
+                        exception);
+            }
+        } while (cursor.moveToNext());
+
+        return appMediaSetCursor;
+    }
+
+    private String getMediaSetSubQuery(
+            @CloudMediaProviderContract.MediaCategoryType String categoryType,
+            @NonNull List<String> selectionArgs,
+            @Nullable String[] mimeTypes) {
+        final SQLiteQueryBuilder subQueryBuilder = createMediaQueryBuilder();
+        selectionArgs.addAll(appendWhereForMediaSets(subQueryBuilder, null, mimeTypes));
+
+        final String subQueryString = switch (categoryType) {
+            case MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS -> appendWhereForDeviceMediaSet(subQueryBuilder,
+                    selectionArgs);
+            case MEDIA_CATEGORY_TYPE_APP_FOLDERS -> appendWhereForAppsMediaSet(subQueryBuilder,
+                    selectionArgs);
+            default -> {
+                Log.e(TAG, "Unrecognized media category type received: " + categoryType);
+                yield null;
+            }
+        };
+        if (subQueryString == null) {
+            return null;
+        }
+        return String.format(
+                Locale.ROOT,
+                "(%s) AS %s",
+                subQueryString,
+                TABLE_SUBQUERY);
+    }
+
+    private static List<String> appendWhereForMediaSets(
+            @NonNull SQLiteQueryBuilder qb,
+            @Nullable String mediaSetId,
+            @Nullable String[] mimeTypes) {
+        final List<String> selectionArgs = new ArrayList<>();
+
+        addMimeTypesToQueryBuilderAndSelectionArgs(qb, selectionArgs, mimeTypes);
+
+        if (mediaSetId == null) {
+            return selectionArgs;
+        }
+
+        try {
+            String[] mediaSetIdSplit = mediaSetId.split(":");
+            String categoryType = mediaSetIdSplit[0];
+            String id = mediaSetIdSplit[1];
+            switch (categoryType) {
+                case MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS -> {
+                    if (ALBUM_ID_DOWNLOADS.equals(id)) {
+                        qb.appendWhereStandalone(WHERE_IS_DOWNLOAD_MEDIA_SET);
+                    } else {
+                        qb.appendWhereStandalone(WHERE_BUCKET_ID_IS);
+                        selectionArgs.add(id);
+                    }
+                }
+                case MEDIA_CATEGORY_TYPE_APP_FOLDERS -> {
+                    qb.appendWhereStandalone(WHERE_OWNER_PACKAGE_NAME_IS);
+                    selectionArgs.add(id);
+                }
+                default -> {
+                    Log.w(TAG, "No match for category type: " + categoryType);
+                    return null;
+                }
+            }
+        } catch (Exception exception) {
+            Log.e(TAG, "Error occurred while appending where clause for " + mediaSetId,
+                    exception);
+            return null;
+        }
+
+        return selectionArgs;
+    }
+
+    private String appendWhereForDeviceMediaSet(
+            @NonNull SQLiteQueryBuilder subQueryBuilder,
+            @NonNull List<String> selectionArgs) {
+        subQueryBuilder.appendWhereStandalone(WHERE_BUCKET_ID_NOT_NULL);
+        subQueryBuilder.appendWhereStandalone(WHERE_RELATIVE_PATH_IS_NOT_SCREENSHOT_DIR);
+        subQueryBuilder.appendWhereStandalone(WHERE_RELATIVE_PATH_IS_NOT_DOWNLOAD);
+        subQueryBuilder.appendWhereStandalone(WHERE_RELATIVE_PATH_NOT);
+        selectionArgs.add(RELATIVE_PATH_CAMERA);
+        return subQueryBuilder.buildQuery(
+                PROJECTION_DEVICE_MEDIA_SET_SUBQUERY,
+                /* selection */ null,
+                /* groupBy */ null,
+                /* having */ null,
+                /* sortOrder */ null,
+                /* limit */ null
+        );
+    }
+
+    private String appendWhereForAppsMediaSet(
+            @NonNull SQLiteQueryBuilder subQueryBuilder,
+            @NonNull List<String> selectionArgs) {
+        subQueryBuilder.appendWhereStandalone(WHERE_OWNER_PACKAGE_NAME_IS_NOT_NULL);
+        subQueryBuilder.appendWhereStandalone(WHERE_IS_NOT_DOWNLOAD);
+        Set<String> launchableOwnerPackageNameSet = getLaunchableOwnerPackageNameSet();
+        if (!launchableOwnerPackageNameSet.isEmpty()) {
+            String inClause = String.format(Locale.ROOT,
+                    "%s IN (%s)",
+                    MediaColumns.OWNER_PACKAGE_NAME,
+                    TextUtils.join(
+                            ",",
+                            Collections.nCopies(launchableOwnerPackageNameSet.size(), "?")));
+
+            subQueryBuilder.appendWhereStandalone(inClause);
+
+            // Add each item from the set as a separate selection argument
+            selectionArgs.addAll(launchableOwnerPackageNameSet);
+        } else {
+            // Return an null subQuery
+            return null;
+        }
+        return subQueryBuilder.buildQuery(
+                PROJECTION_APPS_MEDIA_SET_SUBQUERY,
+                /* selection */ null,
+                /* groupBy */ null,
+                /* having */ null,
+                /* sortOrder */ null,
+                /* limit */ null
+        );
+    }
+
+    @NonNull
+    private Set<String> getLaunchableOwnerPackageNameSet() {
+        List<LauncherActivityInfo> launcherActivityInfos = null;
+        Set<String> launchableOwnerPackageNameSet = new HashSet<>();
+        try {
+            LauncherApps launcherApps = mContext.getSystemService(LauncherApps.class);
+
+            UserHandle userHandle = mContext.getUser();
+
+            if (launcherApps != null) {
+                launcherActivityInfos = launcherApps.getActivityList(null, userHandle);
+            } else {
+                Log.e(TAG, "LauncherApps service was null.");
+                return launchableOwnerPackageNameSet;
+            }
+
+        } catch (RuntimeException e) {
+            Log.e(TAG, "Error getting launcher activity infos.", e);
+            return launchableOwnerPackageNameSet;
+        }
+
+        for (LauncherActivityInfo info : launcherActivityInfos) {
+            if (info != null) {
+                ComponentName componentName = info.getComponentName();
+                if (componentName != null) {
+                    String ownerPackageName = componentName.getPackageName();
+                    launchableOwnerPackageNameSet.add(ownerPackageName);
+                } else {
+                    Log.w(TAG, "LauncherActivityInfo had a null ComponentName.");
+                }
+            } else {
+                Log.w(TAG, "Encountered a null LauncherActivityInfo in the list.");
+            }
+        }
+        return launchableOwnerPackageNameSet;
+    }
+
+    private static String getMediaSetOrderByClause() {
+        return CloudMediaProviderContract.MediaColumns.DATE_TAKEN_MILLIS + " DESC, "
+                + MediaColumns._ID + " DESC";
+    }
+
+    private static String getOrderByClauseForMediaInMediaSet(int sortOrder) {
+        // Currently sortOrder can only be SORT_ORDER_DESC_DATE_TAKEN
+        if (sortOrder != CloudMediaProviderContract.SORT_ORDER_DESC_DATE_TAKEN) {
+            Log.e(TAG, "Received incorrect sort order: " + sortOrder);
+        }
+        return CloudMediaProviderContract.MediaColumns.DATE_TAKEN_MILLIS + " DESC,"
+                + CloudMediaProviderContract.MediaColumns.ID + " DESC";
+    }
+
+    private Bundle getCursorExtrasForMediaSet(String pageToken, int pageSize, int sortOrder,
+            String[] mimeTypes) {
+        final Bundle bundle = new Bundle();
+        final ArrayList<String> honoredArgs = new ArrayList<>();
+
+        if (pageSize > INT_DEFAULT) {
+            honoredArgs.add(EXTRA_PAGE_SIZE);
+        }
+
+        if (pageToken != null) {
+            honoredArgs.add(EXTRA_PAGE_TOKEN);
+            bundle.putString(EXTRA_PAGE_TOKEN, pageToken);
+        }
+
+        if (sortOrder == CloudMediaProviderContract.SORT_ORDER_DESC_DATE_TAKEN) {
+            honoredArgs.add(EXTRA_SORT_ORDER);
+        }
+
+        if (mimeTypes != null && mimeTypes.length != 0) {
+            honoredArgs.add(Intent.EXTRA_MIME_TYPES);
+        }
+
+        bundle.putStringArrayList(EXTRA_HONORED_ARGS, honoredArgs);
+
+        return bundle;
+    }
+
+    private static String getLocalizedDisplayName(
+            @Nullable String displayName,
+            @Nullable Context appContext) {
+        if (displayName == null || appContext == null) {
+            return null;
+        }
+        Resources resources = appContext.getResources();
+        switch (displayName) {
+            case MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS -> {
+                return resources.getString(R.string.device_folders_collection_display_name);
+            }
+            case MEDIA_CATEGORY_TYPE_APP_FOLDERS -> {
+                return resources.getString(R.string.app_folders_collection_display_name);
+            }
+            case ALBUM_ID_CAMERA -> {
+                return resources.getString(R.string.camera_album_display_name);
+            }
+            case ALBUM_ID_SCREENSHOTS -> {
+                return resources.getString(R.string.screenshots_album_display_name);
+            }
+            case ALBUM_ID_DOWNLOADS -> {
+                return resources.getString(R.string.downloads_album_display_name);
+            }
+            default -> {
+                // if not a known case return the original display name
+                return displayName;
+            }
+        }
+    }
+
+    private Cursor getCategoryFromFolderCursor(
+            @Nullable Cursor folder,
+            @CloudMediaProviderContract.MediaCategoryType String mediaCategoryType) {
+        final MatrixCursor cursor = new MatrixCursor(MediaCategoryColumns.ALL_PROJECTION);
+
+        if (folder == null || !folder.moveToFirst()) {
+            return cursor;
+        }
+
+        final MatrixCursor.RowBuilder row = cursor.newRow();
+        final List<String> coverIdColumnNames = new ArrayList<>(Arrays.asList(
+                MediaCategoryColumns.MEDIA_COVER_ID1,
+                MediaCategoryColumns.MEDIA_COVER_ID2,
+                MediaCategoryColumns.MEDIA_COVER_ID3,
+                MediaCategoryColumns.MEDIA_COVER_ID4));
+        folder.moveToFirst();
+        for (int i = 0; i < Math.min(folder.getCount(), coverIdColumnNames.size()); ++i) {
+            String columnName = coverIdColumnNames.get(i);
+            if (MEDIA_CATEGORY_TYPE_APP_FOLDERS.equals(mediaCategoryType)) {
+                String mediaCoverId = getAppIconCoverId(
+                        getCursorString(folder, MediaSetColumns.ID),
+                        getCursorString(folder, CloudMediaProviderContract.MediaColumns.USER_ID));
+                row.add(columnName, mediaCoverId);
+            } else {
+                row.add(columnName, getCursorString(folder, MediaSetColumns.MEDIA_COVER_ID));
+            }
+            folder.moveToNext();
+        }
+        row.add(MediaCategoryColumns.DISPLAY_NAME, getLocalizedDisplayName(
+                mediaCategoryType, mContext));
+        row.add(MediaCategoryColumns.ID, mediaCategoryType);
+        row.add(MediaCategoryColumns.MEDIA_CATEGORY_TYPE, mediaCategoryType);
+
+        return cursor;
+    }
+
+    private String getAppIconCoverId(@Nullable String mediaSetId, @Nullable String userId) {
+        String coverId = null;
+        if (mediaSetId == null) {
+            return coverId;
+        }
+        try {
+            // mediaSetId for an app media set is of the form "[category_type]:[owner_package_name]"
+            String ownerPackageName = mediaSetId.split(":")[1];
+            PackageManager packageManager = mContext.getPackageManager();
+            try {
+                ApplicationInfo applicationInfo = packageManager
+                        .getApplicationInfo(ownerPackageName, /* flags = */0);
+                int appIconResId = applicationInfo.icon;
+                // cover id of the form "[package_name]/[res_id]/[user_id]"
+                coverId = String.format(
+                        Locale.ROOT,
+                        "%s/%s/%s",
+                        ownerPackageName,
+                        appIconResId,
+                        userId);
+            } catch (PackageManager.NameNotFoundException exception) {
+                Log.e(TAG, String.format(
+                                Locale.ROOT,
+                                "Package info not found for %s",
+                                ownerPackageName),
+                        exception);
+            } catch (RuntimeException exception) {
+                Log.e(TAG, String.format(
+                                Locale.ROOT,
+                                "Error getting package info for %s",
+                                ownerPackageName),
+                        exception);
+            }
+        } catch (RuntimeException exception) {
+            Log.e(TAG, String.format(
+                            Locale.ROOT,
+                            "Error getting cover id for media set %s",
+                            mediaSetId),
+                    exception);
+        }
+        return coverId;
+    }
 }
diff --git a/src/com/android/providers/media/photopicker/sync/WorkManagerInitializer.java b/src/com/android/providers/media/photopicker/sync/WorkManagerInitializer.java
index 3727d181e..1d122fbaa 100644
--- a/src/com/android/providers/media/photopicker/sync/WorkManagerInitializer.java
+++ b/src/com/android/providers/media/photopicker/sync/WorkManagerInitializer.java
@@ -33,7 +33,7 @@ public class WorkManagerInitializer {
     // {@link PickerSyncManager} to ensure that any request type is not blocked on other request
     // types. It is advisable to use unique work requests because in case the number of queued
     // requests grows, they should not block other work requests.
-    private static final int WORK_MANAGER_THREAD_POOL_SIZE = 13;
+    private static final int WORK_MANAGER_THREAD_POOL_SIZE = 15;
     @Nullable
     private static volatile Executor sWorkManagerExecutor;
 
diff --git a/src/com/android/providers/media/photopicker/v2/PickerDataLayerV2.java b/src/com/android/providers/media/photopicker/v2/PickerDataLayerV2.java
index 6471205f2..285ee3226 100644
--- a/src/com/android/providers/media/photopicker/v2/PickerDataLayerV2.java
+++ b/src/com/android/providers/media/photopicker/v2/PickerDataLayerV2.java
@@ -80,6 +80,7 @@ import com.android.providers.media.photopicker.v2.model.AlbumMediaQuery;
 import com.android.providers.media.photopicker.v2.model.AlbumsCursorWrapper;
 import com.android.providers.media.photopicker.v2.model.MediaGroup;
 import com.android.providers.media.photopicker.v2.model.MediaInMediaSetSyncRequestParams;
+import com.android.providers.media.photopicker.v2.model.MediaPageKeyQuery;
 import com.android.providers.media.photopicker.v2.model.MediaQuery;
 import com.android.providers.media.photopicker.v2.model.MediaQueryForPreSelection;
 import com.android.providers.media.photopicker.v2.model.MediaSetsSyncRequestParams;
@@ -144,6 +145,9 @@ public class PickerDataLayerV2 {
             new Pair<>(ALBUM, AlbumColumns.ALBUM_ID_FAVORITES),
             new Pair<>(ALBUM, AlbumColumns.ALBUM_ID_CAMERA),
             new Pair<>(CATEGORY, CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS),
+            new Pair<>(CATEGORY, CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS),
+            new Pair<>(CATEGORY, CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS),
+            new Pair<>(CATEGORY, CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS),
             new Pair<>(ALBUM, AlbumColumns.ALBUM_ID_DOWNLOADS),
             new Pair<>(ALBUM, AlbumColumns.ALBUM_ID_SCREENSHOTS),
             new Pair<>(ALBUM, AlbumColumns.ALBUM_ID_VIDEOS)
@@ -162,6 +166,23 @@ public class PickerDataLayerV2 {
             AlbumColumns.ALBUM_ID_DOWNLOADS
     );
 
+    // Set of people and pets cloud categories.
+    public static Set<String> CLOUD_PEOPLE_CATEGORY = Set.of(
+            CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS
+    );
+
+    // Set of known cloud categories.
+    public static Set<String> CLOUD_CATEGORIES = Set.of(
+            CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS,
+            CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS
+    );
+
+    // Set of known local categories.
+    public static final Set<String> LOCAL_CATEGORIES = Set.of(
+            CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+            CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS
+    );
+
     /**
      * Table used to store the items for which the app hold read grants but have been de-selected
      * by the user in the current photo-picker session.
@@ -201,6 +222,14 @@ public class PickerDataLayerV2 {
         }
     }
 
+    private static Set<String> getValidCloudCategoriesSet(
+            boolean isCloudAlbumsAsCategoriesEnabled) {
+        if (isCloudAlbumsAsCategoriesEnabled) {
+            return CLOUD_CATEGORIES;
+        }
+        return CLOUD_PEOPLE_CATEGORY;
+    }
+
     /**
      * Returns a cursor with the Photo Picker media in response.
      *
@@ -297,12 +326,14 @@ public class PickerDataLayerV2 {
 
         waitForOngoingMediaSetsSync(effectiveLocalAuthority, effectiveCloudAuthority);
 
-        Cursor mediaSetsCursor = MediaSetsDatabaseUtil.getMediaSetsForCategory(
+        final Cursor mediaSetsCursor = MediaSetsDatabaseUtil.getMediaSetsForCategory(
                 syncController.getDbFacade().getDatabase(),
-                requestParams
-               );
+                requestParams);
+        final Cursor result = MediaGroupCursorUtils
+                .getMediaGroupCursorForMediaSets(mediaSetsCursor);
 
-        return MediaGroupCursorUtils.getMediaGroupCursorForMediaSets(mediaSetsCursor);
+        Log.i(TAG, "Returning " + (result == null ? null : result.getCount()) + " media sets.");
+        return result;
     }
 
     /**
@@ -373,6 +404,69 @@ public class PickerDataLayerV2 {
         }
     }
 
+    /**
+     * Returns a cursor with media items count available in each month
+     *
+     * @param appContext The application context.
+     * @param queryArgs The arguments help us filter on the media query to yield the desired
+     *                  results.
+     */
+    static Cursor queryItemsPerMonth(@NonNull Context appContext, @NonNull Bundle queryArgs) {
+        Log.d(TAG, "Received query for media items per month");
+        final MediaQuery query = new MediaQuery(queryArgs);
+        final PickerSyncController syncController = PickerSyncController.getInstanceOrThrow();
+        final String effectiveLocalAuthority =
+                query.getProviders().contains(syncController.getLocalProvider())
+                        ? syncController.getLocalProvider()
+                        : null;
+        final String cloudAuthority = syncController
+                .getCloudProviderOrDefault(/* defaultValue */ null);
+        final String effectiveCloudAuthority =
+                syncController.shouldQueryCloudMedia(query.getProviders(), cloudAuthority)
+                        ? cloudAuthority
+                        : null;
+
+        return PickerMediaDatabaseUtil.queryItemsPerMonth(
+                appContext,
+                syncController,
+                query,
+                effectiveLocalAuthority,
+                effectiveCloudAuthority
+        );
+    }
+
+    /**
+     * Returns a cursor having picker id and date taken for the item at the specified position.
+     * This cursor will be used to form a valid instance of MediaPageKey.
+     *
+     * @param appContext The application context.
+     * @param queryArgs The arguments help us filter on the media query to yield the desired
+     *                  results.
+     */
+    public static Cursor queryMediaPageKey(@NonNull Context appContext, @NonNull Bundle queryArgs) {
+        Log.d(TAG, "Received query for media page key for the item at the specified position");
+        final MediaPageKeyQuery query = new MediaPageKeyQuery(queryArgs);
+        final PickerSyncController syncController = PickerSyncController.getInstanceOrThrow();
+        final String effectiveLocalAuthority =
+                query.getProviders().contains(syncController.getLocalProvider())
+                        ? syncController.getLocalProvider()
+                        : null;
+        final String cloudAuthority = syncController
+                .getCloudProviderOrDefault(/* defaultValue */ null);
+        final String effectiveCloudAuthority =
+                syncController.shouldQueryCloudMedia(query.getProviders(), cloudAuthority)
+                        ? cloudAuthority
+                        : null;
+
+        return PickerMediaDatabaseUtil.queryMediaPageKey(
+                appContext,
+                syncController,
+                query,
+                effectiveLocalAuthority,
+                effectiveCloudAuthority
+        );
+    }
+
     /**
      * Returns a cursor with the Photo Picker albums and categories in response.
      *
@@ -409,8 +503,24 @@ public class PickerDataLayerV2 {
                 appContext, query, effectiveLocalAuthority);
 
         // Get cloud categories from cloud provider.
-        final Cursor categories = getCloudCategories(
+        final Cursor cloudCategories = getCategoriesForProvider(
                 appContext, query, effectiveCloudAuthority, syncController, cancellationSignal);
+        // Get local categories from local provider.
+        final Cursor localCategories = getCategoriesForProvider(
+                appContext, query, effectiveLocalAuthority, syncController, cancellationSignal);
+
+        final boolean isCloudAlbumsAsCategoriesEnabled = effectiveCloudAuthority != null
+                && syncController.getCategoriesState()
+                .isCloudAlbumsAsCategoryEnabled(appContext, effectiveCloudAuthority);
+
+        final Map<String, Cursor> categoryToCursorMap = new HashMap<>();
+        extractCategoriesFromCursor(cloudCategories, categoryToCursorMap,
+                getValidCloudCategoriesSet(isCloudAlbumsAsCategoriesEnabled));
+        extractCategoriesFromCursor(localCategories, categoryToCursorMap, LOCAL_CATEGORIES);
+
+        final Map<String, String> categoryToAuthorityMap = getCategoryToAuthorityMap(
+                effectiveCloudAuthority, effectiveLocalAuthority);
+
 
         // Add Pinned album and categories to the list of cursors in the order in which they
         // should be displayed. Note that pinned albums can only be local and merged albums.
@@ -438,15 +548,22 @@ public class PickerDataLayerV2 {
 
                     break;
                 case CATEGORY:
-                    switch (mediaGroup.second) {
-                        case CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS:
-                            cursor = MediaGroupCursorUtils.getMediaGroupCursorForCategories(
-                                    categories, effectiveCloudAuthority, index);
-                            break;
-                        default:
-                            Log.e(TAG, "Could not recognize pinned category type, skipping it : "
-                                    + mediaGroup.second);
-                            cursor = null;
+                    final String authority = categoryToAuthorityMap.getOrDefault(
+                            mediaGroup.second,
+                            null);
+                    final Cursor inputCursor = categoryToCursorMap.getOrDefault(
+                            mediaGroup.second,
+                            null);
+                    if (authority == null || inputCursor == null) {
+                        Log.e(TAG, "Could not recognize pinned category type, skipping it : "
+                                + mediaGroup.second);
+                        cursor = null;
+                    } else {
+                        cursor = MediaGroupCursorUtils.getMediaGroupCursorForCategories(
+                                inputCursor,
+                                authority,
+                                index,
+                                mediaGroup.second);
                     }
 
                     break;
@@ -461,16 +578,19 @@ public class PickerDataLayerV2 {
             }
         }
 
-        // Add cloud albums at the end.
-        // This is an external query into the CMP, so catch any exceptions that might get thrown
-        // so that at a minimum, the local results are sent back to the UI.
-        try {
-            final Cursor cloudAlbumsCursor = getCloudAlbumsCursor(appContext, query,
-                    localAuthority, effectiveCloudAuthority);
-            allMediaGroupCursors.add(
-                    MediaGroupCursorUtils.getMediaGroupCursorForAlbums(cloudAlbumsCursor, index));
-        } catch (RuntimeException ex) {
-            Log.w(TAG, "Cloud provider exception while fetching cloud albums cursor", ex);
+        if (!isCloudAlbumsAsCategoriesEnabled) {
+            // Add cloud albums at the end.
+            // This is an external query into the CMP, so catch any exceptions that might get thrown
+            // so that at a minimum, the local results are sent back to the UI.
+            try {
+                final Cursor cloudAlbumsCursor = getCloudAlbumsCursor(appContext, query,
+                        localAuthority, effectiveCloudAuthority);
+                allMediaGroupCursors.add(
+                        MediaGroupCursorUtils.getMediaGroupCursorForAlbums(cloudAlbumsCursor,
+                                index));
+            } catch (RuntimeException ex) {
+                Log.e(TAG, "Cloud provider exception while fetching cloud albums cursor", ex);
+            }
         }
 
         // Remove empty cursors.
@@ -488,6 +608,99 @@ public class PickerDataLayerV2 {
         }
     }
 
+    @NonNull
+    private static Map<String, String> getCategoryToAuthorityMap(String effectiveCloudAuthority,
+            String effectiveLocalAuthority) {
+        final Map<String, String> categoryToAuthorityMap = new HashMap<>();
+        if (effectiveCloudAuthority != null) {
+            categoryToAuthorityMap.put(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS,
+                    effectiveCloudAuthority);
+            categoryToAuthorityMap.put(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS,
+                    effectiveCloudAuthority);
+        }
+        if (effectiveLocalAuthority != null) {
+            categoryToAuthorityMap.put(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    effectiveLocalAuthority);
+            categoryToAuthorityMap.put(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                    effectiveLocalAuthority);
+        }
+        return categoryToAuthorityMap;
+    }
+
+    private static void extractCategoriesFromCursor(
+            Cursor categoriesCursor,
+            Map<String, Cursor> categoriesToCursorMap,
+            Set<String> validCategories) {
+        if (categoriesCursor == null) {
+            return;
+        }
+        if (!categoriesCursor.moveToFirst()) {
+            return;
+        }
+        do {
+            try {
+                final String categoryType = categoriesCursor.getString(
+                        categoriesCursor.getColumnIndexOrThrow(
+                                CloudMediaProviderContract
+                                        .MediaCategoryColumns.MEDIA_CATEGORY_TYPE));
+
+                if (categoryType == null) {
+                    Log.w(TAG, "NULL category type received from the cursor, skipping the row.");
+                    continue;
+                }
+                if (!validCategories.contains(categoryType)) {
+                    Log.w(TAG, "Invalid category type " + categoryType
+                            + " received from the cursor, skipping the row.");
+                    continue;
+                }
+
+                final String categoryId = requireNonNull(
+                        categoriesCursor.getString(categoriesCursor.getColumnIndexOrThrow(
+                                CloudMediaProviderContract.MediaCategoryColumns.ID)));
+
+                final String displayName = categoriesCursor.getString(
+                        categoriesCursor.getColumnIndexOrThrow(
+                                CloudMediaProviderContract.MediaCategoryColumns.DISPLAY_NAME));
+
+                final String mediaCoverId1 = categoriesCursor.getString(
+                        categoriesCursor.getColumnIndexOrThrow(
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID1));
+
+                final String mediaCoverId2 = categoriesCursor.getString(
+                        categoriesCursor.getColumnIndexOrThrow(
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID2));
+
+                final String mediaCoverId3 = categoriesCursor.getString(
+                        categoriesCursor.getColumnIndexOrThrow(
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID3));
+
+                final String mediaCoverId4 = categoriesCursor.getString(
+                        categoriesCursor.getColumnIndexOrThrow(
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID4));
+
+                final MatrixCursor rowCursor = new MatrixCursor(
+                        CloudMediaProviderContract.MediaCategoryColumns.ALL_PROJECTION);
+                rowCursor.addRow(new Object[]{
+                        categoryId,
+                        displayName,
+                        categoryType,
+                        mediaCoverId1,
+                        mediaCoverId2,
+                        mediaCoverId3,
+                        mediaCoverId4,
+                });
+
+                categoriesToCursorMap.put(categoryType, rowCursor);
+            } catch (Exception exception) {
+                Log.e(TAG, "Extracting categories from cursor errored out.", exception);
+            }
+        } while (categoriesCursor.moveToNext());
+    }
+
     /**
      * Returns a cursor with the Photo Picker album media in response.
      *
@@ -611,9 +824,12 @@ public class PickerDataLayerV2 {
 
         waitForOngoingMediaInMediaSetSync(effectiveLocalAuthority, effectiveCloudAuthority);
 
-        return MediaInMediaSetsDatabaseUtil.queryMediaInMediaSet(
+        final Cursor result = MediaInMediaSetsDatabaseUtil.queryMediaInMediaSet(
                 syncController, query, effectiveLocalAuthority, effectiveCloudAuthority);
 
+        Log.i(TAG, "Returning " + (result == null ? result : result.getCount())
+                + " media set contents.");
+        return result;
     }
 
     /**
@@ -908,12 +1124,18 @@ public class PickerDataLayerV2 {
                     + "cloud provider for a parent category. Please check the input providers.");
         }
         if (localAuthority != null) {
-            SyncCompletionWaiter.waitForSyncWithTimeout(
+            Log.d(TAG, "Waiting for media set contents sync with local authority "
+                    + localAuthority);
+            final boolean success = SyncCompletionWaiter.waitForSyncWithTimeout(
                     SyncTrackerRegistry.getLocalMediaInMediaSetTracker(), /*timeoutInMillis*/ 500);
+            Log.d(TAG, "Done waiting for media set contents sync. Was it a success? " + success);
         }
         if (cloudAuthority != null) {
-            SyncCompletionWaiter.waitForSyncWithTimeout(
-                    SyncTrackerRegistry.getCloudMediaInMediaSetTracker(), /*timeoutInMillis*/ 5000);
+            Log.d(TAG, "Waiting for media set contents sync with cloud authority "
+                    + cloudAuthority);
+            final boolean success = SyncCompletionWaiter.waitForSyncWithTimeout(
+                    SyncTrackerRegistry.getCloudMediaInMediaSetTracker(), /*timeoutInMillis*/ 9000);
+            Log.d(TAG, "Done waiting for media set contents sync. Was it a success? " + success);
         }
     }
 
@@ -933,12 +1155,16 @@ public class PickerDataLayerV2 {
                     + " a cloud provider for a parent category. Please check the input providers.");
         }
         if (localAuthority != null) {
-            SyncCompletionWaiter.waitForSyncWithTimeout(
+            Log.d(TAG, "Waiting for media sets sync for local authority " + localAuthority);
+            final boolean success = SyncCompletionWaiter.waitForSyncWithTimeout(
                     SyncTrackerRegistry.getLocalMediaSetsSyncTracker(), /*timeoutInMillis*/ 500);
+            Log.d(TAG, "Done waiting for media sets sync. Was it a success? " + success);
         }
         if (cloudAuthority != null) {
-            SyncCompletionWaiter.waitForSyncWithTimeout(
-                    SyncTrackerRegistry.getCloudMediaSetsSyncTracker(), /*timeoutInMillis*/ 2000);
+            Log.d(TAG, "Waiting for media sets sync for cloud authority " + cloudAuthority);
+            final boolean success = SyncCompletionWaiter.waitForSyncWithTimeout(
+                    SyncTrackerRegistry.getCloudMediaSetsSyncTracker(), /*timeoutInMillis*/ 5000);
+            Log.d(TAG, "Done waiting for media sets sync. Was it a success? " + success);
         }
     }
 
@@ -1113,7 +1339,7 @@ public class PickerDataLayerV2 {
     /**
      * @param appContext Application context.
      * @param query Query arguments that will be used to filter categories.
-     * @param cloudAuthority Effective cloud authority from which cloud categories should be
+     * @param providerAuthority Effective authority from which cloud/local categories should be
      *                       fetched. This could be null.
      * @param cancellationSignal CancellationSignal object that notifies that the request has been
      *                           cancelled.
@@ -1121,20 +1347,23 @@ public class PickerDataLayerV2 {
      * fetching the categories.
      */
     @Nullable
-    private static Cursor getCloudCategories(
+    private static Cursor getCategoriesForProvider(
             @NonNull Context appContext,
             @NonNull MediaQuery query,
-            @Nullable String cloudAuthority,
+            @Nullable String providerAuthority,
             @NonNull PickerSyncController syncController,
             @Nullable CancellationSignal cancellationSignal) {
         try {
-            if (cloudAuthority == null) {
-                Log.d(TAG, "Cannot fetch cloud categories when cloud authority is null.");
+            if (providerAuthority == null) {
+                Log.d(TAG, "Cannot fetch categories when provider authority is null.");
                 return null;
             }
 
             try {
-                if (syncController.isFullSyncPending(cloudAuthority, /* isLocal */ false)) {
+                // Skip checking sync status when the authority is of local provider
+                if (!providerAuthority.equals(syncController.getLocalProvider())
+                        && syncController.isFullSyncPending(
+                                providerAuthority, /* isLocal */ false)) {
                     Log.d(TAG, "Don't return cloud categories when full sync is pending.");
                     return null;
                 }
@@ -1145,17 +1374,19 @@ public class PickerDataLayerV2 {
             }
 
             final PickerSearchProviderClient searchClient = PickerSearchProviderClient.create(
-                    appContext, cloudAuthority);
+                    appContext, providerAuthority);
             if (syncController.getCategoriesState().areCategoriesEnabled(
-                    appContext, cloudAuthority)) {
-                Log.d(TAG, "Media categories feature is enabled. Fetching cloud categories.");
+                    appContext, providerAuthority)) {
+                Log.d(TAG, String.format(Locale.ROOT,
+                        "Media categories feature is enabled. Fetching %s categories.",
+                        providerAuthority));
                 return searchClient.fetchMediaCategoriesFromCmp(
                         /* parentCategoryId */ null,
                         query.prepareCMPQueryArgs(),
                         /* cancellationSignal */ cancellationSignal);
             }
         } catch (RuntimeException e) {
-            Log.e(TAG, "Could not fetch cloud categories.", e);
+            Log.e(TAG, "Could not fetch categories for authority: " + providerAuthority, e);
         }
 
         return null;
diff --git a/src/com/android/providers/media/photopicker/v2/PickerUriResolverV2.java b/src/com/android/providers/media/photopicker/v2/PickerUriResolverV2.java
index 1f1385fef..67ba7a02c 100644
--- a/src/com/android/providers/media/photopicker/v2/PickerUriResolverV2.java
+++ b/src/com/android/providers/media/photopicker/v2/PickerUriResolverV2.java
@@ -43,8 +43,10 @@ public class PickerUriResolverV2 {
     public static final String MEDIA_PATH_SEGMENT = "media";
     public static final String ALBUM_PATH_SEGMENT = "album";
     public static final String SEARCH_RESULT_MEDIA_PATH_SEGMENT = "search_media";
+    public static final String ITEMS_PER_MONTH_PATH_SEGMENT = "monthly_aggregate";
     public static final String UPDATE_PATH_SEGMENT = "update";
     private static final String MEDIA_GRANTS_COUNT_PATH_SEGMENT = "media_grants_count";
+    public static final String PAGE_KEY_PATH_SEGMENT = "page_key";
     private static final String PREVIEW_PATH_SEGMENT = "preview";
     private static final String PRE_SELECTION_PATH_SEGMENT = "pre_selection";
     private static final String SEARCH_SUGGESTIONS_PATH_SEGMENT = "search_suggestions";
@@ -67,6 +69,8 @@ public class PickerUriResolverV2 {
     static final int PICKER_INTERNAL_CATEGORIES = 11;
     static final int PICKER_INTERNAL_MEDIA_SETS = 12;
     static final int PICKER_INTERNAL_MEDIA_SET_CONTENTS = 13;
+    static final int PICKER_INTERNAL_ITEMS_PER_MONTH = 14;
+    static final int PICKER_INTERNAL_MEDIA_PAGE_KEY = 15;
 
     @Retention(RetentionPolicy.SOURCE)
     @IntDef({
@@ -83,7 +87,9 @@ public class PickerUriResolverV2 {
             PICKER_INTERNAL_SEARCH_SUGGESTIONS,
             PICKER_INTERNAL_CATEGORIES,
             PICKER_INTERNAL_MEDIA_SETS,
-            PICKER_INTERNAL_MEDIA_SET_CONTENTS
+            PICKER_INTERNAL_MEDIA_SET_CONTENTS,
+            PICKER_INTERNAL_ITEMS_PER_MONTH,
+            PICKER_INTERNAL_MEDIA_PAGE_KEY,
     })
     private @interface PickerQuery {}
 
@@ -132,6 +138,12 @@ public class PickerUriResolverV2 {
         sUriMatcher.addURI(MediaStore.AUTHORITY,
                 BASE_PICKER_PATH + MEDIA_SET_CONTENTS_PATH_SEGMENT,
                 PICKER_INTERNAL_MEDIA_SET_CONTENTS);
+        sUriMatcher.addURI(MediaStore.AUTHORITY,
+                BASE_PICKER_PATH + MEDIA_PATH_SEGMENT + "/" + ITEMS_PER_MONTH_PATH_SEGMENT,
+                PICKER_INTERNAL_ITEMS_PER_MONTH);
+        sUriMatcher.addURI(MediaStore.AUTHORITY,
+                BASE_PICKER_PATH + MEDIA_PATH_SEGMENT + "/" + PAGE_KEY_PATH_SEGMENT,
+                PICKER_INTERNAL_MEDIA_PAGE_KEY);
     }
 
     /**
@@ -190,6 +202,10 @@ public class PickerUriResolverV2 {
                 return PickerDataLayerV2.queryMediaSets(requireNonNull(queryArgs));
             case PICKER_INTERNAL_MEDIA_SET_CONTENTS:
                 return PickerDataLayerV2.queryMediaInMediaSet(requireNonNull(queryArgs));
+            case PICKER_INTERNAL_ITEMS_PER_MONTH:
+                return PickerDataLayerV2.queryItemsPerMonth(appContext, requireNonNull(queryArgs));
+            case PICKER_INTERNAL_MEDIA_PAGE_KEY:
+                return PickerDataLayerV2.queryMediaPageKey(appContext, requireNonNull(queryArgs));
             default:
                 throw new UnsupportedOperationException("Could not recognize content URI " + uri);
         }
diff --git a/src/com/android/providers/media/photopicker/v2/model/MediaPageKeyQuery.java b/src/com/android/providers/media/photopicker/v2/model/MediaPageKeyQuery.java
new file mode 100644
index 000000000..887d8a630
--- /dev/null
+++ b/src/com/android/providers/media/photopicker/v2/model/MediaPageKeyQuery.java
@@ -0,0 +1,43 @@
+/*
+ * Copyright (C) 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.providers.media.photopicker.v2.model;
+
+import android.os.Bundle;
+
+/**
+ * This is a convenience class for Media page key related SQL queries performed on the Picker
+ * Database.
+ */
+public class MediaPageKeyQuery extends MediaQuery {
+    // Item position is based on zero-indexed
+    private int mItemPosition;
+    private final int mDefaultItemPosition = 0;
+
+    public MediaPageKeyQuery(Bundle queryArgs) {
+        super(queryArgs);
+        mItemPosition = queryArgs.getInt("item_position", mDefaultItemPosition);
+
+        // Set default item position if given mItemPosition is negative
+        if (mItemPosition < 0) {
+            mItemPosition = mDefaultItemPosition;
+        }
+    }
+
+    public int getItemPosition() {
+        return mItemPosition;
+    }
+}
diff --git a/src/com/android/providers/media/photopicker/v2/model/MediaQuery.java b/src/com/android/providers/media/photopicker/v2/model/MediaQuery.java
index f04f804b0..7fcaa97dd 100644
--- a/src/com/android/providers/media/photopicker/v2/model/MediaQuery.java
+++ b/src/com/android/providers/media/photopicker/v2/model/MediaQuery.java
@@ -33,6 +33,7 @@ import static com.android.providers.media.photopicker.v2.sqlite.MediaProjection.
 import android.content.Context;
 import android.content.Intent;
 import android.os.Bundle;
+import android.provider.CloudMediaProviderContract;
 import android.provider.MediaStore;
 import android.text.TextUtils;
 
@@ -40,6 +41,7 @@ import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 
 import com.android.providers.media.MediaGrants;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.photopicker.v2.PickerDataLayerV2;
 import com.android.providers.media.photopicker.v2.sqlite.PickerSQLConstants;
 import com.android.providers.media.photopicker.v2.sqlite.SelectSQLiteQueryBuilder;
@@ -127,6 +129,11 @@ public class MediaQuery {
         if (mMimeTypes != null) {
             queryArgs.putStringArray(Intent.EXTRA_MIME_TYPES, mMimeTypes.toArray(new String[0]));
         }
+        // Indicate whether or not the Local Media Provider shows local device folders.
+        // Set based on the state of the flag.
+        queryArgs.putBoolean(
+                CloudMediaProviderContract.EXTRA_PICKER_SHOWS_DEVICE_FOLDERS,
+                Flags.enableLocalMediaProviderCapabilities());
         return queryArgs;
     }
 
diff --git a/src/com/android/providers/media/photopicker/v2/sqlite/MediaGroupCursorUtils.java b/src/com/android/providers/media/photopicker/v2/sqlite/MediaGroupCursorUtils.java
index 8e3034869..36ecc9300 100644
--- a/src/com/android/providers/media/photopicker/v2/sqlite/MediaGroupCursorUtils.java
+++ b/src/com/android/providers/media/photopicker/v2/sqlite/MediaGroupCursorUtils.java
@@ -20,6 +20,7 @@ import static android.provider.MediaStore.MY_USER_ID;
 
 import static java.util.Objects.requireNonNull;
 
+import android.content.ContentResolver;
 import android.database.Cursor;
 import android.database.MatrixCursor;
 import android.net.Uri;
@@ -68,7 +69,7 @@ public class MediaGroupCursorUtils {
             PickerSQLConstants.MediaGroupResponseColumns.IS_LEAF_CATEGORY.getColumnName(),
     };
 
-    private static final String[] MEDIA_SET_RESPONSE_PROJECTION = new String[] {
+    private static final String[] MEDIA_SET_RESPONSE_PROJECTION = new String[]{
             PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName(),
             PickerSQLConstants.MediaGroupResponseColumns.PICKER_ID.getColumnName(),
             PickerSQLConstants.MediaGroupResponseColumns.DISPLAY_NAME.getColumnName(),
@@ -76,9 +77,16 @@ public class MediaGroupCursorUtils {
             PickerSQLConstants.MediaGroupResponseColumns.UNWRAPPED_COVER_URI.getColumnName()
     };
 
+    private static final List<String> MEDIA_COVER_ID_COLUMNS = List.of(
+            CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID1,
+            CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID2,
+            CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID3,
+            CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID4
+    );
+
     /**
      * @param cursor Input
-     * {@link CloudMediaProviderContract.MediaSetColumns} cursor.
+     *               {@link CloudMediaProviderContract.MediaSetColumns} cursor.
      * @return Cursor with the columns {@link PickerSQLConstants.MediaGroupResponseColumns}.
      */
     public static Cursor getMediaGroupCursorForMediaSets(@Nullable Cursor cursor) {
@@ -128,7 +136,7 @@ public class MediaGroupCursorUtils {
                 String coverUri = getUri(coverId, authority).toString();
                 String unwrappedCoverUri = maybeGetLocalUri(coverUri, cloudToLocalIdMap);
 
-                mediaSetsResponse.addRow(new Object[] {
+                mediaSetsResponse.addRow(new Object[]{
                         mediaSetId,
                         mediaSetPickerId,
                         displayName,
@@ -142,9 +150,9 @@ public class MediaGroupCursorUtils {
 
     /**
      * @param cursor Input
-     * {@link com.android.providers.media.photopicker.v2.model.AlbumsCursorWrapper}
-     * @param index The index for the first album in the given albums cursor.
-     *              The index value can be used to generate unique picker id for albums.
+     *               {@link com.android.providers.media.photopicker.v2.model.AlbumsCursorWrapper}
+     * @param index  The index for the first album in the given albums cursor.
+     *               The index value can be used to generate unique picker id for albums.
      * @return Cursor with the columns {@link PickerSQLConstants.MediaGroupResponseColumns}.
      */
     @Nullable
@@ -174,7 +182,7 @@ public class MediaGroupCursorUtils {
         if (cursor.moveToFirst()) {
             do {
                 final String albumId = cursor.getString(cursor.getColumnIndexOrThrow(
-                                PickerSQLConstants.AlbumResponse.ALBUM_ID.getColumnName()));
+                        PickerSQLConstants.AlbumResponse.ALBUM_ID.getColumnName()));
 
                 // Sets the picker id of the current album and increments the index for the
                 // next album.
@@ -211,18 +219,21 @@ public class MediaGroupCursorUtils {
     }
 
     /**
-     * @param cursor Input
-     * {@link CloudMediaProviderContract.MediaCategoryColumns} cursor.
+     * @param cursor    Input
+     *                  {@link CloudMediaProviderContract.MediaCategoryColumns} cursor.
      * @param authority The authority of the category's CMP.
-     * @param index The index for the first category in the given categories cursor.
-     *              The index value can be used to generate unique picker id for categories.
+     * @param index     The index for the first category in the given categories cursor.
+     *                  The index value can be used to generate unique picker id for categories.
+     * @param validCategoryType The category type to validate the input cursor.
+     *                          Category type received from the input cursor should be same as this.
      * @return Cursor with the columns {@link PickerSQLConstants.MediaGroupResponseColumns}.
      */
     @Nullable
     public static Cursor getMediaGroupCursorForCategories(
             @Nullable Cursor cursor,
             @NonNull String authority,
-            long index) {
+            long index,
+            @NonNull String validCategoryType) {
         if (cursor == null) {
             return null;
         }
@@ -230,15 +241,9 @@ public class MediaGroupCursorUtils {
         final MatrixCursor response = new MatrixCursor(ALL_MEDIA_GROUP_RESPONSE_PROJECTION);
 
         final List<String> uris = new ArrayList<>();
-        final List<String> mediaCoverIdColumns = List.of(
-                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID1,
-                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID2,
-                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID3,
-                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID4
-        );
         if (cursor.moveToFirst()) {
             do {
-                for (String columnName : mediaCoverIdColumns) {
+                for (String columnName : MEDIA_COVER_ID_COLUMNS) {
                     final String mediaCoverId = cursor.getString(
                             cursor.getColumnIndexOrThrow(columnName));
                     if (mediaCoverId != null) {
@@ -252,53 +257,44 @@ public class MediaGroupCursorUtils {
         final Map<String, String> cloudToLocalIdMap = getLocalIds(uris);
         if (cursor.moveToFirst()) {
             if (cursor.getCount() > 1) {
-                Log.e(TAG, "Only one category of type PEOPLE AND PETS is expected but received "
+                Log.e(TAG, "Only one category is expected but received "
                         + cursor.getCount());
             }
 
             final String categoryType = cursor.getString(cursor.getColumnIndexOrThrow(
                     CloudMediaProviderContract.MediaCategoryColumns.MEDIA_CATEGORY_TYPE));
 
-            if (!CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS
-                    .equals(categoryType)) {
+            if (!validCategoryType.equals(categoryType)) {
                 Log.e(TAG, "Could not recognize category type. Skipping it: " + categoryType);
                 return response;
             }
 
             final String categoryId = requireNonNull(
                     cursor.getString(cursor.getColumnIndexOrThrow(
-                    CloudMediaProviderContract.MediaCategoryColumns.ID)));
+                            CloudMediaProviderContract.MediaCategoryColumns.ID)));
 
             final String displayName = cursor.getString(cursor.getColumnIndexOrThrow(
                     CloudMediaProviderContract.MediaCategoryColumns.DISPLAY_NAME));
 
-            final String mediaCoverId1 = cursor.getString(
-                    cursor.getColumnIndexOrThrow(
-                            CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID1));
-            final String coverUri1 = maybeGetLocalUri(
-                    getUri(mediaCoverId1, authority).toString(),
-                    cloudToLocalIdMap);
-
-            final String mediaCoverId2 = cursor.getString(
-                    cursor.getColumnIndexOrThrow(
-                            CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID2));
-            final String coverUri2 = maybeGetLocalUri(
-                    getUri(mediaCoverId2, authority).toString(),
-                    cloudToLocalIdMap);
-
-            final String mediaCoverId3 = cursor.getString(
-                    cursor.getColumnIndexOrThrow(
-                            CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID3));
-            final String coverUri3 = maybeGetLocalUri(
-                    getUri(mediaCoverId3, authority).toString(),
-                    cloudToLocalIdMap);
-
-            final String mediaCoverId4 = cursor.getString(
-                    cursor.getColumnIndexOrThrow(
-                            CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID4));
-            final String coverUri4 = maybeGetLocalUri(
-                    getUri(mediaCoverId4, authority).toString(),
-                    cloudToLocalIdMap);
+            List<String> coverUris = new ArrayList<>(MEDIA_COVER_ID_COLUMNS.size());
+            for (String columnName: MEDIA_COVER_ID_COLUMNS) {
+                final String mediaCoverId = cursor.getString(
+                        cursor.getColumnIndexOrThrow(columnName));
+                if (mediaCoverId == null) {
+                    coverUris.add(null);
+                    continue;
+                }
+                final String coverUri;
+                if (CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS.equals(
+                        categoryType)) {
+                    coverUri = getCustomAndroidResourceUri(mediaCoverId).toString();
+                } else {
+                    coverUri = maybeGetLocalUri(
+                            getUri(mediaCoverId, authority).toString(),
+                            cloudToLocalIdMap);
+                }
+                coverUris.add(coverUri);
+            }
 
             response.addRow(new Object[]{
                     MediaGroup.CATEGORY.name(),
@@ -306,10 +302,10 @@ public class MediaGroupCursorUtils {
                     index,
                     displayName,
                     authority,
-                    coverUri1,
-                    coverUri2,
-                    coverUri3,
-                    coverUri4,
+                    coverUris.get(0),
+                    coverUris.get(1),
+                    coverUris.get(2),
+                    coverUris.get(3),
                     categoryType,
                     // Default is 1, we don't have recursive categories yet.
                     /* MediaGroupResponseColumns.IS_LEAF_CATEGORY */ 1
@@ -418,7 +414,7 @@ public class MediaGroupCursorUtils {
     public static String maybeGetLocalUri(
             @Nullable String rawCoverUri,
             @NonNull Map<String, String> cloudToLocalIdMap) {
-        if (rawCoverUri == null) {
+        if (rawCoverUri == null || rawCoverUri.isEmpty()) {
             return null;
         }
 
@@ -440,17 +436,51 @@ public class MediaGroupCursorUtils {
 
     private static Uri getUri(String mediaId, String authority) {
         return PickerUriResolver
-                .getMediaUri(getEncodedUserAuthority(authority))
+                .getMediaUri(getEncodedUserAuthority(authority, MY_USER_ID))
                 .buildUpon()
                 .appendPath(mediaId)
                 .build();
     }
 
-    private static String getEncodedUserAuthority(String authority) {
+    /**
+     * Parses a custom string-based media identifier and builds a standard {@code android.resource}
+     * URI from it. The input {@code mediaId} must be in the format
+     * "{@code <package_name>/<resource_id>/<user_id>}". If the {@code mediaId} is null or
+     * malformed, this method logs an error and returns {@link Uri#EMPTY}.
+     */
+    @VisibleForTesting
+    @NonNull
+    public static Uri getCustomAndroidResourceUri(@Nullable String mediaId) {
+        if (mediaId == null) {
+            return Uri.EMPTY;
+        }
+        // mediaId is of the form "<package_name>/<res_id>/<user_id>"
+        try {
+            final String[] segments = mediaId.split("/");
+            final String packageName = segments[0];
+            final String resId = segments[1];
+            final int userId = Integer.parseInt(segments[2]);
+
+            Uri.Builder builder =  new Uri.Builder()
+                    .scheme(ContentResolver.SCHEME_ANDROID_RESOURCE)
+                    .encodedAuthority(getEncodedUserAuthority(packageName, userId))
+                    .path(resId);
+            return builder.build();
+        } catch (NumberFormatException e) {
+            Log.e(TAG, "Error parsing userId from mediaId: " + mediaId, e);
+        } catch (ArrayIndexOutOfBoundsException e) {
+            Log.e(TAG, "Error splitting mediaId, incorrect format: " + mediaId, e);
+        } catch (Exception e) {
+            Log.e(TAG, "Error occurred while getting Uri for android resource: " + mediaId, e);
+        }
+        return Uri.EMPTY;
+    }
+
+    private static String getEncodedUserAuthority(String authority, int userId) {
         if (authority.contains("@")) {
             return authority;
         } else {
-            return MY_USER_ID + "@" + authority;
+            return userId + "@" + authority;
         }
     }
 }
diff --git a/src/com/android/providers/media/photopicker/v2/sqlite/MediaInMediaSetsDatabaseUtil.java b/src/com/android/providers/media/photopicker/v2/sqlite/MediaInMediaSetsDatabaseUtil.java
index e6e729718..57364ab5b 100644
--- a/src/com/android/providers/media/photopicker/v2/sqlite/MediaInMediaSetsDatabaseUtil.java
+++ b/src/com/android/providers/media/photopicker/v2/sqlite/MediaInMediaSetsDatabaseUtil.java
@@ -308,15 +308,17 @@ public class MediaInMediaSetsDatabaseUtil {
                 String mediaId = mediaCursor.getString(
                         mediaCursor.getColumnIndexOrThrow(
                                 CloudMediaProviderContract.MediaColumns.ID));
-                String mediaStoreUri = mediaCursor.getString(
-                        mediaCursor.getColumnIndexOrThrow(
-                                CloudMediaProviderContract.MediaColumns.MEDIA_STORE_URI));
-                Uri mediaUri = mediaStoreUri == null ? null : Uri.parse(mediaStoreUri);
-                String extractedLocalId = mediaStoreUri == null ? null
-                        : String.valueOf(ContentUris.parseId(mediaUri));
 
-                String localId = isLocal ? mediaId : extractedLocalId;
+                String localId = mediaId;
                 String cloudId = isLocal ? null : mediaId;
+                if (!isLocal) {
+                    String mediaStoreUri = mediaCursor.getString(
+                            mediaCursor.getColumnIndexOrThrow(
+                                    CloudMediaProviderContract.MediaColumns.MEDIA_STORE_URI));
+                    Uri mediaUri = mediaStoreUri == null ? null : Uri.parse(mediaStoreUri);
+                    localId = mediaStoreUri == null ? null
+                            : String.valueOf(ContentUris.parseId(mediaUri));
+                }
 
                 ContentValues insertValue = new ContentValues();
                 insertValue.put(
diff --git a/src/com/android/providers/media/photopicker/v2/sqlite/MediaProjection.java b/src/com/android/providers/media/photopicker/v2/sqlite/MediaProjection.java
index 5b413f600..b291ed880 100644
--- a/src/com/android/providers/media/photopicker/v2/sqlite/MediaProjection.java
+++ b/src/com/android/providers/media/photopicker/v2/sqlite/MediaProjection.java
@@ -226,6 +226,38 @@ public class MediaProjection {
         );
     }
 
+    /**
+     * Returns a SQL string that extracts the year from the DATE_TAKEN_MS column,
+     * considering the device's local time zone.
+     * The year is formatted as yyyy.
+     *
+     * @return SQL string to extract the year.
+     */
+    public static String getYearForItemsPerMonthData() {
+        return "STRFTIME('%Y', " + PickerSQLConstants.MediaResponse.DATE_TAKEN_MS.getColumnName()
+                + " / 1000, 'unixepoch', 'localtime') AS "
+                + PickerSQLConstants.ItemsPerMonthResponse.YEAR_TAKEN.getProjectedName();
+    }
+
+    /**
+     * Returns a SQL string that extracts the month from the DATE_TAKEN_MS column,
+     * considering the device's local time zone.
+     * The month is formatted as MM (with leading zero if necessary).
+     *
+     * @return SQL string to extract the month.
+     */
+    public static String getMonthForItemsPerMonthData() {
+        return "STRFTIME('%m', " + PickerSQLConstants.MediaResponse.DATE_TAKEN_MS.getColumnName()
+                + " / 1000, 'unixepoch', 'localtime') AS "
+                + PickerSQLConstants.ItemsPerMonthResponse.MONTH_TAKEN.getProjectedName();
+    }
+
+    /** Returns the count of items available in a month*/
+    public static String getItemsPerMonthCount() {
+        return "COUNT(*) AS "
+                + PickerSQLConstants.ItemsPerMonthResponse.ITEM_COUNT.getProjectedName();
+    }
+
     private String getIsPreGranted(String intentAction) {
         if (MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP.equals(intentAction)) {
             if (isOwnedPhotosEnabled(mCallingPackageUid) && mCallingPackageNames != null) {
diff --git a/src/com/android/providers/media/photopicker/v2/sqlite/PickerMediaDatabaseUtil.java b/src/com/android/providers/media/photopicker/v2/sqlite/PickerMediaDatabaseUtil.java
index 35573faac..599160b76 100644
--- a/src/com/android/providers/media/photopicker/v2/sqlite/PickerMediaDatabaseUtil.java
+++ b/src/com/android/providers/media/photopicker/v2/sqlite/PickerMediaDatabaseUtil.java
@@ -22,6 +22,7 @@ import static com.android.providers.media.photopicker.v2.PickerDataLayerV2.getDe
 import static com.android.providers.media.photopicker.v2.sqlite.MediaProjection.prependTableName;
 
 import android.content.Context;
+import android.content.res.Resources;
 import android.database.Cursor;
 import android.database.MatrixCursor;
 import android.database.sqlite.SQLiteDatabase;
@@ -32,15 +33,18 @@ import android.util.Log;
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 
+import com.android.providers.media.R;
 import com.android.providers.media.photopicker.PickerSyncController;
 import com.android.providers.media.photopicker.v2.model.AlbumMediaQuery;
 import com.android.providers.media.photopicker.v2.model.AlbumsCursorWrapper;
 import com.android.providers.media.photopicker.v2.model.FavoritesMediaQuery;
+import com.android.providers.media.photopicker.v2.model.MediaPageKeyQuery;
 import com.android.providers.media.photopicker.v2.model.MediaQuery;
 import com.android.providers.media.photopicker.v2.model.VideoMediaQuery;
 
 import java.util.List;
 import java.util.Locale;
+import java.util.Objects;
 
 /**
  * Utility class for querying the Picker DB to fetch media metadata.
@@ -48,6 +52,8 @@ import java.util.Locale;
 public class PickerMediaDatabaseUtil {
     private static final String TAG = "PickerMediaDBUtil";
 
+    private static final String DEFAULT_DISPLAY_NAME = "Album";
+
     /**
      * Query media from the database and prepare a cursor in response.
      *
@@ -474,7 +480,7 @@ public class PickerMediaDatabaseUtil {
                         /* albumId */ albumId,
                         pickerDBResponse.getString(pickerDBResponse.getColumnIndex(
                                 PickerSQLConstants.MediaResponse.DATE_TAKEN_MS.getProjectedName())),
-                        /* displayName */ albumId,
+                        /* displayName */ getLocalizedDisplayName(albumId, appContext, albumId),
                         pickerDBResponse.getString(pickerDBResponse.getColumnIndex(
                                 PickerSQLConstants.MediaResponse.MEDIA_ID.getProjectedName())),
                         /* count */ "0", // This value is not used anymore
@@ -513,6 +519,131 @@ public class PickerMediaDatabaseUtil {
         }
     }
 
+    @Nullable
+    private static String getLocalizedDisplayName(
+            @Nullable String albumId,
+            @Nullable Context appContext,
+            @NonNull String defaultDisplayName) {
+        if (albumId == null || appContext == null) {
+            Log.e(TAG, "Received null albumId or null appContext, returning default display name.");
+            return defaultDisplayName;
+        }
+        Resources resources = appContext.getResources();
+        return switch (albumId) {
+            case CloudMediaProviderContract.AlbumColumns.ALBUM_ID_FAVORITES -> resources.getString(
+                    R.string.favorites_album_display_name);
+            case CloudMediaProviderContract.AlbumColumns.ALBUM_ID_VIDEOS -> resources.getString(
+                    R.string.videos_album_display_name);
+            default -> {
+                Log.e(TAG, "Unrecognized merged album id: " + albumId
+                        + ", Could not localize the display name.");
+                yield defaultDisplayName;
+            }
+        };
+    }
+
+
+    /**
+     * Query items count available in each month from the database and a cursor in response
+     *
+     * @param appContext The application context.
+     * @param syncController Instance of the PickerSyncController singleton.
+     * @param query The MediaQuery object instance that tells us about the media query args.
+     * @param localAuthority The effective local authority that we need to consider for this
+     *                       transaction. If the local items should not be queries but the local
+     *                       authority has some value, the effective local authority would be null.
+     * @param cloudAuthority The effective cloud authority that we need to consider for this
+     *                       transaction. If the local items should not be queries but the local
+     *                       authority has some value, the effective local authority would
+     *                       be null.
+     * @return The cursor with number of media items available in each  month.
+     */
+    @NonNull
+    public static Cursor queryItemsPerMonth(
+            @NonNull Context appContext,
+            @NonNull PickerSyncController syncController,
+            @NonNull MediaQuery query,
+            @Nullable String localAuthority,
+            @Nullable String cloudAuthority
+    ) {
+        try {
+            final SQLiteDatabase database = syncController.getDbFacade().getDatabase();
+
+            try {
+                database.beginTransactionNonExclusive();
+
+                String queryString = getItemsPerMonthQuery(
+                        appContext,
+                        query,
+                        database,
+                        PickerSQLConstants.Table.MEDIA,
+                        localAuthority,
+                        cloudAuthority
+                );
+                Log.d(TAG, "Items per month query: " + queryString);
+
+                Cursor itemsPerMonthData = database.rawQuery(
+                        Objects.requireNonNull(queryString), /* selectionArgs= */ null);
+
+                database.setTransactionSuccessful();
+                Log.i(TAG, "Items per month query: Returning " + itemsPerMonthData.getCount()
+                        + " dates");
+                return itemsPerMonthData;
+            } finally {
+                database.endTransaction();
+            }
+        } catch (RuntimeException e) {
+            throw new RuntimeException("Photo grid error querying items per month.", e);
+        }
+    }
+
+    /**
+     * Builds and returns the SQL query to get media item count available in each month from media
+     * table in Picker DB.
+     */
+    @Nullable
+    private static String getItemsPerMonthQuery(
+            @Nullable Context appContext,
+            @NonNull MediaQuery query,
+            @NonNull SQLiteDatabase database,
+            @NonNull PickerSQLConstants.Table table,
+            @Nullable String localAuthority,
+            @Nullable String cloudAuthority) {
+        final MediaProjection projectionUtil = new MediaProjection(
+                localAuthority,
+                cloudAuthority,
+                query.getIntentAction(),
+                table
+        );
+
+        SelectSQLiteQueryBuilder queryBuilder = new SelectSQLiteQueryBuilder(database)
+                .setTables(
+                        query.getTableWithRequiredJoins(table.toString(), appContext,
+                                query.getCallingPackageUid(), query.getIntentAction()))
+                .setProjection(List.of(
+                        projectionUtil.getYearForItemsPerMonthData(),
+                        projectionUtil.getMonthForItemsPerMonthData(),
+                        projectionUtil.getItemsPerMonthCount()
+                ))
+                .setGroupBy(PickerSQLConstants.ItemsPerMonthResponse.YEAR_TAKEN.getProjectedName()
+                        + ", "
+                        + PickerSQLConstants.ItemsPerMonthResponse.MONTH_TAKEN.getProjectedName())
+                .setSortOrder(PickerSQLConstants.ItemsPerMonthResponse.YEAR_TAKEN.getProjectedName()
+                        + " DESC, "
+                        + PickerSQLConstants.ItemsPerMonthResponse.MONTH_TAKEN.getProjectedName()
+                        + " DESC");
+
+        query.addWhereClause(
+                queryBuilder,
+                table,
+                localAuthority,
+                cloudAuthority,
+                /* reverseOrder */ false
+        );
+
+        return queryBuilder.buildQuery();
+    }
+
     /**
      * Builds and returns the SQL query to get the page contents from the Media table in Picker DB.
      */
@@ -558,6 +689,100 @@ public class PickerMediaDatabaseUtil {
         return queryBuilder.buildQuery();
     }
 
+
+    /**
+     * Query Media page key for the item on a specified position in picker DB and a cursor
+     * in response.
+     *
+     * @param appContext The application context.
+     * @param syncController Instance of the PickerSyncController singleton.
+     * @param query The MediaPageKeyQuery object instance that tells us about the media page key
+     *              query args.
+     * @param localAuthority The effective local authority that we need to consider for this
+     *                       transaction. If the local items should not be queries but the local
+     *                       authority has some value, the effective local authority would be null.
+     * @param cloudAuthority The effective cloud authority that we need to consider for this
+     *                       transaction. If the local items should not be queries but the local
+     *                       authority has some value, the effective local authority would
+     *                       be null.
+     * @return The cursor having picker id and date taken for the item on a specified position
+     * in picker DB. This cursor will be used to form a valid instance of MediaPageKey.
+     */
+    @NonNull
+    public static Cursor queryMediaPageKey(
+            @NonNull Context appContext,
+            @NonNull PickerSyncController syncController,
+            @NonNull MediaPageKeyQuery query,
+            @Nullable String localAuthority,
+            @Nullable String cloudAuthority
+    ) {
+        try {
+            final SQLiteDatabase database = syncController.getDbFacade().getDatabase();
+
+            try {
+                database.beginTransactionNonExclusive();
+                Cursor pageData = database.rawQuery(
+                        Objects.requireNonNull(getMediaPageKeyQuery(
+                                appContext,
+                                query,
+                                database,
+                                PickerSQLConstants.Table.MEDIA,
+                                localAuthority,
+                                cloudAuthority
+                        )),
+                        /* selectionArgs */ null
+                );
+                database.setTransactionSuccessful();
+                return pageData;
+            } finally {
+                database.endTransaction();
+            }
+        } catch (RuntimeException e) {
+            throw new RuntimeException("Error querying media page key.", e);
+        }
+    }
+
+    /**
+     * Builds and returns the SQL query to get picker id and date taken for the item at specified
+     * position in Media table in Picker DB.
+     */
+    @Nullable
+    private static String getMediaPageKeyQuery(
+            @Nullable Context appContext,
+            @NonNull MediaPageKeyQuery query,
+            @NonNull SQLiteDatabase database,
+            @NonNull PickerSQLConstants.Table table,
+            @Nullable String localAuthority,
+            @Nullable String cloudAuthority) {
+        final MediaProjection projectionUtil = new MediaProjection(
+                localAuthority,
+                cloudAuthority,
+                query.getIntentAction(),
+                table
+        );
+
+        SelectSQLiteQueryBuilder queryBuilder = new SelectSQLiteQueryBuilder(database)
+                .setTables(
+                        query.getTableWithRequiredJoins(table.toString(), appContext,
+                                query.getCallingPackageUid(), query.getIntentAction()))
+                .setProjection(List.of(
+                        projectionUtil.get(PickerSQLConstants.MediaResponse.PICKER_ID),
+                        projectionUtil.get(PickerSQLConstants.MediaResponse.DATE_TAKEN_MS)
+                ))
+                .setSortOrder(getSortOrder(table, /* reverseOrder */ false))
+                .setLimit(1)
+                .setOffset(query.getItemPosition());
+
+        query.addWhereClause(
+                queryBuilder,
+                table,
+                localAuthority,
+                cloudAuthority,
+                /* reverseOrder */ false
+        );
+        return queryBuilder.buildQuery();
+    }
+
     /**
      * Builds and returns the SQL query to get the next page key from the Media table in Picker DB.
      */
diff --git a/src/com/android/providers/media/photopicker/v2/sqlite/PickerSQLConstants.java b/src/com/android/providers/media/photopicker/v2/sqlite/PickerSQLConstants.java
index fc9945a29..1fe70698b 100644
--- a/src/com/android/providers/media/photopicker/v2/sqlite/PickerSQLConstants.java
+++ b/src/com/android/providers/media/photopicker/v2/sqlite/PickerSQLConstants.java
@@ -137,6 +137,30 @@ public class PickerSQLConstants {
                 + Arrays.toString(PickerSQLConstants.AlbumResponse.values()));
     }
 
+
+    /**
+     * An enum that holds the projected names for the Items per Month SQL query response.
+     * YEAR_TAKEN: Represents the year, formatted as yyyy, considering local time.
+     * MONTH_TAKEN: Represents the month, formatted as MM, considering local time.
+     * ITEM_COUNT: Represents the count of items.
+     */
+    public enum ItemsPerMonthResponse {
+        YEAR_TAKEN("year_taken"),
+        MONTH_TAKEN("month_taken"),
+        ITEM_COUNT("item_count");
+        @NonNull
+        private final String mProjectedName;
+
+        ItemsPerMonthResponse(@NonNull String projectedName) {
+            this.mProjectedName = projectedName;
+        }
+
+        @NonNull
+        public String getProjectedName() {
+            return mProjectedName;
+        }
+    }
+
     /**
      * An enum that holds the DB columns names and projected names for the Media SQL query response.
      */
diff --git a/src/com/android/providers/media/photopicker/v2/sqlite/SelectSQLiteQueryBuilder.java b/src/com/android/providers/media/photopicker/v2/sqlite/SelectSQLiteQueryBuilder.java
index db1b617a7..1b56783cc 100644
--- a/src/com/android/providers/media/photopicker/v2/sqlite/SelectSQLiteQueryBuilder.java
+++ b/src/com/android/providers/media/photopicker/v2/sqlite/SelectSQLiteQueryBuilder.java
@@ -41,6 +41,8 @@ public class SelectSQLiteQueryBuilder extends SQLiteQueryBuilder<SelectSQLiteQue
     private Integer mLimit;
     @Nullable
     private Integer mOffset;
+    @Nullable
+    private String mGroupBy;
 
     public SelectSQLiteQueryBuilder(@NonNull SQLiteDatabase database) {
         super(database);
@@ -130,6 +132,17 @@ public class SelectSQLiteQueryBuilder extends SQLiteQueryBuilder<SelectSQLiteQue
         return this;
     }
 
+    /**
+     * Groups the query result by the given projection name.
+     *
+     * @param groupBy A String denoting the projection name to group the result by.
+     * @return An instance of this class.
+     */
+    public SelectSQLiteQueryBuilder setGroupBy(@NonNull String groupBy) {
+        this.mGroupBy = groupBy;
+        return this;
+    }
+
     /**
      * @return the raw select query built using class variables.
      */
@@ -138,7 +151,7 @@ public class SelectSQLiteQueryBuilder extends SQLiteQueryBuilder<SelectSQLiteQue
         return mSQLiteQueryBuilder.buildQuery(
                 mProjection,
                 /* selection */ null,
-                /* groupBy */ null,
+                mGroupBy,
                 /* having */ null,
                 mSortOrder,
                 buildLimitClause()
diff --git a/src/com/android/providers/media/scan/BackupAndRestoreStatsManager.java b/src/com/android/providers/media/scan/BackupAndRestoreStatsManager.java
new file mode 100644
index 000000000..4f4f8fa37
--- /dev/null
+++ b/src/com/android/providers/media/scan/BackupAndRestoreStatsManager.java
@@ -0,0 +1,169 @@
+/*
+ * Copyright (C) 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.providers.media.scan;
+
+import static android.provider.MediaStore.Files.FileColumns.MEDIA_TYPE_AUDIO;
+import static android.provider.MediaStore.Files.FileColumns.MEDIA_TYPE_DOCUMENT;
+import static android.provider.MediaStore.Files.FileColumns.MEDIA_TYPE_IMAGE;
+import static android.provider.MediaStore.Files.FileColumns.MEDIA_TYPE_VIDEO;
+
+import static com.android.providers.media.MediaProviderStatsLog.MEDIA_METADATA_EXTRACTION_REPORTED;
+
+import com.android.providers.media.MediaProviderStatsLog;
+
+class BackupAndRestoreStatsManager {
+    /**
+     * The log will only be generated if number of files scanned will be greater than this
+     * threshold. This is to avoid to many logs for every incremental media scan.
+     */
+    private static final int LOGGING_THRESHOLD = 10;
+
+    private static int sNumFilesRestoredFromBackup = 0;
+
+    private static final MediaStatsCollector IMAGE_STATS = new MediaStatsCollector();
+    private static final MediaStatsCollector VIDEO_STATS = new MediaStatsCollector();
+    private static final MediaStatsCollector AUDIO_STATS = new MediaStatsCollector();
+    private static final MediaStatsCollector DOCUMENT_STATS = new MediaStatsCollector();
+
+    private static int sTotalFilesScanned = 0;
+    private static long sTotalExtractionTimeNs = 0;
+
+    private BackupAndRestoreStatsManager() {
+    }
+
+    /**
+     * Adds metadata extraction statistics for a specific media type.
+     *
+     * @param mediaType MediaType of the file
+     * @param fromBackup True if metadata was extracted using backup
+     * @param timeTakenNs Time taken in nanoseconds
+     */
+    public static void addStatForMediaType(int mediaType, boolean fromBackup, long timeTakenNs) {
+        switch (mediaType) {
+            case MEDIA_TYPE_IMAGE:
+                IMAGE_STATS.record(fromBackup, timeTakenNs);
+                break;
+            case MEDIA_TYPE_VIDEO:
+                VIDEO_STATS.record(fromBackup, timeTakenNs);
+                break;
+            case MEDIA_TYPE_AUDIO:
+                AUDIO_STATS.record(fromBackup, timeTakenNs);
+                break;
+            case MEDIA_TYPE_DOCUMENT:
+                DOCUMENT_STATS.record(fromBackup, timeTakenNs);
+                break;
+            default:
+                return;
+        }
+
+        if (fromBackup) {
+            sNumFilesRestoredFromBackup++;
+        }
+
+        sTotalFilesScanned++;
+        sTotalExtractionTimeNs += timeTakenNs;
+    }
+
+    /**
+     * Logs stats if threshold is met and resets all tracked values.
+     */
+    public static void logStats() {
+        if (sTotalFilesScanned < LOGGING_THRESHOLD) {
+            reset();
+            return;
+        }
+
+        long avgTimeNs = sTotalExtractionTimeNs / sTotalFilesScanned;
+
+        MediaProviderStatsLog.write(MEDIA_METADATA_EXTRACTION_REPORTED,
+                sTotalFilesScanned,
+                sNumFilesRestoredFromBackup,
+                avgTimeNs,
+                IMAGE_STATS.getWithBackupCount(),
+                IMAGE_STATS.getWithBackupAvgTimeNs(),
+                IMAGE_STATS.getWithoutBackupCount(),
+                IMAGE_STATS.getWithoutBackupAvgTimeNs(),
+                VIDEO_STATS.getWithBackupCount(),
+                VIDEO_STATS.getWithBackupAvgTimeNs(),
+                VIDEO_STATS.getWithoutBackupCount(),
+                VIDEO_STATS.getWithoutBackupAvgTimeNs(),
+                AUDIO_STATS.getWithBackupCount(),
+                AUDIO_STATS.getWithBackupAvgTimeNs(),
+                AUDIO_STATS.getWithoutBackupCount(),
+                AUDIO_STATS.getWithoutBackupAvgTimeNs(),
+                DOCUMENT_STATS.getWithBackupCount(),
+                DOCUMENT_STATS.getWithBackupAvgTimeNs(),
+                DOCUMENT_STATS.getWithoutBackupCount(),
+                DOCUMENT_STATS.getWithoutBackupAvgTimeNs()
+        );
+
+        reset();
+    }
+
+    /**
+     * Resets all tracked counters and timers.
+     */
+    private static void reset() {
+        sNumFilesRestoredFromBackup = 0;
+        sTotalFilesScanned = 0;
+        sTotalExtractionTimeNs = 0;
+        IMAGE_STATS.reset();
+        VIDEO_STATS.reset();
+        AUDIO_STATS.reset();
+        DOCUMENT_STATS.reset();
+    }
+
+    private static class MediaStatsCollector {
+        private int mWithBackupCount = 0;
+        private long mWithBackupTotalTimeNs = 0;
+        private int mWithoutBackupCount = 0;
+        private long mWithoutBackupTotalTimeNs = 0;
+
+        void record(boolean usedBackup, long timeNs) {
+            if (usedBackup) {
+                mWithBackupCount++;
+                mWithBackupTotalTimeNs += timeNs;
+            } else {
+                mWithoutBackupCount++;
+                mWithoutBackupTotalTimeNs += timeNs;
+            }
+        }
+
+        int getWithBackupCount() {
+            return mWithBackupCount;
+        }
+
+        long getWithBackupAvgTimeNs() {
+            return mWithBackupCount > 0 ? mWithBackupTotalTimeNs / mWithBackupCount : 0;
+        }
+
+        int getWithoutBackupCount() {
+            return mWithoutBackupCount;
+        }
+
+        long getWithoutBackupAvgTimeNs() {
+            return mWithoutBackupCount > 0 ? mWithoutBackupTotalTimeNs / mWithoutBackupCount : 0;
+        }
+
+        void reset() {
+            mWithBackupCount = 0;
+            mWithBackupTotalTimeNs = 0;
+            mWithoutBackupCount = 0;
+            mWithoutBackupTotalTimeNs = 0;
+        }
+    }
+}
diff --git a/src/com/android/providers/media/scan/LegacyMediaScanner.java b/src/com/android/providers/media/scan/LegacyMediaScanner.java
index 39bffe2f5..d67f30936 100644
--- a/src/com/android/providers/media/scan/LegacyMediaScanner.java
+++ b/src/com/android/providers/media/scan/LegacyMediaScanner.java
@@ -52,6 +52,11 @@ public class LegacyMediaScanner implements MediaScanner {
         throw new UnsupportedOperationException();
     }
 
+    @Override
+    public void onScanVolumeStopped(MediaVolume volume, int scanReason) {
+        throw new UnsupportedOperationException();
+    }
+
     @Override
     public void onIdleScanStopped() {
         throw new UnsupportedOperationException();
diff --git a/src/com/android/providers/media/scan/MediaScanner.java b/src/com/android/providers/media/scan/MediaScanner.java
index 2ce537409..af9b4c40a 100644
--- a/src/com/android/providers/media/scan/MediaScanner.java
+++ b/src/com/android/providers/media/scan/MediaScanner.java
@@ -62,6 +62,14 @@ public interface MediaScanner {
 
     void onIdleScanStopped();
 
+    /**
+     * Stops scanning for the given volume and reason.
+     *
+     * @param volume {@link MediaVolume} the media volume to stop scanning
+     * @param scanReason the reason the scan was triggered
+     */
+    void onScanVolumeStopped(@NonNull MediaVolume volume, int scanReason);
+
     void onDirectoryDirty(@NonNull File file);
 
     /**
diff --git a/src/com/android/providers/media/scan/ModernMediaScanner.java b/src/com/android/providers/media/scan/ModernMediaScanner.java
index da6b30b5f..092180577 100644
--- a/src/com/android/providers/media/scan/ModernMediaScanner.java
+++ b/src/com/android/providers/media/scan/ModernMediaScanner.java
@@ -51,7 +51,9 @@ import static android.provider.MediaStore.VOLUME_EXTERNAL;
 import static android.text.format.DateUtils.HOUR_IN_MILLIS;
 import static android.text.format.DateUtils.MINUTE_IN_MILLIS;
 
+import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.BACKUP_COLUMNS;
 import static com.android.providers.media.flags.Flags.enableOemMetadata;
+import static com.android.providers.media.flags.Flags.enableOemMetadataUsingMimetype;
 import static com.android.providers.media.flags.Flags.indexMediaLatitudeLongitude;
 import static com.android.providers.media.util.FileUtils.canonicalize;
 import static com.android.providers.media.util.IsoInterface.MAX_XMP_SIZE_BYTES;
@@ -209,9 +211,6 @@ public class ModernMediaScanner implements MediaScanner {
 
     private static final Pattern PATTERN_YEAR = Pattern.compile("([1-9][0-9][0-9][0-9])");
 
-    private static final Pattern PATTERN_ALBUM_ART = Pattern.compile(
-            "(?i)(?:(?:^folder|(?:^AlbumArt(?:(?:_\\{.*\\}_)?(?:small|large))?))(?:\\.jpg$)|(?:\\._.*))");
-
     // The path of the MyFiles/Downloads directory shared from Chrome OS in ARC.
     private static final Path ARC_MYFILES_DOWNLOADS_PATH = Paths.get(
             "/storage/0000000000000000000000000000CAFEF00D2019/Downloads");
@@ -398,6 +397,7 @@ public class ModernMediaScanner implements MediaScanner {
 
         try (Scan scan = new Scan(file, reason)) {
             scan.run();
+            BackupAndRestoreStatsManager.logStats();
         } catch (FileNotFoundException e) {
             Log.e(TAG, "Couldn't find directory to scan", e);
         } catch (OperationCanceledException ignored) {
@@ -450,6 +450,25 @@ public class ModernMediaScanner implements MediaScanner {
         }
     }
 
+    /**
+     * Stops scanning for the given volume and reason.
+     *
+     * @param volume {@link MediaVolume} the media volume to stop scanning
+     * @param scanReason the reason the scan was triggered
+     */
+    @Override
+    @GuardedBy("mActiveScans")
+    public void onScanVolumeStopped(@NonNull MediaVolume volume, int scanReason) {
+        synchronized (mActiveScans) {
+            for (Scan scan : mActiveScans) {
+                if (volume.equals(scan.mVolume) && scanReason == scan.mReason) {
+                    Log.i(TAG, "Sending cancel signal for volume name " + volume.getName());
+                    scan.mSignal.cancel();
+                }
+            }
+        }
+    }
+
     /**
      * Invalidate FUSE dentry cache while setting directory dirty
      */
@@ -1044,7 +1063,7 @@ public class ModernMediaScanner implements MediaScanner {
                     }
                     if (mOemSupportedMimeTypes.contains(actualMimeType)) {
                         // If mime type is supported by OEM
-                        fetchOemMetadata(op, realFile);
+                        fetchOemMetadata(op, realFile, actualMimeType);
                     }
                 }
 
@@ -1054,7 +1073,8 @@ public class ModernMediaScanner implements MediaScanner {
             return FileVisitResult.CONTINUE;
         }
 
-        private void fetchOemMetadata(ContentProviderOperation.Builder op, File file) {
+        private void fetchOemMetadata(ContentProviderOperation.Builder op, File file,
+                String mimeType) {
             if (!enableOemMetadata()) {
                 return;
             }
@@ -1075,8 +1095,13 @@ public class ModernMediaScanner implements MediaScanner {
 
                 try (ParcelFileDescriptor pfd = FileUtils.openSafely(file,
                         ParcelFileDescriptor.MODE_READ_ONLY)) {
-                    Map<String, String> oemMetadata = mOemMetadataServiceWrapper.getOemCustomData(
-                            pfd);
+                    Map<String, String> oemMetadata;
+                    if (enableOemMetadataUsingMimetype()) {
+                        oemMetadata = mOemMetadataServiceWrapper.getOemCustomDataUsingMimeType(pfd,
+                                mimeType);
+                    } else {
+                        oemMetadata = mOemMetadataServiceWrapper.getOemCustomData(pfd);
+                    }
                     op.withValue(FileColumns.OEM_METADATA, oemMetadata.toString().getBytes());
                     Log.v(TAG, "Fetched OEM metadata successfully");
                 } catch (Exception e) {
@@ -1280,16 +1305,24 @@ public class ModernMediaScanner implements MediaScanner {
             return scanItemDirectory(existingId, file, attrs, mimeType, volumeName);
         }
 
+        ContentProviderOperation.Builder op;
+        long restoreStartTimeNs, restoreTimeNs;
+
         // Recovery is performed on first scan of file in target device
         try {
             if (restoreExecutor != null) {
+                restoreStartTimeNs = SystemClock.elapsedRealtimeNanos();
                 Optional<ContentValues> restoredDataOptional = restoreExecutor
                         .getMetadataForFileIfBackedUp(file.getAbsolutePath(), mContext);
                 if (restoredDataOptional.isPresent()) {
                     ContentValues valuesRestored = restoredDataOptional.get();
                     if (isRestoredMetadataOfActualFile(valuesRestored, attrs)) {
-                        return restoreDataFromBackup(valuesRestored, file, attrs, mimeType,
+                        op = restoreDataFromBackup(valuesRestored, file, attrs, mimeType,
                                 existingId);
+                        restoreTimeNs = SystemClock.elapsedRealtimeNanos() - restoreStartTimeNs;
+                        BackupAndRestoreStatsManager.addStatForMediaType(mediaType,
+                                /*fromBackup*/ true, restoreTimeNs);
+                        return  op;
                     }
                 }
             }
@@ -1297,22 +1330,26 @@ public class ModernMediaScanner implements MediaScanner {
             Log.e(TAG, "Error while attempting to restore metadata from backup", e);
         }
 
-        switch (mediaType) {
-            case FileColumns.MEDIA_TYPE_AUDIO:
-                return scanItemAudio(existingId, file, attrs, mimeType, mediaType, volumeName);
-            case FileColumns.MEDIA_TYPE_VIDEO:
-                return scanItemVideo(existingId, file, attrs, mimeType, mediaType, volumeName);
-            case FileColumns.MEDIA_TYPE_IMAGE:
-                return scanItemImage(existingId, file, attrs, mimeType, mediaType, volumeName);
-            case FileColumns.MEDIA_TYPE_PLAYLIST:
-                return scanItemPlaylist(existingId, file, attrs, mimeType, mediaType, volumeName);
-            case FileColumns.MEDIA_TYPE_SUBTITLE:
-                return scanItemSubtitle(existingId, file, attrs, mimeType, mediaType, volumeName);
-            case FileColumns.MEDIA_TYPE_DOCUMENT:
-                return scanItemDocument(existingId, file, attrs, mimeType, mediaType, volumeName);
-            default:
-                return scanItemFile(existingId, file, attrs, mimeType, mediaType, volumeName);
-        }
+        restoreStartTimeNs = SystemClock.elapsedRealtimeNanos();
+        op = switch (mediaType) {
+            case FileColumns.MEDIA_TYPE_AUDIO -> scanItemAudio(existingId, file, attrs, mimeType,
+                    mediaType, volumeName);
+            case FileColumns.MEDIA_TYPE_VIDEO -> scanItemVideo(existingId, file, attrs, mimeType,
+                    mediaType, volumeName);
+            case FileColumns.MEDIA_TYPE_IMAGE -> scanItemImage(existingId, file, attrs, mimeType,
+                    mediaType, volumeName);
+            case FileColumns.MEDIA_TYPE_PLAYLIST -> scanItemPlaylist(existingId, file, attrs,
+                    mimeType, mediaType, volumeName);
+            case FileColumns.MEDIA_TYPE_SUBTITLE -> scanItemSubtitle(existingId, file, attrs,
+                    mimeType, mediaType, volumeName);
+            case FileColumns.MEDIA_TYPE_DOCUMENT -> scanItemDocument(existingId, file, attrs,
+                    mimeType, mediaType, volumeName);
+            default -> scanItemFile(existingId, file, attrs, mimeType, mediaType, volumeName);
+        };
+        restoreTimeNs = SystemClock.elapsedRealtimeNanos() - restoreStartTimeNs;
+        BackupAndRestoreStatsManager.addStatForMediaType(mediaType, /* fromBackup */ false,
+                restoreTimeNs);
+        return op;
     }
 
     private boolean isRestoredMetadataOfActualFile(@NonNull ContentValues contentValues,
@@ -1331,10 +1368,28 @@ public class ModernMediaScanner implements MediaScanner {
             long existingId) {
         final ContentProviderOperation.Builder op = newUpsert(VOLUME_EXTERNAL, existingId);
         withGenericValues(op, file, attrs, mimeType, /* mediaType */ null);
+        excludeUnRestorableFields(restoredValues);
         op.withValues(restoredValues);
         return op;
     }
 
+    /**
+     * This is required when the source device has a higher level db version than the target device.
+     * There can be a possibility that the restored values contain few new fields that do not even
+     * exist in target device's db. Therefore we filter out those values that the device is not
+     * expecting to be restored.
+     *
+     * @param restoredValues All key-value pairs obtained for given path from leveldb
+     */
+    private static void excludeUnRestorableFields(ContentValues restoredValues) {
+        List<String> fieldsToRestore = new ArrayList<>(restoredValues.keySet());
+        for (String field : fieldsToRestore) {
+            if (!BACKUP_COLUMNS.contains(field)) {
+                restoredValues.remove(field);
+            }
+        }
+    }
+
     /**
      * Populate the given {@link ContentProviderOperation} with the generic
      * {@link MediaColumns} values that can be determined directly from the file
@@ -2085,17 +2140,12 @@ public class ModernMediaScanner implements MediaScanner {
         if (isHidden || FileUtils.isFileHidden(file)) {
             mediaType = FileColumns.MEDIA_TYPE_NONE;
         }
-        if (mediaType == FileColumns.MEDIA_TYPE_IMAGE && isFileAlbumArt(file)) {
+        if (mediaType == FileColumns.MEDIA_TYPE_IMAGE && FileUtils.isFileAlbumArt(file)) {
             mediaType = FileColumns.MEDIA_TYPE_NONE;
         }
         return mediaType;
     }
 
-    @VisibleForTesting
-    boolean isFileAlbumArt(@NonNull File file) {
-        return PATTERN_ALBUM_ART.matcher(file.getName()).matches();
-    }
-
     boolean isZero(@NonNull String value) {
         if (value.length() == 0) {
             return false;
diff --git a/src/com/android/providers/media/util/FileUtils.java b/src/com/android/providers/media/util/FileUtils.java
index b4e6aecd6..676690378 100644
--- a/src/com/android/providers/media/util/FileUtils.java
+++ b/src/com/android/providers/media/util/FileUtils.java
@@ -46,6 +46,8 @@ import android.content.ClipDescription;
 import android.content.ContentValues;
 import android.content.Context;
 import android.content.pm.PackageManager;
+import android.icu.lang.UCharacter;
+import android.icu.lang.UProperty;
 import android.net.Uri;
 import android.os.Environment;
 import android.os.ParcelFileDescriptor;
@@ -70,6 +72,7 @@ import androidx.annotation.Nullable;
 import androidx.annotation.VisibleForTesting;
 
 import com.android.modules.utils.build.SdkLevel;
+import com.android.providers.media.flags.Flags;
 
 import java.io.File;
 import java.io.FileDescriptor;
@@ -84,6 +87,7 @@ import java.nio.file.Files;
 import java.nio.file.NoSuchFileException;
 import java.nio.file.Path;
 import java.nio.file.attribute.BasicFileAttributes;
+import java.text.Normalizer;
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.Collection;
@@ -103,6 +107,11 @@ public class FileUtils {
     @VisibleForTesting
     static final int MAX_FILENAME_BYTES = 255;
 
+    // Case-insensitive regex pattern to identify common album art filenames
+    private static final Pattern PATTERN_ALBUM_ART = Pattern.compile(
+            "(?i)(?:(?:^folder|(?:^AlbumArt(?:(?:_\\{.*\\}_)?(?:small|large))?))(?:\\.jpg$)|(?:\\"
+                    + "._.*))");
+
     /**
      * Drop-in replacement for {@link ParcelFileDescriptor#open(File, int)}
      * which adds security features like {@link OsConstants#O_CLOEXEC} and
@@ -1007,6 +1016,50 @@ public class FileUtils {
                     + "(?:\\.picker_transcoded$)|"
                     + "(?:(?:Movies|Music|Pictures)/.thumbnails$))");
 
+    /**
+     * Normalizes the given path to NFD form and removes all default ignorable Unicode characters.
+     * These include characters (e.g., invisible zero-width spaces) that are ignored by the lower
+     * file system, but can be exploited by malicious apps to bypass path-based regex checks.
+     *
+     * @param path the input file path, possibly containing invisible Unicode characters
+     * @return a normalized path string with ignorable characters removed
+     */
+    public static String normalizeAndFilterDefaultIgnorableCodepoints(String path) {
+        // Normalization is not enabled.
+        if (!Flags.enablePathSanitization()) {
+            return path;
+        }
+
+        // Nothing to normalize.
+        if (path == null || path.isEmpty()) {
+            return path;
+        }
+
+        path = Normalizer.normalize(path, Normalizer.Form.NFD);
+        final int[] codePoints = path.codePoints().toArray();
+
+        boolean hasIgnorableCodepoints = false;
+        for (int codePoint : codePoints) {
+            if (UCharacter.hasBinaryProperty(codePoint, UProperty.DEFAULT_IGNORABLE_CODE_POINT)) {
+                hasIgnorableCodepoints = true;
+                break;
+            }
+        }
+        // Input is already normalized.
+        if (!hasIgnorableCodepoints) {
+            return path;
+        }
+
+        // Remove default ignorable code points.
+        StringBuilder normalizedPath = new StringBuilder(codePoints.length);
+        for (int codePoint : codePoints) {
+            if (!UCharacter.hasBinaryProperty(codePoint, UProperty.DEFAULT_IGNORABLE_CODE_POINT)) {
+                normalizedPath.appendCodePoint(codePoint);
+            }
+        }
+        return normalizedPath.toString();
+    }
+
     /**
      * The recordings directory. This is used for R OS. For S OS or later,
      * we use {@link Environment#DIRECTORY_RECORDINGS} directly.
@@ -1116,7 +1169,7 @@ public class FileUtils {
     public static @Nullable String extractRelativePath(@Nullable String data) {
         if (data == null) return null;
 
-        final String path;
+        String path;
         try {
             path = getCanonicalPath(data);
         } catch (IOException e) {
@@ -1862,4 +1915,14 @@ public class FileUtils {
         Objects.requireNonNull(file);
         return file.getCanonicalFile();
     }
+
+    /**
+     * Checks if a file name matches common album art patterns using regex
+     *
+     * @param file The file to check.
+     * @return {@code true} if the name matches album art patterns, {@code false} otherwise.
+     */
+    public static boolean isFileAlbumArt(@NonNull File file) {
+        return PATTERN_ALBUM_ART.matcher(file.getName()).matches();
+    }
 }
diff --git a/src/com/android/providers/media/util/MimeTypeFixHandler.java b/src/com/android/providers/media/util/MimeTypeFixHandler.java
index 8bdd88ef1..8a9cd82c4 100644
--- a/src/com/android/providers/media/util/MimeTypeFixHandler.java
+++ b/src/com/android/providers/media/util/MimeTypeFixHandler.java
@@ -196,10 +196,12 @@ public final class MimeTypeFixHandler {
     public static boolean updateUnsupportedMimeTypes(SQLiteDatabase db) {
         class FileMimeTypeUpdate {
             final long mFileId;
+            final String mFilePath;
             final String mNewMimeType;
 
-            FileMimeTypeUpdate(long fileId, String newMimeType) {
+            FileMimeTypeUpdate(long fileId, String filePath, String newMimeType) {
                 this.mFileId = fileId;
+                this.mFilePath = filePath;
                 this.mNewMimeType = newMimeType;
             }
         }
@@ -229,7 +231,7 @@ public final class MimeTypeFixHandler {
                 }
                 String newMimeType = MimeUtils.resolveMimeType(new File(displayName));
                 if (!newMimeType.equalsIgnoreCase(currentMimeType)) {
-                    filesToUpdate.add(new FileMimeTypeUpdate(fileId, newMimeType));
+                    filesToUpdate.add(new FileMimeTypeUpdate(fileId, data, newMimeType));
                 }
             }
         } catch (Exception e) {
@@ -243,8 +245,9 @@ public final class MimeTypeFixHandler {
             try {
                 ContentValues contentValues = new ContentValues();
                 contentValues.put(MediaStore.Files.FileColumns.MIME_TYPE, fileUpdate.mNewMimeType);
-                contentValues.put(MediaStore.Files.FileColumns.MEDIA_TYPE,
-                        MimeUtils.resolveMediaType(fileUpdate.mNewMimeType));
+
+                int mediaType = getMediaType(fileUpdate.mNewMimeType, fileUpdate.mFilePath);
+                contentValues.put(MediaStore.Files.FileColumns.MEDIA_TYPE, mediaType);
 
                 String whereClause = MediaStore.Files.FileColumns._ID + " = ?";
                 String[] whereArgs = new String[]{String.valueOf(fileUpdate.mFileId)};
@@ -257,4 +260,31 @@ public final class MimeTypeFixHandler {
         Log.v(TAG, "Updated MIME type and Media type for " + updatedRows + " rows");
         return updatedRows == filesToUpdate.size();
     }
+
+    /**
+     * Gets the MediaStore media type for a file, returning {@code MEDIA_TYPE_NONE}
+     * for hidden files or files identified as album art
+     *
+     * @param mimeType The file's MIME type
+     * @param path     The file's absolute path
+     * @return The {@code MediaStore.Files.FileColumns.MEDIA_TYPE_*} constant, or
+     * {@code MEDIA_TYPE_NONE} if hidden or album art
+     */
+    private static int getMediaType(String mimeType, String path) {
+        File file = new File(path);
+        // Return MEDIA_TYPE_NONE for hidden files or if any of its parents is hidden
+        if (FileUtils.shouldFileBeHidden(file)) {
+            return MediaStore.Files.FileColumns.MEDIA_TYPE_NONE;
+        }
+
+        int mediaType = MimeUtils.resolveMediaType(mimeType);
+
+        // Exclude images identified as album art
+        if (mediaType == MediaStore.Files.FileColumns.MEDIA_TYPE_IMAGE
+                && FileUtils.isFileAlbumArt(file)) {
+            mediaType = MediaStore.Files.FileColumns.MEDIA_TYPE_NONE;
+        }
+        return mediaType;
+    }
+
 }
diff --git a/src/com/android/providers/media/util/PermissionUtils.java b/src/com/android/providers/media/util/PermissionUtils.java
index 7dbfd23da..f3d54b5c1 100644
--- a/src/com/android/providers/media/util/PermissionUtils.java
+++ b/src/com/android/providers/media/util/PermissionUtils.java
@@ -57,6 +57,7 @@ import androidx.annotation.Nullable;
 import androidx.annotation.VisibleForTesting;
 
 import com.android.modules.utils.build.SdkLevel;
+import com.android.providers.media.LocalCallingIdentity;
 
 public class PermissionUtils {
 
@@ -513,8 +514,9 @@ public class PermissionUtils {
             @NonNull String op, int uid, @NonNull String packageName,
             @Nullable String attributionTag, @Nullable String opMessage, boolean forDataDelivery) {
         final AppOpsManager appOps = context.getSystemService(AppOpsManager.class);
-        final int mode = forDataDelivery ? appOps.noteOpNoThrow(op, uid, packageName,
-                attributionTag, opMessage) : appOps.unsafeCheckOpNoThrow(op, uid, packageName);
+        final int mode = (forDataDelivery && LocalCallingIdentity.shouldNoteAppOp(uid, op))
+                ? appOps.noteOpNoThrow(op, uid, packageName, attributionTag, opMessage)
+                : appOps.unsafeCheckOpNoThrow(op, uid, packageName);
         switch (mode) {
             case AppOpsManager.MODE_ALLOWED:
                 return true;
@@ -535,7 +537,7 @@ public class PermissionUtils {
             @NonNull String op, int pid, int uid, @NonNull String packageName,
             @Nullable String attributionTag, @Nullable String opMessage, boolean forDataDelivery) {
         final AppOpsManager appOps = context.getSystemService(AppOpsManager.class);
-        final int mode = forDataDelivery
+        final int mode = (forDataDelivery && LocalCallingIdentity.shouldNoteAppOp(uid, op))
                 ? appOps.noteOpNoThrow(op, uid, packageName, attributionTag, opMessage)
                 : appOps.unsafeCheckOpNoThrow(op, uid, packageName);
         switch (mode) {
@@ -682,9 +684,9 @@ public class PermissionUtils {
         }
 
         final AppOpsManager appOpsManager = context.getSystemService(AppOpsManager.class);
-        final int opMode = (forDataDelivery)
-                ? appOpsManager.noteOpNoThrow(op, uid, packageName, attributionTag, message)
-                : appOpsManager.unsafeCheckOpRawNoThrow(op, uid, packageName);
+        final int opMode = (forDataDelivery && LocalCallingIdentity.shouldNoteAppOp(uid,
+                permission)) ? appOpsManager.noteOpNoThrow(op, uid, packageName, attributionTag,
+                message) : appOpsManager.unsafeCheckOpRawNoThrow(op, uid, packageName);
 
         switch (opMode) {
             case AppOpsManager.MODE_ALLOWED:
@@ -710,9 +712,9 @@ public class PermissionUtils {
         }
 
         final AppOpsManager appOpsManager = context.getSystemService(AppOpsManager.class);
-        final int opMode = (forDataDelivery)
-                ? appOpsManager.noteOpNoThrow(op, uid, packageName, attributionTag, message)
-                : appOpsManager.unsafeCheckOpRawNoThrow(op, uid, packageName);
+        final int opMode = (forDataDelivery && LocalCallingIdentity.shouldNoteAppOp(uid,
+                permission)) ? appOpsManager.noteOpNoThrow(op, uid, packageName, attributionTag,
+                message) : appOpsManager.unsafeCheckOpRawNoThrow(op, uid, packageName);
 
         switch (opMode) {
             case AppOpsManager.MODE_ALLOWED:
diff --git a/tests/src/com/android/providers/media/AccessCheckerTest.java b/tests/src/com/android/providers/media/AccessCheckerTest.java
index 677feb775..17286c93d 100644
--- a/tests/src/com/android/providers/media/AccessCheckerTest.java
+++ b/tests/src/com/android/providers/media/AccessCheckerTest.java
@@ -51,7 +51,8 @@ import static org.junit.Assert.assertFalse;
 import static org.junit.Assert.assertThrows;
 import static org.junit.Assert.assertTrue;
 
-import android.os.Bundle;
+import android.os.Environment;
+import android.provider.MediaStore;
 import android.system.Os;
 import android.text.TextUtils;
 
@@ -63,6 +64,8 @@ import org.junit.runner.RunWith;
 
 import java.util.ArrayList;
 import java.util.Arrays;
+import java.util.List;
+import java.util.Optional;
 
 @RunWith(AndroidJUnit4.class)
 public class AccessCheckerTest {
@@ -364,22 +367,27 @@ public class AccessCheckerTest {
 
         // App with no permissions only has access to owned files
         assertWithMessage("Expected owned access SQL for Audio collection")
-                .that(getWhereForConstrainedAccess(hasNoPerms, AUDIO_MEDIA, false, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasNoPerms, AUDIO_MEDIA, false,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasNoPerms)
                         + " OR is_ringtone=1 OR is_alarm=1 OR is_notification=1");
         assertWithMessage("Expected owned access SQL for Video collection")
-                .that(getWhereForConstrainedAccess(hasNoPerms, VIDEO_MEDIA, false, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasNoPerms, VIDEO_MEDIA, false,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasNoPerms));
         assertWithMessage("Expected owned access SQL for Images collection")
-                .that(getWhereForConstrainedAccess(hasNoPerms, IMAGES_MEDIA, false, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasNoPerms, IMAGES_MEDIA, false,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasNoPerms));
 
         // App with no permissions only has access to owned files
         assertWithMessage("Expected owned access SQL for Downloads collection")
-                .that(getWhereForConstrainedAccess(hasNoPerms, DOWNLOADS, false, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasNoPerms, DOWNLOADS, false,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasNoPerms));
         assertWithMessage("Expected owned access SQL for FILES collection")
-                .that(getWhereForConstrainedAccess(hasNoPerms, FILES, false, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasNoPerms, FILES, false,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasNoPerms));
     }
 
@@ -394,12 +402,27 @@ public class AccessCheckerTest {
         // App with READ_EXTERNAL_STORAGE or READ_MEDIA_* permission has access to only owned
         // non-media files or media files.
         assertWithMessage("Expected owned access SQL for Downloads collection")
-                .that(getWhereForConstrainedAccess(hasReadMedia, DOWNLOADS, false, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasReadMedia, DOWNLOADS, false,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasReadMedia));
         assertWithMessage("Expected owned access SQL for FILES collection")
-                .that(getWhereForConstrainedAccess(hasReadMedia, FILES, false, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasReadMedia, FILES, false,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(
                         getWhereForOwnerPackageMatch(hasReadMedia) + " OR " + getFilesAccessSql());
+        assertWithMessage("Expected owned access SQL for FILES collection")
+                .that(getWhereForConstrainedAccess(hasReadMedia, FILES, false,
+                        /* includedDefaultDirectoriesOptional */Optional.of(
+                                List.of(Environment.DIRECTORY_DCIM, Environment.DIRECTORY_PICTURES,
+                                        Environment.DIRECTORY_MOVIES))))
+                .isEqualTo(
+                        getWhereForOwnerPackageMatch(hasReadMedia) + " OR "
+                                + getFilesAccessSql() + " OR "
+                                + MediaStore.Files.FileColumns.RELATIVE_PATH + " LIKE 'DCIM/%'"
+                                + " OR " + MediaStore.Files.FileColumns.RELATIVE_PATH
+                                + " LIKE 'Pictures/%'"
+                                + " OR " + MediaStore.Files.FileColumns.RELATIVE_PATH
+                                + " LIKE 'Movies/%'");
     }
 
     @Test
@@ -409,22 +432,27 @@ public class AccessCheckerTest {
 
         // App with no permissions only has access to owned files.
         assertWithMessage("Expected owned access SQL for Audio collection")
-                .that(getWhereForConstrainedAccess(noPerms, AUDIO_MEDIA, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(noPerms, AUDIO_MEDIA, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(noPerms)
                         + " OR is_ringtone=1 OR is_alarm=1 OR is_notification=1");
         assertWithMessage("Expected owned access SQL for Video collection")
-                .that(getWhereForConstrainedAccess(noPerms, VIDEO_MEDIA, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(noPerms, VIDEO_MEDIA, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(noPerms));
         assertWithMessage("Expected owned access SQL for Images collection")
-                .that(getWhereForConstrainedAccess(noPerms, IMAGES_MEDIA, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(noPerms, IMAGES_MEDIA, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(noPerms));
 
         // App with no permissions only has access to owned files
         assertWithMessage("Expected owned access SQL for Downloads collection")
-                .that(getWhereForConstrainedAccess(noPerms, DOWNLOADS, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(noPerms, DOWNLOADS, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(noPerms));
         assertWithMessage("Expected owned access SQL for FILES collection")
-                .that(getWhereForConstrainedAccess(noPerms, FILES, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(noPerms, FILES, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(noPerms));
     }
 
@@ -439,10 +467,12 @@ public class AccessCheckerTest {
         // App with write permission to media files has access write access to media files and owned
         // files.
         assertWithMessage("Expected owned access SQL for Downloads collection")
-                .that(getWhereForConstrainedAccess(hasReadPerms, DOWNLOADS, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasReadPerms, DOWNLOADS, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasReadPerms));
         assertWithMessage("Expected owned access SQL for FILES collection")
-                .that(getWhereForConstrainedAccess(hasReadPerms, FILES, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasReadPerms, FILES, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasReadPerms) + " OR "
                         + getFilesAccessSql());
     }
@@ -481,11 +511,13 @@ public class AccessCheckerTest {
         // Legacy app with WRITE_EXTERNAL_STORAGE permission has access to non-media files as well.
         // However, they don't have global write access to secondary volume.
         assertWithMessage("Expected where clause SQL for Downloads collection to be")
-                .that(getWhereForConstrainedAccess(hasLegacyWrite, DOWNLOADS, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasLegacyWrite, DOWNLOADS, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasLegacyWrite) + " OR "
                         + AccessChecker.getWhereForExternalPrimaryMatch());
         assertWithMessage("Expected where clause SQL for FILES collection to be")
-                .that(getWhereForConstrainedAccess(hasLegacyWrite, FILES, true, Bundle.EMPTY))
+                .that(getWhereForConstrainedAccess(hasLegacyWrite, FILES, true,
+                        /* includedDefaultDirectoriesOptional */ Optional.empty()))
                 .isEqualTo(getWhereForOwnerPackageMatch(hasLegacyWrite) + " OR "
                         + AccessChecker.getWhereForExternalPrimaryMatch() + " OR "
                         + getFilesAccessSql());
diff --git a/tests/src/com/android/providers/media/IdleServiceTest.java b/tests/src/com/android/providers/media/IdleServiceTest.java
index 27f495343..1ad2b33fa 100644
--- a/tests/src/com/android/providers/media/IdleServiceTest.java
+++ b/tests/src/com/android/providers/media/IdleServiceTest.java
@@ -33,6 +33,7 @@ import static org.junit.Assert.assertNotNull;
 import static org.junit.Assert.assertNull;
 import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.fail;
+import static org.junit.Assume.assumeFalse;
 import static org.junit.Assume.assumeTrue;
 
 import android.Manifest;
@@ -116,6 +117,13 @@ public class IdleServiceTest {
 
     @Test
     public void testPruneThumbnails() throws Exception {
+        // Skip if running in headless system user mode.
+        // The test is trying to put files under thumbnails directory,
+        // which is accessible by Shell only. At the same time,
+        // Shell runs at user 0, while the test runs at user 10,
+        // making file access across users not possible.
+        assumeFalse(UserManager.isHeadlessSystemUserMode());
+
         final Context context = InstrumentationRegistry.getTargetContext();
         final ContentResolver resolver = context.getContentResolver();
         // Previous tests (like DatabaseHelperTest) may have left stale
diff --git a/tests/src/com/android/providers/media/IsolatedContext.java b/tests/src/com/android/providers/media/IsolatedContext.java
index 1b0f1f31e..76e8e0b31 100644
--- a/tests/src/com/android/providers/media/IsolatedContext.java
+++ b/tests/src/com/android/providers/media/IsolatedContext.java
@@ -16,10 +16,18 @@
 
 package com.android.providers.media;
 
+import static org.mockito.ArgumentMatchers.anyInt;
+import static org.mockito.ArgumentMatchers.eq;
+import static org.mockito.Mockito.doReturn;
+import static org.mockito.Mockito.spy;
+
 import android.content.ContentProvider;
 import android.content.ContentResolver;
 import android.content.Context;
 import android.content.ContextWrapper;
+import android.content.pm.ApplicationInfo;
+import android.content.pm.LauncherApps;
+import android.content.pm.PackageManager;
 import android.content.pm.ProviderInfo;
 import android.os.Bundle;
 import android.os.UserHandle;
@@ -30,17 +38,19 @@ import android.test.mock.MockContentProvider;
 import android.test.mock.MockContentResolver;
 
 import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 import androidx.annotation.VisibleForTesting;
 
 import com.android.providers.media.cloudproviders.CloudProviderPrimary;
 import com.android.providers.media.cloudproviders.FlakyCloudProvider;
 import com.android.providers.media.dao.FileRow;
-import com.android.providers.media.flags.Flags;
 import com.android.providers.media.photopicker.PhotoPickerProvider;
 import com.android.providers.media.photopicker.PickerSyncController;
 import com.android.providers.media.util.FileUtils;
 
 import java.io.File;
+import java.util.HashMap;
+import java.util.Map;
 import java.util.Optional;
 
 /**
@@ -52,6 +62,10 @@ public class IsolatedContext extends ContextWrapper {
     private final MediaProvider mMediaProvider;
     private final UserHandle mUserHandle;
     private final FlakyCloudProvider mFlakyCloudProvider;
+    private final LauncherApps mLauncherApps;
+
+    private PackageManager mSpyPackageManager;
+    private Map<String, ApplicationInfo> mPackageNameToAppInfoMap = new HashMap<>();
 
     public IsolatedContext(Context base, String tag, boolean asFuseThread) {
         this(base, tag, asFuseThread, base.getUser());
@@ -64,17 +78,17 @@ public class IsolatedContext extends ContextWrapper {
 
     public IsolatedContext(Context base, String tag, boolean asFuseThread,
             UserHandle userHandle, ConfigStore configStore) {
-        this(base, tag, asFuseThread, userHandle, configStore, new MaliciousAppDetector(base));
+        this(base, tag, asFuseThread, userHandle, configStore,
+                base.getSystemService(LauncherApps.class));
     }
 
     public IsolatedContext(Context base, String tag, boolean asFuseThread,
-            MaliciousAppDetector maliciousAppDetector) {
-        this(base, tag, asFuseThread, base.getUser(), new TestConfigStore(), maliciousAppDetector);
+            LauncherApps launcherApps) {
+        this(base, tag, asFuseThread, base.getUser(), new TestConfigStore(), launcherApps);
     }
 
     public IsolatedContext(Context base, String tag, boolean asFuseThread,
-            UserHandle userHandle, ConfigStore configStore,
-            MaliciousAppDetector maliciousAppDetector) {
+            UserHandle userHandle, ConfigStore configStore, LauncherApps launcherApps) {
         super(base);
         mDir = new File(base.getFilesDir(), tag);
         mDir.mkdirs();
@@ -83,7 +97,7 @@ public class IsolatedContext extends ContextWrapper {
         mResolver = new MockContentResolver(this);
         mUserHandle = userHandle;
 
-        mMediaProvider = getMockedMediaProvider(asFuseThread, configStore, maliciousAppDetector);
+        mMediaProvider = getMockedMediaProvider(asFuseThread, configStore);
         attachInfoAndAddProvider(base, mMediaProvider, MediaStore.AUTHORITY);
 
         MediaDocumentsProvider documentsProvider = new MediaDocumentsProvider();
@@ -97,7 +111,7 @@ public class IsolatedContext extends ContextWrapper {
         });
 
         PhotoPickerProvider photoPickerProvider = new PhotoPickerProvider();
-        attachInfoAndAddProvider(base, photoPickerProvider,
+        attachInfoAndAddProvider(getBaseContext(), photoPickerProvider,
                 PickerSyncController.LOCAL_PICKER_PROVIDER_AUTHORITY);
 
         final CloudMediaProvider cmp = new CloudProviderPrimary();
@@ -107,10 +121,14 @@ public class IsolatedContext extends ContextWrapper {
         attachInfoAndAddProvider(base, mFlakyCloudProvider, FlakyCloudProvider.AUTHORITY);
 
         MediaStore.waitForIdle(mResolver);
+
+        mSpyPackageManager = spy(base.getPackageManager());
+
+        mLauncherApps = launcherApps;
     }
 
     private MediaProvider getMockedMediaProvider(boolean asFuseThread,
-            ConfigStore configStore, MaliciousAppDetector maliciousAppDetector) {
+            ConfigStore configStore) {
         return new MediaProvider() {
             @Override
             public boolean isFuseThread() {
@@ -143,16 +161,6 @@ public class IsolatedContext extends ContextWrapper {
                 return false;
             }
 
-            @Override
-            protected MaliciousAppDetector createMaliciousAppDetector() {
-                return maliciousAppDetector;
-            }
-
-            @Override
-            protected boolean shouldCheckForMaliciousActivity() {
-                return Flags.enableMaliciousAppDetector();
-            }
-
             @Override
             protected void enforcePermissionCheckForOemMetadataUpdate(){
 
@@ -175,6 +183,31 @@ public class IsolatedContext extends ContextWrapper {
         return mUserHandle;
     }
 
+    @Override
+    public PackageManager getPackageManager() {
+        if (!mPackageNameToAppInfoMap.isEmpty()) {
+            return mSpyPackageManager;
+        }
+        return getBaseContext().getPackageManager();
+    }
+
+    @Override
+    public Object getSystemService(@NonNull String name) {
+        if (Context.LAUNCHER_APPS_SERVICE.equals(name)) {
+            return mLauncherApps;
+        }
+        return super.getSystemService(name);
+    }
+
+    @Override
+    @Nullable
+    public String getSystemServiceName(@NonNull Class<?> serviceClass) {
+        if (LauncherApps.class.equals(serviceClass)) {
+            return Context.LAUNCHER_APPS_SERVICE;
+        }
+        return super.getSystemServiceName(serviceClass);
+    }
+
     public void setPickerUriResolver(PickerUriResolver resolver) {
         mMediaProvider.setUriResolver(resolver);
     }
@@ -211,4 +244,33 @@ public class IsolatedContext extends ContextWrapper {
     public void resetFlakyCloudProviderToNotFlakeInTheNextRequest() {
         mFlakyCloudProvider.resetToNotFlakeInTheNextRequest();
     }
+
+    /**
+     * Stubs {@link PackageManager#getApplicationInfo} and
+     * {@link PackageManager#getApplicationLabel} on the internal PackageManager spy using the
+     * provided package name to application info mapping.
+     *
+     * @param packageNameToAppInfoMap Map of package names to their desired {@link ApplicationInfo}
+     */
+    @VisibleForTesting
+    public void stubApplicationInfoCalls(Map<String, ApplicationInfo> packageNameToAppInfoMap) {
+        mSpyPackageManager = spy(getBaseContext().getPackageManager());
+        mPackageNameToAppInfoMap = packageNameToAppInfoMap;
+        for (String packageName: packageNameToAppInfoMap.keySet()) {
+            try {
+                doReturn(packageNameToAppInfoMap.get(packageName))
+                        .when(mSpyPackageManager)
+                        .getApplicationInfo(eq(packageName), anyInt());
+
+                doReturn(packageNameToAppInfoMap.get(packageName).nonLocalizedLabel)
+                        .when(mSpyPackageManager)
+                        .getApplicationLabel(eq(packageNameToAppInfoMap.get(packageName)));
+
+
+            } catch (PackageManager.NameNotFoundException e) {
+                // This exception is declared but shouldn't happen during stubbing
+                throw new RuntimeException("Failed to setup PackageManager spy", e);
+            }
+        }
+    }
 }
diff --git a/tests/src/com/android/providers/media/MaliciousAppCheckerTest.java b/tests/src/com/android/providers/media/MaliciousAppCheckerTest.java
deleted file mode 100644
index 6014bd60b..000000000
--- a/tests/src/com/android/providers/media/MaliciousAppCheckerTest.java
+++ /dev/null
@@ -1,139 +0,0 @@
-/*
- * Copyright (C) 2024 The Android Open Source Project
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *      http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-package com.android.providers.media;
-
-import static org.junit.Assert.assertFalse;
-import static org.junit.Assert.assertTrue;
-
-import android.Manifest;
-import android.content.ContentResolver;
-import android.content.ContentValues;
-import android.content.Context;
-import android.net.Uri;
-import android.os.Build;
-import android.os.SystemClock;
-import android.platform.test.annotations.EnableFlags;
-import android.platform.test.flag.junit.SetFlagsRule;
-import android.provider.MediaStore;
-
-import androidx.test.InstrumentationRegistry;
-import androidx.test.filters.SdkSuppress;
-import androidx.test.runner.AndroidJUnit4;
-
-import com.android.providers.media.flags.Flags;
-
-import org.junit.AfterClass;
-import org.junit.Before;
-import org.junit.BeforeClass;
-import org.junit.Rule;
-import org.junit.Test;
-import org.junit.runner.RunWith;
-
-@RunWith(AndroidJUnit4.class)
-@SdkSuppress(minSdkVersion = Build.VERSION_CODES.S)
-public class MaliciousAppCheckerTest {
-    private static Context sIsolatedContext;
-    private static ContentResolver sIsolatedResolver;
-    private static final int FILE_CREATION_THRESHOLD_LIMIT = 5;
-    private static final int FREQUENCY_OF_MALICIOUS_INSERTION_CHECK = 1;
-    private static MaliciousAppDetector sMaliciousAppDetector;
-    @Rule public final SetFlagsRule mSetFlagsRule = new SetFlagsRule();
-
-    @BeforeClass
-    public static void setUpBeforeClass() {
-        InstrumentationRegistry.getInstrumentation().getUiAutomation()
-                .adoptShellPermissionIdentity(Manifest.permission.LOG_COMPAT_CHANGE,
-                        Manifest.permission.READ_COMPAT_CHANGE_CONFIG,
-                        Manifest.permission.READ_DEVICE_CONFIG,
-                        // Adding this to use getUserHandles() api of UserManagerService which
-                        // requires either MANAGE_USERS or CREATE_USERS. Since shell does not have
-                        // MANAGER_USERS permissions, using CREATE_USERS in test. This works with
-                        // MANAGE_USERS permission for MediaProvider module.
-                        Manifest.permission.CREATE_USERS,
-                        Manifest.permission.INTERACT_ACROSS_USERS);
-    }
-
-    @Before
-    public void setUp() {
-        resetIsolatedContext();
-        sMaliciousAppDetector = new MaliciousAppDetector(sIsolatedContext,
-                FILE_CREATION_THRESHOLD_LIMIT, FREQUENCY_OF_MALICIOUS_INSERTION_CHECK);
-    }
-
-    @AfterClass
-    public static void tearDown() {
-        InstrumentationRegistry.getInstrumentation()
-                .getUiAutomation().dropShellPermissionIdentity();
-    }
-
-    @Test
-    @EnableFlags(Flags.FLAG_ENABLE_MALICIOUS_APP_DETECTOR)
-    public void testCannotCreateFileLimitExceeded() throws Exception {
-        resetIsolatedContext();
-        sMaliciousAppDetector.clearSharedPref();
-
-        createTempFilesInDownloadFolder(FILE_CREATION_THRESHOLD_LIMIT);
-        // add sleep to wait for the background process
-        SystemClock.sleep(1000);
-        int uid = android.os.Process.myUid();
-        boolean isAllowedToCreateFile = sMaliciousAppDetector.isAppAllowedToCreateFiles(uid);
-
-        assertFalse("File should not be allowed to create after limit exceeded",
-                isAllowedToCreateFile);
-    }
-
-    @Test
-    @EnableFlags(Flags.FLAG_ENABLE_MALICIOUS_APP_DETECTOR)
-    public void testCreateFileWithinLimit() throws Exception {
-        resetIsolatedContext();
-        sMaliciousAppDetector.clearSharedPref();
-
-        // create files less than the threshold limit
-        createTempFilesInDownloadFolder(FILE_CREATION_THRESHOLD_LIMIT - 1);
-        // add sleep to wait for the background process
-        SystemClock.sleep(1000);
-        int uid = android.os.Process.myUid();
-        boolean isAllowedToCreateFile = sMaliciousAppDetector.isAppAllowedToCreateFiles(uid);
-
-        assertTrue("File should be allowed to create within limit", isAllowedToCreateFile);
-    }
-
-    private void createTempFilesInDownloadFolder(int numberOfFilesToCreate) {
-        final Uri downloadUri = MediaStore.Downloads
-                .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);
-        for (int index = 0; index < numberOfFilesToCreate; index++) {
-            final ContentValues values = new ContentValues();
-            values.put(MediaStore.Images.Media.DISPLAY_NAME, "test_" + index + ".txt");
-            values.put(MediaStore.Files.FileColumns.OWNER_PACKAGE_NAME,
-                    sIsolatedContext.getPackageName());
-            sIsolatedResolver.insert(downloadUri, values);
-        }
-    }
-
-    private static void resetIsolatedContext() {
-        if (sIsolatedResolver != null) {
-            // This is necessary, we wait for all unfinished tasks to finish before we create a
-            // new IsolatedContext.
-            MediaStore.waitForIdle(sIsolatedResolver);
-        }
-
-        Context context = InstrumentationRegistry.getTargetContext();
-        sIsolatedContext = new IsolatedContext(context, "modern", /*asFuseThread*/ false,
-                sMaliciousAppDetector);
-        sIsolatedResolver = sIsolatedContext.getContentResolver();
-    }
-}
diff --git a/tests/src/com/android/providers/media/MediaGrantsAppOpStateTest.java b/tests/src/com/android/providers/media/MediaGrantsAppOpStateTest.java
index 9acc04643..1d756b7f0 100644
--- a/tests/src/com/android/providers/media/MediaGrantsAppOpStateTest.java
+++ b/tests/src/com/android/providers/media/MediaGrantsAppOpStateTest.java
@@ -194,9 +194,9 @@ public class MediaGrantsAppOpStateTest {
         sAppOpsManager.startWatchingMode(op, TEST_APP_PACKAGE_NAME, sOnOpChangedListener);
         synchronized (sLock) {
             sAppOpsManager.setUidMode(op, sTestAppUid, mode);
-            // Make our best effort to exit early on op change, otherwise wait for 100ms if this was
+            // Make our best effort to exit early on op change, otherwise wait for 300ms if this was
             // a no-op change.
-            sLock.wait(100);
+            sLock.wait(300);
         }
         sAppOpsManager.stopWatchingMode(sOnOpChangedListener);
     }
diff --git a/tests/src/com/android/providers/media/MediaServiceV2Test.java b/tests/src/com/android/providers/media/MediaServiceV2Test.java
new file mode 100644
index 000000000..1be03fe33
--- /dev/null
+++ b/tests/src/com/android/providers/media/MediaServiceV2Test.java
@@ -0,0 +1,369 @@
+/*
+ * Copyright (C) 2025 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.providers.media;
+
+import static android.content.Intent.ACTION_LOCALE_CHANGED;
+import static android.content.Intent.ACTION_MEDIA_MOUNTED;
+import static android.content.Intent.ACTION_MEDIA_SCANNER_SCAN_FILE;
+import static android.content.Intent.ACTION_PACKAGE_DATA_CLEARED;
+import static android.content.Intent.ACTION_PACKAGE_FULLY_REMOVED;
+
+import static com.android.providers.media.MediaProvider.BROADCAST_INTENT;
+import static com.android.providers.media.MediaProvider.CANCEL_WORK_AFTER_ENQUEUEING;
+import static com.android.providers.media.MediaProvider.IS_SCAN_VOLUME_CALL;
+import static com.android.providers.media.MediaProvider.REMOVE_VOL_BEFORE_ENQUEUEING;
+import static com.android.providers.media.MediaProvider.VOLUME_NAME;
+import static com.android.providers.media.MediaProvider.WAIT_FOR_SCAN_COMPLETION;
+import static com.android.providers.media.MediaProvider.WORK_INFO_STATE;
+import static com.android.providers.media.scan.MediaScannerTest.stage;
+
+import static com.google.common.truth.Truth.assertThat;
+
+import static org.junit.Assert.assertTrue;
+import static org.junit.Assert.fail;
+
+import android.Manifest;
+import android.content.ContentValues;
+import android.content.Context;
+import android.content.Intent;
+import android.database.Cursor;
+import android.net.Uri;
+import android.os.Build;
+import android.os.Bundle;
+import android.os.Environment;
+import android.os.SystemClock;
+import android.os.UserHandle;
+import android.os.storage.StorageManager;
+import android.os.storage.StorageVolume;
+import android.platform.test.annotations.RequiresFlagsEnabled;
+import android.platform.test.flag.junit.CheckFlagsRule;
+import android.platform.test.flag.junit.DeviceFlagsValueProvider;
+import android.provider.MediaStore;
+
+import androidx.annotation.Nullable;
+import androidx.test.filters.SdkSuppress;
+import androidx.test.platform.app.InstrumentationRegistry;
+import androidx.work.WorkInfo;
+
+import junit.framework.Assert;
+
+import org.junit.Before;
+import org.junit.Rule;
+import org.junit.Test;
+
+import java.io.File;
+import java.io.IOException;
+import java.util.ArrayList;
+import java.util.List;
+
+@SdkSuppress(minSdkVersion = Build.VERSION_CODES.S)
+@RequiresFlagsEnabled(com.android.providers.media.flags.Flags.FLAG_ENABLE_MEDIA_SERVICE_V2)
+public class MediaServiceV2Test {
+    @Rule
+    public final CheckFlagsRule mCheckFlagsRule = DeviceFlagsValueProvider.createCheckFlagsRule();
+    private Context mContext;
+    private File mDownloadsDir;
+
+    @Before
+    public void setUp() {
+        mContext = InstrumentationRegistry.getInstrumentation().getTargetContext();
+        mDownloadsDir = new File(Environment.getExternalStorageDirectory(),
+                Environment.DIRECTORY_DOWNLOADS);
+        InstrumentationRegistry.getInstrumentation().getUiAutomation()
+                .adoptShellPermissionIdentity(Manifest.permission.WRITE_MEDIA_STORAGE);
+    }
+
+    @Test
+    public void testScanVolume() throws Exception {
+        File testFile = new File(mDownloadsDir,
+                "testImage_" + SystemClock.elapsedRealtimeNanos() + ".jpg");
+        stageNewFile(R.raw.test_image, testFile);
+
+        try {
+            Bundle extras = new Bundle();
+            extras.putString(VOLUME_NAME, MediaStore.VOLUME_EXTERNAL_PRIMARY);
+            extras.putBoolean(IS_SCAN_VOLUME_CALL, true);
+
+            Bundle result = mContext.getContentResolver().call(MediaStore.AUTHORITY,
+                    MediaStore.MEDIA_SERVICE_V2_CALL, /* arg */ null, extras);
+
+            assertThat(result.getString(WORK_INFO_STATE))
+                    .isEqualTo(WorkInfo.State.SUCCEEDED.toString());
+            assertTrue(isFileScanned(testFile));
+        } finally {
+            testFile.delete();
+        }
+    }
+
+    @Test
+    public void testIsStopped() throws Exception {
+        List<File> files = new ArrayList<>();
+
+        // create 500 files and it will act as a long running work.
+        // We will cancel the work before it gets completed.
+        for (int i = 0; i < 500; i++) {
+            File testFile = new File(mDownloadsDir,
+                    i + "_" + SystemClock.elapsedRealtimeNanos() + ".jpg");
+            stageNewFile(R.raw.test_image, testFile);
+            files.add(testFile);
+        }
+
+        try {
+            Bundle extras = new Bundle();
+            extras.putString(VOLUME_NAME, MediaStore.VOLUME_EXTERNAL_PRIMARY);
+            extras.putBoolean(IS_SCAN_VOLUME_CALL, true);
+            extras.putBoolean(WAIT_FOR_SCAN_COMPLETION, false);
+            extras.putBoolean(CANCEL_WORK_AFTER_ENQUEUEING, true);
+
+            Bundle result = mContext.getContentResolver().call(MediaStore.AUTHORITY,
+                    MediaStore.MEDIA_SERVICE_V2_CALL, /* arg */ null, extras);
+
+            assertThat(result.getString(WORK_INFO_STATE))
+                    .isEqualTo(WorkInfo.State.CANCELLED.toString());
+            assertAllFilesNotScanned(files);
+        } finally {
+            for (File file : files) {
+                file.delete();
+            }
+        }
+    }
+
+    @Test
+    public void testPackageDataCleared() {
+        // add an entry to files table with a random package that we will orphan for given uid.
+        String fileName = "a1_" + System.nanoTime() + ".jpeg";
+        Uri uri = addDummyContentValuesForFile(fileName);
+
+        try {
+            verifyPackageRemovalOrphansFile(ACTION_PACKAGE_DATA_CLEARED, fileName);
+        } finally {
+            mContext.getContentResolver().delete(uri, /* extras */ null);
+        }
+    }
+
+
+    @Test
+    public void testPackageFullyRemoved() {
+        // add an entry to files table with a random package that we will orphan for given uid.
+        String fileName = "a2_" + System.nanoTime() + ".jpeg";
+        Uri uri = addDummyContentValuesForFile(fileName);
+
+        try {
+            verifyPackageRemovalOrphansFile(ACTION_PACKAGE_FULLY_REMOVED, fileName);
+        } finally {
+            mContext.getContentResolver().delete(uri, /* extras */ null);
+        }
+    }
+
+    private void verifyPackageRemovalOrphansFile(String action, String fileName) {
+        //create intent for ACTION_PACKAGE_FULLY_REMOVED or ACTION_PACKAGE_DATA_CLEARED
+        Intent broadcastIntent = new Intent();
+        broadcastIntent.setAction(action);
+        broadcastIntent.setData(
+                Uri.fromParts("content", mContext.getPackageName(), /*fragment*/ null));
+        broadcastIntent.putExtra(Intent.EXTRA_UID, UserHandle.myUserId());
+
+        // create work for action
+        Bundle extras = new Bundle();
+        extras.putParcelable(BROADCAST_INTENT, broadcastIntent);
+        Bundle result = mContext.getContentResolver().call(MediaStore.AUTHORITY,
+                MediaStore.MEDIA_SERVICE_V2_CALL, /* arg */ null, extras);
+
+        // assert work finished successfully and entry for dummy package is removed.
+        assertThat(result.getString(WORK_INFO_STATE))
+                .isEqualTo(WorkInfo.State.SUCCEEDED.toString());
+        assertThat(getFileOwnerPackageName(fileName)).isNull();
+    }
+
+    @Test
+    public void testMediaMountedWhenVolumeAlreadyAttached() throws Exception {
+        File testFile = new File(mDownloadsDir,
+                "c1_" + SystemClock.elapsedRealtimeNanos() + ".jpg");
+        stageNewFile(R.raw.test_image, testFile);
+
+        try {
+            Bundle result = getResultForMountMedia(/* removeVolumeBeforeEnqueueing */ false);
+
+            assertThat(result.getString(WORK_INFO_STATE))
+                    .isEqualTo(WorkInfo.State.SUCCEEDED.toString());
+            // scan volume is not called if the volume is already attached.
+            // So we do not expect file to be scanned.
+            assertThat(isFileScanned(testFile)).isFalse();
+        } finally {
+            testFile.delete();
+        }
+    }
+
+    @Test
+    public void testMediaMountedWhenVolumeNotAttached() throws Exception {
+        File testFile = new File(mDownloadsDir,
+                "c2_" + SystemClock.elapsedRealtimeNanos() + ".jpg");
+        stageNewFile(R.raw.test_image, testFile);
+
+        try {
+            Bundle result = getResultForMountMedia(/* removeMediaVolumeBeforeEnqueueing */ true);
+
+            assertThat(result.getString(WORK_INFO_STATE))
+                    .isEqualTo(WorkInfo.State.SUCCEEDED.toString());
+            assertThat(isFileScanned(testFile)).isTrue();
+        } finally {
+            testFile.delete();
+        }
+    }
+
+    @Nullable
+    private Bundle getResultForMountMedia(boolean removeMediaVolumeBeforeEnqueueing) {
+        StorageVolume vol = getExternalPrimaryStorageVolume();
+        Assert.assertNotNull(vol);
+
+        //create intent for ACTION_MEDIA_MOUNTED.
+        Intent broadcastIntent = new Intent();
+        broadcastIntent.setAction(ACTION_MEDIA_MOUNTED);
+        broadcastIntent.putExtra(StorageVolume.EXTRA_STORAGE_VOLUME, vol);
+
+        // create work for ACTION_MEDIA_MOUNTED
+        Bundle extras = new Bundle();
+        extras.putBoolean(REMOVE_VOL_BEFORE_ENQUEUEING, removeMediaVolumeBeforeEnqueueing);
+        extras.putString(VOLUME_NAME, MediaStore.VOLUME_EXTERNAL_PRIMARY);
+        extras.putParcelable(BROADCAST_INTENT, broadcastIntent);
+        Bundle result = mContext.getContentResolver().call(MediaStore.AUTHORITY,
+                MediaStore.MEDIA_SERVICE_V2_CALL, /* arg */ null, extras);
+        return result;
+    }
+
+    private StorageVolume getExternalPrimaryStorageVolume() {
+        List<StorageVolume> volumes =
+                mContext.getSystemService(StorageManager.class).getStorageVolumes();
+        for (StorageVolume vol : volumes) {
+            if (MediaStore.VOLUME_EXTERNAL_PRIMARY
+                    .equalsIgnoreCase(vol.getMediaStoreVolumeName())) {
+                return vol;
+            }
+        }
+        return null;
+    }
+
+    @Test
+    public void testOnLocalChanged() {
+        String fileName = "f_" + System.nanoTime() + ".jpeg";
+        Uri uri = addDummyContentValuesForFile(fileName);
+
+        try {
+            //create intent for ACTION_LOCALE_CHANGED
+            Intent broadcastIntent = new Intent();
+            broadcastIntent.setAction(ACTION_LOCALE_CHANGED);
+
+            // create work for ACTION_LOCALE_CHANGED
+            Bundle extras = new Bundle();
+            extras.putParcelable(BROADCAST_INTENT, broadcastIntent);
+            Bundle result = mContext.getContentResolver().call(MediaStore.AUTHORITY,
+                    MediaStore.MEDIA_SERVICE_V2_CALL, /* arg */ null, extras);
+
+            // assert work finished successfully and file is scanned.
+            assertThat(result.getString(WORK_INFO_STATE))
+                    .isEqualTo(WorkInfo.State.SUCCEEDED.toString());
+
+        } finally {
+            mContext.getContentResolver().delete(uri, /* extras */ null);
+        }
+    }
+
+    @Test
+    public void testScanFile() throws Exception {
+        // add an entry to files table with a random package that we will orphan for given uid.
+        File testFile = new File(mDownloadsDir,
+                "b_" + SystemClock.elapsedRealtimeNanos() + ".jpg");
+        stageNewFile(R.raw.test_image, testFile);
+
+        try {
+            //create intent for ACTION_MEDIA_SCANNER_SCAN_FILE
+            Intent broadcastIntent = new Intent();
+            broadcastIntent.setAction(ACTION_MEDIA_SCANNER_SCAN_FILE);
+            broadcastIntent.setData(Uri.fromFile(testFile));
+
+            // create work for ACTION_MEDIA_SCANNER_SCAN_FILE
+            Bundle extras = new Bundle();
+            extras.putParcelable(BROADCAST_INTENT, broadcastIntent);
+            Bundle result = mContext.getContentResolver().call(MediaStore.AUTHORITY,
+                    MediaStore.MEDIA_SERVICE_V2_CALL, /* arg */ null, extras);
+
+            // assert work finished successfully and file is scanned.
+            assertThat(result.getString(WORK_INFO_STATE))
+                    .isEqualTo(WorkInfo.State.SUCCEEDED.toString());
+            assertTrue(isFileScanned(testFile));
+        } finally {
+            testFile.delete();
+        }
+    }
+
+    private Uri addDummyContentValuesForFile(String fileName) {
+        ContentValues values = new ContentValues();
+        values.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName);
+        values.put(MediaStore.MediaColumns.MIME_TYPE, "image/jpeg");
+        values.put(MediaStore.MediaColumns.RELATIVE_PATH, "Download");
+
+        Uri uri = mContext.getContentResolver()
+                .insert(MediaStore.Files.EXTERNAL_CONTENT_URI, values);
+        assertThat(getFileOwnerPackageName(fileName)).isEqualTo(mContext.getPackageName());
+        return uri;
+    }
+
+    private String getFileOwnerPackageName(String fileName) {
+        Uri filesUri = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);
+        String selection = MediaStore.Files.FileColumns.DISPLAY_NAME + "=?";
+        String[] args = new String[]{fileName};
+        try (Cursor cursor = mContext.getContentResolver().query(
+                filesUri,
+                new String[]{MediaStore.Files.FileColumns.OWNER_PACKAGE_NAME},
+                selection,
+                args,
+                /*sortOrder*/ null)) {
+            cursor.moveToFirst();
+            return cursor.getString(0);
+        }
+    }
+
+    private boolean isFileScanned(File file) {
+        Uri filesUri = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);
+        String selection = MediaStore.Files.FileColumns.DISPLAY_NAME + " = ?";
+        String[] selectionArgs = new String[] { file.getName() };
+
+        try (Cursor cursor = mContext.getContentResolver().query(
+                filesUri,
+                new String[] { MediaStore.Files.FileColumns.DATE_TAKEN },
+                selection,
+                selectionArgs,
+                null)) {
+            // DATE_TAKEN is populated when file is scanned.
+            return cursor != null && cursor.moveToFirst() && cursor.getLong(0) > 0;
+        }
+    }
+
+    private void assertAllFilesNotScanned(List<File> files) {
+        for (File file : files) {
+            if (!isFileScanned(file)) {
+                return;
+            }
+        }
+        fail("Did not expect all files to be scanned.");
+    }
+
+    private void stageNewFile(int resId, File file) throws IOException {
+        file.createNewFile();
+        stage(resId, file);
+    }
+}
diff --git a/tests/src/com/android/providers/media/PermissionActivityTest.java b/tests/src/com/android/providers/media/PermissionActivityTest.java
index 984c9c2ca..7c9c3ef39 100644
--- a/tests/src/com/android/providers/media/PermissionActivityTest.java
+++ b/tests/src/com/android/providers/media/PermissionActivityTest.java
@@ -115,7 +115,7 @@ public class PermissionActivityTest {
     };
 
     private static final long TIMEOUT_MILLIS = 3000;
-    private static final long SLEEP_MILLIS = 30;
+    private static final long SLEEP_MILLIS = 300;
 
     private static final int TEST_APP_PID = -1;
     private int mTestAppUid = -1;
diff --git a/tests/src/com/android/providers/media/backupandrestore/BackupAndRestoreTestUtils.java b/tests/src/com/android/providers/media/backupandrestore/BackupAndRestoreTestUtils.java
index 228be1b40..85758a416 100644
--- a/tests/src/com/android/providers/media/backupandrestore/BackupAndRestoreTestUtils.java
+++ b/tests/src/com/android/providers/media/backupandrestore/BackupAndRestoreTestUtils.java
@@ -16,19 +16,25 @@
 
 package com.android.providers.media.backupandrestore;
 
+import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.CURRENT_LEVEL_DB_VERSION_KEY;
+import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.DEFAULT_LEVEL_DB_VERSION;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.FIELD_SEPARATOR;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.KEY_VALUE_SEPARATOR;
+import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.LATEST_LEVEL_DB_VERSION;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.RESTORE_COMPLETED;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.SHARED_PREFERENCE_NAME;
+import static com.android.providers.media.flags.Flags.enableVersioningForBackupAndRestore;
 
 import android.content.Context;
 import android.provider.MediaStore;
 
+import com.android.providers.media.leveldb.LevelDBInstance;
+import com.android.providers.media.leveldb.LevelDBResult;
+
 import java.util.HashMap;
 import java.util.Map;
 
 public class BackupAndRestoreTestUtils {
-
     /**
      * Map used to store column name for given key id.
      */
@@ -82,6 +88,13 @@ public class BackupAndRestoreTestUtils {
         sColumnIdToKeyMap.put("38", MediaStore.Images.ImageColumns.SCENE_CAPTURE_TYPE);
         sColumnIdToKeyMap.put("39", MediaStore.Files.FileColumns._SPECIAL_FORMAT);
         sColumnIdToKeyMap.put("40", MediaStore.Files.FileColumns.OWNER_PACKAGE_NAME);
+
+        // added with version 2
+        if (enableVersioningForBackupAndRestore() && LATEST_LEVEL_DB_VERSION >= 2) {
+            sColumnIdToKeyMap.put("41", MediaStore.Files.FileColumns.DATE_ADDED);
+            sColumnIdToKeyMap.put("42", MediaStore.Files.FileColumns.DATE_MODIFIED);
+        }
+
         // Adding number gap to allow addition of new values
         sColumnIdToKeyMap.put("80", MediaStore.MediaColumns.XMP);
     }
@@ -129,6 +142,13 @@ public class BackupAndRestoreTestUtils {
         sColumnNameToIdMap.put(MediaStore.Images.ImageColumns.SCENE_CAPTURE_TYPE, "38");
         sColumnNameToIdMap.put(MediaStore.Files.FileColumns._SPECIAL_FORMAT, "39");
         sColumnNameToIdMap.put(MediaStore.Files.FileColumns.OWNER_PACKAGE_NAME, "40");
+
+        // added with version 2
+        if (enableVersioningForBackupAndRestore() && LATEST_LEVEL_DB_VERSION >= 2) {
+            sColumnNameToIdMap.put(MediaStore.Files.FileColumns.DATE_ADDED, "41");
+            sColumnNameToIdMap.put(MediaStore.Files.FileColumns.DATE_MODIFIED, "42");
+        }
+
         // Adding number gap to allow addition of new values
         sColumnNameToIdMap.put(MediaStore.MediaColumns.XMP, "80");
     }
@@ -172,4 +192,23 @@ public class BackupAndRestoreTestUtils {
         return context.getSharedPreferences(SHARED_PREFERENCE_NAME,
                 Context.MODE_PRIVATE).getBoolean(RESTORE_COMPLETED, false);
     }
+
+    static boolean isLevelDbAtLatestVersion(LevelDBInstance levelDBInstance) {
+        if (!enableVersioningForBackupAndRestore()) {
+            return true;
+        }
+
+        LevelDBResult levelDBResult = levelDBInstance.query(CURRENT_LEVEL_DB_VERSION_KEY);
+        String value = levelDBResult.getValue();
+        long currentDbVersion;
+
+        if (levelDBResult.isNotFound() || value == null || value.isEmpty()) {
+            currentDbVersion = DEFAULT_LEVEL_DB_VERSION;
+        } else {
+            currentDbVersion = Long.parseLong(value);
+        }
+
+        return LATEST_LEVEL_DB_VERSION == currentDbVersion;
+    }
+
 }
diff --git a/tests/src/com/android/providers/media/backupandrestore/BackupExecutorTest.java b/tests/src/com/android/providers/media/backupandrestore/BackupExecutorTest.java
index 83a132c62..b757c7389 100644
--- a/tests/src/com/android/providers/media/backupandrestore/BackupExecutorTest.java
+++ b/tests/src/com/android/providers/media/backupandrestore/BackupExecutorTest.java
@@ -17,7 +17,9 @@
 package com.android.providers.media.backupandrestore;
 
 import static com.android.providers.media.backupandrestore.BackupAndRestoreTestUtils.deSerialiseValueString;
+import static com.android.providers.media.backupandrestore.BackupAndRestoreTestUtils.isLevelDbAtLatestVersion;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.BACKUP_COLUMNS;
+import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.CURRENT_LEVEL_DB_VERSION_KEY;
 import static com.android.providers.media.backupandrestore.BackupAndRestoreUtils.isBackupAndRestoreSupported;
 import static com.android.providers.media.scan.MediaScanner.REASON_UNKNOWN;
 import static com.android.providers.media.scan.MediaScannerTest.stage;
@@ -25,6 +27,7 @@ import static com.android.providers.media.scan.MediaScannerTest.stage;
 import static com.google.common.truth.Truth.assertThat;
 import static com.google.common.truth.Truth.assertWithMessage;
 
+import static org.junit.Assume.assumeFalse;
 import static org.junit.Assume.assumeTrue;
 
 import android.Manifest;
@@ -46,6 +49,8 @@ import androidx.test.filters.SdkSuppress;
 import com.android.providers.media.IsolatedContext;
 import com.android.providers.media.R;
 import com.android.providers.media.TestConfigStore;
+import com.android.providers.media.flags.Flags;
+import com.android.providers.media.leveldb.LevelDBEntry;
 import com.android.providers.media.leveldb.LevelDBInstance;
 import com.android.providers.media.leveldb.LevelDBManager;
 import com.android.providers.media.leveldb.LevelDBResult;
@@ -61,7 +66,6 @@ import org.junit.runner.RunWith;
 import java.io.File;
 import java.io.IOException;
 import java.util.ArrayList;
-import java.util.Arrays;
 import java.util.HashMap;
 import java.util.HashSet;
 import java.util.List;
@@ -70,8 +74,8 @@ import java.util.Optional;
 import java.util.Set;
 
 @RunWith(AndroidJUnit4.class)
-@EnableFlags(com.android.providers.media.flags.Flags.FLAG_ENABLE_BACKUP_AND_RESTORE)
-@SdkSuppress(minSdkVersion = Build.VERSION_CODES.S)
+@EnableFlags({com.android.providers.media.flags.Flags.FLAG_ENABLE_BACKUP_AND_RESTORE,
+        com.android.providers.media.flags.Flags.FLAG_ENABLE_VERSIONING_FOR_BACKUP_AND_RESTORE})
 public final class BackupExecutorTest {
 
     @Rule
@@ -107,23 +111,23 @@ public final class BackupExecutorTest {
         mLevelDbPath =
                 mIsolatedContext.getFilesDir().getAbsolutePath() + "/backup/external_primary";
         FileUtils.deleteContents(mDownloadsDir);
+        LevelDBManager.delete(mLevelDbPath);
     }
 
     @After
     public void tearDown() {
         // Delete leveldb directory after test
-        File levelDbDir = new File(mLevelDbPath);
-        for (File f : levelDbDir.listFiles()) {
-            f.delete();
-        }
-        levelDbDir.delete();
+        LevelDBManager.delete(mLevelDbPath);
         InstrumentationRegistry.getInstrumentation()
                 .getUiAutomation().dropShellPermissionIdentity();
     }
 
     @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
     public void testBackup() throws Exception {
         assumeTrue(isBackupAndRestoreSupported(mIsolatedContext));
+        assumeFalse((new File(mLevelDbPath)).exists());
+
         try {
             // Add all files in Downloads directory
             File file = new File(mDownloadsDir, "a_" + SystemClock.elapsedRealtimeNanos() + ".jpg");
@@ -166,7 +170,7 @@ public final class BackupExecutorTest {
             bundle.putStringArray(ContentResolver.QUERY_ARG_SQL_SELECTION_ARGS,
                     new String[]{mDownloadsDir.getAbsolutePath() + "/%",
                             MediaStore.VOLUME_EXTERNAL_PRIMARY});
-            List<String> columns = new ArrayList<>(Arrays.asList(BACKUP_COLUMNS));
+            List<String> columns = new ArrayList<>(BACKUP_COLUMNS);
             columns.add(MediaStore.Files.FileColumns.DATA);
             String[] projection = columns.toArray(new String[0]);
             Set<File> scannedFiles = new HashSet<>();
@@ -194,6 +198,7 @@ public final class BackupExecutorTest {
             assertWithMessage("Database does not have entries for staged files").that(
                     pathToAttributesMap).isNotEmpty();
             LevelDBInstance levelDBInstance = LevelDBManager.getInstance(mLevelDbPath);
+            assertThat(isLevelDbAtLatestVersion(levelDBInstance)).isTrue();
             for (String path : pathToAttributesMap.keySet()) {
                 LevelDBResult levelDBResult = levelDBInstance.query(path);
                 // Assert leveldb has entry for file path
@@ -209,6 +214,59 @@ public final class BackupExecutorTest {
         }
     }
 
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
+    public void testLevelDbRecreatedOnVersionChange() throws Exception {
+        assumeTrue(isBackupAndRestoreSupported(mIsolatedContext));
+        assumeTrue(Flags.enableVersioningForBackupAndRestore());
+        assumeFalse((new File(mLevelDbPath)).exists());
+
+        try {
+            // Add all files in Downloads directory
+            File file = new File(mDownloadsDir, "a_" + SystemClock.elapsedRealtimeNanos() + ".jpg");
+            stageNewFile(R.raw.test_image, file);
+
+            mModern.scanDirectory(mDownloadsDir, REASON_UNKNOWN);
+
+            // Run idle maintenance to backup data
+            MediaStore.runIdleMaintenance(mIsolatedResolver);
+
+            LevelDBInstance levelDBInstance = LevelDBManager.getInstance(mLevelDbPath);
+            assertThat(isLevelDbAtLatestVersion(levelDBInstance)).isTrue();
+
+            // set level db version to some older version & set null value for given file path
+            levelDBInstance.insert(new LevelDBEntry(CURRENT_LEVEL_DB_VERSION_KEY, "0"));
+            levelDBInstance.insert(new LevelDBEntry(file.getPath(), ""));
+
+            // run idle maintenance again. It should recreate leveldb instance with latest version
+            // and should have correct backed up value since level db is recreated.
+            MediaStore.runIdleMaintenance(mIsolatedResolver);
+
+            levelDBInstance = LevelDBManager.getInstance(mLevelDbPath);
+            assertThat(isLevelDbAtLatestVersion(levelDBInstance)).isTrue();
+            assertThat(levelDBInstance.query(file.getPath()).getValue()).isNotEmpty();
+        } finally {
+            FileUtils.deleteContents(mDownloadsDir);
+            mStagedFiles.clear();
+        }
+    }
+
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.S,
+            maxSdkVersion = Build.VERSION_CODES.VANILLA_ICE_CREAM)
+    public void testBackupDeletedForSdkLevelsLessThanB() {
+        assumeFalse(isBackupAndRestoreSupported(mIsolatedContext));
+        assumeFalse((new File(mLevelDbPath)).exists());
+
+        // create a new leveldb for backup
+        LevelDBManager.getInstance(mLevelDbPath);
+        assertThat(LevelDBManager.isLevelDbPresentForPath(mLevelDbPath)).isTrue();
+
+        // idle maintenance would delete level db since Sdk version < B
+        MediaStore.runIdleMaintenance(mIsolatedResolver);
+        assertThat(LevelDBManager.isLevelDbPresentForPath(mLevelDbPath)).isFalse();
+    }
+
     private void stageNewFile(int resId, File file) throws IOException {
         file.createNewFile();
         mStagedFiles.add(file);
diff --git a/tests/src/com/android/providers/media/backupandrestore/MediaBackupAgentTest.java b/tests/src/com/android/providers/media/backupandrestore/MediaBackupAgentTest.java
index e072f35bc..7c6361a91 100644
--- a/tests/src/com/android/providers/media/backupandrestore/MediaBackupAgentTest.java
+++ b/tests/src/com/android/providers/media/backupandrestore/MediaBackupAgentTest.java
@@ -26,6 +26,7 @@ import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertFalse;
 import static org.junit.Assert.assertNotNull;
 import static org.junit.Assert.assertTrue;
+import static org.junit.Assume.assumeFalse;
 import static org.junit.Assume.assumeTrue;
 
 import android.Manifest;
@@ -41,6 +42,7 @@ import android.platform.test.annotations.EnableFlags;
 import android.platform.test.flag.junit.SetFlagsRule;
 import android.provider.MediaStore;
 
+import androidx.annotation.NonNull;
 import androidx.test.InstrumentationRegistry;
 import androidx.test.ext.junit.runners.AndroidJUnit4;
 import androidx.test.filters.SdkSuppress;
@@ -49,27 +51,37 @@ import com.android.providers.media.IsolatedContext;
 import com.android.providers.media.R;
 import com.android.providers.media.TestConfigStore;
 import com.android.providers.media.flags.Flags;
+import com.android.providers.media.leveldb.LevelDBEntry;
 import com.android.providers.media.leveldb.LevelDBInstance;
 import com.android.providers.media.leveldb.LevelDBManager;
 import com.android.providers.media.leveldb.LevelDBResult;
 import com.android.providers.media.scan.ModernMediaScanner;
 import com.android.providers.media.util.FileUtils;
 
+import org.junit.After;
 import org.junit.Before;
 import org.junit.Rule;
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
 import java.io.File;
+import java.io.IOException;
 import java.util.Map;
 
 @RunWith(AndroidJUnit4.class)
-@EnableFlags(Flags.FLAG_ENABLE_BACKUP_AND_RESTORE)
-@SdkSuppress(minSdkVersion = Build.VERSION_CODES.S)
+@EnableFlags({Flags.FLAG_ENABLE_BACKUP_AND_RESTORE,
+        com.android.providers.media.flags.Flags.FLAG_ENABLE_VERSIONING_FOR_BACKUP_AND_RESTORE})
+@SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
 public class MediaBackupAgentTest {
     @Rule
     public final SetFlagsRule mSetFlagsRule = new SetFlagsRule();
 
+    private static final String KEY_VALUE_SEPARATOR = "=";
+    private static final String FIELD_SEPARATOR = ":::";
+    private static final String EXTERNAL_DB_NAME = "external.db";
+    private static final int DUMMY_COLUMN_ID = 100;
+    private static final String DUMMY_COLUMN_VALUE = "dummy_value";
+
     private Context mIsolatedContext;
 
     private ContentResolver mIsolatedResolver;
@@ -106,27 +118,26 @@ public class MediaBackupAgentTest {
 
         mMediaBackupAgent = new MediaBackupAgent();
         mMediaBackupAgent.attach(mIsolatedContext);
+        LevelDBManager.delete(mLevelDbPath);
+    }
+
+    @After
+    public void tearDown() {
+        LevelDBManager.delete(mLevelDbPath);
     }
 
     @Test
     public void testCompleteFlow() throws Exception {
         assumeTrue(isBackupAndRestoreSupported(mIsolatedContext));
+        assumeFalse((new File(mLevelDbPath)).exists());
+
         //create new test file & stage it
-        File file = new File(mDownloadsDir, "testImage_"
-                + SystemClock.elapsedRealtimeNanos() + ".jpg");
-        file.createNewFile();
-        stage(R.raw.test_image, file);
+        File file = createTestFileAndStageIt();
 
         try {
             String path = file.getAbsolutePath();
             // scan directory to have entry in files table
-            mModern.scanDirectory(mDownloadsDir, REASON_UNKNOWN);
-
-            // set is_favorite value to 1. We will check this value later after restoration.
-            updateFavoritesValue(path, 1);
-
-            // run idle maintenance, this will save file's metadata in leveldb with is_favorite = 1
-            MediaStore.runIdleMaintenance(mIsolatedResolver);
+            scanFileAndCreateBackup(path);
             assertTrue(mBackupDir.exists());
 
             assertLevelDbExistsAndHasLatestValues(path);
@@ -139,11 +150,10 @@ public class MediaBackupAgentTest {
             assertFalse(mBackupDir.exists());
 
             //delete existing external db database having old values
-            mIsolatedContext.deleteDatabase("external.db");
+            mIsolatedContext.deleteDatabase(EXTERNAL_DB_NAME);
 
             // run media scan, this will populate db and read value from backup
-            mModern.scanDirectory(mDownloadsDir, REASON_UNKNOWN);
-            assertEquals(1, queryFavoritesValue(path));
+            doRestorationAndAssertFileRestored(path);
 
             // on idle maintenance, clean up is called. It should delete restore directory and set
             // shared preference to false
@@ -155,6 +165,128 @@ public class MediaBackupAgentTest {
         }
     }
 
+    @Test
+    public void testBackupWhenSourceDeviceHasHigherLevelDbVersion() throws Exception {
+        assumeTrue(isBackupAndRestoreSupported(mIsolatedContext));
+        assumeTrue(Flags.enableVersioningForBackupAndRestore());
+        assumeFalse((new File(mLevelDbPath)).exists());
+
+        //create new test file & stage it
+        File file = createTestFileAndStageIt();
+
+        try {
+            String path = file.getAbsolutePath();
+            scanFileAndCreateBackup(path);
+
+            //assume the higher version has a new columns that the has been saved in leveldb
+            LevelDBInstance levelDBInstance = LevelDBManager.getInstance(mLevelDbPath);
+            LevelDBResult levelDBResult = levelDBInstance.query(path);
+            String value = getSerialisedValueWithOneColumnMore(levelDBResult);
+            levelDBInstance.insert(new LevelDBEntry(path, value));
+
+            // run the backup agent. This will copy over backup directory to restore directory and
+            // set shared preference.
+            mMediaBackupAgent.onRestoreFinished();
+
+            //delete existing external db database having old values
+            mIsolatedContext.deleteDatabase(EXTERNAL_DB_NAME);
+
+            // One less field (due to lower level db version of source device) should have no impact
+            // on restoration process. The extra backed up fields should be ignored.
+            doRestorationAndAssertFileRestored(path);
+
+            // cleanup restore directory
+            MediaStore.runIdleMaintenance(mIsolatedResolver);
+        } finally {
+            file.delete();
+        }
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_ENABLE_VERSIONING_FOR_BACKUP_AND_RESTORE)
+    public void testBackupWhenSourceDeviceHasLowerLevelDbVersion() throws Exception {
+        assumeTrue(isBackupAndRestoreSupported(mIsolatedContext));
+        assumeTrue(Flags.enableVersioningForBackupAndRestore());
+        assumeFalse((new File(mLevelDbPath)).exists());
+
+        //create new test file & stage it
+        File file = createTestFileAndStageIt();
+
+        try {
+            String path = file.getAbsolutePath();
+            scanFileAndCreateBackup(path);
+
+            //assume the higher version has a new columns that the has been saved in leveldb
+            LevelDBInstance levelDBInstance = LevelDBManager.getInstance(mLevelDbPath);
+            LevelDBResult levelDBResult = levelDBInstance.query(path);
+            String value = getSerialisedValueWithOneColumnLess(levelDBResult);
+            levelDBInstance.insert(new LevelDBEntry(path, value));
+
+            // run the backup agent. This will copy over backup directory to restore directory and
+            // set shared preference.
+            mMediaBackupAgent.onRestoreFinished();
+
+            //delete existing external db database having old values
+            mIsolatedContext.deleteDatabase(EXTERNAL_DB_NAME);
+
+            // The less fields (due to lower level db version of source device) should have no
+            // impact on restoration process.
+            doRestorationAndAssertFileRestored(path);
+
+            // cleanup restore directory
+            MediaStore.runIdleMaintenance(mIsolatedResolver);
+        } finally {
+            file.delete();
+        }
+    }
+
+    private void doRestorationAndAssertFileRestored(String path) {
+        // run media scan, this will populate db and read value from backup
+        mModern.scanDirectory(mDownloadsDir, REASON_UNKNOWN);
+
+        // we verify that the metadata is read from backup (and not extracted from file) by checking
+        // is_favorite value.
+        assertEquals(1, queryFavoritesValue(path));
+    }
+
+    private void scanFileAndCreateBackup(String path) {
+        // scan directory to have entry in files table
+        mModern.scanDirectory(mDownloadsDir, REASON_UNKNOWN);
+
+        // set is_favorite value to 1. We will check this value later after restoration.
+        updateFavoritesValue(path, 1);
+
+        // run idle maintenance, this will save file's metadata in leveldb with is_favorite = 1
+        MediaStore.runIdleMaintenance(mIsolatedResolver);
+    }
+
+    @NonNull
+    private File createTestFileAndStageIt() throws IOException {
+        File file = new File(mDownloadsDir, "testImage_"
+                + SystemClock.elapsedRealtimeNanos() + ".jpg");
+        file.createNewFile();
+        stage(R.raw.test_image, file);
+        return file;
+    }
+
+    @NonNull
+    private static String getSerialisedValueWithOneColumnMore(LevelDBResult levelDBResult) {
+        String serializedString = levelDBResult.getValue();
+        return serializedString
+                + DUMMY_COLUMN_ID
+                + KEY_VALUE_SEPARATOR
+                + DUMMY_COLUMN_VALUE
+                + FIELD_SEPARATOR;
+    }
+
+    @NonNull
+    private static String getSerialisedValueWithOneColumnLess(LevelDBResult levelDBResult) {
+        String serializedString = levelDBResult.getValue();
+        int lastSeparatorIndex = serializedString.lastIndexOf(FIELD_SEPARATOR);
+        return (lastSeparatorIndex != -1) ? serializedString.substring(0, lastSeparatorIndex)
+                : serializedString;
+    }
+
     private void assertLevelDbExistsAndHasLatestValues(String path) {
         // check that entry is created in level db for the file
         LevelDBInstance levelDBInstance = LevelDBManager.getInstance(mLevelDbPath);
diff --git a/tests/src/com/android/providers/media/backupandrestore/RestoreExecutorTest.java b/tests/src/com/android/providers/media/backupandrestore/RestoreExecutorTest.java
index cf333b205..638aa83cf 100644
--- a/tests/src/com/android/providers/media/backupandrestore/RestoreExecutorTest.java
+++ b/tests/src/com/android/providers/media/backupandrestore/RestoreExecutorTest.java
@@ -64,8 +64,9 @@ import java.util.HashMap;
 import java.util.Map;
 
 @RunWith(AndroidJUnit4.class)
-@EnableFlags(com.android.providers.media.flags.Flags.FLAG_ENABLE_BACKUP_AND_RESTORE)
-@SdkSuppress(minSdkVersion = Build.VERSION_CODES.S)
+@EnableFlags({com.android.providers.media.flags.Flags.FLAG_ENABLE_BACKUP_AND_RESTORE,
+        com.android.providers.media.flags.Flags.FLAG_ENABLE_VERSIONING_FOR_BACKUP_AND_RESTORE})
+@SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
 public final class RestoreExecutorTest {
 
     @Rule
@@ -78,6 +79,7 @@ public final class RestoreExecutorTest {
     private ModernMediaScanner mModern;
 
     private File mDownloadsDir;
+    private String mLevelDbPath;
 
     @Before
     public void setUp() {
@@ -91,14 +93,18 @@ public final class RestoreExecutorTest {
 
         mIsolatedContext = new IsolatedContext(context, "modern", /*asFuseThread*/ false);
         mIsolatedResolver = mIsolatedContext.getContentResolver();
+        mLevelDbPath =
+                mIsolatedContext.getFilesDir().getAbsolutePath() + "/restore/external_primary";
 
         mDownloadsDir = new File(Environment.getExternalStorageDirectory(),
                 Environment.DIRECTORY_DOWNLOADS);
         FileUtils.deleteContents(mDownloadsDir);
+        LevelDBManager.delete(mLevelDbPath);
     }
 
     @After
     public void tearDown() {
+        LevelDBManager.delete(mLevelDbPath);
         InstrumentationRegistry.getInstrumentation()
                 .getUiAutomation().dropShellPermissionIdentity();
     }
@@ -106,12 +112,10 @@ public final class RestoreExecutorTest {
     @Test
     public void testMetadataRestoreForImageFile() throws Exception {
         assumeTrue(isBackupAndRestoreSupported(mIsolatedContext));
-        String levelDbPath =
-                mIsolatedContext.getFilesDir().getAbsolutePath() + "/restore/external_primary";
-        if (!new File(levelDbPath).exists()) {
-            new File(levelDbPath).mkdirs();
+        if (!new File(mLevelDbPath).exists()) {
+            new File(mLevelDbPath).mkdirs();
         }
-        LevelDBInstance levelDBInstance = LevelDBManager.getInstance(levelDbPath);
+        LevelDBInstance levelDBInstance = LevelDBManager.getInstance(mLevelDbPath);
         // Stage image file
         File testImageFile = new File(mDownloadsDir,
                 "a_" + SystemClock.elapsedRealtimeNanos() + ".jpg");
@@ -127,12 +131,13 @@ public final class RestoreExecutorTest {
             mModern.scanDirectory(mDownloadsDir, REASON_UNKNOWN);
             assertRestoreForImageFile(testImageFile);
         } finally {
-            LevelDBManager.delete(levelDbPath);
+            LevelDBManager.delete(mLevelDbPath);
         }
     }
 
     @Test
     public void testMetadataRestoreForVideoFile() throws Exception {
+        assumeTrue(isBackupAndRestoreSupported(mIsolatedContext));
         String levelDbPath =
                 mIsolatedContext.getFilesDir().getAbsolutePath() + "/restore/external_primary/";
         if (!new File(levelDbPath).exists()) {
@@ -160,6 +165,7 @@ public final class RestoreExecutorTest {
 
     @Test
     public void testMetadataRestoreForAudioFile() throws Exception {
+        assumeTrue(isBackupAndRestoreSupported(mIsolatedContext));
         String levelDbPath =
                 mIsolatedContext.getFilesDir().getAbsolutePath() + "/restore/external_primary/";
         if (!new File(levelDbPath).exists()) {
diff --git a/tests/src/com/android/providers/media/cloudproviders/CloudProviderPrimary.java b/tests/src/com/android/providers/media/cloudproviders/CloudProviderPrimary.java
index 8e62baa75..30ef2591d 100644
--- a/tests/src/com/android/providers/media/cloudproviders/CloudProviderPrimary.java
+++ b/tests/src/com/android/providers/media/cloudproviders/CloudProviderPrimary.java
@@ -19,19 +19,23 @@ package com.android.providers.media.cloudproviders;
 import static android.provider.CloudMediaProviderContract.EXTRA_PAGE_TOKEN;
 
 import static com.android.providers.media.PickerProviderMediaGenerator.MediaGenerator;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getMediaCategoriesCursor;
 
 import android.content.res.AssetFileDescriptor;
 import android.database.Cursor;
+import android.database.MergeCursor;
 import android.graphics.Point;
 import android.os.Bundle;
 import android.os.CancellationSignal;
 import android.os.ParcelFileDescriptor;
 import android.provider.CloudMediaProvider;
+import android.provider.CloudMediaProviderContract;
 
 import com.android.providers.media.PickerProviderMediaGenerator;
 import com.android.providers.media.photopicker.data.CloudProviderQueryExtras;
 
 import java.io.FileNotFoundException;
+import java.util.List;
 
 /**
  * Implements a cloud {@link CloudMediaProvider} interface over items generated with
@@ -41,6 +45,15 @@ public class CloudProviderPrimary extends CloudMediaProvider {
     public static final String AUTHORITY =
             "com.android.providers.media.photopicker.tests.cloud_primary";
 
+    public static final MergeCursor DEFAULT_CATEGORY_RESULTS = new MergeCursor(List.of(
+            getMediaCategoriesCursor(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS),
+            getMediaCategoriesCursor(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS)
+    ).toArray(new Cursor[0]));
+
+    private static final Cursor sMediaCategories = DEFAULT_CATEGORY_RESULTS;
+
     private final MediaGenerator mMediaGenerator =
             PickerProviderMediaGenerator.getMediaGenerator(AUTHORITY);
 
@@ -96,4 +109,19 @@ public class CloudProviderPrimary extends CloudMediaProvider {
     public Bundle onGetMediaCollectionInfo(Bundle extras) {
         return mMediaGenerator.getMediaCollectionInfo();
     }
+
+    @Override
+    public CloudMediaProviderContract.Capabilities onGetCapabilities() {
+        return new CloudMediaProviderContract.Capabilities.Builder()
+                .setSearchEnabled(true)
+                .setMediaCategoriesEnabled(true)
+                .setAlbumsAsCategoryEnabled(true)
+                .build();
+    }
+
+    @Override
+    public Cursor onQueryMediaCategories(String parentCategoryId, Bundle extras,
+            CancellationSignal cancellationSignal) {
+        return sMediaCategories;
+    }
 }
diff --git a/tests/src/com/android/providers/media/cloudproviders/SearchProvider.java b/tests/src/com/android/providers/media/cloudproviders/SearchProvider.java
index d0da49abe..f695f5739 100644
--- a/tests/src/com/android/providers/media/cloudproviders/SearchProvider.java
+++ b/tests/src/com/android/providers/media/cloudproviders/SearchProvider.java
@@ -61,7 +61,8 @@ public class SearchProvider extends CloudMediaProvider {
     private static Cursor sSearchSuggestions = DEFAULT_SUGGESTION_RESULTS;
 
     public static final MergeCursor DEFAULT_CATEGORY_RESULTS = new MergeCursor(List.of(
-            getMediaCategoriesCursor("people_and_pets")
+            getMediaCategoriesCursor(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS)
     ).toArray(new Cursor[0]));
 
     private static Cursor sMediaCategories = DEFAULT_CATEGORY_RESULTS;
diff --git a/tests/src/com/android/providers/media/oemmetadataservices/OemMetadataServiceTest.java b/tests/src/com/android/providers/media/oemmetadataservices/OemMetadataServiceTest.java
index d8001c6c4..306e34927 100644
--- a/tests/src/com/android/providers/media/oemmetadataservices/OemMetadataServiceTest.java
+++ b/tests/src/com/android/providers/media/oemmetadataservices/OemMetadataServiceTest.java
@@ -44,6 +44,7 @@ import android.provider.MediaStore;
 import android.provider.MediaStore.Files.FileColumns;
 import android.provider.OemMetadataService;
 import android.provider.OemMetadataServiceWrapper;
+import android.provider.media.internal.flags.Flags;
 
 import androidx.test.ext.junit.runners.AndroidJUnit4;
 import androidx.test.filters.SdkSuppress;
@@ -124,7 +125,7 @@ public class OemMetadataServiceTest {
         assertNotNull(mOemMetadataServiceWrapper);
         final File dir = Environment
                 .getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);
-        File file = new File(dir, "a.jpg");
+        File file = new File(dir, "a_" + System.currentTimeMillis() + ".jpg");
         file.createNewFile();
 
         try {
@@ -143,6 +144,36 @@ public class OemMetadataServiceTest {
         }
     }
 
+    @Test
+    @EnableFlags({com.android.providers.media.flags.Flags.FLAG_ENABLE_OEM_METADATA,
+            com.android.providers.media.flags.Flags.FLAG_ENABLE_OEM_METADATA_USING_MIMETYPE,
+            Flags.FLAG_ENABLE_OEM_METADATA_USING_MIMETYPE })
+    public void testGetOemCustomDataUsingMimeType() throws Exception {
+        bindService();
+        assertNotNull(mOemMetadataServiceWrapper);
+        final File dir = Environment
+                .getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);
+        File file = new File(dir, "a_" + System.currentTimeMillis() + ".jpg");
+        file.createNewFile();
+
+        try {
+            Map<String, String> actualValue =
+                    mOemMetadataServiceWrapper.getOemCustomDataUsingMimeType(
+                            ParcelFileDescriptor.open(file, ParcelFileDescriptor.MODE_READ_ONLY),
+                            "image/jpeg");
+
+            assertThat(actualValue.keySet()).containsExactlyElementsIn(
+                    Arrays.asList("a", "b", "c", "d", "e"));
+            assertThat(actualValue.get("a")).isEqualTo("1");
+            assertThat(actualValue.get("b")).isEqualTo("2");
+            assertThat(actualValue.get("c")).isEqualTo("3");
+            assertThat(actualValue.get("d")).isEqualTo("4");
+            assertThat(actualValue.get("e")).isEqualTo("5");
+        } finally {
+            file.delete();
+        }
+    }
+
     @Test
     @EnableFlags(com.android.providers.media.flags.Flags.FLAG_ENABLE_OEM_METADATA)
     public void testScanOfOemMetadataAndFilterOnReadWithoutPermission() throws Exception {
@@ -152,7 +183,7 @@ public class OemMetadataServiceTest {
                 new TestConfigStore());
         final File downloads = new File(Environment.getExternalStorageDirectory(),
                 Environment.DIRECTORY_DOWNLOADS);
-        final File audioFile = new File(downloads, "audio.mp3");
+        final File audioFile = new File(downloads, "audio_" + System.currentTimeMillis() + ".mp3");
         try {
             stage(R.raw.test_audio, audioFile);
 
@@ -180,7 +211,10 @@ public class OemMetadataServiceTest {
             }
         } finally {
             audioFile.delete();
-            isolatedContext.unbindService(modernMediaScanner.getOemMetadataServiceConnection());
+            ServiceConnection connection = modernMediaScanner.getOemMetadataServiceConnection();
+            if (connection != null) {
+                isolatedContext.unbindService(connection);
+            }
         }
     }
 
@@ -194,7 +228,7 @@ public class OemMetadataServiceTest {
                 new TestConfigStore());
         final File downloads = new File(Environment.getExternalStorageDirectory(),
                 Environment.DIRECTORY_DOWNLOADS);
-        final File audioFile = new File(downloads, "audio.mp3");
+        final File audioFile = new File(downloads, "audio_" + System.currentTimeMillis() + ".mp3");
         try {
             stage(R.raw.test_audio, audioFile);
             Uri uri = modernMediaScanner.scanFile(audioFile, MediaScanner.REASON_UNKNOWN);
@@ -247,7 +281,7 @@ public class OemMetadataServiceTest {
                 new TestConfigStore());
         final File downloads = new File(Environment.getExternalStorageDirectory(),
                 Environment.DIRECTORY_DOWNLOADS);
-        final File audioFile = new File(downloads, "audio.mp3");
+        final File audioFile = new File(downloads, "audio_" + System.currentTimeMillis() + ".mp3");
         try {
             stage(R.raw.test_audio, audioFile);
 
@@ -317,7 +351,7 @@ public class OemMetadataServiceTest {
                 new TestConfigStore());
         final File downloads = new File(Environment.getExternalStorageDirectory(),
                 Environment.DIRECTORY_DOWNLOADS);
-        final File audioFile = new File(downloads, "audio.mp3");
+        final File audioFile = new File(downloads, "audio_" + System.currentTimeMillis() + ".mp3");
         try {
             stage(R.raw.test_audio, audioFile);
 
diff --git a/tests/src/com/android/providers/media/oemmetadataservices/TestOemMetadataService.java b/tests/src/com/android/providers/media/oemmetadataservices/TestOemMetadataService.java
index ae1dcf8a2..7fece375c 100644
--- a/tests/src/com/android/providers/media/oemmetadataservices/TestOemMetadataService.java
+++ b/tests/src/com/android/providers/media/oemmetadataservices/TestOemMetadataService.java
@@ -47,6 +47,12 @@ public class TestOemMetadataService extends OemMetadataService {
         return sOemMetadata;
     }
 
+    @Override
+    public Map<String, String> onGetOemCustomDataUsingMimeType(@NonNull ParcelFileDescriptor pfd,
+            @NonNull String mimeType) {
+        return sOemMetadata;
+    }
+
     public static void updateOemMetadataServiceData() {
         sOemMetadata.put("f", "6");
     }
diff --git a/tests/src/com/android/providers/media/oemmetadataservices/TestOemMetadataServiceWithoutPermission.java b/tests/src/com/android/providers/media/oemmetadataservices/TestOemMetadataServiceWithoutPermission.java
index 43e2bacd6..1f45a4165 100644
--- a/tests/src/com/android/providers/media/oemmetadataservices/TestOemMetadataServiceWithoutPermission.java
+++ b/tests/src/com/android/providers/media/oemmetadataservices/TestOemMetadataServiceWithoutPermission.java
@@ -39,4 +39,13 @@ public class TestOemMetadataServiceWithoutPermission extends OemMetadataService
         oemMetadata.put("e", "5");
         return oemMetadata;
     }
+
+    @Override
+    public Map<String, String> onGetOemCustomDataUsingMimeType(@NonNull ParcelFileDescriptor pfd,
+            String mimeType) {
+        Map<String, String> oemMetadata = new HashMap<>();
+        oemMetadata.put("d", "4");
+        oemMetadata.put("e", "5");
+        return oemMetadata;
+    }
 }
diff --git a/tests/src/com/android/providers/media/photopicker/CategoriesStateTest.java b/tests/src/com/android/providers/media/photopicker/CategoriesStateTest.java
index 6b6e06387..2eab032f4 100644
--- a/tests/src/com/android/providers/media/photopicker/CategoriesStateTest.java
+++ b/tests/src/com/android/providers/media/photopicker/CategoriesStateTest.java
@@ -33,7 +33,6 @@ import com.android.providers.media.cloudproviders.SearchProvider;
 import com.android.providers.media.flags.Flags;
 
 import org.junit.Before;
-import org.junit.ClassRule;
 import org.junit.Rule;
 import org.junit.Test;
 
@@ -42,10 +41,8 @@ public class CategoriesStateTest {
 
     private Context mContext;
 
-    @ClassRule
-    public static final SetFlagsRule.ClassRule mSetFlagsClassRule = new SetFlagsRule.ClassRule();
     @Rule
-    public final SetFlagsRule mSetFlagsRule = mSetFlagsClassRule.createSetFlagsRule();
+    public final SetFlagsRule mSetFlagsRule = new SetFlagsRule();
 
     @Before
     public void setup() {
@@ -66,7 +63,7 @@ public class CategoriesStateTest {
     @Test
     @EnableFlags({Flags.FLAG_ENABLE_PHOTOPICKER_SEARCH,
             Flags.FLAG_ENABLE_CLOUD_MEDIA_PROVIDER_CAPABILITIES})
-    public void testAreMediaCategoriesEnabledWithVInvalidAuthority() {
+    public void testAreMediaCategoriesEnabledWithInvalidAuthority() {
         final TestConfigStore configStore = new TestConfigStore();
         configStore.setIsModernPickerEnabled(true);
 
diff --git a/tests/src/com/android/providers/media/photopicker/ItemsProviderTest.java b/tests/src/com/android/providers/media/photopicker/ItemsProviderTest.java
index 47ab3df69..b719d3cca 100644
--- a/tests/src/com/android/providers/media/photopicker/ItemsProviderTest.java
+++ b/tests/src/com/android/providers/media/photopicker/ItemsProviderTest.java
@@ -52,6 +52,10 @@ import android.os.Environment;
 import android.os.OperationCanceledException;
 import android.os.ParcelFileDescriptor;
 import android.os.UserManager;
+import android.platform.test.annotations.RequiresFlagsDisabled;
+import android.platform.test.annotations.RequiresFlagsEnabled;
+import android.platform.test.flag.junit.CheckFlagsRule;
+import android.platform.test.flag.junit.DeviceFlagsValueProvider;
 import android.provider.CloudMediaProviderContract;
 import android.provider.MediaStore;
 import android.util.Log;
@@ -59,11 +63,13 @@ import android.util.Pair;
 
 import androidx.test.InstrumentationRegistry;
 
+import com.android.modules.utils.build.SdkLevel;
 import com.android.providers.media.IsolatedContext;
 import com.android.providers.media.PickerProviderMediaGenerator;
 import com.android.providers.media.PickerProviderMediaGenerator.MediaGenerator;
 import com.android.providers.media.TestConfigStore;
 import com.android.providers.media.cloudproviders.CloudProviderPrimary;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.photopicker.data.ItemsProvider;
 import com.android.providers.media.photopicker.data.PaginationParameters;
 import com.android.providers.media.photopicker.data.model.Category;
@@ -74,6 +80,7 @@ import com.google.common.io.ByteStreams;
 
 import org.junit.After;
 import org.junit.Before;
+import org.junit.Rule;
 import org.junit.Test;
 
 import java.io.File;
@@ -109,6 +116,9 @@ public class ItemsProviderTest {
     private ItemsProvider mItemsProvider;
     private TestConfigStore mConfigStore;
 
+    @Rule
+    public final CheckFlagsRule mCheckFlagsRule = DeviceFlagsValueProvider.createCheckFlagsRule();
+
     @Before
     public void setUp() throws Exception {
         final UiAutomation uiAutomation = sInstrumentation.getUiAutomation();
@@ -218,6 +228,7 @@ public class ItemsProviderTest {
      * correct info about {@link AlbumColumns#ALBUM_ID_SCREENSHOTS}.
      */
     @Test
+    @RequiresFlagsDisabled(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
     public void testGetCategories_screenshots() throws Exception {
         assumeFalse("Not testable in HSUM device", UserManager.isHeadlessSystemUserMode());
         Cursor c = mItemsProvider.getAllCategories(/* mimeType */ null, /* userId */ null,
@@ -255,6 +266,38 @@ public class ItemsProviderTest {
         }
     }
 
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
+    @Test
+    public void testGetCategories_screenshots_SPlus() throws Exception {
+        assumeTrue(SdkLevel.isAtLeastS());
+        assumeFalse("Not testable in HSUM device", UserManager.isHeadlessSystemUserMode());
+        Cursor c = mItemsProvider.getAllCategories(/* mimeType */ null, /* userId */ null,
+                /* cancellationSignal*/ null);
+        assertThat(c.getCount()).isEqualTo(0);
+
+        // Create 1 image file in Screenshots dir to test
+        final File screenshotsDir = getScreenshotsDir();
+        File imageFile = assertCreateNewImage(screenshotsDir);
+
+        // Add a top level /Screenshots directory and add a test image inside of it.
+        createTestScreenshotImages();
+
+        // This file should not be included since it's not a valid screenshot directory, even though
+        // it looks like one.
+        final File myAlbumScreenshotsDir =
+                new File(getPicturesDir(), "MyAlbum" + Environment.DIRECTORY_SCREENSHOTS);
+        final File myAlbumScreenshotsImg = assertCreateNewImage(myAlbumScreenshotsDir);
+
+        try {
+            assertGetCategoriesMatchSingle(ALBUM_ID_SCREENSHOTS, 2);
+        } finally {
+            imageFile.delete();
+            myAlbumScreenshotsImg.delete();
+            myAlbumScreenshotsDir.delete();
+            deleteTopLevelScreenshotDir();
+        }
+    }
+
     /**
      * Tests {@link ItemsProvider#getAllCategories(String[], UserId, CancellationSignal)} to return
      * correct info about {@link AlbumColumns#ALBUM_ID_SCREENSHOTS}.
@@ -360,6 +403,7 @@ public class ItemsProviderTest {
      * Tests {@link ItemsProvider#getAllCategories(String[], UserId, CancellationSignal)} to return
      * correct info about {@link AlbumColumns#ALBUM_ID_DOWNLOADS}.
      */
+    @RequiresFlagsDisabled(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
     @Test
     public void testGetCategories_downloads() throws Exception {
         Cursor c = mItemsProvider.getAllCategories(/* mimeType */ null, /* userId */ null,
@@ -381,6 +425,7 @@ public class ItemsProviderTest {
      * correct info about {@link AlbumColumns#ALBUM_ID_DOWNLOADS}.
      */
     @Test
+    @RequiresFlagsDisabled(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
     public void testGetCategories_not_downloads() throws Exception {
         Cursor c = mItemsProvider.getAllCategories(/* mimeType */ null, /* userId */ null,
                 /* cancellationSignal*/ null);
@@ -449,12 +494,13 @@ public class ItemsProviderTest {
      * {@link AlbumColumns#ALBUM_ID_FAVORITES}.
      */
     @Test
+    @RequiresFlagsDisabled(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
     public void testGetCategories_downloads_and_favorites() throws Exception {
         Cursor c = mItemsProvider.getAllCategories(/* mimeType */ null, /* userId */ null,
                 /* cancellationSignal*/ null);
         assertThat(c.getCount()).isEqualTo(0);
 
-        // Create 1 image file in Screenshots dir to test
+        // Create 1 image file in Downloads dir to test
         final File downloadsDir = getDownloadsDir();
         File imageFile = assertCreateNewImage(downloadsDir);
         setIsFavorite(imageFile);
diff --git a/tests/src/com/android/providers/media/photopicker/SearchStateTest.java b/tests/src/com/android/providers/media/photopicker/SearchStateTest.java
index 3719f0282..ca52cc318 100644
--- a/tests/src/com/android/providers/media/photopicker/SearchStateTest.java
+++ b/tests/src/com/android/providers/media/photopicker/SearchStateTest.java
@@ -39,7 +39,6 @@ import com.android.providers.media.flags.Flags;
 
 import org.junit.Assume;
 import org.junit.Before;
-import org.junit.ClassRule;
 import org.junit.Rule;
 import org.junit.Test;
 import org.mockito.Mock;
@@ -53,10 +52,8 @@ public class SearchStateTest {
     private Context mContext;
     private TestConfigStore mConfigStore;
 
-
-    @ClassRule
-    public static final SetFlagsRule.ClassRule mSetFlagsClassRule = new SetFlagsRule.ClassRule();
-    @Rule public final SetFlagsRule mSetFlagsRule = mSetFlagsClassRule.createSetFlagsRule();
+    @Rule
+    public final SetFlagsRule mSetFlagsRule = new SetFlagsRule();
 
     @Before
     public void setup() {
diff --git a/tests/src/com/android/providers/media/photopicker/data/ExternalDbFacadeTest.java b/tests/src/com/android/providers/media/photopicker/data/ExternalDbFacadeTest.java
index bd5755150..b5542cd06 100644
--- a/tests/src/com/android/providers/media/photopicker/data/ExternalDbFacadeTest.java
+++ b/tests/src/com/android/providers/media/photopicker/data/ExternalDbFacadeTest.java
@@ -24,15 +24,18 @@ import static android.provider.CloudMediaProviderContract.EXTRA_ALBUM_ID;
 import static android.provider.CloudMediaProviderContract.EXTRA_MEDIA_COLLECTION_ID;
 import static android.provider.CloudMediaProviderContract.EXTRA_PAGE_SIZE;
 import static android.provider.CloudMediaProviderContract.EXTRA_PAGE_TOKEN;
+import static android.provider.CloudMediaProviderContract.EXTRA_SORT_ORDER;
 import static android.provider.CloudMediaProviderContract.EXTRA_SYNC_GENERATION;
 import static android.provider.CloudMediaProviderContract.MediaCollectionInfo;
 import static android.provider.MediaStore.Files.FileColumns._SPECIAL_FORMAT_GIF;
 import static android.provider.MediaStore.Files.FileColumns._SPECIAL_FORMAT_NONE;
 import static android.provider.MediaStore.MediaColumns.DATE_TAKEN;
+import static android.provider.MediaStore.MediaColumns.IS_DOWNLOAD;
 
 import static com.android.providers.media.photopicker.data.ExternalDbFacade.COLUMN_OLD_ID;
 import static com.android.providers.media.photopicker.data.ExternalDbFacade.TABLE_DELETED_MEDIA;
 import static com.android.providers.media.photopicker.data.ExternalDbFacade.TABLE_FILES;
+import static com.android.providers.media.photopicker.util.CursorUtils.getCursorString;
 
 import static com.google.common.truth.Truth.assertThat;
 import static com.google.common.truth.Truth.assertWithMessage;
@@ -40,11 +43,21 @@ import static com.google.common.truth.Truth.assertWithMessage;
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.when;
 
+import android.content.ComponentName;
 import android.content.ContentValues;
 import android.content.Context;
+import android.content.Intent;
+import android.content.pm.ApplicationInfo;
+import android.content.pm.LauncherActivityInfo;
+import android.content.pm.LauncherApps;
 import android.database.Cursor;
 import android.os.Bundle;
 import android.os.Environment;
+import android.platform.test.annotations.EnableFlags;
+import android.platform.test.annotations.RequiresFlagsDisabled;
+import android.platform.test.annotations.RequiresFlagsEnabled;
+import android.platform.test.flag.junit.CheckFlagsRule;
+import android.platform.test.flag.junit.DeviceFlagsValueProvider;
 import android.provider.CloudMediaProviderContract;
 import android.provider.MediaStore;
 import android.provider.MediaStore.Files.FileColumns;
@@ -59,20 +72,29 @@ import com.android.providers.media.ProjectionHelper;
 import com.android.providers.media.TestConfigStore;
 import com.android.providers.media.TestDatabaseBackupAndRecovery;
 import com.android.providers.media.VolumeCache;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.util.UserCache;
 
 import org.junit.Before;
+import org.junit.Rule;
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
 import java.util.ArrayList;
 import java.util.Arrays;
+import java.util.HashMap;
 import java.util.HashSet;
+import java.util.List;
+import java.util.Locale;
+import java.util.Map;
 
 @RunWith(AndroidJUnit4.class)
 public class ExternalDbFacadeTest {
     private static final String TAG = "ExternalDbFacadeTest";
 
+    @Rule
+    public final CheckFlagsRule mCheckFlagsRule = DeviceFlagsValueProvider.createCheckFlagsRule();
+
     private static final long ID1 = 1;
     private static final long ID2 = 2;
     private static final long ID3 = 3;
@@ -100,13 +122,69 @@ public class ExternalDbFacadeTest {
     private static final String[] VIDEO_MIME_TYPES_QUERY = new String[]{"video/mp4"};
     private static final long DURATION_MS = 5;
     private static final int IS_FAVORITE = 0;
-
-    private static Context sIsolatedContext;
+    private static final String MAIN_ACTIVITY = ".MainActivity";
+    private static final String SYSTEM_PACKAGE = "com.android.app";
+    private static final String PACKAGE_NAME1 = "com.example.app1";
+    private static final String ACTIVITY_NAME1 = PACKAGE_NAME1 + MAIN_ACTIVITY;
+    private static final String PACKAGE_NAME2 = "com.example.app2";
+    private static final String ACTIVITY_NAME2 = PACKAGE_NAME2 + MAIN_ACTIVITY;
+    private static final String PACKAGE_NAME3 = "com.example.app3";
+    private static final String ACTIVITY_NAME3 = PACKAGE_NAME3 + MAIN_ACTIVITY;
+    private static final String PACKAGE_NAME4 = "com.example.app4";
+    private static final String ACTIVITY_NAME4 = PACKAGE_NAME4 + MAIN_ACTIVITY;
+    private static final String PACKAGE_NAME5 = "com.example.app5";
+    private static final String ACTIVITY_NAME5 = PACKAGE_NAME5 + MAIN_ACTIVITY;
+    private static final String APP_LABEL = "mock_app";
+    private static final int RES_ID = 123456;
+    private static final String FOLDER_NAME1 = "Folder1";
+
+    private static IsolatedContext sIsolatedContext;
 
     @Before
     public void setUp() {
         final Context context = InstrumentationRegistry.getTargetContext();
-        sIsolatedContext = new IsolatedContext(context, TAG, /*asFuseThread*/ false);
+        Map<String, ApplicationInfo> packageNameToAppInfoMap = new HashMap<>();
+        packageNameToAppInfoMap.put(
+                PACKAGE_NAME1,
+                createFakeAppInfo(PACKAGE_NAME1, APP_LABEL, RES_ID));
+        packageNameToAppInfoMap.put(
+                PACKAGE_NAME2,
+                createFakeAppInfo(PACKAGE_NAME2, APP_LABEL, RES_ID));
+        packageNameToAppInfoMap.put(
+                PACKAGE_NAME3,
+                createFakeAppInfo(PACKAGE_NAME3, APP_LABEL, RES_ID));
+        packageNameToAppInfoMap.put(
+                PACKAGE_NAME4,
+                createFakeAppInfo(PACKAGE_NAME4, APP_LABEL, RES_ID));
+        packageNameToAppInfoMap.put(
+                PACKAGE_NAME5,
+                createFakeAppInfo(PACKAGE_NAME5, APP_LABEL, RES_ID));
+
+        LauncherApps mockLauncherApps = mock(LauncherApps.class);
+        List<String> packageNameList = Arrays.asList(PACKAGE_NAME1, PACKAGE_NAME2, PACKAGE_NAME3,
+                PACKAGE_NAME4, PACKAGE_NAME5);
+        List<String> activityNameList = Arrays.asList(ACTIVITY_NAME1, ACTIVITY_NAME2,
+                ACTIVITY_NAME3, ACTIVITY_NAME4, ACTIVITY_NAME5);
+        List<LauncherActivityInfo> activityList = new ArrayList<>();
+        for (int i = 0; i < packageNameList.size(); ++i) {
+            activityList.add(getMockLauncherActivityInfoFor(
+                    packageNameList.get(i), activityNameList.get(i)));
+        }
+
+        sIsolatedContext = new IsolatedContext(context, TAG, /*asFuseThread*/ false,
+                mockLauncherApps);
+        when(mockLauncherApps.getActivityList(null, sIsolatedContext.getUser()))
+                .thenReturn(activityList);
+        sIsolatedContext.stubApplicationInfoCalls(packageNameToAppInfoMap);
+    }
+
+    private LauncherActivityInfo getMockLauncherActivityInfoFor(String packageName,
+            String activityName) {
+        LauncherActivityInfo mockLauncherActivityInfo = mock(LauncherActivityInfo.class);
+        ComponentName componentName = new ComponentName(packageName, activityName);
+        when(mockLauncherActivityInfo.getComponentName()).thenReturn(componentName);
+        when(mockLauncherActivityInfo.getName()).thenReturn(activityName);
+        return mockLauncherActivityInfo;
     }
 
     @Test
@@ -605,7 +683,8 @@ public class ExternalDbFacadeTest {
             helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv));
 
             try (Cursor cursor = queryAllMedia(facade)) {
-                assertWithMessage("Number of rows on querying TABLE_FILES for all media is")
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
                         .that(cursor.getCount())
                         .isEqualTo(2);
                 assertCursorExtras(cursor);
@@ -619,11 +698,10 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(GENERATION_MODIFIED1,
                     /* albumId */ null, /* mimeType */ null, /* pageSize*/ 10,
-                    /*pageToken */ null)) {
+                    /*pageToken */ null, /* sortOrder */ -1)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLE_FILES for (generation: "
-                                + "GENERATION_MODIFIED1, albumId: null, mimeType: null, pageSize:"
-                                + " 10) is")
+                        "Unexpected number of rows on querying TABLE_FILES "
+                                + " with generation as GENERATION_MODIFIED1, and pageSize as 10")
                         .that(cursor.getCount())
                         .isEqualTo(1);
                 //PAGE_TOKEN will also be set since pageSize is not -1.
@@ -653,8 +731,8 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = queryAllMedia(facade)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLES_FILES with cvPending and cvTrashed "
-                                + "inserted is")
+                        "Expected 0 rows on querying TABLES_FILES when the media present is "
+                                + "trashed or pending.")
                         .that(cursor.getCount()).isEqualTo(0);
             }
         }
@@ -682,8 +760,7 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = queryAllMedia(facade)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLES_FILES with modified date for all media"
-                                + " is")
+                        "Unexpected number of rows on querying TABLES_FILES for all media.")
                         .that(cursor.getCount())
                         .isEqualTo(2);
 
@@ -696,7 +773,7 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(GENERATION_MODIFIED1,
                     /* albumId */ null, /* mimeType */ null, /* pageSize*/ -1,
-                    /*pageToken */ null)) {
+                    /*pageToken */ null, /* sortOrder */ -1)) {
                 assertWithMessage(
                         "Number of rows on querying TABLE_FILES with modified date for "
                                 + "(generation: "
@@ -732,7 +809,7 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     /* albumId */ null, VIDEO_MIME_TYPES_QUERY, /* pageSize*/ -1,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertWithMessage(
                         "Number of rows on querying TABLES_FILES for media with mime type VIDEO is")
                         .that(cursor.getCount())
@@ -741,7 +818,7 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     /* albumId */ null, IMAGE_MIME_TYPES_QUERY, /* pageSize*/ -1,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertWithMessage(
                         "Number of rows on querying TABLES_FILES for media with mime type IMAGE is")
                         .that(cursor.getCount())
@@ -762,16 +839,18 @@ public class ExternalDbFacadeTest {
             initMediaInAllAlbums(helper);
 
             try (Cursor cursor = queryAllMedia(facade)) {
-                assertWithMessage("Number of rows on querying TABLES_FILES for all media is")
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for all media.")
                         .that(cursor.getCount())
                         .isEqualTo(3);
             }
 
             try (Cursor cursor = facade.queryMedia(/* generation */ -1,
                     ALBUM_ID_CAMERA, /* mimeType */ null, /* pageSize*/ 20,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLES_FILES for media with ALBUM_ID_CAMERA is")
+                        "Unexpected number of rows on querying TABLES_FILES for media "
+                                + "from Camera album")
                         .that(cursor.getCount())
                         .isEqualTo(1);
                 //PAGE_TOKEN will also be set since pageSize is not -1.
@@ -783,10 +862,10 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(/* generation */ -1,
                     ALBUM_ID_SCREENSHOTS, /* mimeType */ null, /* pageSize*/ -1,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLES_FILES for media with "
-                                + "ALBUM_ID_SCREENSHOTS is")
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "Screenshots album")
                         .that(cursor.getCount())
                         .isEqualTo(1);
                 assertCursorExtras(cursor, EXTRA_ALBUM_ID);
@@ -797,10 +876,10 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(/* generation */ -1,
                     ALBUM_ID_DOWNLOADS, /* mimeType */ null, /* pageSize*/ 10,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLES_FILES for media with "
-                                + "ALBUM_ID_DOWNLOADS is")
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "Downloads album with pageSize 10")
                         .that(cursor.getCount())
                         .isEqualTo(1);
                 //PAGE_TOKEN will also be set since pageSize is not -1.
@@ -824,7 +903,8 @@ public class ExternalDbFacadeTest {
             helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv));
 
             try (Cursor cursor = queryAllMedia(facade)) {
-                assertWithMessage("Number of rows on querying TABLES_FILES for all media is")
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for all media")
                         .that(cursor.getCount())
                         .isEqualTo(1);
 
@@ -834,20 +914,20 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     ALBUM_ID_SCREENSHOTS, IMAGE_MIME_TYPES_QUERY, /* pageSize*/ -1,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLES_FILES for media with "
-                                + "ALBUM_ID_SCREENSHOTS and IMAGE_MIME_TYPES_QUERY is")
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "Screenshots album with IMAGE mime type")
                         .that(cursor.getCount())
                         .isEqualTo(0);
             }
 
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     ALBUM_ID_CAMERA, VIDEO_MIME_TYPES_QUERY, /* pageSize*/ -1,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLES_FILES for media with ALBUM_ID_CAMERA "
-                                + "and VIDEO_MIME_TYPES_QUERY is")
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "Camera album with VIDEO mime type")
                         .that(cursor.getCount())
                         .isEqualTo(0);
 
@@ -855,7 +935,7 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     ALBUM_ID_CAMERA, IMAGE_MIME_TYPES_QUERY, /* pageSize*/ -1,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertWithMessage(
                         "Number of rows on querying TABLES_FILES for media with ALBUM_ID_CAMERA "
                                 + "and IMAGE_MIME_TYPES_QUERY is")
@@ -893,7 +973,7 @@ public class ExternalDbFacadeTest {
             // Verify that media returned in descending order of date_taken, _id
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     /* albumId */ null, /* mimeType */ null, /* pageSize*/ 2,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertThat(cursor.getCount()).isEqualTo(2);
 
                 cursor.moveToFirst();
@@ -905,7 +985,7 @@ public class ExternalDbFacadeTest {
 
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     /* albumId */ null, /* mimeType */ null, /* pageSize*/ 3,
-                    /* pageToken*/ DATE_TAKEN_MS4 + "|" + ID4)) {
+                    /* pageToken*/ DATE_TAKEN_MS4 + "|" + ID4, /* sortOrder */ -1)) {
                 assertThat(cursor.getCount()).isEqualTo(3);
 
                 cursor.moveToFirst();
@@ -948,7 +1028,7 @@ public class ExternalDbFacadeTest {
             // Verify that media returned in descending order of date_taken, _id
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     /* albumId */ null, /* mimeType */ null, /* pageSize*/ 2,
-                    /* pageToken*/ null)) {
+                    /* pageToken*/ null, /* sortOrder */ -1)) {
                 assertThat(cursor.getCount()).isEqualTo(2);
 
                 cursor.moveToFirst();
@@ -958,10 +1038,10 @@ public class ExternalDbFacadeTest {
                 assertMediaColumns(facade, cursor, ID4, Long.valueOf(DATE_MODIFIED_MS2) * 1000);
             }
 
-            String pageToken =  Long.valueOf(DATE_MODIFIED_MS2) * 1000 + "|" + ID4;
+            String pageToken = Long.valueOf(DATE_MODIFIED_MS2) * 1000 + "|" + ID4;
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     /* albumId */ null, /* mimeType */ null, /* pageSize*/ 2,
-                    /* pageToken*/ pageToken)) {
+                    /* pageToken*/ pageToken, /* sortOrder */ -1)) {
                 assertThat(cursor.getCount()).isEqualTo(2);
 
                 cursor.moveToFirst();
@@ -971,10 +1051,10 @@ public class ExternalDbFacadeTest {
                 assertMediaColumns(facade, cursor, ID2, DATE_TAKEN_MS2);
             }
 
-            pageToken =  DATE_TAKEN_MS2 + "|" + ID2;
+            pageToken = DATE_TAKEN_MS2 + "|" + ID2;
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     /* albumId */ null, /* mimeType */ null, /* pageSize*/ 2,
-                    /* pageToken*/ pageToken)) {
+                    /* pageToken*/ pageToken, /* sortOrder */ -1)) {
                 assertThat(cursor.getCount()).isEqualTo(1);
 
                 cursor.moveToFirst();
@@ -984,7 +1064,7 @@ public class ExternalDbFacadeTest {
             pageToken = DATE_MODIFIED_MS1 + "|" + ID1;
             try (Cursor cursor = facade.queryMedia(/* generation */ 0,
                     /* albumId */ null, /* mimeType */ null, /* pageSize*/ 2,
-                    /* pageToken*/ pageToken)) {
+                    /* pageToken*/ pageToken, /* sortOrder */ -1)) {
                 assertThat(cursor.getCount()).isEqualTo(0);
             }
         }
@@ -1067,13 +1147,15 @@ public class ExternalDbFacadeTest {
             helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv));
 
             try (Cursor cursor = queryAllMedia(facade)) {
-                assertWithMessage("Number of rows on querying TABLES_FILES with for all media is")
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES with for all media is")
                         .that(cursor.getCount())
                         .isEqualTo(1);
             }
 
             try (Cursor cursor = facade.queryAlbums(/* mimeType */ null)) {
-                assertWithMessage("Number of rows on querying TABLES_FILES for albums is")
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for albums is")
                         .that(cursor.getCount())
                         .isEqualTo(0);
             }
@@ -1081,6 +1163,7 @@ public class ExternalDbFacadeTest {
     }
 
     @Test
+    @RequiresFlagsDisabled(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
     public void testQueryAlbums() throws Exception {
         try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
             ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
@@ -1111,6 +1194,78 @@ public class ExternalDbFacadeTest {
         }
     }
 
+    @Test
+    @RequiresFlagsEnabled(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
+    public void testQueryAlbums_withLocalCategoriesEnabled() throws Exception {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            initMediaInAllAlbums(helper);
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertThat(cursor.getCount()).isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryAlbums(/* mimeType */ null)) {
+                assertThat(cursor.getCount()).isEqualTo(2);
+
+                // We verify the order of the albums:
+                // Camera, Screenshots
+                cursor.moveToNext();
+                assertAlbumColumns(facade, cursor, ALBUM_ID_CAMERA, DATE_TAKEN_MS1, /* count */ 1);
+
+                cursor.moveToNext();
+                assertAlbumColumns(facade, cursor, ALBUM_ID_SCREENSHOTS, DATE_TAKEN_MS2,
+                        /* count */ 1);
+            }
+        }
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
+    public void testQueryAlbums_categoriesEnabled_downloadsIsPartOfCollection() throws Exception {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            initMediaInAllAlbums(helper);
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for all media")
+                        .that(cursor.getCount()).isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryAlbums(/* mimeType */ null)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for albums")
+                        .that(cursor.getCount()).isEqualTo(2);
+
+                // We verify the order of the albums:
+                // Camera, Screenshots and Downloads
+                cursor.moveToNext();
+                assertAlbumColumns(facade, cursor, ALBUM_ID_CAMERA, DATE_TAKEN_MS1, /* count */ 1);
+
+                cursor.moveToNext();
+                assertAlbumColumns(facade, cursor, ALBUM_ID_SCREENSHOTS, DATE_TAKEN_MS2,
+                        /* count */ 1);
+            }
+
+            try (Cursor cursor = facade.queryMediaCategories(/* mimeTypes */ null)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for categories")
+                        .that(cursor.getCount()).isEqualTo(1);
+
+                cursor.moveToFirst();
+                assertWithMessage("Incorrect category id found in the cursor")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.ID))
+                        .isEqualTo(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+            }
+        }
+    }
+
     @Test
     public void testQueryAlbumsMimeType() throws Exception {
         try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
@@ -1129,14 +1284,15 @@ public class ExternalDbFacadeTest {
             helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv2));
 
             try (Cursor cursor = queryAllMedia(facade)) {
-                assertWithMessage("Number of rows on querying TABLES_FILES for all media")
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for all media")
                         .that(cursor.getCount())
                         .isEqualTo(2);
             }
 
             try (Cursor cursor = facade.queryAlbums(IMAGE_MIME_TYPES_QUERY)) {
                 assertWithMessage(
-                        "Number of rows on querying TABLES_FILES for albums with "
+                        "Unexpected number of rows on querying TABLES_FILES for albums with "
                                 + "IMAGE_MIME_TYPES_QUERY")
                         .that(cursor.getCount())
                         .isEqualTo(1);
@@ -1162,111 +1318,1471 @@ public class ExternalDbFacadeTest {
                 .isEqualTo(ALBUM_ID_DOWNLOADS);
     }
 
-    private static void initMediaInAllAlbums(DatabaseHelper helper) {
-        // Insert in camera album
-        ContentValues cv1 = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
-        cv1.put(MediaColumns.RELATIVE_PATH, ExternalDbFacade.RELATIVE_PATH_CAMERA);
-        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv1));
+    @Test
+    public void testQueryCategoriesEmpty() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
 
-        // Insert in screenshots album
-        ContentValues cv2 = getContentValues(DATE_TAKEN_MS2, GENERATION_MODIFIED2);
-        cv2.put(
-                MediaColumns.RELATIVE_PATH,
-                Environment.DIRECTORY_PICTURES + "/" + Environment.DIRECTORY_SCREENSHOTS + "/");
-        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv2));
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
 
-        // Insert in download album
-        ContentValues cv3 = getContentValues(DATE_TAKEN_MS3, GENERATION_MODIFIED3);
-        cv3.put(MediaColumns.IS_DOWNLOAD, 1);
-        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv3));
-    }
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES with for all media")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+            }
 
-    private static void assertDeletedMediaEmpty(ExternalDbFacade facade) {
-        try (Cursor cursor = facade.queryDeletedMedia(/* generation */ 0)) {
-            assertWithMessage(
-                    "Number of rows in the deleted_media table is")
-                    .that(cursor.getCount()).isEqualTo(0);
+            try (Cursor cursor = facade.queryMediaCategories(/* mimeType */ null)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for categories")
+                        .that(cursor.getCount())
+                        .isEqualTo(0);
+            }
         }
     }
 
-    private static void assertDeletedMedia(ExternalDbFacade facade, long id) {
-        try (Cursor cursor = facade.queryDeletedMedia(/* generation */ 0)) {
-            assertWithMessage("Number of rows in the deleted_media table is")
-                    .that(cursor.getCount())
-                    .isEqualTo(1);
+    @Test
+    public void testQueryMediaCategories_returnsBothLocalCategories() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
 
-            cursor.moveToFirst();
-            assertWithMessage("Row id for the deleted media is")
-                    .that(cursor.getLong(0))
-                    .isEqualTo(id);
-            assertWithMessage("Name of the column at index 0 is")
-                    .that(cursor.getColumnName(0))
-                    .isEqualTo(CloudMediaProviderContract.MediaColumns.ID);
+            initMediaCategories(helper);
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES with for all media")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaCategories(/* mimeType */ null)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for categories")
+                        .that(cursor.getCount())
+                        .isEqualTo(2);
+
+                final List<String> expectedID = new ArrayList<>();
+                expectedID.add(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+                expectedID.add(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS);
+                cursor.moveToFirst();
+                int index = 0;
+                do {
+                    assertWithMessage("Incorrect category id found in the cursor")
+                            .that(getCursorString(cursor,
+                                    CloudMediaProviderContract.MediaCategoryColumns.ID))
+                            .isEqualTo(expectedID.get(index++));
+                } while (cursor.moveToNext());
+            }
         }
     }
 
-    private static void assertMediaColumns(ExternalDbFacade facade, Cursor cursor, long id,
-            long dateTakenMs) {
-        assertMediaColumns(facade, cursor, id, dateTakenMs, IS_FAVORITE);
+    @Test
+    public void testQueryMediaCategories_deviceCategory_coverIdsInOrder() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // First 2 media items belong to the same media set,
+            // with the second having the later date_taken value
+            // The last media item belong to different media set and
+            // has the same date_taken as the second media item, but has a higher _id
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns._ID, ID1);
+            contentValues.put(MediaColumns.BUCKET_ID, ID4);
+            contentValues.put(MediaColumns.RELATIVE_PATH, "");
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            contentValues.put(MediaColumns._ID, ID2);
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            contentValues.put(MediaColumns._ID, ID3);
+            contentValues.put(MediaColumns.BUCKET_ID, ID5);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES with for all media")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaCategories(/* mimeType */ null)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for categories")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+
+                cursor.moveToFirst();
+                assertWithMessage("Incorrect MEDIA_COVER_ID1 found, implying wrong order")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID1))
+                        .isEqualTo(String.valueOf(ID3));
+
+                assertWithMessage("Incorrect MEDIA_COVER_ID2 found, implying wrong order")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID2))
+                        .isEqualTo(String.valueOf(ID2));
+
+                assertWithMessage("Incorrect MEDIA_COVER_ID3 found, implying wrong order")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID3))
+                        .isNull();
+
+                assertWithMessage("Incorrect MEDIA_COVER_ID4 found, implying wrong order")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID4))
+                        .isNull();
+            }
+        }
     }
 
-    private static void assertMediaColumns(ExternalDbFacade facade, Cursor cursor, long id,
-            long dateTakenMs, int isFavorite) {
-        assertMediaColumns(facade, cursor, id, dateTakenMs, isFavorite, IMAGE_MIME_TYPE);
+    @Test
+    public void testQueryMediaCategories_appsCategory_coverIdsInOrder() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // First 2 media items belong to the same media set,
+            // with the second having the later date_taken value
+            // The last media item belong to different media set and
+            // has the same date_taken as the second media item, but has a higher _id
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(FileColumns._USER_ID, sIsolatedContext.getUserId());
+            contentValues.put(MediaColumns._ID, ID1);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            contentValues.put(MediaColumns._ID, ID2);
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            contentValues.put(MediaColumns._ID, ID3);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME2);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES with for all media")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaCategories(/* mimeType */ null)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for categories")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+
+                // Media cover ids for App Folder Collection is the app icon res id uri
+                String expectedCoverIdForPackage1 = String.format(
+                        Locale.ROOT,
+                        "%s/%s/%s",
+                        PACKAGE_NAME1, RES_ID, sIsolatedContext.getUserId());
+                String expectedCoverIdForPackage2 = String.format(
+                        Locale.ROOT,
+                        "%s/%s/%s",
+                        PACKAGE_NAME2, RES_ID, sIsolatedContext.getUserId());
+                cursor.moveToFirst();
+                assertWithMessage("Incorrect MEDIA_COVER_ID1 found, implying wrong order")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID1))
+                        .isEqualTo(expectedCoverIdForPackage2);
+
+                assertWithMessage("Incorrect MEDIA_COVER_ID2 found, implying wrong order")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID2))
+                        .isEqualTo(expectedCoverIdForPackage1);
+
+                assertWithMessage("Incorrect MEDIA_COVER_ID3 found, implying wrong order")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID3))
+                        .isNull();
+
+                assertWithMessage("Incorrect MEDIA_COVER_ID4 found, implying wrong order")
+                        .that(getCursorString(cursor,
+                                CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID4))
+                        .isNull();
+            }
+        }
     }
 
-    private static void assertMediaColumns(ExternalDbFacade facade, Cursor cursor, long id,
-            long dateTakenMs, int isFavorite, String mimeType) {
-        int idIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaColumns.ID);
-        int dateTakenIndex = cursor.getColumnIndex(
-                CloudMediaProviderContract.MediaColumns.DATE_TAKEN_MILLIS);
-        int sizeIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaColumns.SIZE_BYTES);
-        int mimeTypeIndex = cursor.getColumnIndex(
-                CloudMediaProviderContract.MediaColumns.MIME_TYPE);
-        int durationIndex = cursor.getColumnIndex(
-                CloudMediaProviderContract.MediaColumns.DURATION_MILLIS);
-        int isFavoriteIndex = cursor.getColumnIndex(
-                CloudMediaProviderContract.MediaColumns.IS_FAVORITE);
-        int heightIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaColumns.HEIGHT);
-        int widthIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaColumns.WIDTH);
-        int orientationIndex = cursor.getColumnIndex(
-                CloudMediaProviderContract.MediaColumns.ORIENTATION);
 
-        assertWithMessage("MediaColumns.ID is")
-                .that(cursor.getLong(idIndex))
-                .isEqualTo(id);
-        assertWithMessage("MediaColumns.DATE_TAKEN_MILLIS is")
-                .that(cursor.getLong(dateTakenIndex))
-                .isEqualTo(dateTakenMs);
-        assertWithMessage("MediaColumns.SIZE_BYTES is")
-                .that(cursor.getLong(sizeIndex))
-                .isEqualTo(SIZE);
-        assertWithMessage("MediaColumns.MIME_TYPE is")
-                .that(cursor.getString(mimeTypeIndex))
-                .isEqualTo(mimeType);
-        assertWithMessage("MediaColumns.DURATION_MILLIS is")
-                .that(cursor.getLong(durationIndex))
-                .isEqualTo(DURATION_MS);
-        assertWithMessage("MediaColumns.IS_FAVORITE is")
-                .that(cursor.getInt(isFavoriteIndex))
-                .isEqualTo(isFavorite);
-        assertWithMessage("MediaColumns.HEIGHT is")
-                .that(cursor.getInt(heightIndex))
-                .isEqualTo(HEIGHT);
-        assertWithMessage("MediaColumns.WIDTH is")
-                .that(cursor.getInt(widthIndex))
-                .isEqualTo(WIDTH);
-        assertWithMessage("MediaColumns.ORIENTATION is")
-                .that(cursor.getInt(orientationIndex))
-                .isEqualTo(ORIENTATION);
+    @Test
+    public void testQueryMediaSets_noCategoryTypePresent_returnsEmpty() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Adding media to Camera and Screenshots directory,
+            // these are excluded when querying for media set that belong to categories
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns.RELATIVE_PATH, ExternalDbFacade.RELATIVE_PATH_CAMERA);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, SYSTEM_PACKAGE);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            contentValues.put(MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_SCREENSHOTS);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(2);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS, null, -1,
+                    null)) {
+                assertWithMessage(
+                        "Unexpected number of media sets on querying TABLE_FILES for "
+                                + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS.")
+                        .that(cursor.getCount())
+                        .isEqualTo(0);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS, null, -1, null)) {
+                assertWithMessage(
+                        "Unexpected number of media sets on querying TABLE_FILES for "
+                                + "MEDIA_CATEGORY_TYPE_APP_FOLDERS.")
+                        .that(cursor.getCount())
+                        .isEqualTo(0);
+            }
+        }
     }
 
-    private static void assertCursorExtras(Cursor cursor, String... honoredArg) {
-        final Bundle bundle = cursor.getExtras();
+    @Test
+    public void testQueryMediaSets_mediaSetForCategoryTypeDeviceFolders() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Downloads media set should be first in list irrespective of the date taken
+            ContentValues cv_download = getContentValues(DATE_TAKEN_MS4, GENERATION_MODIFIED3);
+            cv_download.put(MediaColumns.IS_DOWNLOAD, 1);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv_download));
+
+            // Intentionally insert DATE_TAKEN_MS1 before DATE_TAKEN_MS2,
+            // this allows us to verify that the sort order is based on date_taken.
+            // Also keep bucket_display_name same and the bucket_id different for the two entries,
+            // this allows us to verify that media_set is grouped on bucket_id.
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED2);
+            contentValues.put(MediaColumns.BUCKET_ID, ID1);
+            contentValues.put(MediaColumns.RELATIVE_PATH, "");
+            contentValues.put(MediaColumns.BUCKET_DISPLAY_NAME, FOLDER_NAME1);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            contentValues.put(MediaColumns.BUCKET_ID, ID2);
+            contentValues.put(MediaColumns.RELATIVE_PATH, "");
+            contentValues.put(MediaColumns.BUCKET_DISPLAY_NAME, FOLDER_NAME1);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS, null, -1,
+                    null)) {
+                assertWithMessage(
+                        "Unexpected number of media sets on querying TABLE_FILES for "
+                                + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+
+                // Downloads will always be the first media set given that it is present
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        ALBUM_ID_DOWNLOADS, DATE_TAKEN_MS4, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID2), DATE_TAKEN_MS2, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID1), DATE_TAKEN_MS1, 1);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_mediaSetForCategoryTypeAppFolders() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Media with same package name should be clubbed into one media set
+            // Media set ordering should depend on the date taken
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns.RELATIVE_PATH, ExternalDbFacade.RELATIVE_PATH_CAMERA);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS3);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME2);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS, null, -1, null)) {
+                assertWithMessage(
+                        "Unexpected number of media sets on querying TABLE_FILES for "
+                                + "MEDIA_CATEGORY_TYPE_APP_FOLDERS.")
+                        .that(cursor.getCount())
+                        .isEqualTo(2);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME2, DATE_TAKEN_MS3, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME1, DATE_TAKEN_MS2, 2);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_mimeTypesNotMatch() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+            contentValues.put(MediaColumns.BUCKET_ID, ID1);
+            contentValues.put(MediaColumns.RELATIVE_PATH, "");
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS, null, -1,
+                    null)) {
+                assertWithMessage(
+                        "Unexpected number of media sets on querying TABLE_FILES for "
+                                + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS.")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS, null, -1, null)) {
+                assertWithMessage(
+                        "Unexpected number of media sets on querying TABLE_FILES for "
+                                + "MEDIA_CATEGORY_TYPE_APP_FOLDERS.")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    VIDEO_MIME_TYPES_QUERY, -1,
+                    null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS with video mime type")
+                        .that(cursor.getCount())
+                        .isEqualTo(0);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                    VIDEO_MIME_TYPES_QUERY, -1,
+                    null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS with video mime type")
+                        .that(cursor.getCount())
+                        .isEqualTo(0);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_dateTakenPresentForDeviceFolders_returnsCorrectSortOrder() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Insert 5 images with non-null date_taken and non_null bucket_id (device folders)
+            // One of the image has is_download = 1
+            initMediaSetsWithDateTaken(helper);
+
+            // Verify that media returned in descending order of date_taken, _id
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    /* mimeType */ null, /* pageSize*/ 3, /* pageToken*/ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS with pageSize 2")
+                        .that(cursor.getCount()).isEqualTo(3);
+
+                // Downloads media set always comes on top
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        ALBUM_ID_DOWNLOADS, DATE_TAKEN_MS4, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID5), DATE_TAKEN_MS5, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID4), DATE_TAKEN_MS4, 1);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    /* mimeType */ null, /* pageSize*/ 3,
+                    /* pageToken*/ DATE_TAKEN_MS4 + "|" + ID4)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS with pageSize 2 and "
+                        + "pageToken 'DATE_TAKEN_MS4|ID4'")
+                        .that(cursor.getCount()).isEqualTo(3);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID3), DATE_TAKEN_MS3, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID2), DATE_TAKEN_MS2, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID1), DATE_TAKEN_MS1, 1);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_dateTakenPresentForAppFolders_returnsCorrectSortOrder() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Insert 5 images with non-null date_taken and non_null owner_package_name(app folders)
+            // One of the image has is_download = 1
+            initMediaSetsWithDateTaken(helper);
+
+            // Verify that media returned in descending order of date_taken, _id
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                    /* mimeType */ null, /* pageSize*/ 2, /* pageToken*/ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS with pageSize 2")
+                        .that(cursor.getCount()).isEqualTo(2);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME5, DATE_TAKEN_MS5, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME3, DATE_TAKEN_MS3, 1);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                    /* mimeType */ null, /* pageSize*/ 3,
+                    /* pageToken*/ DATE_TAKEN_MS3 + "|" + ID3)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS with pageSize 2 and "
+                        + "pageToken 'DATE_TAKEN_MS4|ID4'")
+                        .that(cursor.getCount()).isEqualTo(2);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME2, DATE_TAKEN_MS2, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME1, DATE_TAKEN_MS1, 1);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_dateTakenMissingForDeviceFolders_returnsCorrectSortOrder() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Insert 5 images, 2 with non-null date_taken and 3 with null date_taken
+            // First 2 images belong to same media set with bucket_id = 1
+            initMediaSetsWithMissingDateTaken(helper);
+
+            // Verify that media sets returned in descending order of date_taken, _id
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS, /* mimeType */
+                    null,
+                    /* pageSize*/ 2, /* pageToken*/ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS with pageSize 2 and "
+                        + "pageToken NULL")
+                        .that(cursor.getCount()).isEqualTo(2);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID5), DATE_MODIFIED_MS3 * 1000, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID4), DATE_MODIFIED_MS2 * 1000, 1);
+            }
+
+            String pageToken = DATE_MODIFIED_MS2 * 1000 + "|" + ID4;
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS, /* mimeType */
+                    null,
+                    /* pageSize*/ 2, /* pageToken*/ pageToken)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS with pageSize 2 and "
+                        + "pageToken " + pageToken)
+                        .that(cursor.getCount()).isEqualTo(2);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID3), DATE_MODIFIED_MS1 * 1000, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID1), DATE_TAKEN_MS2, 2);
+            }
+
+            pageToken = DATE_TAKEN_MS2 + "|" + ID2;
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS, /* mimeType */
+                    null,
+                    /* pageSize*/ 2, /* pageToken*/ pageToken)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS with pageSize 2 and "
+                        + "pageToken " + pageToken)
+                        .that(cursor.getCount()).isEqualTo(0);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_dateTakenMissingForAppFolders_returnsCorrectSortOrder() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Insert 5 images, 2 with non-null date_taken and 3 with null date_taken
+            // First 2 images belong to same media set with owner_package_name = PACKAGE_NAME1
+            initMediaSetsWithMissingDateTaken(helper);
+
+            // Verify that media sets returned in descending order of date_taken, _id
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS, /* mimeType */ null,
+                    /* pageSize*/ 2, /* pageToken*/ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS with pageSize 2 and "
+                        + "pageToken NULL")
+                        .that(cursor.getCount()).isEqualTo(2);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME5, DATE_MODIFIED_MS3 * 1000, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME4, DATE_MODIFIED_MS2 * 1000, 1);
+            }
+
+            String pageToken = DATE_MODIFIED_MS2 * 1000 + "|" + ID4;
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS, /* mimeType */ null,
+                    /* pageSize*/ 2, /* pageToken*/ pageToken)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS with pageSize 2 and "
+                        + "pageToken " + pageToken)
+                        .that(cursor.getCount()).isEqualTo(2);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME3, DATE_MODIFIED_MS1 * 1000, 1);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME1, DATE_TAKEN_MS2, 2);
+            }
+
+            pageToken = DATE_TAKEN_MS2 + "|" + ID2;
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS, /* mimeType */ null,
+                    /* pageSize*/ 2, /* pageToken*/ pageToken)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS with pageSize 2 and "
+                        + "pageToken " + pageToken)
+                        .that(cursor.getCount()).isEqualTo(0);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_downloadsIncludesMediaInDownloadDirectory() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Downloaded media, irrespective of the relative_path
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns.IS_DOWNLOAD, 1);
+            contentValues.put(MediaColumns._ID, ID1);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media present in "Download/" but is not downloaded
+            contentValues.put(MediaColumns.IS_DOWNLOAD, 0);
+            contentValues.put(MediaColumns.RELATIVE_PATH, ExternalDbFacade.RELATIVE_PATH_DOWNLOAD);
+            contentValues.put(MediaColumns._ID, ID2);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media present in a sub-folder of "Download/"
+            contentValues.put(MediaColumns.IS_DOWNLOAD, 0);
+            contentValues.put(MediaColumns._ID, ID3);
+            contentValues.put(MediaColumns.RELATIVE_PATH, String.format(
+                    Locale.ROOT,
+                    "%s%s/",
+                    ExternalDbFacade.RELATIVE_PATH_DOWNLOAD,
+                    FOLDER_NAME1));
+            contentValues.put(MediaColumns.BUCKET_ID, ID1);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    /* mimeType */ null, /* pageSize */ -1, /* pageToken */ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS")
+                        .that(cursor.getCount())
+                        .isEqualTo(2);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        ALBUM_ID_DOWNLOADS, DATE_TAKEN_MS1, 2);
+
+                cursor.moveToNext();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID1), DATE_TAKEN_MS1, 1);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_downloadMediaSet_coverIdIsIdOfLatestMedia() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Media with date_taken as DATE_TAKEN_MS1 and _id as ID1
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns.IS_DOWNLOAD, 1);
+            contentValues.put(MediaColumns._ID, ID1);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media with date_modified as DATE_TAKEN_MS2 and _id as ID2
+            contentValues.put(MediaColumns.IS_DOWNLOAD, 0);
+            contentValues.put(MediaColumns._ID, ID2);
+            contentValues.put(MediaColumns.RELATIVE_PATH, ExternalDbFacade.RELATIVE_PATH_DOWNLOAD);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media with date_taken as DATE_TAKEN_MS2 and _id as ID3
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            contentValues.put(MediaColumns._ID, ID3);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    /* mimeType */ null, /* pageSize */ -1, /* pageToken */ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        ALBUM_ID_DOWNLOADS, DATE_TAKEN_MS1, 3);
+                assertWithMessage("Unexpected cover id for the media set")
+                        .that(getCursorString(
+                                cursor,
+                                CloudMediaProviderContract.MediaSetColumns.MEDIA_COVER_ID))
+                        .isEqualTo(String.valueOf(ID3));
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_nonDownloadMediaSet_coverIdIsIdOfLatestMedia() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Media with date_taken as DATE_TAKEN_MS1 and _id as ID1
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns._ID, ID1);
+            contentValues.put(MediaColumns.BUCKET_ID, ID4);
+            contentValues.put(MediaColumns.RELATIVE_PATH, "");
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media with date_modified as DATE_TAKEN_MS2 and _id as ID2
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            contentValues.put(MediaColumns._ID, ID2);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media with date_taken as DATE_TAKEN_MS2 and _id as ID3
+            contentValues.put(MediaColumns._ID, ID3);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                    /* mimeType */ null, /* pageSize */ -1, /* pageToken */ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                        String.valueOf(ID4), DATE_TAKEN_MS2, 3);
+                assertWithMessage("Unexpected cover id for the media set")
+                        .that(getCursorString(
+                                cursor,
+                                CloudMediaProviderContract.MediaSetColumns.MEDIA_COVER_ID))
+                        .isEqualTo(String.valueOf(ID3));
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_appMediaSet_coverIdIsIdOfLatestMedia() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Media with date_taken as DATE_TAKEN_MS1 and _id as ID1
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns._ID, ID1);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media with date_modified as DATE_TAKEN_MS2 and _id as ID2
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            contentValues.put(MediaColumns._ID, ID2);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media with date_taken as DATE_TAKEN_MS2 and _id as ID3
+            contentValues.put(MediaColumns._ID, ID3);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                    /* mimeType */ null, /* pageSize */ -1, /* pageToken */ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME1, DATE_TAKEN_MS2, 3);
+                assertWithMessage("Unexpected cover id for the media set")
+                        .that(getCursorString(
+                                cursor,
+                                CloudMediaProviderContract.MediaSetColumns.MEDIA_COVER_ID))
+                        .isEqualTo(String.valueOf(ID3));
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaInMediaSet() throws Exception {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            initMediaCategories(helper);
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for all media")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+            }
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(
+                            CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                            ALBUM_ID_DOWNLOADS),
+                    /* mimeType */ null, /* pageSize*/ 10, /* pageToken*/ null,
+                    /* sortOrder */ 1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for "
+                                + "downloads media set")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+                //PAGE_TOKEN will also be set since pageSize is not -1.
+                assertCursorExtrasForMediaInMediaSet(
+                        cursor,
+                        EXTRA_PAGE_SIZE,
+                        EXTRA_PAGE_TOKEN,
+                        EXTRA_SORT_ORDER);
+
+                cursor.moveToFirst();
+                assertMediaColumns(facade, cursor, ID1, DATE_TAKEN_MS1);
+            }
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(
+                            CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                            /* bucket id */ String.valueOf(ID4)),
+                    new String[]{IMAGE_MIME_TYPE}, /* pageSize*/ 20, /* pageToken*/ null,
+                    /* sortOrder */ 1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for "
+                                + "device folder media set")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+                // PAGE_TOKEN will also be set since pageSize is not -1.
+                assertCursorExtrasForMediaInMediaSet(
+                        cursor,
+                        EXTRA_PAGE_SIZE,
+                        EXTRA_PAGE_TOKEN,
+                        EXTRA_SORT_ORDER,
+                        Intent.EXTRA_MIME_TYPES);
+
+                cursor.moveToFirst();
+                assertMediaColumns(facade, cursor, ID2, DATE_TAKEN_MS2);
+            }
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(
+                            CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                            PACKAGE_NAME1),
+                    /* mimeType */ null, /* pageSize*/ -1, /* pageToken*/ null,
+                    /* sortOrder */ -1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for "
+                                + "app folder media set")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+                assertCursorExtrasForMediaInMediaSet(cursor);
+
+                cursor.moveToFirst();
+                assertMediaColumns(facade, cursor, ID3, DATE_TAKEN_MS3);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaInMediaSet_withMimeType_returnsFilteredMedia() throws Exception {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Insert image
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns.RELATIVE_PATH, "");
+            contentValues.put(MediaColumns.BUCKET_ID, FOLDER_NAME1);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+            helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for all media")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+
+                cursor.moveToFirst();
+                assertMediaColumns(facade, cursor, ID1, DATE_TAKEN_MS1);
+            }
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                            FOLDER_NAME1),
+                    VIDEO_MIME_TYPES_QUERY,
+                    /* pageSize*/ -1,
+                    /* pageToken*/ null,
+                    /* sortOrder */ -1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "FOLDER1 media set with VIDEO mime type")
+                        .that(cursor.getCount())
+                        .isEqualTo(0);
+            }
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                            FOLDER_NAME1),
+                    IMAGE_MIME_TYPES_QUERY,
+                    /* pageSize*/ -1,
+                    /* pageToken*/ null,
+                    /* sortOrder */ -1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "FOLDER1 media set with IMAGE mime type")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+            }
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                            PACKAGE_NAME1),
+                    VIDEO_MIME_TYPES_QUERY,
+                    /* pageSize*/ -1,
+                    /* pageToken*/ null,
+                    /* sortOrder */ -1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "PACKAGE1 media set with VIDEO mime type")
+                        .that(cursor.getCount())
+                        .isEqualTo(0);
+            }
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                            PACKAGE_NAME1),
+                    IMAGE_MIME_TYPES_QUERY,
+                    /* pageSize*/ -1,
+                    /* pageToken*/ null,
+                    /* sortOrder */ -1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "PACKAGE1 media set with IMAGE mime type")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+
+                cursor.moveToFirst();
+                assertMediaColumns(facade, cursor, ID1, DATE_TAKEN_MS1);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaInMediaSet_deviceFolder_orderIsByLatestDateTakenThenLatestId() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            initMultipleMediaInOneMediaSet(helper);
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS,
+                            FOLDER_NAME1),
+                    /* mimeTypes */ null,
+                    /* pageSize*/ -1,
+                    /* pageToken*/ null,
+                    /* sortOrder */ -1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "FOLDER1 media set.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+
+                cursor.moveToFirst();
+                assertWithMessage("Unexpected media id found, implying incorrect order")
+                        .that(getCursorString(cursor, CloudMediaProviderContract.MediaColumns.ID))
+                        .isEqualTo(String.valueOf(ID1));
+
+                cursor.moveToNext();
+                assertWithMessage("Unexpected media id found, implying incorrect order")
+                        .that(getCursorString(cursor, CloudMediaProviderContract.MediaColumns.ID))
+                        .isEqualTo(String.valueOf(ID3));
+
+                cursor.moveToNext();
+                assertWithMessage("Unexpected media id found, implying incorrect order")
+                        .that(getCursorString(cursor, CloudMediaProviderContract.MediaColumns.ID))
+                        .isEqualTo(String.valueOf(ID2));
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaInMediaSet_appFolder_orderIsByLatestDateTakenThenLatestId() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            initMultipleMediaInOneMediaSet(helper);
+
+            try (Cursor cursor = facade.queryMediaInMediaSet(
+                    initMediaSetId(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                            PACKAGE_NAME1),
+                    /* mimeTypes */ null,
+                    /* pageSize*/ -1,
+                    /* pageToken*/ null,
+                    /* sortOrder */ -1)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLES_FILES for media from "
+                                + "FOLDER1 media set.")
+                        .that(cursor.getCount())
+                        .isEqualTo(3);
+
+                cursor.moveToFirst();
+                assertWithMessage("Unexpected media id found, implying incorrect order")
+                        .that(getCursorString(cursor, CloudMediaProviderContract.MediaColumns.ID))
+                        .isEqualTo(String.valueOf(ID1));
+
+                cursor.moveToNext();
+                assertWithMessage("Unexpected media id found, implying incorrect order")
+                        .that(getCursorString(cursor, CloudMediaProviderContract.MediaColumns.ID))
+                        .isEqualTo(String.valueOf(ID3));
+
+                cursor.moveToNext();
+                assertWithMessage("Unexpected media id found, implying incorrect order")
+                        .that(getCursorString(cursor, CloudMediaProviderContract.MediaColumns.ID))
+                        .isEqualTo(String.valueOf(ID2));
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_appMediaSet_nonLaunchableAppsAreSkipped() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Media owned by launchable app
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns._ID, ID1);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media owned by non-launchable app
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            contentValues.put(MediaColumns._ID, ID2);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, SYSTEM_PACKAGE);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(2);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                    /* mimeType */ null, /* pageSize */ -1, /* pageToken */ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS")
+                        .that(cursor.getCount())
+                        .isEqualTo(1);
+
+                cursor.moveToFirst();
+                assertMediaSetColumns(cursor,
+                        CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                        PACKAGE_NAME1, DATE_TAKEN_MS1, 1);
+            }
+        }
+    }
+
+    @Test
+    public void testQueryMediaSets_appMediaSetWithNoLaunchableApp_returnsEmptyCursor() {
+        try (DatabaseHelper helper = new TestDatabaseHelper(sIsolatedContext)) {
+            ExternalDbFacade facade = new ExternalDbFacade(sIsolatedContext, helper,
+                    mock(VolumeCache.class));
+
+            // Media owned by non-launchable app
+            ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+            contentValues.put(MediaColumns._ID, ID1);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, SYSTEM_PACKAGE);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            // Media owned by non-launchable app
+            contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+            contentValues.put(MediaColumns._ID, ID2);
+            contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, SYSTEM_PACKAGE);
+            helper.runWithTransaction(db ->
+                    db.insert(TABLE_FILES, null, contentValues));
+
+            try (Cursor cursor = queryAllMedia(facade)) {
+                assertWithMessage(
+                        "Unexpected number of rows on querying TABLE_FILES for all media.")
+                        .that(cursor.getCount())
+                        .isEqualTo(2);
+            }
+
+            try (Cursor cursor = facade.queryMediaSets(
+                    CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS,
+                    /* mimeType */ null, /* pageSize */ -1, /* pageToken */ null)) {
+                assertWithMessage("Unexpected number of media sets on querying TABLE_FILES for "
+                        + "MEDIA_CATEGORY_TYPE_APP_FOLDERS")
+                        .that(cursor.getCount())
+                        .isEqualTo(0);
+            }
+        }
+    }
+
+    private void assertMediaSetColumns(
+            Cursor cursor,
+            String categoryType,
+            String id,
+            long dateTakenMs,
+            long mediaCount) {
+        int idIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaSetColumns.ID);
+        int mediaCountIndex = cursor.getColumnIndex(
+                CloudMediaProviderContract.MediaSetColumns.MEDIA_COUNT);
+        int dateTakenIndex = cursor.getColumnIndex(
+                CloudMediaProviderContract.MediaColumns.DATE_TAKEN_MILLIS);
+        String mediaSetId = id;
+        if (!categoryType.isEmpty()) {
+            mediaSetId = initMediaSetId(categoryType, id);
+        }
+        assertWithMessage("Incorrect id found for the media set.")
+                .that(cursor.getString(idIndex))
+                .isEqualTo(mediaSetId);
+        assertWithMessage("Incorrect media count found for the media set.")
+                .that(cursor.getLong(mediaCountIndex))
+                .isEqualTo(mediaCount);
+        // Downloads does not have the date_taken_millis field, hence return early
+        if (ALBUM_ID_DOWNLOADS.equals(id)) {
+            return;
+        }
+        assertWithMessage("Incorrect date taken found, implying incorrect order of media sets.")
+                .that(cursor.getLong(dateTakenIndex))
+                .isEqualTo(dateTakenMs);
+    }
+
+    private static void initMediaInAllAlbums(DatabaseHelper helper) {
+        // Insert in camera album
+        ContentValues cv1 = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+        cv1.put(MediaColumns.RELATIVE_PATH, ExternalDbFacade.RELATIVE_PATH_CAMERA);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv1));
+
+        // Insert in screenshots album
+        ContentValues cv2 = getContentValues(DATE_TAKEN_MS2, GENERATION_MODIFIED2);
+        cv2.put(
+                MediaColumns.RELATIVE_PATH,
+                Environment.DIRECTORY_PICTURES + "/" + Environment.DIRECTORY_SCREENSHOTS + "/");
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv2));
+
+        // Insert in download album
+        ContentValues cv3 = getContentValues(DATE_TAKEN_MS3, GENERATION_MODIFIED3);
+        cv3.put(MediaColumns.IS_DOWNLOAD, 1);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, cv3));
+    }
+
+    private static void initMediaCategories(DatabaseHelper helper) {
+        // Insert a downloaded media
+        ContentValues contentValues1 = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+        contentValues1.put(MediaColumns._ID, ID1);
+        contentValues1.put(MediaColumns.IS_DOWNLOAD, 1);
+        contentValues1.put(MediaColumns.RELATIVE_PATH, "");
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues1));
+
+        // Insert a user created media
+        ContentValues contentValues2 = getContentValues(DATE_TAKEN_MS2, GENERATION_MODIFIED2);
+        contentValues2.put(MediaColumns._ID, ID2);
+        contentValues2.put(MediaColumns.BUCKET_ID, ID4);
+        contentValues2.put(MediaColumns.RELATIVE_PATH, "");
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues2));
+
+        // Insert an app created media
+        ContentValues contentValues3 = getContentValues(DATE_TAKEN_MS3, GENERATION_MODIFIED3);
+        contentValues3.put(MediaColumns._ID, ID3);
+        // use self package name, as it is guaranteed to be present
+        contentValues3.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+        contentValues3.put(MediaColumns.RELATIVE_PATH, "");
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues3));
+    }
+
+    private boolean isEnglishLocale() {
+        return Locale.getDefault().getLanguage().equals(Locale.ENGLISH.getLanguage());
+    }
+
+    private static void initMediaSetsWithDateTaken(DatabaseHelper helper) {
+        // Insert 5 images with non-null date_taken, non-null bucket_id (device folders) and
+        // non-null owner_package_name(app folders)
+        ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+        contentValues.put(MediaColumns.RELATIVE_PATH, "");
+        contentValues.put(MediaColumns.BUCKET_ID, ID1);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+        contentValues.put(MediaColumns.BUCKET_ID, ID2);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME2);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS3);
+        contentValues.put(MediaColumns.BUCKET_ID, ID3);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME3);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS4);
+        contentValues.put(MediaColumns.BUCKET_ID, ID4);
+        contentValues.put(MediaColumns.IS_DOWNLOAD, 1);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME4);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.remove(IS_DOWNLOAD);
+
+        contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS5);
+        contentValues.put(MediaColumns.BUCKET_ID, ID5);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME5);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+    }
+
+    private static void initMediaSetsWithMissingDateTaken(DatabaseHelper helper) {
+        // Insert 5 images, 2 with non-null date_taken and 3 with null date_taken
+        // First 2 images belong to same media set
+        // in both device folders category type and app folders category type
+        ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+        contentValues.put(MediaColumns.RELATIVE_PATH, "");
+        contentValues.put(MediaColumns.BUCKET_ID, ID1);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS2);
+        contentValues.put(MediaColumns.BUCKET_ID, ID1);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.remove(DATE_TAKEN);
+
+        contentValues.put(MediaColumns.DATE_MODIFIED, DATE_MODIFIED_MS1);
+        contentValues.put(MediaColumns.BUCKET_ID, ID3);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME3);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.put(MediaColumns.DATE_MODIFIED, DATE_MODIFIED_MS2);
+        contentValues.put(MediaColumns.BUCKET_ID, ID4);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME4);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.put(MediaColumns.DATE_MODIFIED, DATE_MODIFIED_MS3);
+        contentValues.put(MediaColumns.BUCKET_ID, ID5);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME5);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+    }
+
+    private String initMediaSetId(String mediaCategoryType, String id2) {
+        return mediaCategoryType + ":" + id2;
+    }
+
+    private ApplicationInfo createFakeAppInfo(String packageName, String appLabel, int resId) {
+        ApplicationInfo applicationInfo = new ApplicationInfo();
+        applicationInfo.packageName = packageName;
+        applicationInfo.nonLocalizedLabel = appLabel;
+        applicationInfo.icon = resId;
+        return applicationInfo;
+    }
+
+    private static void initMultipleMediaInOneMediaSet(DatabaseHelper helper) {
+        // All the media belong to same device and app media set
+        ContentValues contentValues = getContentValues(DATE_TAKEN_MS1, GENERATION_MODIFIED1);
+        contentValues.put(MediaColumns.RELATIVE_PATH, "");
+        contentValues.put(MediaColumns.BUCKET_ID, FOLDER_NAME1);
+        contentValues.put(MediaColumns.OWNER_PACKAGE_NAME, PACKAGE_NAME1);
+
+        // Media item with _id = ID2 and date_taken = DATE_TAKEN_MS1
+        contentValues.put(MediaColumns._ID, ID2);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        // Media item with _id = ID3 and date_taken = DATE_TAKEN_MS1
+        contentValues.put(MediaColumns._ID, ID3);
+        contentValues.put(MediaColumns.DATE_TAKEN, DATE_TAKEN_MS1);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+
+        contentValues.remove(DATE_TAKEN);
+
+        // Media item with _id = ID1 and date_modified = DATE_MODIFIED_MS1
+        contentValues.put(MediaColumns._ID, ID1);
+        contentValues.put(MediaColumns.DATE_MODIFIED, DATE_MODIFIED_MS1);
+        helper.runWithTransaction(db -> db.insert(TABLE_FILES, null, contentValues));
+    }
+
+    private static void assertDeletedMediaEmpty(ExternalDbFacade facade) {
+        try (Cursor cursor = facade.queryDeletedMedia(/* generation */ 0)) {
+            assertWithMessage(
+                    "Number of rows in the deleted_media table is")
+                    .that(cursor.getCount()).isEqualTo(0);
+        }
+    }
+
+    private static void assertDeletedMedia(ExternalDbFacade facade, long id) {
+        try (Cursor cursor = facade.queryDeletedMedia(/* generation */ 0)) {
+            assertWithMessage("Number of rows in the deleted_media table is")
+                    .that(cursor.getCount())
+                    .isEqualTo(1);
+
+            cursor.moveToFirst();
+            assertWithMessage("Row id for the deleted media is")
+                    .that(cursor.getLong(0))
+                    .isEqualTo(id);
+            assertWithMessage("Name of the column at index 0 is")
+                    .that(cursor.getColumnName(0))
+                    .isEqualTo(CloudMediaProviderContract.MediaColumns.ID);
+        }
+    }
+
+    private static void assertMediaColumns(ExternalDbFacade facade, Cursor cursor, long id,
+            long dateTakenMs) {
+        assertMediaColumns(facade, cursor, id, dateTakenMs, IS_FAVORITE);
+    }
+
+    private static void assertMediaColumns(ExternalDbFacade facade, Cursor cursor, long id,
+            long dateTakenMs, int isFavorite) {
+        assertMediaColumns(facade, cursor, id, dateTakenMs, isFavorite, IMAGE_MIME_TYPE);
+    }
+
+    private static void assertMediaColumns(ExternalDbFacade facade, Cursor cursor, long id,
+            long dateTakenMs, int isFavorite, String mimeType) {
+        int idIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaColumns.ID);
+        int dateTakenIndex = cursor.getColumnIndex(
+                CloudMediaProviderContract.MediaColumns.DATE_TAKEN_MILLIS);
+        int sizeIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaColumns.SIZE_BYTES);
+        int mimeTypeIndex = cursor.getColumnIndex(
+                CloudMediaProviderContract.MediaColumns.MIME_TYPE);
+        int durationIndex = cursor.getColumnIndex(
+                CloudMediaProviderContract.MediaColumns.DURATION_MILLIS);
+        int isFavoriteIndex = cursor.getColumnIndex(
+                CloudMediaProviderContract.MediaColumns.IS_FAVORITE);
+        int heightIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaColumns.HEIGHT);
+        int widthIndex = cursor.getColumnIndex(CloudMediaProviderContract.MediaColumns.WIDTH);
+        int orientationIndex = cursor.getColumnIndex(
+                CloudMediaProviderContract.MediaColumns.ORIENTATION);
+
+        assertWithMessage("Incorrect MediaColumns.ID in cursor.")
+                .that(cursor.getLong(idIndex))
+                .isEqualTo(id);
+        assertWithMessage("Incorrect MediaColumns.DATE_TAKEN_MILLIS in cursor.")
+                .that(cursor.getLong(dateTakenIndex))
+                .isEqualTo(dateTakenMs);
+        assertWithMessage("Incorrect MediaColumns.SIZE_BYTES in cursor")
+                .that(cursor.getLong(sizeIndex))
+                .isEqualTo(SIZE);
+        assertWithMessage("Incorrect MediaColumns.MIME_TYPE in cursor.")
+                .that(cursor.getString(mimeTypeIndex))
+                .isEqualTo(mimeType);
+        assertWithMessage("Incorrect MediaColumns.DURATION_MILLIS in cursor.")
+                .that(cursor.getLong(durationIndex))
+                .isEqualTo(DURATION_MS);
+        assertWithMessage("Incorrect MediaColumns.IS_FAVORITE in cursor.")
+                .that(cursor.getInt(isFavoriteIndex))
+                .isEqualTo(isFavorite);
+        assertWithMessage("Incorrect MediaColumns.HEIGHT in cursor.")
+                .that(cursor.getInt(heightIndex))
+                .isEqualTo(HEIGHT);
+        assertWithMessage("Incorrect MediaColumns.WIDTH in cursor.")
+                .that(cursor.getInt(widthIndex))
+                .isEqualTo(WIDTH);
+        assertWithMessage("Incorrect MediaColumns.ORIENTATION in cursor.")
+                .that(cursor.getInt(orientationIndex))
+                .isEqualTo(ORIENTATION);
+    }
+
+    private static void assertCursorExtras(Cursor cursor, String... honoredArg) {
+        final Bundle bundle = cursor.getExtras();
+
+        assertWithMessage("Cursor extras is")
+                .that(bundle.getString(EXTRA_MEDIA_COLLECTION_ID))
+                .isEqualTo(MediaStore.getVersion(sIsolatedContext));
+        if (honoredArg != null) {
+            assertWithMessage("Honored args are")
+                    .that(bundle.getStringArrayList(EXTRA_HONORED_ARGS))
+                    .containsExactlyElementsIn(Arrays.asList(honoredArg));
+        }
+    }
+
+    private static void assertCursorExtrasForMediaInMediaSet(Cursor cursor, String... honoredArg) {
+        final Bundle bundle = cursor.getExtras();
 
-        assertWithMessage("Cursor extras is")
-                .that(bundle.getString(EXTRA_MEDIA_COLLECTION_ID))
-                .isEqualTo(MediaStore.getVersion(sIsolatedContext));
         if (honoredArg != null) {
             assertWithMessage("Honored args are")
                     .that(bundle.getStringArrayList(EXTRA_HONORED_ARGS))
@@ -1306,7 +2822,7 @@ public class ExternalDbFacadeTest {
 
     private static Cursor queryAllMedia(ExternalDbFacade facade) {
         return facade.queryMedia(/* generation */ -1, /* albumId */ null,
-                /* mimeType */ null, /* pageSize*/ -1, /* pageToken*/ null);
+                /* mimeType */ null, /* pageSize*/ -1, /* pageToken*/ null, /* sortOrder */ -1);
     }
 
     private static ContentValues getContentValues(long dateTakenMs, long generation) {
diff --git a/tests/src/com/android/providers/media/photopicker/espresso/AlbumsTabTest.java b/tests/src/com/android/providers/media/photopicker/espresso/AlbumsTabTest.java
index 303dc0fd8..9a8e7a63a 100644
--- a/tests/src/com/android/providers/media/photopicker/espresso/AlbumsTabTest.java
+++ b/tests/src/com/android/providers/media/photopicker/espresso/AlbumsTabTest.java
@@ -35,6 +35,8 @@ import static com.android.providers.media.photopicker.espresso.RecyclerViewTestU
 import static org.hamcrest.Matchers.allOf;
 
 import android.os.Build;
+import android.platform.test.annotations.DisableFlags;
+import android.platform.test.flag.junit.SetFlagsRule;
 
 import androidx.test.InstrumentationRegistry;
 import androidx.test.ext.junit.rules.ActivityScenarioRule;
@@ -42,6 +44,7 @@ import androidx.test.filters.SdkSuppress;
 import androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner;
 
 import com.android.providers.media.R;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.library.RunOnlyOnPostsubmit;
 import com.android.providers.media.photopicker.metrics.PhotoPickerUiEventLogger.PhotoPickerEvent;
 
@@ -59,8 +62,12 @@ public class AlbumsTabTest extends PhotoPickerBaseTest {
     @Rule
     public ActivityScenarioRule<PhotoPickerTestActivity> mRule =
             new ActivityScenarioRule<>(PhotoPickerBaseTest.getMultiSelectionIntent());
+    @Rule
+    public final SetFlagsRule mSetFlagsRule = new SetFlagsRule();
+
 
     @Test
+    @DisableFlags(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
     public void testAlbumGrid() {
         // Goto Albums page
         onView(allOf(withText(PICKER_ALBUMS_STRING_ID), isDescendantOfA(withId(TAB_LAYOUT_ID))))
diff --git a/tests/src/com/android/providers/media/photopicker/espresso/MimeTypeFilterTest.java b/tests/src/com/android/providers/media/photopicker/espresso/MimeTypeFilterTest.java
index 97317bdd4..0ab08b8c0 100644
--- a/tests/src/com/android/providers/media/photopicker/espresso/MimeTypeFilterTest.java
+++ b/tests/src/com/android/providers/media/photopicker/espresso/MimeTypeFilterTest.java
@@ -30,16 +30,20 @@ import static androidx.test.espresso.matcher.ViewMatchers.withText;
 import static org.hamcrest.Matchers.allOf;
 
 import android.os.Build;
+import android.platform.test.annotations.DisableFlags;
+import android.platform.test.flag.junit.SetFlagsRule;
 
 import androidx.test.core.app.ActivityScenario;
 import androidx.test.filters.SdkSuppress;
 import androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner;
 
 import com.android.providers.media.R;
+import com.android.providers.media.flags.Flags;
 import com.android.providers.media.library.RunOnlyOnPostsubmit;
 
 import org.junit.After;
 import org.junit.Before;
+import org.junit.Rule;
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
@@ -52,6 +56,9 @@ public class MimeTypeFilterTest extends PhotoPickerBaseTest {
     private static final String VIDEO_MIME_TYPE = "video/*";
     public ActivityScenario<PhotoPickerTestActivity> mScenario;
 
+    @Rule
+    public final SetFlagsRule mSetFlagsRule = new SetFlagsRule();
+
     @Before
     public void launchActivity() {
         mScenario =
@@ -80,6 +87,7 @@ public class MimeTypeFilterTest extends PhotoPickerBaseTest {
     }
 
     @Test
+    @DisableFlags(Flags.FLAG_ENABLE_LOCAL_MEDIA_PROVIDER_CAPABILITIES)
     public void testAlbumsTabNoVideosAlbum() {
         onView(withId(PICKER_TAB_RECYCLERVIEW_ID)).check(matches(isDisplayed()));
 
diff --git a/tests/src/com/android/providers/media/photopicker/util/PickerDbTestUtils.java b/tests/src/com/android/providers/media/photopicker/util/PickerDbTestUtils.java
index 1f6c0d428..a25649d21 100644
--- a/tests/src/com/android/providers/media/photopicker/util/PickerDbTestUtils.java
+++ b/tests/src/com/android/providers/media/photopicker/util/PickerDbTestUtils.java
@@ -22,6 +22,7 @@ import static com.android.providers.media.util.MimeUtils.getExtensionFromMimeTyp
 
 import static com.google.common.truth.Truth.assertWithMessage;
 
+import android.content.ContentResolver;
 import android.database.Cursor;
 import android.database.MatrixCursor;
 import android.os.UserHandle;
@@ -32,9 +33,14 @@ import com.android.providers.media.MediaGrants;
 import com.android.providers.media.PickerUriResolver;
 import com.android.providers.media.photopicker.data.PickerDbFacade;
 
+import java.util.Locale;
+
 public class PickerDbTestUtils {
     public static final long SIZE_BYTES = 7000;
     public static final long DATE_TAKEN_MS = 1623852851911L;
+    public static final long DATE_TAKEN_MS_1 = 1646352000000L; // 4th March 2022
+    public static final long DATE_TAKEN_MS_2 = 1646870400000L; // 10th March 2022
+    public static final long DATE_TAKEN_MS_3 = 1686441600000L; // 11 June 2023
     public static final long GENERATION_MODIFIED = 1L;
     public static final long DURATION_MS = 5;
     public static final int HEIGHT = 720;
@@ -69,6 +75,12 @@ public class PickerDbTestUtils {
     public static final String LOCAL_PROVIDER = "com.local.provider";
     public static final String CLOUD_PROVIDER = "com.cloud.provider";
 
+    public static final String PACKAGE_NAME1 = "com.example.app1";
+    public static final String PACKAGE_NAME2 = "com.example.app2";
+    public static final int RES_ID1 = 1234;
+    public static final int RES_ID2 = 1235;
+    public static final int USER_ID = 0;
+
     public static Cursor queryMediaAll(PickerDbFacade mFacade) {
         return mFacade.queryMediaForUi(
                 new PickerDbFacade.QueryFilterBuilder(1000).build());
@@ -335,7 +347,13 @@ public class PickerDbTestUtils {
         return c;
     }
 
-    public static Cursor getMediaCategoriesCursor(String categoryId) {
+    /**
+     * Creates a single-row mock {@link MatrixCursor} for testing a media category.
+     *
+     * @param categoryType The category type of the cursor.
+     * @return A {@link MatrixCursor} with one row representing the provided category.
+     */
+    public static Cursor getMediaCategoriesCursor(String categoryType) {
         String[] projectionKey = new String[]{
                 CloudMediaProviderContract.MediaCategoryColumns.ID,
                 CloudMediaProviderContract.MediaCategoryColumns.DISPLAY_NAME,
@@ -346,12 +364,24 @@ public class PickerDbTestUtils {
                 CloudMediaProviderContract.MediaCategoryColumns.MEDIA_COVER_ID4,
         };
 
+        String[] coverIds = new String[] {LOCAL_ID_1, LOCAL_ID_2};
+        if (CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS.equals(categoryType)) {
+            coverIds[0] = getDrawableMediaId(PACKAGE_NAME1, RES_ID1, USER_ID);
+            coverIds[1] = getDrawableMediaId(PACKAGE_NAME2, RES_ID2, USER_ID);
+        } else if (CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS.equals(
+                categoryType)
+                || CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS.equals(
+                categoryType)) {
+            coverIds[0] = CLOUD_ID_1;
+            coverIds[1] = CLOUD_ID_2;
+        }
+
         String[] projectionValue = new String[]{
-                categoryId,
+                categoryType,
                 "display_text",
-                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS,
-                CLOUD_ID_1,
-                CLOUD_ID_2,
+                categoryType,
+                coverIds[0],
+                coverIds[1],
                 /* MEDIA_COVER_ID3 */ null,
                 /* MEDIA_COVER_ID4 */ null
         };
@@ -360,6 +390,61 @@ public class PickerDbTestUtils {
         c.addRow(projectionValue);
         return c;
     }
+
+    /**
+     * Builds an Android resource URI string:
+     * {@code "android.resource://<userId>@<packageName>/<resId>"}.
+     *
+     * @param packageName The application's package name.
+     * @param resId The integer resource ID.
+     * @param userId The user ID that the resource belongs
+     * @return The resource URI string.
+     */
+    public static String getAndroidResourceUriString(String packageName, int resId, int userId) {
+        return String.format(
+                Locale.ROOT,
+                "%s://%s@%s/%s",
+                ContentResolver.SCHEME_ANDROID_RESOURCE,
+                userId,
+                packageName,
+                resId);
+    }
+
+    /**
+     * Builds a media id for a drawable resource: {@code "<packageName>/<resId>/<userId>"}.
+     *
+     * @param packageName The application's package name.
+     * @param resId The integer resource ID.
+     * @param userId The user ID that the resource belongs
+     * @return The media ID.
+     */
+    public static String getDrawableMediaId(String packageName, int resId, int userId) {
+        return String.format(
+                Locale.ROOT,
+                "%s/%s/%s",
+                packageName,
+                resId,
+                userId);
+    }
+
+    /**
+     * Builds a picker uri string: {@code "content://<userId>@<authority>/media/<mediaId>"}.
+     *
+     * @param mediaId ID of the media item.
+     * @param authority The authority of the provider.
+     * @param userId The user ID that the resource belongs
+     * @return The picker URI string.
+     */
+    public static String getPickerUriString(String mediaId, String authority, int userId) {
+        return String.format(
+                Locale.ROOT,
+                "content://%s@%s/%s/%s",
+                userId,
+                authority,
+                CloudMediaProviderContract.URI_PATH_MEDIA,
+                mediaId);
+    }
+
     public static String toMediaStoreUri(String localId) {
         if (localId == null) {
             return null;
diff --git a/tests/src/com/android/providers/media/photopicker/v2/PickerDataLayerV2Test.java b/tests/src/com/android/providers/media/photopicker/v2/PickerDataLayerV2Test.java
index d4d904648..df9a0cbb9 100644
--- a/tests/src/com/android/providers/media/photopicker/v2/PickerDataLayerV2Test.java
+++ b/tests/src/com/android/providers/media/photopicker/v2/PickerDataLayerV2Test.java
@@ -26,6 +26,9 @@ import static com.android.providers.media.photopicker.util.PickerDbTestUtils.CLO
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.CLOUD_ID_4;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.CLOUD_PROVIDER;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.DATE_TAKEN_MS;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.DATE_TAKEN_MS_1;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.DATE_TAKEN_MS_2;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.DATE_TAKEN_MS_3;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.DURATION_MS;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.GENERATION_MODIFIED;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.GIF_IMAGE_MIME_TYPE;
@@ -49,6 +52,7 @@ import static com.android.providers.media.photopicker.util.PickerDbTestUtils.ass
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.assertInsertGrantsOperation;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getAlbumCursor;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getAlbumMediaCursor;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getMediaCategoriesCursor;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getCloudMediaCursor;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getLocalMediaCursor;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getMediaCursor;
@@ -95,6 +99,7 @@ import android.provider.CloudMediaProviderContract;
 import android.provider.MediaStore;
 import android.test.mock.MockContentProvider;
 import android.test.mock.MockContentResolver;
+import android.util.Pair;
 
 import androidx.test.InstrumentationRegistry;
 import androidx.test.filters.SdkSuppress;
@@ -107,6 +112,7 @@ import androidx.work.WorkManager;
 
 import com.android.providers.media.MediaProvider;
 import com.android.providers.media.PickerUriResolver;
+import com.android.providers.media.cloudproviders.CloudProviderPrimary;
 import com.android.providers.media.cloudproviders.SearchProvider;
 import com.android.providers.media.flags.Flags;
 import com.android.providers.media.photopicker.CategoriesState;
@@ -117,6 +123,7 @@ import com.android.providers.media.photopicker.data.PickerDatabaseHelper;
 import com.android.providers.media.photopicker.data.PickerDbFacade;
 import com.android.providers.media.photopicker.data.model.UserId;
 import com.android.providers.media.photopicker.sync.PickerSyncLockManager;
+import com.android.providers.media.photopicker.util.PickerDbTestUtils;
 import com.android.providers.media.photopicker.util.exceptions.RequestObsoleteException;
 import com.android.providers.media.photopicker.v2.model.MediaGroup;
 import com.android.providers.media.photopicker.v2.model.MediaInMediaSetSyncRequestParams;
@@ -134,6 +141,8 @@ import com.google.common.util.concurrent.ListenableFuture;
 
 import libcore.junit.util.compat.CoreCompatChangeRule.EnableCompatChanges;
 
+import kotlin.Triple;
+
 import org.junit.After;
 import org.junit.Before;
 import org.junit.Ignore;
@@ -144,6 +153,9 @@ import org.junit.runner.RunWith;
 import org.mockito.Mock;
 
 import java.io.File;
+import java.time.Instant;
+import java.time.LocalDateTime;
+import java.time.ZoneOffset;
 import java.util.ArrayList;
 import java.util.Arrays;
 import java.util.HashMap;
@@ -229,6 +241,9 @@ public class PickerDataLayerV2Test {
         doReturn(mCategoriesState).when(mMockSyncController).getCategoriesState();
         doReturn(new PickerSyncLockManager()).when(mMockSyncController).getPickerSyncLockManager();
         doReturn(mMockContentResolver).when(mMockContext).getContentResolver();
+        doReturn(androidx.test.platform.app.InstrumentationRegistry.getInstrumentation()
+                    .getTargetContext().getResources())
+                .when(mMockContext).getResources();
 
         androidx.test.platform.app.InstrumentationRegistry.getInstrumentation()
                 .getUiAutomation()
@@ -467,238 +482,782 @@ public class PickerDataLayerV2Test {
     }
 
     @Test
-    public void testQueryLocalMediaSortOrder() {
-        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1,
-                GENERATION_MODIFIED, /* mediaStoreUri */ null, /* sizeBytes */ 1,
-                MP4_VIDEO_MIME_TYPE, STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
-        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS, GENERATION_MODIFIED,
-                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+    public void testItemsPerMonthQueryWithInvalidProviders() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS_1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
                 STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
-        Cursor cursor3 = getMediaCursor(LOCAL_ID_3, DATE_TAKEN_MS, GENERATION_MODIFIED,
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS_3, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(CLOUD_ID, DATE_TAKEN_MS_2, GENERATION_MODIFIED,
                 /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
                 STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
 
         assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
         assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1);
-        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor3, 1);
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor3, 1);
+
 
         doReturn(false).when(mMockSyncController).shouldQueryCloudMedia(any());
 
-        try (Cursor cr = PickerDataLayerV2.queryMedia(
-                mMockContext, getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, /* pageSize */ 3,
-                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER))))) {
+        try (Cursor cr = PickerDataLayerV2.queryItemsPerMonth(
+                mMockContext, getItemsPerMonthQueryExtras(
+                        new ArrayList<>(Arrays.asList("invalid.provider"))))) {
             assertWithMessage(
                     "Unexpected number of rows in media query result")
-                    .that(cr.getCount()).isEqualTo(3);
-
-            cr.moveToFirst();
-            // LOCAL_ID_1 has the most recent date taken.
-            assertMediaCursor(cr, LOCAL_ID_1, LOCAL_PROVIDER, DATE_TAKEN_MS + 1,
-                    MP4_VIDEO_MIME_TYPE);
-
-            cr.moveToNext();
-            // LOCAL_ID_2 and LOCAL_ID_3 have the same date taken but the Picker ID of LOCAL_ID_3
-            // should be greater.
-            assertMediaCursor(cr, LOCAL_ID_3, LOCAL_PROVIDER, DATE_TAKEN_MS, MP4_VIDEO_MIME_TYPE);
-
-            cr.moveToNext();
-            assertMediaCursor(cr, LOCAL_ID_2, LOCAL_PROVIDER, DATE_TAKEN_MS, MP4_VIDEO_MIME_TYPE);
+                    .that(cr.getCount()).isEqualTo(0);
         }
     }
 
     @Test
-    public void testQueryLocalMediaWithGrants() {
-        Cursor cursorForMediaWithoutGrants = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1,
-                GENERATION_MODIFIED, /* mediaStoreUri */ null, /* sizeBytes */ 1,
-                MP4_VIDEO_MIME_TYPE, STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
-        Cursor cursorForMediaWithGrants = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS,
-                GENERATION_MODIFIED,
+    public void testItemsPerMonthQueryWithCloudQueryDisabled() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS_1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS_3, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(CLOUD_ID, DATE_TAKEN_MS_2, GENERATION_MODIFIED,
                 /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
                 STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
 
-        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorForMediaWithoutGrants,
-                /* writeCount */1);
-        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorForMediaWithGrants,
-                /* writeCount */1);
-        // testUid should be selected such that the userId computed from this uid later in the code
-        // flow matches the current userId. UserId is computed using
-        // PickerSyncController#uidToUser() where the userId = uid / PER_USER_RANGE.
-        // So testUid is =
-        // (a random number smaller than PER_USER_RANGE) + (PER_USER_RANGE * UserHandle.myUserId())
-        int testUid = 11 + (PER_USER_RANGE * UserHandle.myUserId());
-        doReturn(mMockPackageManager)
-                .when(mMockContext).getPackageManager();
-        String[] packageNames = new String[]{TEST_PACKAGE_NAME};
-        doReturn(packageNames).when(mMockPackageManager).getPackagesForUid(testUid);
-        // insert a grant for the second item inserted in media.
-        assertInsertGrantsOperation(mFacade, getMediaGrantsCursor(LOCAL_ID_2), /* writeCount */1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1);
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor3, 1);
+
 
         doReturn(false).when(mMockSyncController).shouldQueryCloudMedia(any());
 
-        try (Cursor cr = PickerDataLayerV2.queryMedia(
-                mMockContext, getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, /* pageSize */ 3,
-                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)),
-                        new ArrayList<>(Arrays.asList("video/*")),
-                        MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
-                        testUid))) {
+        List<Long> dateTakenMsList = Arrays.asList(DATE_TAKEN_MS_1, DATE_TAKEN_MS_3);
+        //Triple<Integer, Integer, Integer> represents  Triple<Year , Month, ItemsCount>
+        List<Triple<Integer, Integer, Integer>> expectedItemsPerMonthList =
+                getExpectedItemsPerMonth(dateTakenMsList);
+
+        try (Cursor cr = PickerDataLayerV2.queryItemsPerMonth(
+                mMockContext, getItemsPerMonthQueryExtras(
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER))))) {
             assertWithMessage(
-                    "Unexpected number of rows in media query result")
-                    .that(cr.getCount()).isEqualTo(2);
+                    "Unexpected number of rows in items per month query result")
+                    .that(cr.getCount()).isEqualTo(expectedItemsPerMonthList.size());
 
-            // verify item with isPreGranted as false.
+            int currIndexInExpectedList = 0;
             cr.moveToFirst();
-            assertMediaCursor(cr, LOCAL_ID_1, LOCAL_PROVIDER, DATE_TAKEN_MS + 1,
-                    MP4_VIDEO_MIME_TYPE, MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
-                    /* isPreGranted */ false);
-
-            // verify item with isPreGranted as true.
-            cr.moveToNext();
-            assertMediaCursor(cr, LOCAL_ID_2, LOCAL_PROVIDER, DATE_TAKEN_MS, MP4_VIDEO_MIME_TYPE,
-                    MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
-                    /* isPreGranted */ true);
+            while (currIndexInExpectedList < expectedItemsPerMonthList.size()) {
+                Triple<Integer, Integer, Integer> currItemsPerMonth =
+                        expectedItemsPerMonthList.get(currIndexInExpectedList);
+                assertItemsPerMonthCursor(cr, currItemsPerMonth.getFirst(),
+                        currItemsPerMonth.getSecond(), currItemsPerMonth.getThird());
+                cr.moveToNext();
+                currIndexInExpectedList++;
+            }
         }
     }
 
     @Test
-    @EnableFlags(Flags.FLAG_REVOKE_ACCESS_OWNED_PHOTOS)
-    @EnableCompatChanges({MediaProvider.ENABLE_OWNED_PHOTOS})
-    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
-    public void testPreGrantsForOwnedPhotos() {
-        assumeTrue(MediaProvider.isOwnedPhotosEnabled(Process.myUid()));
+    public void testItemsPerMonthQueryWithCloudQueryEnabled() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS_1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS_3, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(CLOUD_ID, DATE_TAKEN_MS_2, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
 
-        doReturn(mMockPackageManager)
-                .when(mMockContext).getPackageManager();
-        String[] packageNames = new String[]{TEST_PACKAGE_NAME};
-        doReturn(packageNames).when(mMockPackageManager).getPackagesForUid(Process.myUid());
-        Map<String, Integer> idVsExpectedPreGrantedValue = populateMediaAndMediaGrantsTable();
-        int totalCount = idVsExpectedPreGrantedValue.size();
 
-        try (Cursor cr = PickerDataLayerV2.queryMedia(
-                mMockContext, getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, /* pageSize */ 10,
-                        new ArrayList<>(List.of(LOCAL_PROVIDER)),
-                        new ArrayList<>(List.of("image/*")),
-                        MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
-                        /*callingUid*/ Process.myUid()))) {
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1);
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor3, 1);
+
 
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any());
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any(), any());
+
+        List<Long> dateTakenMsList = Arrays.asList(
+                DATE_TAKEN_MS_1, DATE_TAKEN_MS_2, DATE_TAKEN_MS_3);
+        //Triple<Integer, Integer, Integer> represents  Triple<Year , Month, ItemsCount>
+        List<Triple<Integer, Integer, Integer>> expectedItemsPerMonthList =
+                getExpectedItemsPerMonth(dateTakenMsList);
+
+        try (Cursor cr = PickerDataLayerV2.queryItemsPerMonth(
+                mMockContext, getItemsPerMonthQueryExtras(
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER))))) {
             assertWithMessage(
-                    "Unexpected number of rows in media query result")
-                    .that(cr.getCount()).isEqualTo(totalCount);
+                    "Unexpected number of rows in items per month query result")
+                    .that(cr.getCount()).isEqualTo(expectedItemsPerMonthList.size());
 
+            int currIndexInExpectedList = 0;
             cr.moveToFirst();
-            for (int i = 0; i < totalCount; i++) {
-                int id = cr.getInt(cr.getColumnIndex("id"));
-                int isPreGranted = cr.getInt(cr.getColumnIndex("is_pre_granted"));
-                assertEquals(idVsExpectedPreGrantedValue.get(String.valueOf(id)).intValue(),
-                        isPreGranted);
+            while (currIndexInExpectedList < expectedItemsPerMonthList.size()) {
+                Triple<Integer, Integer, Integer> currItemsPerMonth =
+                        expectedItemsPerMonthList.get(currIndexInExpectedList);
+                assertItemsPerMonthCursor(cr, currItemsPerMonth.getFirst(),
+                        currItemsPerMonth.getSecond(), currItemsPerMonth.getThird());
                 cr.moveToNext();
+                currIndexInExpectedList++;
             }
         }
     }
 
     @Test
-    @EnableFlags(Flags.FLAG_REVOKE_ACCESS_OWNED_PHOTOS)
-    @EnableCompatChanges({MediaProvider.ENABLE_OWNED_PHOTOS})
-    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
-    public void testPreGrantedCountForOwnedPhotos() {
-        assumeTrue(MediaProvider.isOwnedPhotosEnabled(Process.myUid()));
+    public void testItemsPerMonthQueryWithLocalAndCloudDedupe() {
+        Cursor cursor1 = getCloudMediaCursor(CLOUD_ID_1, LOCAL_ID_1, DATE_TAKEN_MS - 1);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1,
+                GENERATION_MODIFIED, /* mediaStoreUri */ null, /* sizeBytes */ 1,
+                MP4_VIDEO_MIME_TYPE, STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(CLOUD_ID_2, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
 
-        doReturn(mMockPackageManager)
-                .when(mMockContext).getPackageManager();
-        String[] packageNames = new String[]{TEST_PACKAGE_NAME};
-        doReturn(packageNames).when(mMockPackageManager).getPackagesForUid(0);
-        Map<String, Integer> idVsPreGranted = populateMediaAndMediaGrantsTable();
-        int totalPreGranted = (int) idVsPreGranted.values().stream()
-                .filter(preGranted -> Integer.valueOf(1).equals(preGranted))
-                .count();
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor1, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1);
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor3, 1);
 
-        Bundle queryArgs = new Bundle();
-        queryArgs.putInt(Intent.EXTRA_UID, 0);
-        try (Cursor cr = PickerDataLayerV2.fetchCountForPreGrantedItems(mMockContext, queryArgs)) {
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any());
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any(), any());
+
+        List<Long> dateTakenMsList = Arrays.asList(DATE_TAKEN_MS + 1, DATE_TAKEN_MS);
+        //Triple<Integer, Integer, Integer> represents  Triple<Year , Month, ItemsCount>
+        List<Triple<Integer, Integer, Integer>> expectedItemsPerMonthList =
+                getExpectedItemsPerMonth(dateTakenMsList);
+
+        try (Cursor cr = PickerDataLayerV2.queryItemsPerMonth(
+                mMockContext, getItemsPerMonthQueryExtras(
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER))))) {
+            assertWithMessage(
+                    "Unexpected number of rows in items per month query result")
+                    .that(cr.getCount()).isEqualTo(expectedItemsPerMonthList.size());
+
+            int currIndexInExpectedList = 0;
             cr.moveToFirst();
-            assertEquals(totalPreGranted, cr.getInt(cr.getColumnIndex(COLUMN_GRANTS_COUNT)));
+            while (currIndexInExpectedList < expectedItemsPerMonthList.size()) {
+                Triple<Integer, Integer, Integer> currItemsPerMonth =
+                        expectedItemsPerMonthList.get(currIndexInExpectedList);
+                assertItemsPerMonthCursor(cr, currItemsPerMonth.getFirst(),
+                        currItemsPerMonth.getSecond(), currItemsPerMonth.getThird());
+                cr.moveToNext();
+                currIndexInExpectedList++;
+            }
         }
     }
 
     @Test
-    @EnableFlags(Flags.FLAG_REVOKE_ACCESS_OWNED_PHOTOS)
-    @EnableCompatChanges({MediaProvider.ENABLE_OWNED_PHOTOS})
-    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
-    public void testPreviewForOwnedPhotos() {
-        assumeTrue(MediaProvider.isOwnedPhotosEnabled(Process.myUid()));
+    public void testItemsPerMonthQueryWithAllVideoMimeTypeFilter() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, JPEG_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS_1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(LOCAL_ID_3, DATE_TAKEN_MS_2, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, PNG_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor4 = getMediaCursor(LOCAL_ID_4, DATE_TAKEN_MS_3, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, GIF_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
 
-        doReturn(mMockPackageManager)
-                .when(mMockContext).getPackageManager();
-        String[] packageNames = new String[]{TEST_PACKAGE_NAME};
-        doReturn(packageNames).when(mMockPackageManager).getPackagesForUid(0);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor3, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor4, 1);
 
-        Map<String, Integer> idVsPreGranted = populateMediaAndMediaGrantsTable();
-        int totalPreGranted = (int) idVsPreGranted.values().stream()
-                .filter(preGranted -> Integer.valueOf(1).equals(preGranted))
-                .count();
+        // Only video media's date taken is considered.
+        List<Long> dateTakenMsList = Arrays.asList(DATE_TAKEN_MS_1);
+        //Triple<Integer, Integer, Integer> represents  Triple<Year , Month, ItemsCount>
+        List<Triple<Integer, Integer, Integer>> expectedItemsPerMonthList =
+                getExpectedItemsPerMonth(dateTakenMsList);
 
-        Bundle queryArgs = getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, /* pageSize */ 10,
-                new ArrayList<>(List.of(LOCAL_PROVIDER)),
-                new ArrayList<>(List.of("image/*")),
-                MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
-                0);
-        queryArgs.putBoolean("is_preview_session", true);
+        try (Cursor cr = PickerDataLayerV2.queryItemsPerMonth(
+                mMockContext, getItemsPerMonthQueryExtras(
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)),
+                        new ArrayList<>(Arrays.asList("video/*"))))) {
+            assertWithMessage(
+                    "Unexpected number of rows in items per month query result")
+                    .that(cr.getCount()).isEqualTo(expectedItemsPerMonthList.size());
 
-        try (Cursor cr = PickerDataLayerV2.queryPreviewMedia(mMockContext, queryArgs)) {
-            assertEquals(totalPreGranted, cr.getCount());
+            int currIndexInExpectedList = 0;
             cr.moveToFirst();
-            for (int i = 0; i < totalPreGranted; i++) {
-                int id = cr.getInt(cr.getColumnIndex("id"));
-                int preGranted = cr.getInt(cr.getColumnIndex("is_pre_granted"));
-                assertEquals(1, (int) idVsPreGranted.get(String.valueOf(id)));
-                assertEquals(1, preGranted);
+            while (currIndexInExpectedList < expectedItemsPerMonthList.size()) {
+                Triple<Integer, Integer, Integer> currItemsPerMonth =
+                        expectedItemsPerMonthList.get(currIndexInExpectedList);
+                assertItemsPerMonthCursor(cr, currItemsPerMonth.getFirst(),
+                        currItemsPerMonth.getSecond(), currItemsPerMonth.getThird());
                 cr.moveToNext();
+                currIndexInExpectedList++;
             }
         }
     }
 
-    private Map<String, Integer> populateMediaAndMediaGrantsTable() {
-
-        Map<String, Integer> idVsExpectedPreGrantedValue = new HashMap<>();
-
-        // 1. ownerPackageName != TEST_PACKAGE_NAME and no media grants.
-        // preGranted should be false
-        Cursor cursorWithDifferentOwnerPackageName = getMediaCursorWithOwnerPackageNameAndUserId(
-                "101", TEST_DIFFERENT_PACKAGE_NAME);
-        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorWithDifferentOwnerPackageName,
-                /*writeCount*/ 1);
-        idVsExpectedPreGrantedValue.put("101", 0);
+    @Test
+    public void testItemsPerMonthQueryWithAllImageMimeTypeFilter() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, JPEG_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS_1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(LOCAL_ID_3, DATE_TAKEN_MS_2, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, PNG_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor4 = getMediaCursor(LOCAL_ID_4, DATE_TAKEN_MS_3, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, GIF_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
 
-        // 2. ownerPackageName == TEST_PACKAGE_NAME and no media grants.
-        // preGranted should be true
-        Cursor cursorWithCorrectOwnerPackageName = getMediaCursorWithOwnerPackageNameAndUserId(
-                "102", TEST_PACKAGE_NAME);
-        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorWithCorrectOwnerPackageName,
-                /*writeCount*/ 1);
-        idVsExpectedPreGrantedValue.put("102", 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor3, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor4, 1);
 
-        // 3. ownerPackageName != TEST_PACKAGE_NAME
-        // and media_grants with packageName == TEST_PACKAGE_NAME.
-        // preGranted should be true
-        Cursor cursorWithCorrectMediaGrants = getMediaCursorWithOwnerPackageNameAndUserId(
-                "103", TEST_DIFFERENT_PACKAGE_NAME);
-        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorWithCorrectMediaGrants,
-                /*writeCount*/ 1);
-        assertInsertGrantsOperation(mFacade, getMediaGrantsCursor("103", TEST_PACKAGE_NAME,
-                0), /*writeCount*/ 1);
-        idVsExpectedPreGrantedValue.put("103", 1);
+        // Only image media's date taken are considered.
+        List<Long> dateTakenMsList = Arrays.asList(DATE_TAKEN_MS, DATE_TAKEN_MS_2, DATE_TAKEN_MS_3);
+        //Triple<Integer, Integer, Integer> represents  Triple<Year , Month, ItemsCount>
+        List<Triple<Integer, Integer, Integer>> expectedItemsPerMonthList =
+                getExpectedItemsPerMonth(dateTakenMsList);
 
-        // 4. ownerPackageName != TEST_PACKAGE_NAME
-        // and media_grants with packageName != TEST_PACKAGE_NAME.
-        // preGranted should be false
-        Cursor cursorWithDifferentMediaGrants = getMediaCursorWithOwnerPackageNameAndUserId(
-                "104", TEST_DIFFERENT_PACKAGE_NAME);
-        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorWithDifferentMediaGrants,
-                /*writeCount*/ 1);
-        assertInsertGrantsOperation(mFacade, getMediaGrantsCursor("104",
-                TEST_DIFFERENT_PACKAGE_NAME, 0), /*writeCount*/ 1);
-        idVsExpectedPreGrantedValue.put("104", 0);
+        try (Cursor cr = PickerDataLayerV2.queryItemsPerMonth(
+                mMockContext, getItemsPerMonthQueryExtras(
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)),
+                        new ArrayList<>(Arrays.asList("image/*"))))) {
+            assertWithMessage(
+                    "Unexpected number of rows in items per month query result")
+                    .that(cr.getCount()).isEqualTo(expectedItemsPerMonthList.size());
 
-        return idVsExpectedPreGrantedValue;
+            int currIndexInExpectedList = 0;
+            cr.moveToFirst();
+            while (currIndexInExpectedList < expectedItemsPerMonthList.size()) {
+                Triple<Integer, Integer, Integer> currItemsPerMonth =
+                        expectedItemsPerMonthList.get(currIndexInExpectedList);
+                assertItemsPerMonthCursor(cr, currItemsPerMonth.getFirst(),
+                        currItemsPerMonth.getSecond(), currItemsPerMonth.getThird());
+                cr.moveToNext();
+                currIndexInExpectedList++;
+            }
+        }
+    }
+
+    /**
+     * Calculates the count of items per year and month from a list of dateTakenMs values,
+     * considering the device's local time zone, and returns the results in descending
+     * order of year and month.
+     *
+     * @param dateTakenMsList A list of timestamps (milliseconds since epoch).
+     * @return A list of {@literal Triple<Integer, Integer, Integer>} representing the year, month,
+     * and count of items for each year-month combination, sorted in descending
+     * order of year and then month.
+     */
+    public static List<Triple<Integer, Integer, Integer>> getExpectedItemsPerMonth(
+            List<Long> dateTakenMsList) {
+        Map<Pair<Integer, Integer>, Integer> yearMonthCounts = new HashMap<>();
+
+        for (long dateTakenMs : dateTakenMsList) {
+            Pair<Integer, Integer> yearMonth = getYearAndMonth(dateTakenMs);
+            yearMonthCounts.put(yearMonth, yearMonthCounts.getOrDefault(yearMonth, 0) + 1);
+        }
+        List<Triple<Integer, Integer, Integer>> result = new ArrayList<>();
+        for (Map.Entry<Pair<Integer, Integer>, Integer> entry : yearMonthCounts.entrySet()) {
+            result.add(new Triple<>(entry.getKey().first, entry.getKey().second, entry.getValue()));
+        }
+
+        result.sort((a, b) -> {
+            int yearComparison = Integer.compare(b.getFirst(), a.getFirst()); // Descending year
+            if (yearComparison != 0) return yearComparison;
+            return Integer.compare(b.getSecond(), a.getSecond()); // Descending month
+        });
+        return result;
+    }
+
+    /**
+     * Extracts the year and month from a given timestamp (milliseconds since epoch),
+     * considering the device's local time zone.
+     *
+     * @param dateTaken The timestamp in milliseconds since the Unix epoch.
+     * @return A Pair containing the year (as an Integer) and the month (as an Integer),
+     * or null if an error occurs during date/time conversion.
+     */
+    private static Pair<Integer, Integer> getYearAndMonth(long dateTaken) {
+        long dateTakenSeconds = dateTaken / 1000;
+
+        // Get the device's local time zone offset at the given timestamp.
+        ZoneOffset localOffset = ZoneOffset.systemDefault().getRules().getOffset(
+                Instant.ofEpochSecond(dateTakenSeconds));
+
+        LocalDateTime localDateTime = LocalDateTime.ofEpochSecond(
+                dateTakenSeconds,
+                0,
+                localOffset
+        );
+        int year = localDateTime.getYear();
+        int month = localDateTime.getMonthValue();
+        return new Pair<>(year, month);
+    }
+
+    @Test
+    public void testMediaPageKeyQueryWithInvalidProviders() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(CLOUD_ID, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1);
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor3, 1);
+
+
+        doReturn(false).when(mMockSyncController).shouldQueryCloudMedia(any());
+
+        try (Cursor cr = PickerDataLayerV2.queryMediaPageKey(
+                mMockContext, getMediaPageKeyQueryExtras(
+                        new ArrayList<>(Arrays.asList("invalid.provider")), 1))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media page key query result")
+                    .that(cr.getCount()).isEqualTo(0);
+        }
+    }
+
+    @Test
+    public void testMediaPageKeyQueryWithCloudQueryDisabled() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(CLOUD_ID, DATE_TAKEN_MS + 2, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS + 3, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1); // picker_id = 1
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor2, 1); // picker_id = 2
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor3, 1); // picker_id = 3
+
+
+        doReturn(false).when(mMockSyncController).shouldQueryCloudMedia(any());
+
+        try (Cursor cr = PickerDataLayerV2.queryMediaPageKey(
+                mMockContext, getMediaPageKeyQueryExtras(
+                        // Item position is based on zero indexed
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)), 1))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media page key query result")
+                    .that(cr.getCount()).isEqualTo(1);
+            cr.moveToFirst();
+
+            // Item position is based on zero indexed , so for item position = 1 means we want 2nd
+            // item in the media table
+            // Items order in media table LOCAL_ID_2, LOCAL_ID_1
+            assertMediaPageKeyCursor(cr, 1L, DATE_TAKEN_MS + 1);
+        }
+    }
+
+    @Test
+    public void testMediaPageKeyQueryWithCloudQueryEnabled() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(CLOUD_ID, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS - 1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1); // picker_id = 1
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor2, 1); // picker_id = 2
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor3, 1); // picker_id = 3
+
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any());
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any(), any());
+
+        try (Cursor cr = PickerDataLayerV2.queryMediaPageKey(
+                mMockContext, getMediaPageKeyQueryExtras(
+                        // Item position is based on zero indexed
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)), 1))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media page key query result")
+                    .that(cr.getCount()).isEqualTo(1);
+            cr.moveToFirst();
+
+            // Item position is based on zero indexed , so for item position = 1 means we want 2nd
+            // item in the media table
+            // Items order in data tables are:-
+            // LOCAL_ID_1 (latest item added), CLOUD_ID_1, LOCAL_ID_2,
+            assertMediaPageKeyCursor(cr, 2L, DATE_TAKEN_MS);
+        }
+    }
+
+    @Test
+    public void testMediaPageKeyQuery_ItemPositionIsGreaterThanNumberOfItems() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(CLOUD_ID_1, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1); // picker_id = 1
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1); // picker_id = 2
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor3, 1); // picker_id = 3
+
+        doReturn(false).when(mMockSyncController).shouldQueryCloudMedia(any());
+
+        try (Cursor cr = PickerDataLayerV2.queryMediaPageKey(
+                mMockContext, getMediaPageKeyQueryExtras(
+                        // Item position is based on zero indexed , so for item position = 3 means
+                        // we want 4th item in the media table but only 3 items are available
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)), 3))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media page key query result")
+                    .that(cr.getCount()).isEqualTo(0);
+        }
+    }
+
+    @Test
+    public void testMediaPageKeyQueryDedupe() {
+        Cursor cursor1 = getCloudMediaCursor(CLOUD_ID_1, LOCAL_ID_1, DATE_TAKEN_MS - 1);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1,
+                GENERATION_MODIFIED, /* mediaStoreUri */ null, /* sizeBytes */ 1,
+                MP4_VIDEO_MIME_TYPE, STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(CLOUD_ID_2, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor1, 1); // picker_id = 1
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1); // picker_id = 2
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor3, 1); // picker_id = 3
+
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any());
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any(), any());
+
+        try (Cursor cr = PickerDataLayerV2.queryMediaPageKey(
+                mMockContext, getMediaPageKeyQueryExtras(
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)), 1))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media page key query result")
+                    .that(cr.getCount()).isEqualTo(1);
+
+            cr.moveToFirst();
+            // Item position is based on zero indexed , so for item position = 1 means we want 2nd
+            // item in the media table
+            // Items in data tables are:-  LOCAL_ID_1 (latest item added) , CLOUD_ID_2
+            assertMediaPageKeyCursor(cr, 3L, DATE_TAKEN_MS);
+        }
+    }
+
+    @Test
+    public void testMediaPageKeyQueryAllVideoMimeTypeFilter() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, JPEG_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(LOCAL_ID_3, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, PNG_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor4 = getMediaCursor(LOCAL_ID_4, DATE_TAKEN_MS + 1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1); //picker_id = 1
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1); //picker_id = 2
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor3, 1); //picker_id = 3
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor4, 1); //picker_id = 4
+
+        try (Cursor cr = PickerDataLayerV2.queryMediaPageKey(
+                mMockContext, getMediaPageKeyQueryExtras(
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)), 0,
+                        new ArrayList<>(Arrays.asList("video/*"))))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media page key query result")
+                    .that(cr.getCount()).isEqualTo(1);
+
+            cr.moveToFirst();
+            // Item position is based on zero indexed , so for item position = 0 means we want 1st
+            // item in the media table
+            // Items order in media tables are:-  LOCAL_ID_4 (latest item added) , LOCAL_ID_2
+            assertMediaPageKeyCursor(cr, 4L, DATE_TAKEN_MS + 1);
+        }
+    }
+
+    @Test
+    public void testMediaPageKeyQueryAllImageMimeTypeFilter() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, JPEG_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(LOCAL_ID_3, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, PNG_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor4 = getMediaCursor(LOCAL_ID_4, DATE_TAKEN_MS + 2, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, GIF_IMAGE_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1); //picker_id = 1
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1); //picker_id = 2
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor3, 1); //picker_id = 3
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor4, 1); //picker_id = 4
+
+        try (Cursor cr = PickerDataLayerV2.queryMediaPageKey(
+                mMockContext, getMediaPageKeyQueryExtras(
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)), 2,
+                        new ArrayList<>(Arrays.asList("image/*"))))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media page key query result")
+                    .that(cr.getCount()).isEqualTo(1);
+
+            cr.moveToFirst();
+            // Item position is based on zero indexed , so for item position = 2 means we want 3rd
+            // item in the media table
+            // Items order in data tables are:-
+            // LOCAL_ID_4 (latest item added), LOCAL_ID_1, LOCAL_ID_3
+            assertMediaPageKeyCursor(cr, 3L, DATE_TAKEN_MS);
+        }
+    }
+
+    @Test
+    public void testQueryLocalMediaSortOrder() {
+        Cursor cursor1 = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1,
+                GENERATION_MODIFIED, /* mediaStoreUri */ null, /* sizeBytes */ 1,
+                MP4_VIDEO_MIME_TYPE, STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor2 = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursor3 = getMediaCursor(LOCAL_ID_3, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor2, 1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor3, 1);
+
+        doReturn(false).when(mMockSyncController).shouldQueryCloudMedia(any());
+
+        try (Cursor cr = PickerDataLayerV2.queryMedia(
+                mMockContext, getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, /* pageSize */ 3,
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER))))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media query result")
+                    .that(cr.getCount()).isEqualTo(3);
+
+            cr.moveToFirst();
+            // LOCAL_ID_1 has the most recent date taken.
+            assertMediaCursor(cr, LOCAL_ID_1, LOCAL_PROVIDER, DATE_TAKEN_MS + 1,
+                    MP4_VIDEO_MIME_TYPE);
+
+            cr.moveToNext();
+            // LOCAL_ID_2 and LOCAL_ID_3 have the same date taken but the Picker ID of LOCAL_ID_3
+            // should be greater.
+            assertMediaCursor(cr, LOCAL_ID_3, LOCAL_PROVIDER, DATE_TAKEN_MS, MP4_VIDEO_MIME_TYPE);
+
+            cr.moveToNext();
+            assertMediaCursor(cr, LOCAL_ID_2, LOCAL_PROVIDER, DATE_TAKEN_MS, MP4_VIDEO_MIME_TYPE);
+        }
+    }
+
+    @Test
+    public void testQueryLocalMediaWithGrants() {
+        Cursor cursorForMediaWithoutGrants = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS + 1,
+                GENERATION_MODIFIED, /* mediaStoreUri */ null, /* sizeBytes */ 1,
+                MP4_VIDEO_MIME_TYPE, STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        Cursor cursorForMediaWithGrants = getMediaCursor(LOCAL_ID_2, DATE_TAKEN_MS,
+                GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 2, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorForMediaWithoutGrants,
+                /* writeCount */1);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorForMediaWithGrants,
+                /* writeCount */1);
+        // testUid should be selected such that the userId computed from this uid later in the code
+        // flow matches the current userId. UserId is computed using
+        // PickerSyncController#uidToUser() where the userId = uid / PER_USER_RANGE.
+        // So testUid is =
+        // (a random number smaller than PER_USER_RANGE) + (PER_USER_RANGE * UserHandle.myUserId())
+        int testUid = 11 + (PER_USER_RANGE * UserHandle.myUserId());
+        doReturn(mMockPackageManager)
+                .when(mMockContext).getPackageManager();
+        String[] packageNames = new String[]{TEST_PACKAGE_NAME};
+        doReturn(packageNames).when(mMockPackageManager).getPackagesForUid(testUid);
+        // insert a grant for the second item inserted in media.
+        assertInsertGrantsOperation(mFacade, getMediaGrantsCursor(LOCAL_ID_2), /* writeCount */1);
+
+        doReturn(false).when(mMockSyncController).shouldQueryCloudMedia(any());
+
+        try (Cursor cr = PickerDataLayerV2.queryMedia(
+                mMockContext, getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, /* pageSize */ 3,
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, CLOUD_PROVIDER)),
+                        new ArrayList<>(Arrays.asList("video/*")),
+                        MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
+                        testUid))) {
+            assertWithMessage(
+                    "Unexpected number of rows in media query result")
+                    .that(cr.getCount()).isEqualTo(2);
+
+            // verify item with isPreGranted as false.
+            cr.moveToFirst();
+            assertMediaCursor(cr, LOCAL_ID_1, LOCAL_PROVIDER, DATE_TAKEN_MS + 1,
+                    MP4_VIDEO_MIME_TYPE, MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
+                    /* isPreGranted */ false);
+
+            // verify item with isPreGranted as true.
+            cr.moveToNext();
+            assertMediaCursor(cr, LOCAL_ID_2, LOCAL_PROVIDER, DATE_TAKEN_MS, MP4_VIDEO_MIME_TYPE,
+                    MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
+                    /* isPreGranted */ true);
+        }
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_REVOKE_ACCESS_OWNED_PHOTOS)
+    @EnableCompatChanges({MediaProvider.ENABLE_OWNED_PHOTOS})
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
+    public void testPreGrantsForOwnedPhotos() {
+        assumeTrue(MediaProvider.isOwnedPhotosEnabled(Process.myUid()));
+
+        doReturn(mMockPackageManager)
+                .when(mMockContext).getPackageManager();
+        String[] packageNames = new String[]{TEST_PACKAGE_NAME};
+        doReturn(packageNames).when(mMockPackageManager).getPackagesForUid(Process.myUid());
+        Map<String, Integer> idVsExpectedPreGrantedValue = populateMediaAndMediaGrantsTable();
+        int totalCount = idVsExpectedPreGrantedValue.size();
+
+        try (Cursor cr = PickerDataLayerV2.queryMedia(
+                mMockContext, getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, /* pageSize */ 10,
+                        new ArrayList<>(List.of(LOCAL_PROVIDER)),
+                        new ArrayList<>(List.of("image/*")),
+                        MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
+                        /*callingUid*/ Process.myUid()))) {
+
+            assertWithMessage(
+                    "Unexpected number of rows in media query result")
+                    .that(cr.getCount()).isEqualTo(totalCount);
+
+            cr.moveToFirst();
+            for (int i = 0; i < totalCount; i++) {
+                int id = cr.getInt(cr.getColumnIndex("id"));
+                int isPreGranted = cr.getInt(cr.getColumnIndex("is_pre_granted"));
+                assertEquals(idVsExpectedPreGrantedValue.get(String.valueOf(id)).intValue(),
+                        isPreGranted);
+                cr.moveToNext();
+            }
+        }
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_REVOKE_ACCESS_OWNED_PHOTOS)
+    @EnableCompatChanges({MediaProvider.ENABLE_OWNED_PHOTOS})
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
+    public void testPreGrantedCountForOwnedPhotos() {
+        assumeTrue(MediaProvider.isOwnedPhotosEnabled(Process.myUid()));
+
+        doReturn(mMockPackageManager)
+                .when(mMockContext).getPackageManager();
+        String[] packageNames = new String[]{TEST_PACKAGE_NAME};
+        doReturn(packageNames).when(mMockPackageManager).getPackagesForUid(Process.myUid());
+        Map<String, Integer> idVsPreGranted = populateMediaAndMediaGrantsTable();
+        int totalPreGranted = (int) idVsPreGranted.values().stream()
+                .filter(preGranted -> Integer.valueOf(1).equals(preGranted))
+                .count();
+
+        Bundle queryArgs = new Bundle();
+        queryArgs.putInt(Intent.EXTRA_UID, Process.myUid());
+        try (Cursor cr = PickerDataLayerV2.fetchCountForPreGrantedItems(mMockContext, queryArgs)) {
+            cr.moveToFirst();
+            assertEquals(totalPreGranted, cr.getInt(cr.getColumnIndex(COLUMN_GRANTS_COUNT)));
+        }
+    }
+
+    @Test
+    @EnableFlags(Flags.FLAG_REVOKE_ACCESS_OWNED_PHOTOS)
+    @EnableCompatChanges({MediaProvider.ENABLE_OWNED_PHOTOS})
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.BAKLAVA)
+    public void testPreviewForOwnedPhotos() {
+        assumeTrue(MediaProvider.isOwnedPhotosEnabled(Process.myUid()));
+
+        doReturn(mMockPackageManager)
+                .when(mMockContext).getPackageManager();
+        String[] packageNames = new String[]{TEST_PACKAGE_NAME};
+        doReturn(packageNames).when(mMockPackageManager).getPackagesForUid(Process.myUid());
+
+        Map<String, Integer> idVsPreGranted = populateMediaAndMediaGrantsTable();
+        int totalPreGranted = (int) idVsPreGranted.values().stream()
+                .filter(preGranted -> Integer.valueOf(1).equals(preGranted))
+                .count();
+
+        Bundle queryArgs = getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, /* pageSize */ 10,
+                new ArrayList<>(List.of(LOCAL_PROVIDER)),
+                new ArrayList<>(List.of("image/*")),
+                MediaStore.ACTION_USER_SELECT_IMAGES_FOR_APP,
+                Process.myUid());
+        queryArgs.putBoolean("is_preview_session", true);
+
+        try (Cursor cr = PickerDataLayerV2.queryPreviewMedia(mMockContext, queryArgs)) {
+            assertEquals(totalPreGranted, cr.getCount());
+            cr.moveToFirst();
+            for (int i = 0; i < totalPreGranted; i++) {
+                int id = cr.getInt(cr.getColumnIndex("id"));
+                int preGranted = cr.getInt(cr.getColumnIndex("is_pre_granted"));
+                assertEquals(1, (int) idVsPreGranted.get(String.valueOf(id)));
+                assertEquals(1, preGranted);
+                cr.moveToNext();
+            }
+        }
+    }
+
+    private Map<String, Integer> populateMediaAndMediaGrantsTable() {
+
+        Map<String, Integer> idVsExpectedPreGrantedValue = new HashMap<>();
+
+        // 1. ownerPackageName != TEST_PACKAGE_NAME and no media grants.
+        // preGranted should be false
+        Cursor cursorWithDifferentOwnerPackageName = getMediaCursorWithOwnerPackageNameAndUserId(
+                "101", TEST_DIFFERENT_PACKAGE_NAME);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorWithDifferentOwnerPackageName,
+                /*writeCount*/ 1);
+        idVsExpectedPreGrantedValue.put("101", 0);
+
+        // 2. ownerPackageName == TEST_PACKAGE_NAME and no media grants.
+        // preGranted should be true
+        Cursor cursorWithCorrectOwnerPackageName = getMediaCursorWithOwnerPackageNameAndUserId(
+                "102", TEST_PACKAGE_NAME);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorWithCorrectOwnerPackageName,
+                /*writeCount*/ 1);
+        idVsExpectedPreGrantedValue.put("102", 1);
+
+        // 3. ownerPackageName != TEST_PACKAGE_NAME
+        // and media_grants with packageName == TEST_PACKAGE_NAME.
+        // preGranted should be true
+        Cursor cursorWithCorrectMediaGrants = getMediaCursorWithOwnerPackageNameAndUserId(
+                "103", TEST_DIFFERENT_PACKAGE_NAME);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorWithCorrectMediaGrants,
+                /*writeCount*/ 1);
+        assertInsertGrantsOperation(mFacade, getMediaGrantsCursor("103", TEST_PACKAGE_NAME,
+                UserHandle.myUserId()), /*writeCount*/ 1);
+        idVsExpectedPreGrantedValue.put("103", 1);
+
+        // 4. ownerPackageName != TEST_PACKAGE_NAME
+        // and media_grants with packageName != TEST_PACKAGE_NAME.
+        // preGranted should be false
+        Cursor cursorWithDifferentMediaGrants = getMediaCursorWithOwnerPackageNameAndUserId(
+                "104", TEST_DIFFERENT_PACKAGE_NAME);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursorWithDifferentMediaGrants,
+                /*writeCount*/ 1);
+        assertInsertGrantsOperation(mFacade, getMediaGrantsCursor("104",
+                TEST_DIFFERENT_PACKAGE_NAME, UserHandle.myUserId()), /*writeCount*/ 1);
+        idVsExpectedPreGrantedValue.put("104", 0);
+
+        return idVsExpectedPreGrantedValue;
     }
 
     private Cursor getMediaCursorWithOwnerPackageNameAndUserId(String id, String ownerPackageName) {
@@ -733,7 +1292,7 @@ public class PickerDataLayerV2Test {
                 String.valueOf(WIDTH),
                 String.valueOf(ORIENTATION),
                 ownerPackageName,
-                String.valueOf(0)
+                String.valueOf(UserHandle.myUserId())
         };
 
         MatrixCursor c = new MatrixCursor(projectionKey);
@@ -2751,13 +3310,129 @@ public class PickerDataLayerV2Test {
     }
 
     @Test
-    public void testQueryCategoriesAndAlbums() {
-        doReturn(SearchProvider.AUTHORITY).when(mMockSyncController).getCloudProvider();
-        doReturn(SearchProvider.AUTHORITY).when(mMockSyncController)
+    public void testQueryCategoriesAndAlbums() {
+        doReturn(SearchProvider.AUTHORITY).when(mMockSyncController).getCloudProvider();
+        doReturn(SearchProvider.AUTHORITY).when(mMockSyncController)
+                .getCloudProviderOrDefault(any());
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any());
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any(), any());
+        doReturn(true).when(mCategoriesState).areCategoriesEnabled(any(), any());
+
+        final Cursor cursor1 = getLocalMediaCursor(LOCAL_ID_1, 0);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
+        final Cursor cursor2 = getCloudMediaCursor(CLOUD_ID_1, LOCAL_ID_1, 0);
+        assertAddMediaOperation(mFacade, CLOUD_PROVIDER, cursor2, 1);
+
+        try (Cursor cursor = PickerDataLayerV2.queryCategoriesAndAlbums(
+                mContext,
+                getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, 100,
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, SearchProvider.AUTHORITY))),
+                /* cancellationSignal */ null)) {
+            assertWithMessage("Unexpected count of albums and categories")
+                    .that(cursor.getCount())
+                    .isEqualTo(5);
+
+            cursor.moveToFirst();
+            // Assert for Favorites album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_FAVORITES);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(0L);
+
+            cursor.moveToNext();
+            // Assert for Camera album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_CAMERA);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(1L);
+
+            cursor.moveToNext();
+            // Assert that the next media group is people and pets category
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.CATEGORY);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(2L);
+
+            cursor.moveToNext();
+            // Assert for Video merged album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_VIDEOS);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(3L);
+
+            cursor.moveToNext();
+            // Assert that the next media group is a cloud album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            final Uri coverUri = Uri.parse(
+                    cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .UNWRAPPED_COVER_URI.getColumnName())));
+            assertWithMessage("Unexpected cover uri")
+                    .that(coverUri.getLastPathSegment())
+                    .isEqualTo(LOCAL_ID_1);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(4L);
+        }
+    }
+
+    @Test
+    public void testQueryCategoriesWithCloudAlbumsAsCategories() {
+        doReturn(CloudProviderPrimary.AUTHORITY).when(mMockSyncController).getCloudProvider();
+        doReturn(CloudProviderPrimary.AUTHORITY).when(mMockSyncController)
                 .getCloudProviderOrDefault(any());
         doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any());
         doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any(), any());
         doReturn(true).when(mCategoriesState).areCategoriesEnabled(any(), any());
+        doReturn(true).when(mCategoriesState)
+                .isCloudAlbumsAsCategoryEnabled(any(), any());
 
         final Cursor cursor1 = getLocalMediaCursor(LOCAL_ID_1, 0);
         assertAddMediaOperation(mFacade, LOCAL_PROVIDER, cursor1, 1);
@@ -2767,13 +3442,16 @@ public class PickerDataLayerV2Test {
         try (Cursor cursor = PickerDataLayerV2.queryCategoriesAndAlbums(
                 mContext,
                 getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, 100,
-                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, SearchProvider.AUTHORITY))),
+                        new ArrayList<>(Arrays.asList(
+                                LOCAL_PROVIDER,
+                                CloudProviderPrimary.AUTHORITY))),
                 /* cancellationSignal */ null)) {
-            assertWithMessage("Count of albums and categories")
+            assertWithMessage("Unexpected count of albums and categories")
                     .that(cursor.getCount())
                     .isEqualTo(5);
 
             cursor.moveToFirst();
+            // Assert for Favorites album
             assertWithMessage("Unexpected media group")
                     .that(MediaGroup.valueOf(
                             cursor.getString(cursor.getColumnIndexOrThrow(
@@ -2791,6 +3469,7 @@ public class PickerDataLayerV2Test {
                     .isEqualTo(0L);
 
             cursor.moveToNext();
+            // Assert for Camera album
             assertWithMessage("Unexpected media group")
                     .that(MediaGroup.valueOf(
                             cursor.getString(cursor.getColumnIndexOrThrow(
@@ -2815,6 +3494,10 @@ public class PickerDataLayerV2Test {
                                     PickerSQLConstants.MediaGroupResponseColumns
                                             .MEDIA_GROUP.getColumnName()))))
                     .isEqualTo(MediaGroup.CATEGORY);
+            assertWithMessage("Unexpected group id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS);
             assertWithMessage("Unexpected picker id")
                     .that(cursor.getLong(cursor.getColumnIndexOrThrow(
                             PickerSQLConstants.MediaGroupResponseColumns
@@ -2822,6 +3505,25 @@ public class PickerDataLayerV2Test {
                     .isEqualTo(2L);
 
             cursor.moveToNext();
+            // Assert that the next media group is user albums
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.CATEGORY);
+            assertWithMessage("Unexpected group id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(3L);
+
+            cursor.moveToNext();
+            // Assert for Video merged album
             assertWithMessage("Unexpected media group")
                     .that(MediaGroup.valueOf(
                             cursor.getString(cursor.getColumnIndexOrThrow(
@@ -2832,12 +3534,133 @@ public class PickerDataLayerV2Test {
                     .that(cursor.getString(cursor.getColumnIndexOrThrow(
                             PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
                     .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_VIDEOS);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(4L);
+        }
+    }
+
+    @Test
+    public void testQueryCategoriesWithLocalCategories() {
+        Cursor videoCursor = getMediaCursor(LOCAL_ID_1, DATE_TAKEN_MS, GENERATION_MODIFIED,
+                /* mediaStoreUri */ null, /* sizeBytes */ 1, MP4_VIDEO_MIME_TYPE,
+                STANDARD_MIME_TYPE_EXTENSION, /* isFavorite */ false);
+        assertAddMediaOperation(mFacade, LOCAL_PROVIDER, videoCursor, 1);
+
+        doReturn(true).when(mCategoriesState).areCategoriesEnabled(any(), any());
+        final Cursor cursor1 = getMediaCategoriesCursor(
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+        final Cursor cursor2 = getMediaCategoriesCursor(
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS);
+        final Cursor localCategoryCursor = new MergeCursor(new Cursor[]{cursor1, cursor2});
+        mLocalProvider.setQueryResult(localCategoryCursor);
+
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any());
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any(), any());
+        Cursor cursor3 = getAlbumCursor("CloudAlbum", DATE_TAKEN_MS, CLOUD_ID_1, CLOUD_PROVIDER);
+        mCloudProvider.setQueryResult(cursor3);
+
+        try (Cursor cursor = PickerDataLayerV2.queryCategoriesAndAlbums(
+                mMockContext,
+                getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, 100,
+                        new ArrayList<>(Arrays.asList(LOCAL_PROVIDER, SearchProvider.AUTHORITY))),
+                /* cancellationSignal */ null)) {
+            assertWithMessage("Unexpected count of albums and categories")
+                    .that(cursor.getCount())
+                    .isEqualTo(6);
+
+            cursor.moveToFirst();
+            // Assert for Favorites album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_FAVORITES);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(0L);
+
+            cursor.moveToNext();
+            // Assert for Camera album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_CAMERA);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(1L);
+
+            cursor.moveToNext();
+            // Assert that the next media group is "from this device" category
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.CATEGORY);
+            assertWithMessage("Unexpected group id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(2L);
+
+            cursor.moveToNext();
+            // Assert that the next media group is "from your apps" category
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.CATEGORY);
+            assertWithMessage("Unexpected group id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS);
             assertWithMessage("Unexpected picker id")
                     .that(cursor.getLong(cursor.getColumnIndexOrThrow(
                             PickerSQLConstants.MediaGroupResponseColumns
                                     .PICKER_ID.getColumnName())))
                     .isEqualTo(3L);
 
+            cursor.moveToNext();
+            // Assert for Video merged album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_VIDEOS);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(4L);
+
             cursor.moveToNext();
             // Assert that the next media group is a cloud album
             assertWithMessage("Unexpected media group")
@@ -2850,9 +3673,138 @@ public class PickerDataLayerV2Test {
                     cursor.getString(cursor.getColumnIndexOrThrow(
                             PickerSQLConstants.MediaGroupResponseColumns
                                     .UNWRAPPED_COVER_URI.getColumnName())));
-            assertWithMessage("Unexpected media group")
+            assertWithMessage("Unexpected cover id")
                     .that(coverUri.getLastPathSegment())
-                    .isEqualTo(LOCAL_ID_1);
+                    .isEqualTo(CLOUD_ID_1);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(5L);
+        }
+
+    }
+
+    @Test
+    public void testQueryCategories_invalidCategoryType_categoryCursorSkipped() {
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any());
+        doReturn(true).when(mMockSyncController).shouldQueryCloudMedia(any(), any());
+        doReturn(true).when(mCategoriesState).areCategoriesEnabled(any(), any());
+        doReturn(true).when(mCategoriesState)
+                .isCloudAlbumsAsCategoryEnabled(any(), any());
+        // Cloud media category cursor with invalid media category type
+        Cursor cloudCursor1 = PickerDbTestUtils.getMediaCategoriesCursor(
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS);
+        // Cloud media category cursor with valid media category type
+        Cursor cloudCursor2 = PickerDbTestUtils.getMediaCategoriesCursor(
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS);
+        Cursor cloudCategoryCursor = new MergeCursor(new Cursor[]{cloudCursor1, cloudCursor2});
+        mCloudProvider.setQueryResult(cloudCategoryCursor);
+
+        // Local media category cursor with invalid media category type
+        Cursor localCursor1 = getMediaCategoriesCursor(
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_PEOPLE_AND_PETS);
+        // Local media category cursor with valid media category type
+        Cursor localCursor2 = getMediaCategoriesCursor(
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+        Cursor localCategoryCursor = new MergeCursor(new Cursor[]{localCursor1, localCursor2});
+        mLocalProvider.setQueryResult(localCategoryCursor);
+
+        try (Cursor cursor = PickerDataLayerV2.queryCategoriesAndAlbums(
+                mMockContext,
+                getMediaQueryExtras(Long.MAX_VALUE, Long.MAX_VALUE, 100,
+                        new ArrayList<>(Arrays.asList(
+                                LOCAL_PROVIDER,
+                                CloudProviderPrimary.AUTHORITY))),
+                /* cancellationSignal */ null)) {
+            assertWithMessage("Unexpected count of albums and categories")
+                    .that(cursor.getCount())
+                    .isEqualTo(5);
+
+            cursor.moveToFirst();
+            // Assert for Favorites album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_FAVORITES);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(0L);
+
+            cursor.moveToNext();
+            // Assert for Camera album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_CAMERA);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(1L);
+
+            cursor.moveToNext();
+            // Assert that the next media group is device folders category
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.CATEGORY);
+            assertWithMessage("Unexpected group id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(2L);
+
+            cursor.moveToNext();
+            // Assert that the next media group is user albums category
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.CATEGORY);
+            assertWithMessage("Unexpected group id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_USER_ALBUMS);
+            assertWithMessage("Unexpected picker id")
+                    .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns
+                                    .PICKER_ID.getColumnName())))
+                    .isEqualTo(3L);
+
+            cursor.moveToNext();
+            // Assert for Video merged album
+            assertWithMessage("Unexpected media group")
+                    .that(MediaGroup.valueOf(
+                            cursor.getString(cursor.getColumnIndexOrThrow(
+                                    PickerSQLConstants.MediaGroupResponseColumns
+                                            .MEDIA_GROUP.getColumnName()))))
+                    .isEqualTo(MediaGroup.ALBUM);
+            assertWithMessage("Unexpected album id")
+                    .that(cursor.getString(cursor.getColumnIndexOrThrow(
+                            PickerSQLConstants.MediaGroupResponseColumns.GROUP_ID.getColumnName())))
+                    .isEqualTo(CloudMediaProviderContract.AlbumColumns.ALBUM_ID_VIDEOS);
             assertWithMessage("Unexpected picker id")
                     .that(cursor.getLong(cursor.getColumnIndexOrThrow(
                             PickerSQLConstants.MediaGroupResponseColumns
@@ -2914,6 +3866,34 @@ public class PickerDataLayerV2Test {
                 .isEqualTo(isPreGranted ? 1 : 0);
     }
 
+    private static void assertItemsPerMonthCursor(
+            Cursor cursor, int year, int month, int itemsCount) {
+        assertWithMessage("Unexpected year value in the Items per month cursor.")
+                .that(Integer.parseInt(cursor.getString(cursor.getColumnIndexOrThrow(
+                        PickerSQLConstants.ItemsPerMonthResponse.YEAR_TAKEN.getProjectedName()))))
+                .isEqualTo(year);
+        assertWithMessage("Unexpected month value in the Items per month cursor.")
+                .that(Integer.parseInt(cursor.getString(cursor.getColumnIndexOrThrow(
+                        PickerSQLConstants.ItemsPerMonthResponse.MONTH_TAKEN.getProjectedName()))))
+                .isEqualTo(month);
+        assertWithMessage("Unexpected value of items count in the Items per month cursor.")
+                .that(cursor.getInt(cursor.getColumnIndexOrThrow(
+                        PickerSQLConstants.ItemsPerMonthResponse.ITEM_COUNT.getProjectedName())))
+                .isEqualTo(itemsCount);
+    }
+
+    private static void assertMediaPageKeyCursor(Cursor cursor, Long pickerId, Long dateTaken) {
+        assertWithMessage("Unexpected value of id in the media page key cursor.")
+                .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                        PickerSQLConstants.MediaResponse.PICKER_ID.getProjectedName())))
+                .isEqualTo(pickerId);
+
+        assertWithMessage("Unexpected value of date taken in the media page key cursor.")
+                .that(cursor.getLong(cursor.getColumnIndexOrThrow(
+                        PickerSQLConstants.MediaResponse.DATE_TAKEN_MS.getProjectedName())))
+                .isEqualTo(dateTaken);
+    }
+
     private static void assertAlbumCursor(Cursor cursor, String albumId, String authority,
             Long dateTaken, String coverMediaId) {
         final MediaSource mediaSource = LOCAL_PROVIDER.equals(authority)
@@ -2979,6 +3959,34 @@ public class PickerDataLayerV2Test {
         return extras;
     }
 
+    private Bundle getItemsPerMonthQueryExtras(List<String> providers) {
+        Bundle extras = new Bundle();
+        extras.putStringArrayList("providers", new ArrayList<>(providers));
+        extras.putString("intent_action", MediaStore.ACTION_PICK_IMAGES);
+        return extras;
+    }
+
+    private Bundle getMediaPageKeyQueryExtras(List<String> providers, int itemPosition) {
+        Bundle extras = new Bundle();
+        extras.putStringArrayList("providers", new ArrayList<>(providers));
+        extras.putString("intent_action", MediaStore.ACTION_PICK_IMAGES);
+        extras.putInt("item_position", itemPosition);
+        return extras;
+    }
+
+    private Bundle getMediaPageKeyQueryExtras(
+            List<String> providers, int itemPosition, List<String> mimeTypes) {
+        Bundle extras = getMediaPageKeyQueryExtras(providers, itemPosition);
+        extras.putStringArrayList("mime_types", new ArrayList<>(mimeTypes));
+        return extras;
+    }
+
+    private Bundle getItemsPerMonthQueryExtras(List<String> providers, List<String> mimeTypes) {
+        Bundle extras = getItemsPerMonthQueryExtras(providers);
+        extras.putStringArrayList("mime_types", new ArrayList<>(mimeTypes));
+        return extras;
+    }
+
     private Bundle getMediaQueryExtras(Long pickerId, Long dateTakenMillis, int pageSize,
             List<String> providers, List<String> mimeTypes) {
         Bundle extras = getMediaQueryExtras(
diff --git a/tests/src/com/android/providers/media/photopicker/v2/PickerUriResolverV2Test.java b/tests/src/com/android/providers/media/photopicker/v2/PickerUriResolverV2Test.java
index 4c03b59e7..a9be1947f 100644
--- a/tests/src/com/android/providers/media/photopicker/v2/PickerUriResolverV2Test.java
+++ b/tests/src/com/android/providers/media/photopicker/v2/PickerUriResolverV2Test.java
@@ -67,4 +67,22 @@ public class PickerUriResolverV2Test {
                         Uri.parse("content://media/picker_internal/v2/search_media/132"))
         );
     }
+
+    @Test
+    public void testItemsPerMonthQuery() {
+        assertEquals(
+                PickerUriResolverV2.PICKER_INTERNAL_ITEMS_PER_MONTH,
+                PickerUriResolverV2.sUriMatcher.match(
+                        Uri.parse("content://media/picker_internal/v2/media/monthly_aggregate"))
+        );
+    }
+
+    @Test
+    public void testMediaPageKeyQuery() {
+        assertEquals(
+                PickerUriResolverV2.PICKER_INTERNAL_MEDIA_PAGE_KEY,
+                PickerUriResolverV2.sUriMatcher.match(
+                        Uri.parse("content://media/picker_internal/v2/media/page_key"))
+        );
+    }
 }
diff --git a/tests/src/com/android/providers/media/photopicker/v2/sqlite/MediaGroupCursorUtilsTest.java b/tests/src/com/android/providers/media/photopicker/v2/sqlite/MediaGroupCursorUtilsTest.java
index 5a8920674..a62e4a354 100644
--- a/tests/src/com/android/providers/media/photopicker/v2/sqlite/MediaGroupCursorUtilsTest.java
+++ b/tests/src/com/android/providers/media/photopicker/v2/sqlite/MediaGroupCursorUtilsTest.java
@@ -16,13 +16,24 @@
 
 package com.android.providers.media.photopicker.v2;
 
+import static android.provider.MediaStore.MY_USER_ID;
+
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.CLOUD_ID_1;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.LOCAL_ID_1;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.LOCAL_ID_2;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.LOCAL_PROVIDER;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.PACKAGE_NAME1;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.PACKAGE_NAME2;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.RES_ID1;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.RES_ID2;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.USER_ID;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.assertAddMediaOperation;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getAndroidResourceUriString;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getCloudMediaCursor;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getDrawableMediaId;
 import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getLocalMediaCursor;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getMediaCategoriesCursor;
+import static com.android.providers.media.photopicker.util.PickerDbTestUtils.getPickerUriString;
 
 import static com.google.common.truth.Truth.assertWithMessage;
 
@@ -35,6 +46,7 @@ import android.content.Context;
 import android.database.Cursor;
 import android.net.Uri;
 import android.os.UserHandle;
+import android.provider.CloudMediaProviderContract;
 
 import androidx.test.InstrumentationRegistry;
 
@@ -43,7 +55,9 @@ import com.android.providers.media.photopicker.PickerSyncController;
 import com.android.providers.media.photopicker.data.PickerDatabaseHelper;
 import com.android.providers.media.photopicker.data.PickerDbFacade;
 import com.android.providers.media.photopicker.sync.PickerSyncLockManager;
+import com.android.providers.media.photopicker.v2.model.MediaGroup;
 import com.android.providers.media.photopicker.v2.sqlite.MediaGroupCursorUtils;
+import com.android.providers.media.photopicker.v2.sqlite.PickerSQLConstants;
 
 import org.junit.After;
 import org.junit.Before;
@@ -51,7 +65,10 @@ import org.junit.Test;
 import org.mockito.Mock;
 
 import java.io.File;
+import java.util.ArrayList;
+import java.util.Arrays;
 import java.util.List;
+import java.util.Locale;
 import java.util.Map;
 
 public class MediaGroupCursorUtilsTest {
@@ -227,4 +244,144 @@ public class MediaGroupCursorUtilsTest {
                 .that(actualUri)
                 .isEqualTo(cloudUri.toString());
     }
+
+    @Test
+    public void testGetCustomAndroidResourceUri_validMediaId_returnsAndroidId() {
+        final String mediaId = getDrawableMediaId(PACKAGE_NAME1, RES_ID1, USER_ID);
+        final String uriString = getAndroidResourceUriString(PACKAGE_NAME1, RES_ID1, USER_ID);
+        final Uri expectedUri = Uri.parse(uriString);
+        final Uri actualUri = MediaGroupCursorUtils.getCustomAndroidResourceUri(mediaId);
+
+        assertWithMessage("Unexpected uri returned.")
+                .that(actualUri)
+                .isEqualTo(expectedUri);
+    }
+
+    @Test
+    public void testGetCustomAndroidResourceUri_nullMediaId_returnsEmptyUri() {
+        final String mediaId = null;
+        final Uri actualUri = MediaGroupCursorUtils.getCustomAndroidResourceUri(mediaId);
+
+        assertWithMessage("Unexpected uri returned.")
+                .that(actualUri)
+                .isEqualTo(Uri.EMPTY);
+    }
+
+    @Test
+    public void testGetCustomAndroidResourceUri_inValidMediaId_returnsEmptyUri() {
+        // userId is missing
+        final String invalidMediaId = String.format(
+                Locale.ROOT,
+                "%s/%s",
+                PACKAGE_NAME1,
+                RES_ID1
+        );
+        final Uri actualUri = MediaGroupCursorUtils.getCustomAndroidResourceUri(invalidMediaId);
+
+        assertWithMessage("Unexpected uri returned.")
+                .that(actualUri)
+                .isEqualTo(Uri.EMPTY);
+    }
+
+    @Test
+    public void testGetMediaGroupCursorForCategories_forDeviceCategory_createsPickerUri() {
+        final String localAuthority = "local.authority";
+        Cursor categoryCursor = getMediaCategoriesCursor(
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+
+        Cursor mediaGroupCursor = MediaGroupCursorUtils.getMediaGroupCursorForCategories(
+                categoryCursor,
+                localAuthority,
+                1L,
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_DEVICE_FOLDERS);
+        assertWithMessage("Expected media group cursor to non null")
+                .that(mediaGroupCursor).isNotNull();
+        assertWithMessage("Unexpected number of rows found in media group cursor")
+                .that(mediaGroupCursor.getCount()).isEqualTo(1);
+
+        mediaGroupCursor.moveToFirst();
+        assertWithMessage("Unexpected media group")
+                .that(MediaGroup.valueOf(
+                        mediaGroupCursor.getString(mediaGroupCursor.getColumnIndexOrThrow(
+                                PickerSQLConstants
+                                        .MediaGroupResponseColumns.MEDIA_GROUP.getColumnName()))))
+                .isEqualTo(MediaGroup.CATEGORY);
+
+        final List<String> mediaCoverIdColumns = List.of(
+                PickerSQLConstants.MediaGroupResponseColumns.UNWRAPPED_COVER_URI.getColumnName(),
+                PickerSQLConstants.MediaGroupResponseColumns
+                        .ADDITIONAL_UNWRAPPED_COVER_URI_1.getColumnName(),
+                PickerSQLConstants.MediaGroupResponseColumns
+                        .ADDITIONAL_UNWRAPPED_COVER_URI_2.getColumnName(),
+                PickerSQLConstants.MediaGroupResponseColumns
+                        .ADDITIONAL_UNWRAPPED_COVER_URI_3.getColumnName()
+        );
+
+        List<String> expectedUnwrappedCoverUris = Arrays.asList(
+                getPickerUriString(LOCAL_ID_1, localAuthority, MY_USER_ID),
+                getPickerUriString(LOCAL_ID_2, localAuthority, MY_USER_ID),
+                null,
+                null
+        );
+        List<String> actualUnwrappedCoverUris = new ArrayList<>();
+        for (String columnName : mediaCoverIdColumns) {
+            final String mediaCoverId = mediaGroupCursor.getString(
+                    mediaGroupCursor.getColumnIndexOrThrow(columnName));
+            actualUnwrappedCoverUris.add(mediaCoverId);
+        }
+        assertWithMessage("Unexpected list of unwrapped cover uris found")
+                .that(actualUnwrappedCoverUris)
+                .containsExactlyElementsIn(expectedUnwrappedCoverUris);
+    }
+
+    @Test
+    public void testGetMediaGroupCursorForCategories_forAppCategory_createsAndroidResourceUri() {
+        final String localAuthority = "local.authority";
+        Cursor categoryCursor = getMediaCategoriesCursor(
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS);
+
+        Cursor mediaGroupCursor = MediaGroupCursorUtils.getMediaGroupCursorForCategories(
+                categoryCursor,
+                localAuthority,
+                1L,
+                CloudMediaProviderContract.MEDIA_CATEGORY_TYPE_APP_FOLDERS);
+        assertWithMessage("Expected media group cursor to non null")
+                .that(mediaGroupCursor).isNotNull();
+        assertWithMessage("Unexpected number of rows found in media group cursor")
+                .that(mediaGroupCursor.getCount()).isEqualTo(1);
+
+        mediaGroupCursor.moveToFirst();
+        assertWithMessage("Unexpected media group")
+                .that(MediaGroup.valueOf(
+                        mediaGroupCursor.getString(mediaGroupCursor.getColumnIndexOrThrow(
+                                PickerSQLConstants
+                                        .MediaGroupResponseColumns.MEDIA_GROUP.getColumnName()))))
+                .isEqualTo(MediaGroup.CATEGORY);
+
+        final List<String> mediaCoverIdColumns = List.of(
+                PickerSQLConstants.MediaGroupResponseColumns.UNWRAPPED_COVER_URI.getColumnName(),
+                PickerSQLConstants.MediaGroupResponseColumns
+                        .ADDITIONAL_UNWRAPPED_COVER_URI_1.getColumnName(),
+                PickerSQLConstants.MediaGroupResponseColumns
+                        .ADDITIONAL_UNWRAPPED_COVER_URI_2.getColumnName(),
+                PickerSQLConstants.MediaGroupResponseColumns
+                        .ADDITIONAL_UNWRAPPED_COVER_URI_3.getColumnName()
+        );
+
+        List<String> expectedUnwrappedCoverUris = Arrays.asList(
+                getAndroidResourceUriString(PACKAGE_NAME1, RES_ID1, USER_ID),
+                getAndroidResourceUriString(PACKAGE_NAME2, RES_ID2, USER_ID),
+                null,
+                null
+        );
+        List<String> actualUnwrappedCoverUris = new ArrayList<>();
+        for (String columnName : mediaCoverIdColumns) {
+            final String mediaCoverId = mediaGroupCursor.getString(
+                    mediaGroupCursor.getColumnIndexOrThrow(columnName));
+            actualUnwrappedCoverUris.add(mediaCoverId);
+        }
+        assertWithMessage("Unexpected list of unwrapped cover uris found")
+                .that(actualUnwrappedCoverUris)
+                .containsExactlyElementsIn(expectedUnwrappedCoverUris);
+    }
 }
diff --git a/tests/src/com/android/providers/media/photopicker/v2/sqlite/MediaProjectionTest.java b/tests/src/com/android/providers/media/photopicker/v2/sqlite/MediaProjectionTest.java
new file mode 100644
index 000000000..234eff4e4
--- /dev/null
+++ b/tests/src/com/android/providers/media/photopicker/v2/sqlite/MediaProjectionTest.java
@@ -0,0 +1,45 @@
+/*
+ * Copyright (C) 2024 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package com.android.providers.media.photopicker.v2;
+
+import static org.junit.Assert.assertEquals;
+
+import com.android.providers.media.photopicker.v2.sqlite.MediaProjection;
+
+import org.junit.Test;
+
+public class MediaProjectionTest {
+    @Test
+    public void testSQLToGetYearForItemsPerMonthQuery() {
+        String expectedSql = "STRFTIME('%Y', date_taken_ms / 1000, "
+                + "'unixepoch', 'localtime') AS year_taken";
+        assertEquals(expectedSql, MediaProjection.getYearForItemsPerMonthData());
+    }
+
+    @Test
+    public void testSQLToGetMonthForItemsPerMonthQuery() {
+        String expectedSql = "STRFTIME('%m', date_taken_ms / 1000, "
+                + "'unixepoch', 'localtime') AS month_taken";
+        assertEquals(expectedSql, MediaProjection.getMonthForItemsPerMonthData());
+    }
+
+    @Test
+    public void testSQLToGetItemCountForItemsPerMonthQuery() {
+        String expectedSql = "COUNT(*) AS item_count";
+        assertEquals(expectedSql, MediaProjection.getItemsPerMonthCount());
+    }
+}
diff --git a/tests/src/com/android/providers/media/scan/ModernMediaScannerTest.java b/tests/src/com/android/providers/media/scan/ModernMediaScannerTest.java
index a87af175b..c41dbe442 100644
--- a/tests/src/com/android/providers/media/scan/ModernMediaScannerTest.java
+++ b/tests/src/com/android/providers/media/scan/ModernMediaScannerTest.java
@@ -909,7 +909,8 @@ public class ModernMediaScannerTest {
                 "/storage/emulated/0/albumart1.jpg",
         }) {
             final File file = new File(path);
-            assertEquals(LegacyMediaScannerTest.isNonMediaFile(path), mModern.isFileAlbumArt(file));
+            assertEquals(LegacyMediaScannerTest.isNonMediaFile(path),
+                    FileUtils.isFileAlbumArt(file));
         }
 
         for (String path : new String[] {
@@ -917,7 +918,7 @@ public class ModernMediaScannerTest {
                 "/storage/emulated/0/albumartlarge.jpg",
         }) {
             final File file = new File(path);
-            assertTrue(mModern.isFileAlbumArt(file));
+            assertTrue(FileUtils.isFileAlbumArt(file));
         }
     }
 
diff --git a/tests/src/com/android/providers/media/util/ExifUtilsTest.java b/tests/src/com/android/providers/media/util/ExifUtilsTest.java
index 6af0eac74..afcf27eac 100644
--- a/tests/src/com/android/providers/media/util/ExifUtilsTest.java
+++ b/tests/src/com/android/providers/media/util/ExifUtilsTest.java
@@ -16,19 +16,32 @@
 
 package com.android.providers.media.util;
 
+import static org.junit.Assert.assertEquals;
+
 import android.media.ExifInterface;
 
+import org.junit.AfterClass;
 import org.junit.Test;
 
 import java.io.File;
 import java.util.concurrent.CountDownLatch;
+import java.util.concurrent.ExecutorService;
+import java.util.concurrent.Executors;
 import java.util.concurrent.TimeUnit;
 import java.util.concurrent.atomic.AtomicInteger;
 import java.util.function.ToLongFunction;
 
-import static org.junit.Assert.assertEquals;
-
 public class ExifUtilsTest {
+
+    private static final int sThreadCount = 5;
+    private static final ExecutorService mExecutorService = Executors.newFixedThreadPool(
+            sThreadCount);
+
+    @AfterClass
+    public static void tearDown() throws Exception {
+        mExecutorService.shutdownNow();
+    }
+
     @Test
     public void testConstructor() {
         new ExifUtils();
@@ -69,23 +82,19 @@ public class ExifUtilsTest {
         return exif;
     }
 
-    private void assertParseDateTime(ExifInterface exif, ToLongFunction<ExifInterface> func) {
-        final int numOfThreads = 5;
-        final CountDownLatch latch = new CountDownLatch(numOfThreads);
-        final AtomicInteger count = new AtomicInteger(numOfThreads);
+    private void assertParseDateTime(ExifInterface exif, ToLongFunction<ExifInterface> func)
+            throws InterruptedException {
+        final CountDownLatch latch = new CountDownLatch(sThreadCount);
+        final AtomicInteger count = new AtomicInteger(sThreadCount);
 
-        for (int i = 0; i < numOfThreads; i++) {
-            new Thread(() -> {
+        for (int i = 0; i < sThreadCount; i++) {
+            mExecutorService.submit(() -> {
                 if (parseDateTime(exif, func)) count.decrementAndGet();
                 latch.countDown();
-            }).start();
-        }
-
-        try {
-            latch.await(10, TimeUnit.SECONDS);
-        } catch (InterruptedException ignored) {
+            });
         }
 
+        latch.await(40, TimeUnit.SECONDS);
         assertEquals(0, count.get());
     }
 
diff --git a/tests/src/com/android/providers/media/util/FileUtilsTest.java b/tests/src/com/android/providers/media/util/FileUtilsTest.java
index 637d4be80..089374216 100644
--- a/tests/src/com/android/providers/media/util/FileUtilsTest.java
+++ b/tests/src/com/android/providers/media/util/FileUtilsTest.java
@@ -71,22 +71,29 @@ import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.fail;
 
 import android.content.ContentValues;
+import android.os.Build;
 import android.os.Environment;
 import android.os.SystemProperties;
 import android.os.UserHandle;
+import android.platform.test.annotations.EnableFlags;
+import android.platform.test.flag.junit.SetFlagsRule;
 import android.provider.MediaStore;
 import android.provider.MediaStore.Audio.AudioColumns;
 import android.provider.MediaStore.MediaColumns;
 import android.text.TextUtils;
 
 import androidx.test.InstrumentationRegistry;
+import androidx.test.filters.SdkSuppress;
 import androidx.test.runner.AndroidJUnit4;
 
+import com.android.providers.media.flags.Flags;
+
 import com.google.common.collect.Range;
 
 import org.junit.After;
 import org.junit.Assume;
 import org.junit.Before;
+import org.junit.Rule;
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
@@ -103,6 +110,9 @@ import java.util.Optional;
 
 @RunWith(AndroidJUnit4.class)
 public class FileUtilsTest {
+    @Rule
+    public final SetFlagsRule mSetFlagsRule = new SetFlagsRule();
+
     // Exposing here since it is also used by MediaProviderTest.java
     public static final int MAX_FILENAME_BYTES = FileUtils.MAX_FILENAME_BYTES;
 
@@ -1364,4 +1374,25 @@ public class FileUtilsTest {
             }
         }
     }
+
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.S)
+    @EnableFlags(Flags.FLAG_ENABLE_PATH_SANITIZATION)
+    public void testNormalizeAndFilterDefaultIgnorableCodepoints() {
+        String pathWithZws = "/storage/emulated/0/An\u200Bdroid/data/com.google.example/files";
+        String pathWithZwsFiltered = "/storage/emulated/0/Android/data/com.google.example/files";
+        String emojiForNumber4 = "4\uFE0F";
+        String emojiForNUmber4Filtered = "4";
+
+        assertDefaultIgnorablesFiltered(pathWithZws, pathWithZwsFiltered);
+        assertDefaultIgnorablesFiltered(emojiForNumber4, emojiForNUmber4Filtered);
+    }
+
+    private static void assertDefaultIgnorablesFiltered(String pathWithIgnorables,
+            String pathWithIgnorablesRemoved) {
+        String normalizedAndFilteredPath =
+                FileUtils.normalizeAndFilterDefaultIgnorableCodepoints(pathWithIgnorables);
+
+        assertEquals(pathWithIgnorablesRemoved, normalizedAndFilteredPath);
+    }
 }
diff --git a/tests/src/com/android/providers/media/util/MimeTypeFixHandlerTest.java b/tests/src/com/android/providers/media/util/MimeTypeFixHandlerTest.java
index 738d2008e..a44806833 100644
--- a/tests/src/com/android/providers/media/util/MimeTypeFixHandlerTest.java
+++ b/tests/src/com/android/providers/media/util/MimeTypeFixHandlerTest.java
@@ -154,6 +154,11 @@ public class MimeTypeFixHandlerTest {
                         assertEquals("text/javascript", mimeType);
                         assertEquals(FileColumns.MEDIA_TYPE_DOCUMENT, mediaType);
                         break;
+                    case 4: // hidden parent case
+                    case 5: // hidden jpeg file
+                        assertEquals(ClipDescription.MIMETYPE_UNKNOWN, mimeType);
+                        assertEquals(FileColumns.MEDIA_TYPE_NONE, mediaType);
+                        break;
                     default:
                         fail("Unexpected _ID: " + id);
                 }
@@ -186,6 +191,11 @@ public class MimeTypeFixHandlerTest {
                         assertEquals("application/ecmascript", mimeType);
                         assertEquals(FileColumns.MEDIA_TYPE_NONE, mediaType);
                         break;
+                    case 4: // hidden parent case
+                    case 5: // hidden jpeg file
+                        assertEquals("image/jpeg", mimeType);
+                        assertEquals(FileColumns.MEDIA_TYPE_NONE, mediaType);
+                        break;
                     default:
                         fail("Unexpected _ID: " + id);
                 }
@@ -237,6 +247,22 @@ public class MimeTypeFixHandlerTest {
         String ecamascriptFileName = "file1.es";
         insertFileRecord("/path/" + ecamascriptFileName, "text/javascript",
                 FileColumns.MEDIA_TYPE_DOCUMENT, ecamascriptFileName);
+
+        // jpeg file in hidden parent tree
+        // add mime-type intentionally as MIMETYPE_UNKNOWN
+        // so that MimeTypeFixHandler.updateUnsupportedMimeTypes will treat this as a corrupted item
+        String hiddenParentTreeJpegFileName = "image4.jpeg";
+        insertFileRecord("/path/.hiddenPhotos/" + hiddenParentTreeJpegFileName,
+                ClipDescription.MIMETYPE_UNKNOWN, FileColumns.MEDIA_TYPE_NONE,
+                hiddenParentTreeJpegFileName);
+
+        // jpeg file in hidden parent tree
+        // add mime-type intentionally as MIMETYPE_UNKNOWN
+        // so that MimeTypeFixHandler.updateUnsupportedMimeTypes will treat this as a corrupted item
+        String hiddenJpegFileName = ".image5.jpeg";
+        insertFileRecord("/path/" + hiddenJpegFileName,
+                ClipDescription.MIMETYPE_UNKNOWN, FileColumns.MEDIA_TYPE_NONE,
+                hiddenJpegFileName);
     }
 
     private void insertFileRecord(String data, String mimeType, int mediaType, String displayName) {
diff --git a/tests/src/com/android/providers/media/util/PermissionUtilsTest.java b/tests/src/com/android/providers/media/util/PermissionUtilsTest.java
index 7eb6c667b..3dd89a9bc 100644
--- a/tests/src/com/android/providers/media/util/PermissionUtilsTest.java
+++ b/tests/src/com/android/providers/media/util/PermissionUtilsTest.java
@@ -19,7 +19,9 @@ package com.android.providers.media.util;
 import static android.Manifest.permission.MANAGE_APP_OPS_MODES;
 import static android.Manifest.permission.MANAGE_EXTERNAL_STORAGE;
 import static android.Manifest.permission.MANAGE_MEDIA;
+import static android.Manifest.permission.READ_EXTERNAL_STORAGE;
 import static android.Manifest.permission.UPDATE_APP_OPS_STATS;
+import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;
 import static android.app.AppOpsManager.OPSTR_ACCESS_MEDIA_LOCATION;
 import static android.app.AppOpsManager.OPSTR_LEGACY_STORAGE;
 import static android.app.AppOpsManager.OPSTR_NO_ISOLATED_STORAGE;
@@ -35,6 +37,8 @@ import static android.app.AppOpsManager.OPSTR_WRITE_MEDIA_VIDEO;
 import static androidx.test.InstrumentationRegistry.getContext;
 import static androidx.test.core.app.ApplicationProvider.getApplicationContext;
 
+import static com.android.providers.media.LocalCallingIdentity.clearAppOpsResolvedCache;
+import static com.android.providers.media.LocalCallingIdentity.clearAppOpsResolvedCacheForUid;
 import static com.android.providers.media.util.PermissionUtils.checkAppOpRequestInstallPackagesForSharedUid;
 import static com.android.providers.media.util.PermissionUtils.checkIsLegacyStorageGranted;
 import static com.android.providers.media.util.PermissionUtils.checkNoIsolatedStorageGranted;
@@ -58,6 +62,7 @@ import static com.android.providers.media.util.PermissionUtils.checkPermissionWr
 import static com.android.providers.media.util.PermissionUtils.checkPermissionWriteStorage;
 import static com.android.providers.media.util.PermissionUtils.checkPermissionWriteVideo;
 import static com.android.providers.media.util.PermissionUtils.checkWriteImagesOrVideoAppOps;
+import static com.android.providers.media.LocalCallingIdentity.shouldNoteAppOp;
 import static com.android.providers.media.util.TestUtils.adoptShellPermission;
 import static com.android.providers.media.util.TestUtils.dropShellPermission;
 
@@ -71,17 +76,23 @@ import android.content.pm.PackageManager;
 import android.os.Build;
 import android.os.Process;
 import android.os.SystemClock;
+import android.platform.test.annotations.EnableFlags;
+import android.platform.test.flag.junit.SetFlagsRule;
 
 import androidx.test.filters.SdkSuppress;
 import androidx.test.runner.AndroidJUnit4;
 
 import com.android.cts.install.lib.TestApp;
+import com.android.providers.media.flags.Flags;
 
+import org.junit.Rule;
 import org.junit.Test;
 import org.junit.runner.RunWith;
 
 @RunWith(AndroidJUnit4.class)
 public class PermissionUtilsTest {
+    @Rule
+    public final SetFlagsRule mSetFlagsRule = new SetFlagsRule();
     private static final TestApp TEST_APP_WITH_STORAGE_PERMS = new TestApp(
             "TestAppWithStoragePerms",
             "com.android.providers.media.testapp.withstorageperms", 1, false,
@@ -349,6 +360,63 @@ public class PermissionUtilsTest {
         }
     }
 
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.S)
+    @EnableFlags(Flags.FLAG_ENABLE_APPOP_PERMISSION_CHECKS_CACHE)
+    public void testShouldNoteOpWithCacheEnabled() throws Exception {
+        String packageName = TEST_APP_WITHOUT_PERMS.getPackageName();
+        int testAppUid = getContext().getPackageManager().getPackageUid(packageName, 0);
+        adoptShellPermission(UPDATE_APP_OPS_STATS);
+
+        try {
+            assertThat(shouldNoteAppOp(testAppUid, MANAGE_MEDIA)).isTrue();
+            assertThat(
+                    checkPermissionManageMedia(getContext(), TEST_APP_PID, testAppUid, packageName,
+                            null)).isFalse();
+            assertThat(shouldNoteAppOp(testAppUid, MANAGE_MEDIA)).isFalse();
+
+            assertThat(shouldNoteAppOp(testAppUid, WRITE_EXTERNAL_STORAGE)).isTrue();
+            assertThat(
+                    checkPermissionWriteStorage(getContext(), TEST_APP_PID, testAppUid, packageName,
+                            null)).isFalse();
+            assertThat(shouldNoteAppOp(testAppUid, WRITE_EXTERNAL_STORAGE)).isFalse();
+
+            assertThat(shouldNoteAppOp(testAppUid, READ_EXTERNAL_STORAGE)).isTrue();
+            assertThat(
+                    checkPermissionReadStorage(getContext(), TEST_APP_PID, testAppUid, packageName,
+                            null)).isFalse();
+            assertThat(shouldNoteAppOp(testAppUid, READ_EXTERNAL_STORAGE)).isFalse();
+
+            clearAppOpsResolvedCache();
+        } finally {
+            dropShellPermission();
+        }
+    }
+
+    @Test
+    @SdkSuppress(minSdkVersion = Build.VERSION_CODES.S)
+    @EnableFlags(Flags.FLAG_ENABLE_APPOP_PERMISSION_CHECKS_CACHE)
+    public void testClearAppOpsResolvedCacheForUid() throws Exception {
+        String packageName = TEST_APP_WITHOUT_PERMS.getPackageName();
+        int testAppUid = getContext().getPackageManager().getPackageUid(packageName, 0);
+        adoptShellPermission(UPDATE_APP_OPS_STATS);
+
+        try {
+            assertThat(shouldNoteAppOp(testAppUid, MANAGE_MEDIA)).isTrue();
+            assertThat(
+                    checkPermissionManageMedia(getContext(), TEST_APP_PID, testAppUid, packageName,
+                            null)).isFalse();
+            assertThat(shouldNoteAppOp(testAppUid, MANAGE_MEDIA)).isFalse();
+
+            clearAppOpsResolvedCacheForUid(testAppUid);
+            assertThat(shouldNoteAppOp(testAppUid, MANAGE_MEDIA)).isTrue();
+
+            clearAppOpsResolvedCache();
+        } finally {
+            dropShellPermission();
+        }
+    }
+
     @Test
     public void testDefaultPermissionsOnLegacyTestApp() throws Exception {
         String packageName = LEGACY_TEST_APP.getPackageName();
diff --git a/tools/photopicker/res/values-fa/strings.xml b/tools/photopicker/res/values-fa/strings.xml
index 0f946469c..8aa620a39 100644
--- a/tools/photopicker/res/values-fa/strings.xml
+++ b/tools/photopicker/res/values-fa/strings.xml
@@ -17,5 +17,5 @@
 
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="picker_launch_tab_option" msgid="9190702440227174597">"   "</string>
+    <string name="picker_launch_tab_option" msgid="9190702440227174597">"   "</string>
 </resources>
diff --git a/tools/photopickerV2/res/values-fa/strings.xml b/tools/photopickerV2/res/values-fa/strings.xml
index 48ffb6877..e0349dfae 100644
--- a/tools/photopickerV2/res/values-fa/strings.xml
+++ b/tools/photopickerV2/res/values-fa/strings.xml
@@ -1,11 +1,11 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <resources xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
-    <string name="app_name" msgid="7491502461683057858">"    "</string>
-    <string name="tab_photopicker" msgid="539892295679626089">" "</string>
+    <string name="app_name" msgid="7491502461683057858">"    "</string>
+    <string name="tab_photopicker" msgid="539892295679626089">" "</string>
     <string name="tab_docsui" msgid="3160259263092034827">"  "</string>
-    <string name="tab_pickerchoice" msgid="4712185277128670984">" "</string>
-    <string name="title_photopicker" msgid="3154038243490840415">"   "</string>
+    <string name="tab_pickerchoice" msgid="4712185277128670984">" "</string>
+    <string name="title_photopicker" msgid="3154038243490840415">"   "</string>
     <string name="pick_images" msgid="5326258471545526911">" "</string>
     <string name="action_get_content" msgid="4319210475508093083">"    "</string>
     <string name="open_document" msgid="8593796561386540777">"  "</string>
@@ -27,7 +27,7 @@
     <string name="enable_preselection" msgid="2266294242249606873">"  "</string>
     <string name="request_permissions" msgid="8271143604678594856">" "</string>
     <string name="request_permissions_for" msgid="7533381244454184499">"  :"</string>
-    <string name="picker_choice_unsupported" msgid="9174726575940583917">"       Android U    . \n\n         ."</string>
+    <string name="picker_choice_unsupported" msgid="9174726575940583917">"       Android U    . \n\n         ."</string>
     <string name="images" msgid="4986074635830919568">""</string>
     <string name="videos" msgid="4638519191891522146">""</string>
     <string name="both_images_and_videos" msgid="8279890829701511638">"    "</string>
```

