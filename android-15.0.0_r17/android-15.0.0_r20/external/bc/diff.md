```diff
diff --git a/.clang-format b/.clang-format
index 845db62a..4f5cd4ee 100644
--- a/.clang-format
+++ b/.clang-format
@@ -96,7 +96,6 @@ JavaImportGroups: []
 JavaScriptQuotes: Double
 JavaScriptWrapImports: true
 KeepEmptyLinesAtTheStartOfBlocks: false
-Language: Cpp
 MacroBlockBegin: ''
 MacroBlockEnd:   ''
 MaxEmptyLinesToKeep: 1
diff --git a/.gitignore b/.gitignore
index d2b57124..b3972acf 100644
--- a/.gitignore
+++ b/.gitignore
@@ -9,7 +9,15 @@ bin/*bc
 bin/*bc.exe
 bin/*dc
 bin/*dc.exe
+bin/bc_fuzzer_c
+bin/bc_fuzzer_C
+bin/dc_fuzzer_c
+bin/dc_fuzzer_C
 bin/bcl
+bc_fuzzer_c
+bc_fuzzer_C
+dc_fuzzer_c
+dc_fuzzer_C
 bc.old
 *.o
 *.a
diff --git a/Android.bp b/Android.bp
index 5219c5a0..1eb68ba8 100644
--- a/Android.bp
+++ b/Android.bp
@@ -16,83 +16,89 @@ license {
 }
 
 cc_defaults {
-  name: "bc-defaults",
+    name: "bc-defaults",
 
-  cflags: [
-    "-include bc-version.h",
-    "-DBC_ENABLED=1",
-    "-DDC_ENABLED=0",
-    "-DBC_ENABLE_EXTRA_MATH=0",
-    "-DBC_ENABLE_HISTORY=0",
-    "-DBC_ENABLE_NLS=0",
-    "-Os",
-  ],
-  generated_headers: ["bc-version.h"],
-  local_include_dirs: ["include"],
-  srcs: [
-    "src/bc/*.c",
-    "src/*.c",
-    ":bc-bc_help.c",
-    ":bc-lib.c",
-  ],
-  stl: "none",
+    // Upstream explicitly builds with c99 rather than cc.
+    c_std: "gnu99",
+    cflags: [
+        "-include bc-version.h",
+        "-DBC_ENABLED=1",
+        "-DDC_ENABLED=0",
+        "-DBC_ENABLE_EXTRA_MATH=0",
+        "-DBC_ENABLE_HISTORY=0",
+        "-DBC_ENABLE_NLS=0",
+        "-Os",
+    ],
+    generated_headers: ["bc-version.h"],
+    local_include_dirs: ["include"],
+    srcs: [
+        "src/bc/*.c",
+        "src/*.c",
+        ":bc-bc_help.c",
+        ":bc-lib.c",
+    ],
+    exclude_srcs: [
+        "src/bc_fuzzer.c",
+        "src/dc_fuzzer.c",
+    ],
+    stl: "none",
 }
 
 cc_binary_host {
-  name: "strgen",
-  local_include_dirs: ["include"],
-  srcs: ["gen/strgen.c"],
+    name: "strgen",
+    local_include_dirs: ["include"],
+    srcs: ["gen/strgen.c"],
 }
 
 genrule {
-  name: "bc-lib.c",
-  srcs: ["gen/lib.bc"],
-  out: ["gen/lib.c"],
-  tools: ["strgen"],
-  cmd: "$(location strgen) $(in) $(out) 0 bc_lib bc_lib_name BC_ENABLED 1",
+    name: "bc-lib.c",
+    srcs: ["gen/lib.bc"],
+    out: ["gen/lib.c"],
+    tools: ["strgen"],
+    cmd: "$(location strgen) $(in) $(out) 0 bc_lib bc_lib_name BC_ENABLED 1",
 }
 
 genrule {
-  name: "bc-bc_help.c",
-  srcs: ["gen/bc_help.txt"],
-  out: ["gen/bc_help.c"],
-  tools: ["strgen"],
-  cmd: "$(location strgen) $(in) $(out) 0 bc_help '' BC_ENABLED",
+    name: "bc-bc_help.c",
+    srcs: ["gen/bc_help.txt"],
+    out: ["gen/bc_help.c"],
+    tools: ["strgen"],
+    cmd: "$(location strgen) $(in) $(out) 0 bc_help '' BC_ENABLED",
 }
 
 genrule {
-  name: "bc-version.h",
-  srcs: ["Makefile.in"],
-  out: ["bc-version.h"],
-  cmd: "sed -n 's/VERSION = /#define VERSION /p' $(in) > $(out)",
+    name: "bc-version.h",
+    srcs: ["Makefile.in"],
+    out: ["bc-version.h"],
+    cmd: "sed -n 's/VERSION = /#define VERSION /p' $(in) > $(out)",
 }
 
 cc_binary {
-  name: "bc",
-  defaults: ["bc-defaults"],
+    name: "bc",
+    defaults: ["bc-defaults"],
 }
 
 cc_binary {
-  name: "bc_vendor",
-  defaults: ["bc-defaults"],
-  stem: "bc",
-  vendor: true,
+    name: "bc_vendor",
+    defaults: ["bc-defaults"],
+    stem: "bc",
+    vendor: true,
 }
 
 cc_binary_host {
-  name: "gavinhoward-bc",
-  defaults: ["bc-defaults"],
+    name: "gavinhoward-bc",
+    defaults: ["bc-defaults"],
 }
 
 sh_test {
-  name: "bc-tests",
-  src: "run-bc-tests-on-android.sh",
-  filename: "run-bc-tests-on-android.sh",
-  test_suites: ["general-tests"],
-  host_supported: true,
-  device_supported: false,
-  data: [
-    "scripts/*.sh",
-    "tests/**/*",
-  ],
+    name: "bc-tests",
+    src: "run-bc-tests-on-android.sh",
+    filename: "run-bc-tests-on-android.sh",
+    test_suites: ["general-tests"],
+    host_supported: true,
+    device_supported: false,
+    data: [
+        "scripts/*.sh",
+        "tests/**/*",
+    ],
 }
diff --git a/LICENSE.md b/LICENSE.md
index 74441065..c8f6758e 100644
--- a/LICENSE.md
+++ b/LICENSE.md
@@ -1,6 +1,6 @@
 # License
 
-Copyright (c) 2018-2023 Gavin D. Howard <gavin@gavinhoward.com>
+Copyright (c) 2018-2024 Gavin D. Howard <gavin@gavinhoward.com>
 
 Redistribution and use in source and binary forms, with or without modification,
 are permitted provided that the following conditions are met:
@@ -60,7 +60,7 @@ The files `src/rand.c` and `include/rand.h` are under the following copyrights
 and license:
 
 Copyright (c) 2014-2017 Melissa O'Neill and PCG Project contributors<br>
-Copyright (c) 2018-2023 Gavin D. Howard <gavin@gavinhoward.com>
+Copyright (c) 2018-2024 Gavin D. Howard <gavin@gavinhoward.com>
 
 Permission is hereby granted, free of charge, to any person obtaining a copy of
 this software and associated documentation files (the "Software"), to deal in
diff --git a/MEMORY_BUGS.md b/MEMORY_BUGS.md
index 12e0b854..2e41ad3d 100644
--- a/MEMORY_BUGS.md
+++ b/MEMORY_BUGS.md
@@ -23,6 +23,13 @@ existed in.
 
   The first version without this bug is `6.0.2`.
 
+* In versions `3.0.0` until `6.7.5` (inclusive) of `bc` and `dc`, there is a
+  possible out-of-bounds read when there is an error flushing `stdout` on exit
+  because such an error would cause `bc` and `dc` to attempt to use a `jmp_buf`
+  when none exists.
+
+  The first version without this bug is `6.7.6`.
+
 * In versions `5.0.0` until `6.0.4` (inclusive) of `bc`, there is an
   out-of-bounds access if a non-local (non-`auto`) variable is set to a string
   with `asciify()`, then the function is redefined with a use of the same
diff --git a/METADATA b/METADATA
index d56b2172..14245cef 100644
--- a/METADATA
+++ b/METADATA
@@ -1,19 +1,19 @@
 # This project was upgraded with external_updater.
-# Usage: tools/external_updater/updater.sh update bc
-# For more info, check https://cs.android.com/android/platform/superproject/+/main:tools/external_updater/README.md
+# Usage: tools/external_updater/updater.sh update external/bc
+# For more info, check https://cs.android.com/android/platform/superproject/main/+/main:tools/external_updater/README.md
 
 name: "bc"
 description: "An implementation of the POSIX bc calculator with GNU extensions and dc."
 third_party {
-  url {
-    type: GIT
-    value: "https://github.com/gavinhoward/bc"
-  }
-  version: "6.6.1"
   license_type: NOTICE
   last_upgrade_date {
-    year: 2023
-    month: 9
-    day: 29
+    year: 2024
+    month: 10
+    day: 30
+  }
+  identifier {
+    type: "Git"
+    value: "https://github.com/gavinhoward/bc"
+    version: "7.0.3"
   }
 }
diff --git a/Makefile.in b/Makefile.in
index e1309cd6..c63dc242 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -1,7 +1,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -94,6 +94,10 @@ BC = bc
 DC = dc
 BC_EXEC = $(BIN)/$(EXEC_PREFIX)$(BC)
 DC_EXEC = $(BIN)/$(EXEC_PREFIX)$(DC)
+BC_FUZZER = $(BIN)/$(BC)_fuzzer_c
+BC_FUZZER_C = $(BIN)/$(BC)_fuzzer_C
+DC_FUZZER = $(BIN)/$(DC)_fuzzer_c
+DC_FUZZER_C = $(BIN)/$(DC)_fuzzer_C
 
 BC_TEST_OUTPUTS = tests/bc_outputs
 BC_FUZZ_OUTPUTS = tests/fuzzing/bc_outputs1 tests/fuzzing/bc_outputs2 tests/fuzzing/bc_outputs3
@@ -149,8 +153,11 @@ BC_ENABLE_NLS = %%NLS%%
 BC_EXCLUDE_EXTRA_MATH = %%EXCLUDE_EXTRA_MATH%%
 
 BC_ENABLE_AFL = %%FUZZ%%
+BC_ENABLE_OSSFUZZ = %%OSSFUZZ%%
 BC_ENABLE_MEMCHECK = %%MEMCHECK%%
 
+LIB_FUZZING_ENGINE = %%LIB_FUZZING_ENGINE%%
+
 BC_DEFAULT_BANNER = %%BC_DEFAULT_BANNER%%
 BC_DEFAULT_SIGINT_RESET = %%BC_DEFAULT_SIGINT_RESET%%
 DC_DEFAULT_SIGINT_RESET = %%DC_DEFAULT_SIGINT_RESET%%
@@ -210,7 +217,8 @@ CPPFLAGS5 = $(CPPFLAGS4) -DBC_NUM_KARATSUBA_LEN=$(BC_NUM_KARATSUBA_LEN)
 CPPFLAGS6 = $(CPPFLAGS5) -DBC_ENABLE_NLS=$(BC_ENABLE_NLS)
 CPPFLAGS7 = $(CPPFLAGS6) -D$(BC_ENABLE_EXTRA_MATH_NAME)=$(BC_ENABLE_EXTRA_MATH)
 CPPFLAGS8 = $(CPPFLAGS7) -DBC_ENABLE_HISTORY=$(BC_ENABLE_HISTORY) -DBC_ENABLE_LIBRARY=$(BC_ENABLE_LIBRARY)
-CPPFLAGS = $(CPPFLAGS8) -DBC_ENABLE_MEMCHECK=$(BC_ENABLE_MEMCHECK) -DBC_ENABLE_AFL=$(BC_ENABLE_AFL)
+CPPFLAGS9 = $(CPPFLAGS8) -DBC_ENABLE_MEMCHECK=$(BC_ENABLE_MEMCHECK) -DBC_ENABLE_AFL=$(BC_ENABLE_AFL)
+CPPFLAGS = $(CPPFLAGS9) -DBC_ENABLE_OSSFUZZ=$(BC_ENABLE_OSSFUZZ)
 CFLAGS = $(CPPFLAGS) $(BC_DEFS) $(DC_DEFS) %%CPPFLAGS%% %%CFLAGS%%
 LDFLAGS = %%LDFLAGS%%
 
diff --git a/NEWS.md b/NEWS.md
index 28639ea5..dc2425a5 100644
--- a/NEWS.md
+++ b/NEWS.md
@@ -1,5 +1,82 @@
 # News
 
+## 7.0.3
+
+This is a production release that fixes build warnings on the musl libc.
+
+Other users do ***NOT*** need to upgrade.
+
+## 7.0.2
+
+This is a production release that fixes `Ctrl+d` on FreeBSD and Linux when using
+`editline`.
+
+This bug was caused by the macOS fix in `7.0.0`. Unfortunately, this means that
+macOS does not respond properly to `Ctrl+d`.
+
+## 7.0.1
+
+This is a production release that fixes a warning using GCC on FreeBSD.
+
+Other users do ***NOT*** need to upgrade.
+
+## 7.0.0
+
+This is a production release to fix three bugs.
+
+The first bug is that `bc`/`dc` will exit on macOS when the terminal is resized.
+
+The second bug is that an array, which should only be a function parameter, was
+accepted as part of larger expressions.
+
+The third bug is that value stack for `dc` was cleared on any error. However,
+this is not how other `dc` behave. To bring `dc` more in line with other
+implementations, this behavior was changed. This change is why this version is a
+new major version.
+
+## 6.7.6
+
+This is a production release to fix one bug.
+
+The bug was that `bc` attempted to jump out when flushing `stdout` on exit, but
+there is no jump buf at that point.
+
+## 6.7.5
+
+This is a production release to fix one small bug.
+
+The bug is that sometimes numbers are printed to incorrect line lengths. The
+number is always correct; the line is just longer than the limit.
+
+Users who do not care do not need to update.
+
+## 6.7.4
+
+This is a production release to fix problems in the `bc` manual.
+
+Users only need to update if desired.
+
+## 6.7.3
+
+This is a production release to fix the library build on Mac OSX.
+
+Users on other platforms do *not* need to update.
+
+## 6.7.2
+
+This is a production release to remove some debugging code that I accidentally
+committed.
+
+## 6.7.1
+
+This is a production release with a bug fix for `SIGINT` only being handled
+once.
+
+## 6.7.0
+
+This is a production release with three new functions in the [extended math
+library][16]: `min()`, `max()`, and `i2rand()`.
+
 ## 6.6.1
 
 This is a production release with an improved `p()` function in the [extended
@@ -758,7 +835,7 @@ function, `strdup()`, which is not in POSIX 2001, and it is in the X/Open System
 Interfaces group 2001. It is, however, in POSIX 2008, and since POSIX 2008 is
 old enough to be supported anywhere that I care, that should be the requirement.
 
-Second, the BcVm global variable was put into `bss`. This actually slightly
+Second, the `BcVm` global variable was put into `bss`. This actually slightly
 reduces the size of the executable from a massive code shrink, and it will stop
 `bc` from allocating a large set of memory when `bc` starts.
 
diff --git a/NOTICE.md b/NOTICE.md
index c0d3ded5..35536b2c 100644
--- a/NOTICE.md
+++ b/NOTICE.md
@@ -1,6 +1,6 @@
 # Notice
 
-Copyright 2018-2023 Gavin D. Howard and contributors.
+Copyright 2018-2024 Gavin D. Howard and contributors.
 
 ## Contributors
 
diff --git a/README.md b/README.md
index 943ca89e..3b175779 100644
--- a/README.md
+++ b/README.md
@@ -48,7 +48,7 @@ POSIX-compatible systems that are known to work:
 * FreeBSD
 * OpenBSD
 * NetBSD
-* Mac OSX
+* macOS
 * Solaris* (as long as the Solaris version supports POSIX 2008)
 * AIX
 * HP-UX* (except for history)
@@ -347,6 +347,8 @@ that is because it is more robust. See the [benchmarks][19].
 Below is a non-comprehensive list of extensions that this `bc` and `dc` have
 that all others do not.
 
+* **The `!` operator has higher precedence than the `!` operator in other `bc`
+  implementations.**
 * An extended math library. (See [here][30] for more information.)
 * A command-line prompt.
 * Turning on and off digit clamping. (Digit clamping is about how to treat
@@ -427,9 +429,11 @@ Other projects based on this bc are:
 * [FreeBSD `bc`][23]. While the `bc` in FreeBSD is kept up-to-date, it is better
   to [report bugs there][24], as well as [submit patches][25], and the
   maintainers of the package will contact me if necessary.
-* [Mac OSX `bc`][35]. Any bugs in that `bc` should be reported to me, but do
+* [macOS `bc`][35]. Any bugs in that `bc` should be reported to me, but do
   expect bugs because the version is old.
 * [Android Open Source `bc`][32]. Any bugs in that `bc` can be reported here.
+* [A Fedora package][36]. If this package does not have any patches, you can
+  report bugs to me.
 
 This is a non-comprehensive list of Linux distros that use this `bc` as the
 system `bc`:
@@ -514,3 +518,4 @@ Folders:
 [33]: https://github.com/gentoo/gentoo/blob/master/app-alternatives/bc/bc-0.ebuild#L8
 [34]: https://www.linuxfromscratch.org/lfs/view/stable/chapter08/bc.html
 [35]: https://github.com/apple-oss-distributions/bc/tree/main/bc
+[36]: https://copr.fedorainfracloud.org/coprs/tkbcopr/bc-gh/
diff --git a/benchmarks/bc/arrays.bc b/benchmarks/bc/arrays.bc
index 3f1a2d9f..9cff1fbe 100644
--- a/benchmarks/bc/arrays.bc
+++ b/benchmarks/bc/arrays.bc
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/benchmarks/bc/arrays_and_constants.bc b/benchmarks/bc/arrays_and_constants.bc
index 9abdbd2c..d156fda9 100644
--- a/benchmarks/bc/arrays_and_constants.bc
+++ b/benchmarks/bc/arrays_and_constants.bc
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/benchmarks/bc/constants.bc b/benchmarks/bc/constants.bc
index 707e6428..111b0812 100644
--- a/benchmarks/bc/constants.bc
+++ b/benchmarks/bc/constants.bc
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/benchmarks/bc/functions.bc b/benchmarks/bc/functions.bc
index b684e725..90b9a4ab 100644
--- a/benchmarks/bc/functions.bc
+++ b/benchmarks/bc/functions.bc
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/benchmarks/bc/newton_raphson_div_large.bc b/benchmarks/bc/newton_raphson_div_large.bc
new file mode 100644
index 00000000..7c5db4da
--- /dev/null
+++ b/benchmarks/bc/newton_raphson_div_large.bc
@@ -0,0 +1,10 @@
+#! /usr/bin/bc -lq
+
+scale = 0
+max = 10
+mexp = 1000000
+
+for (i = 0; i < max; ++i)
+{
+	print irand(10), "^", irand(mexp), " / ", irand(10) + 1, "^", irand(mexp), "\n"
+}
diff --git a/benchmarks/bc/newton_raphson_div_small.bc b/benchmarks/bc/newton_raphson_div_small.bc
new file mode 100644
index 00000000..4894d038
--- /dev/null
+++ b/benchmarks/bc/newton_raphson_div_small.bc
@@ -0,0 +1,9 @@
+#! /usr/bin/bc -lq
+
+scale = 0
+max = 100000
+
+for (i = 0; i < max; ++i)
+{
+	print rand(), " / ", rand() + 1, "\n"
+}
diff --git a/benchmarks/bc/newton_raphson_sqrt_large.bc b/benchmarks/bc/newton_raphson_sqrt_large.bc
new file mode 100644
index 00000000..227f19e2
--- /dev/null
+++ b/benchmarks/bc/newton_raphson_sqrt_large.bc
@@ -0,0 +1,10 @@
+#! /usr/bin/bc -lq
+
+scale = 0
+max = 10
+mexp = 1000000
+
+for (i = 0; i < max; ++i)
+{
+	print "sqrt(", irand(10), "^", irand(mexp), ")\n"
+}
diff --git a/benchmarks/bc/newton_raphson_sqrt_small.bc b/benchmarks/bc/newton_raphson_sqrt_small.bc
new file mode 100644
index 00000000..b0e4bf84
--- /dev/null
+++ b/benchmarks/bc/newton_raphson_sqrt_small.bc
@@ -0,0 +1,9 @@
+#! /usr/bin/bc -lq
+
+scale = 0
+max = 100000
+
+for (i = 0; i < max; ++i)
+{
+	print "sqrt(", rand(), ")\n"
+}
diff --git a/benchmarks/bc/power.bc b/benchmarks/bc/power.bc
deleted file mode 100644
index b067aa73..00000000
--- a/benchmarks/bc/power.bc
+++ /dev/null
@@ -1,2 +0,0 @@
-#! /usr/bin/bc -lq
-
diff --git a/benchmarks/bc/strings.bc b/benchmarks/bc/strings.bc
index 8f1b39df..fcd350d0 100644
--- a/benchmarks/bc/strings.bc
+++ b/benchmarks/bc/strings.bc
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/benchmarks/bc/subtract.bc b/benchmarks/bc/subtract.bc
index b88bd60e..d964c0d6 100644
--- a/benchmarks/bc/subtract.bc
+++ b/benchmarks/bc/subtract.bc
@@ -19,4 +19,3 @@ for (i = 1; i <= 10000; ++i) {
 		print "v = a[", i, "] - a[", j, "]\n"
 	}
 }
-
diff --git a/benchmarks/dc/modexp.dc b/benchmarks/dc/modexp.dc
index 8ea875d2..bc7ace2a 100644
--- a/benchmarks/dc/modexp.dc
+++ b/benchmarks/dc/modexp.dc
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/compile_flags.txt b/compile_flags.txt
new file mode 100644
index 00000000..33247980
--- /dev/null
+++ b/compile_flags.txt
@@ -0,0 +1,16 @@
+-Weverything
+-pedantic
+-Wno-unsafe-buffer-usage
+-D_POSIX_C_SOURCE=200809L
+-D_XOPEN_SOURCE=700
+-D_BSD_SOURCE
+-D_GNU_SOURCE
+-D_DEFAULT_SOURCE
+-Iinclude/
+-DBC_DEBUG=1
+-DBC_ENABLED=1
+-DDC_ENABLED=1
+-DBC_ENABLE_EXTRA_MATH=1
+-DBC_ENABLE_HISTORY=1
+-DBC_ENABLE_NLS=1
+-DBC_ENABLE_OSSFUZZ=0
diff --git a/configure.sh b/configure.sh
index 4ba95713..442165d1 100755
--- a/configure.sh
+++ b/configure.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -68,7 +68,7 @@ usage() {
 	printf '       [--man3dir=MAN3DIR]\n'
 
 	if [ "$_usage_val" -ne 0 ]; then
-		exit
+		exit "$_usage_val"
 	fi
 
 	printf '\n'
@@ -127,7 +127,7 @@ usage() {
 	printf '        If this option is given along with -e and -r, the last occurrence of\n'
 	printf '        all of the three is used.\n'
 	printf '    -k KARATSUBA_LEN, --karatsuba-len KARATSUBA_LEN\n'
-	printf '        Set the karatsuba length to KARATSUBA_LEN (default is 64).\n'
+	printf '        Set the karatsuba length to KARATSUBA_LEN (default is 32).\n'
 	printf '        It is an error if KARATSUBA_LEN is not a number or is less than 16.\n'
 	printf '    -l, --install-all-locales\n'
 	printf '        Installs all locales, regardless of how many are on the system. This\n'
@@ -163,7 +163,7 @@ usage() {
 	printf '        Enable the use of libreadline/readline. This is meant for those users\n'
 	printf '        that want vi-like or Emacs-like behavior in history. This option is\n'
 	printf '        ignored if history is disabled. If this option is given along with -e\n'
-	printf '        and -r, the last occurrence of all of the three is used.\n'
+	printf '        and -i, the last occurrence of all of the three is used.\n'
 	printf '    -s SETTING, --set-default-on SETTING\n'
 	printf '        Set the default named by SETTING to on. See below for possible values\n'
 	printf '        for SETTING. For multiple instances of the -s or -S for the the same\n'
@@ -181,6 +181,8 @@ usage() {
 	printf '        Enable a build appropriate for valgrind. For development only.\n'
 	printf '    -z, --enable-fuzz-mode\n'
 	printf '        Enable fuzzing mode. THIS IS FOR DEVELOPMENT ONLY.\n'
+	printf '    -Z, --enable-ossfuzz-mode\n'
+	printf '        Enable fuzzing mode for OSS-Fuzz. THIS IS FOR DEVELOPMENT ONLY.\n'
 	printf '    --prefix PREFIX\n'
 	printf '        The prefix to install to. Overrides "$PREFIX" if it exists.\n'
 	printf '        If PREFIX is "/usr", install path will be "/usr/bin".\n'
@@ -461,7 +463,7 @@ find_src_files() {
 
 	fi
 
-	_find_src_files_files=$(find "$scriptdir/src/" -depth -name "*.c" -print | LC_ALL=C sort)
+	_find_src_files_files=$(find "$scriptdir/src" -depth -name "*.c" -print | LC_ALL=C sort)
 
 	_find_src_files_result=""
 
@@ -722,6 +724,7 @@ predefined_build() {
 			all_locales=0
 			library=0
 			fuzz=0
+			ossfuzz=0
 			time_tests=0
 			vg=0
 			memcheck=0
@@ -755,6 +758,7 @@ predefined_build() {
 			all_locales=0
 			library=0
 			fuzz=0
+			ossfuzz=0
 			time_tests=0
 			vg=0
 			memcheck=0
@@ -772,7 +776,8 @@ predefined_build() {
 			dc_default_digit_clamp=0;;
 
 		GDH)
-			CFLAGS="-flto -Weverything -Wno-padded -Wno-unsafe-buffer-usage -Werror -pedantic -std=c11"
+			CFLAGS="-Weverything -Wno-padded -Wno-unsafe-buffer-usage -Wno-poison-system-directories"
+			CFLAGS="$CFLAGS -Wno-switch-default -Werror -pedantic -std=c11"
 			bc_only=0
 			dc_only=0
 			coverage=0
@@ -789,6 +794,7 @@ predefined_build() {
 			all_locales=0
 			library=0
 			fuzz=0
+			ossfuzz=0
 			time_tests=0
 			vg=0
 			memcheck=0
@@ -806,7 +812,8 @@ predefined_build() {
 			dc_default_digit_clamp=1;;
 
 		DBG)
-			CFLAGS="-Weverything -Wno-padded -Wno-unsafe-buffer-usage -Werror -pedantic -std=c11"
+			CFLAGS="-Weverything -Wno-padded -Wno-unsafe-buffer-usage -Wno-poison-system-directories"
+			CFLAGS="$CFLAGS -Wno-switch-default -Werror -pedantic -std=c11"
 			bc_only=0
 			dc_only=0
 			coverage=0
@@ -823,6 +830,7 @@ predefined_build() {
 			all_locales=0
 			library=0
 			fuzz=0
+			ossfuzz=0
 			time_tests=0
 			vg=0
 			memcheck=1
@@ -888,6 +896,7 @@ strip_bin=1
 all_locales=0
 library=0
 fuzz=0
+ossfuzz=0
 time_tests=0
 vg=0
 memcheck=0
@@ -911,7 +920,7 @@ dc_default_digit_clamp=0
 # getopts is a POSIX utility, but it cannot handle long options. Thus, the
 # handling of long options is done by hand, and that's the reason that short and
 # long options cannot be mixed.
-while getopts "abBcdDeEfgGhHik:lMmNO:p:PrS:s:tTvz-" opt; do
+while getopts "abBcdDeEfgGhHik:lMmNO:p:PrS:s:tTvzZ-" opt; do
 
 	case "$opt" in
 		a) library=1 ;;
@@ -944,6 +953,7 @@ while getopts "abBcdDeEfgGhHik:lMmNO:p:PrS:s:tTvz-" opt; do
 		T) strip_bin=0 ;;
 		v) vg=1 ;;
 		z) fuzz=1 ;;
+		Z) ossfuzz=1 ;;
 		-)
 			arg="$1"
 			arg="${arg#--}"
@@ -1070,6 +1080,7 @@ while getopts "abBcdDeEfgGhHik:lMmNO:p:PrS:s:tTvz-" opt; do
 				enable-test-timing) time_tests=1 ;;
 				enable-valgrind) vg=1 ;;
 				enable-fuzz-mode) fuzz=1 ;;
+				enable-ossfuzz-mode) ossfuzz=1 ;;
 				enable-memcheck) memcheck=1 ;;
 				install-all-locales) all_locales=1 ;;
 				help* | bc-only* | dc-only* | coverage* | debug*)
@@ -1320,6 +1331,45 @@ elif [ "$dc_only" -eq 1 ]; then
 
 	tests="test_dc"
 
+elif [ "$ossfuzz" -eq 1 ]; then
+
+	if [ "$bc_only" -ne 0 ] || [ "$dc_only" -ne 0 ]; then
+		usage "An OSS-Fuzz build must build both fuzzers."
+	fi
+
+	bc=1
+	dc=1
+
+	# Expressions *cannot* exit in an OSS-Fuzz build.
+	bc_default_expr_exit=0
+	dc_default_expr_exit=0
+
+	executables="bc_fuzzer and dc_fuzzer"
+
+	karatsuba="@\$(KARATSUBA) 30 0 \$(BC_EXEC)"
+	karatsuba_test="@\$(KARATSUBA) 1 100 \$(BC_EXEC)"
+
+	if [ "$library" -eq 0 ]; then
+		install_prereqs=" install_execs"
+		install_man_prereqs=" install_bc_manpage install_dc_manpage"
+		uninstall_prereqs=" uninstall_bc uninstall_dc"
+		uninstall_man_prereqs=" uninstall_bc_manpage uninstall_dc_manpage"
+	else
+		install_prereqs=" install_library install_bcl_header"
+		install_man_prereqs=" install_bcl_manpage"
+		uninstall_prereqs=" uninstall_library uninstall_bcl_header"
+		uninstall_man_prereqs=" uninstall_bcl_manpage"
+		tests="test_library"
+	fi
+
+	second_target_prereqs="src/bc_fuzzer.o $default_target_prereqs"
+	default_target_prereqs="\$(BC_FUZZER) src/dc_fuzzer.o $default_target_prereqs"
+	default_target_cmd="\$(CXX) \$(CFLAGS) src/dc_fuzzer.o \$(LIB_FUZZING_ENGINE) \$(OBJS) \$(LDFLAGS) -o \$(DC_FUZZER) \&\& ln -sf ./dc_fuzzer_c \$(DC_FUZZER_C)"
+	second_target_cmd="\$(CXX) \$(CFLAGS) src/bc_fuzzer.o \$(LIB_FUZZING_ENGINE) \$(OBJS) \$(LDFLAGS) -o \$(BC_FUZZER) \&\& ln -sf ./bc_fuzzer_c \$(BC_FUZZER_C)"
+
+	default_target="\$(DC_FUZZER) \$(DC_FUZZER_C)"
+	second_target="\$(BC_FUZZER) \$(BC_FUZZER_C)"
+
 else
 
 	bc=1
@@ -1349,8 +1399,12 @@ else
 
 fi
 
+if [ "$fuzz" -ne 0 ] && [ "$ossfuzz" -ne 0 ]; then
+	usage "Fuzzing mode and OSS-Fuzz mode are mutually exclusive"
+fi
+
 # We need specific stuff for fuzzing.
-if [ "$fuzz" -ne 0 ]; then
+if [ "$fuzz" -ne 0 ] || [ "$ossfuzz" -ne 0 ]; then
 	debug=1
 	hist=0
 	nls=0
@@ -1364,21 +1418,10 @@ if [ "$debug" -eq 1 ]; then
 		CFLAGS="-O0"
 	fi
 
-	ccbase=$(basename "$CC")
-
-	if [ "$ccbase" = "clang" ]; then
-		CFLAGS="-gdwarf-4 $CFLAGS"
-	else
-		CFLAGS="-g $CFLAGS"
-	fi
+	CFLAGS="-g $CFLAGS"
 
 else
-
 	CPPFLAGS="-DNDEBUG $CPPFLAGS"
-
-	if [ "$strip_bin" -ne 0 ]; then
-		LDFLAGS="-s $LDFLAGS"
-	fi
 fi
 
 # Set optimization CFLAGS.
@@ -1406,7 +1449,6 @@ else
 	COVERAGE_PREREQS=""
 fi
 
-
 # Set some defaults.
 if [ -z "${DESTDIR+set}" ]; then
 	destdir=""
@@ -1496,8 +1538,8 @@ if [ "$nls" -ne 0 ]; then
 
 	flags="-DBC_ENABLE_NLS=1 -DBC_ENABLED=$bc -DDC_ENABLED=$dc"
 	flags="$flags -DBC_ENABLE_HISTORY=$hist -DBC_ENABLE_LIBRARY=0 -DBC_ENABLE_AFL=0"
-	flags="$flags -DBC_ENABLE_EXTRA_MATH=$extra_math -I$scriptdir/include/"
-	flags="$flags -D_POSIX_C_SOURCE=200809L -D_XOPEN_SOURCE=700"
+	flags="$flags -DBC_ENABLE_EXTRA_MATH=$extra_math -DBC_ENABLE_OSSFUZZ=0"
+	flags="$flags -I$scriptdir/include/ -D_POSIX_C_SOURCE=200809L -D_XOPEN_SOURCE=700"
 
 	ccbase=$(basename "$CC")
 
@@ -1505,14 +1547,14 @@ if [ "$nls" -ne 0 ]; then
 		flags="$flags -Wno-unreachable-code"
 	fi
 
-	"$CC" $CPPFLAGS $CFLAGS $flags -c "$scriptdir/src/vm.c" -o "./vm.o" > /dev/null 2>&1
+	"$CC" $CPPFLAGS $CFLAGS $flags -c "$scriptdir/src/vm.c" -E > /dev/null
 
 	err="$?"
 
 	rm -rf "./vm.o"
 
-	# If this errors, it is probably because of building on Windows,
-	# and NLS is not supported on Windows, so disable it.
+	# If this errors, it is probably because of building on Windows or musl,
+	# and NLS is not supported on Windows or musl, so disable it.
 	if [ "$err" -ne 0 ]; then
 		printf 'NLS does not work.\n'
 		if [ $force -eq 0 ]; then
@@ -1525,7 +1567,7 @@ if [ "$nls" -ne 0 ]; then
 		printf 'NLS works.\n\n'
 
 		printf 'Testing gencat...\n'
-		gencat "./en_US.cat" "$scriptdir/locales/en_US.msg" > /dev/null 2>&1
+		gencat "./en_US.cat" "$scriptdir/locales/en_US.msg" > /dev/null
 
 		err="$?"
 
@@ -1598,10 +1640,10 @@ if [ "$hist" -eq 1 ]; then
 	flags="-DBC_ENABLE_HISTORY=1 -DBC_ENABLED=$bc -DDC_ENABLED=$dc"
 	flags="$flags -DBC_ENABLE_NLS=$nls -DBC_ENABLE_LIBRARY=0 -DBC_ENABLE_AFL=0"
 	flags="$flags -DBC_ENABLE_EDITLINE=$editline -DBC_ENABLE_READLINE=$readline"
-	flags="$flags -DBC_ENABLE_EXTRA_MATH=$extra_math -I$scriptdir/include/"
-	flags="$flags -D_POSIX_C_SOURCE=200809L -D_XOPEN_SOURCE=700"
+	flags="$flags -DBC_ENABLE_EXTRA_MATH=$extra_math -DBC_ENABLE_OSSFUZZ=0"
+	flags="$flags -I$scriptdir/include/ -D_POSIX_C_SOURCE=200809L -D_XOPEN_SOURCE=700"
 
-	"$CC" $CPPFLAGS $CFLAGS $flags -c "$scriptdir/src/history.c" -o "./history.o" > /dev/null 2>&1
+	"$CC" $CPPFLAGS $CFLAGS $flags -c "$scriptdir/src/history.c" -E > /dev/null
 
 	err="$?"
 
@@ -1671,7 +1713,7 @@ set +e
 printf 'Testing for FreeBSD...\n'
 
 flags="-DBC_TEST_FREEBSD -DBC_ENABLE_AFL=0"
-"$CC" $CPPFLAGS $CFLAGS $flags "-I$scriptdir/include" -E "$scriptdir/src/vm.c" > /dev/null 2>&1
+"$CC" $CPPFLAGS $CFLAGS $flags "-I$scriptdir/include" -E "$scriptdir/scripts/os.c" > /dev/null
 
 err="$?"
 
@@ -1682,24 +1724,29 @@ else
 	CPPFLAGS="$CPPFLAGS -D_POSIX_C_SOURCE=200809L -D_XOPEN_SOURCE=700"
 fi
 
-# Test Mac OSX. This is not in an if statement because regardless of whatever
-# the user says, we need to know if we are on Mac OSX. If we are, we have to set
+# Test macOS. This is not in an if statement because regardless of whatever the
+# user says, we need to know if we are on macOS. If we are, we have to set
 # _DARWIN_C_SOURCE.
-printf 'Testing for Mac OSX...\n'
+printf 'Testing for macOS...\n'
 
 flags="-DBC_TEST_APPLE -DBC_ENABLE_AFL=0"
-"$CC" $CPPFLAGS $CFLAGS $flags "-I$scriptdir/include" -E "$scriptdir/src/vm.c" > /dev/null 2>&1
+"$CC" $CPPFLAGS $CFLAGS $flags "-I$scriptdir/include" -E "$scriptdir/scripts/os.c" > /dev/null
 
 err="$?"
 
 if [ "$err" -ne 0 ]; then
-	printf 'On Mac OSX. Using _DARWIN_C_SOURCE.\n\n'
+	printf 'On macOS. Using _DARWIN_C_SOURCE.\n\n'
 	apple="-D_DARWIN_C_SOURCE"
 else
-	printf 'Not on Mac OSX.\n\n'
+	printf 'Not on macOS.\n\n'
 	apple=""
 fi
 
+# We can't use the linker's strip flag on macOS.
+if [ "$debug" -eq 0 ] && [ "$apple" = "" ] && [ "$strip_bin" -ne 0 ]; then
+	LDFLAGS="-s $LDFLAGS"
+fi
+
 # Test OpenBSD. This is not in an if statement because regardless of whatever
 # the user says, we need to know if we are on OpenBSD to activate _BSD_SOURCE.
 # No, I cannot `#define _BSD_SOURCE` in a header because OpenBSD's patched GCC
@@ -1711,7 +1758,7 @@ fi
 printf 'Testing for OpenBSD...\n'
 
 flags="-DBC_TEST_OPENBSD -DBC_ENABLE_AFL=0"
-"$CC" $CPPFLAGS $CFLAGS $flags "-I$scriptdir/include" -E "$scriptdir/src/vm.c" > /dev/null 2>&1
+"$CC" $CPPFLAGS $CFLAGS $flags "-I$scriptdir/include" -E "$scriptdir/scripts/os.c" > /dev/null
 
 err="$?"
 
@@ -1747,7 +1794,7 @@ GEN_DIR="$scriptdir/gen"
 # These lines set the appropriate targets based on whether `gen/strgen.c` or
 # `gen/strgen.sh` is used.
 GEN="strgen"
-GEN_EXEC_TARGET="\$(HOSTCC) -DBC_ENABLE_AFL=0 -I$scriptdir/include/  \$(HOSTCFLAGS) -o \$(GEN_EXEC) \$(GEN_C)"
+GEN_EXEC_TARGET="\$(HOSTCC) -DBC_ENABLE_AFL=0 -DBC_ENABLE_OSSFUZZ=0 -I$scriptdir/include/ \$(HOSTCFLAGS) -o \$(GEN_EXEC) \$(GEN_C)"
 CLEAN_PREREQS=" clean_gen clean_coverage"
 
 if [ -z "${GEN_HOST+set}" ]; then
@@ -1760,8 +1807,9 @@ else
 	fi
 fi
 
+# The fuzzer files are always unneeded because they'll be built separately.
 manpage_args=""
-unneeded=""
+unneeded="bc_fuzzer.c dc_fuzzer.c"
 headers="\$(HEADERS)"
 
 # This series of if statements figure out what source files are *not* needed.
@@ -1832,6 +1880,14 @@ if [ "$library" -ne 0 ]; then
 
 	fi
 
+elif [ "$ossfuzz" -ne 0 ]; then
+
+	unneeded="$unneeded library.c main.c"
+
+	PC_PATH=""
+	pkg_config_install=""
+	pkg_config_uninstall=""
+
 else
 
 	unneeded="$unneeded library.c"
@@ -1842,9 +1898,10 @@ else
 
 fi
 
-# library.c is not needed under normal circumstances.
+# library.c, bc_fuzzer.c, and dc_fuzzer.c are not needed under normal
+# circumstances.
 if [ "$unneeded" = "" ]; then
-	unneeded="library.c"
+	unneeded="library.c bc_fuzzer.c dc_fuzzer.c"
 fi
 
 # This sets the appropriate manpage for a full build.
@@ -1852,7 +1909,7 @@ if [ "$manpage_args" = "" ]; then
 	manpage_args="A"
 fi
 
-if [ "$vg" -ne 0 ]; then
+if [ "$vg" -ne 0 ] || [ "$ossfuzz" -ne 0 ]; then
 	memcheck=1
 fi
 
@@ -1872,6 +1929,8 @@ dc_tests=$(gen_std_test_targets dc)
 dc_script_tests=$(gen_script_test_targets dc)
 dc_err_tests=$(gen_err_test_targets dc)
 
+printf 'unneeded: %s\n' "$unneeded"
+
 # Print out the values; this is for debugging.
 printf 'Version: %s\n' "$version"
 
@@ -2015,7 +2074,9 @@ contents=$(replace "$contents" "HISTORY" "$hist")
 contents=$(replace "$contents" "EXTRA_MATH" "$extra_math")
 contents=$(replace "$contents" "NLS" "$nls")
 contents=$(replace "$contents" "FUZZ" "$fuzz")
+contents=$(replace "$contents" "OSSFUZZ" "$ossfuzz")
 contents=$(replace "$contents" "MEMCHECK" "$memcheck")
+contents=$(replace "$contents" "LIB_FUZZING_ENGINE" "$LIB_FUZZING_ENGINE")
 
 contents=$(replace "$contents" "BC_LIB_O" "$bc_lib")
 contents=$(replace "$contents" "BC_HELP_O" "$bc_help")
@@ -2121,6 +2182,15 @@ if [ "$dc" -ne 0 ]; then
 	gen_err_tests dc $dc_test_exec
 fi
 
+if [ "$ossfuzz" -ne 0 ]; then
+
+	printf 'bc_fuzzer_c: $(BC_FUZZER)\n\tln -sf $(BC_FUZZER) bc_fuzzer_c\n' >> Makefile
+	printf 'bc_fuzzer_C: $(BC_FUZZER)\n\tln -sf $(BC_FUZZER) bc_fuzzer_C\n' >> Makefile
+	printf 'dc_fuzzer_c: $(DC_FUZZER)\n\tln -sf $(DC_FUZZER) dc_fuzzer_c\n' >> Makefile
+	printf 'dc_fuzzer_C: $(DC_FUZZER)\n\tln -sf $(DC_FUZZER) dc_fuzzer_C\n' >> Makefile
+
+fi
+
 # Copy the correct manuals to the expected places.
 mkdir -p manuals
 cp -f "$scriptdir/manuals/bc/$manpage_args.1.md" manuals/bc.1.md
diff --git a/gen/bc_help.txt b/gen/bc_help.txt
index c51ba186..489b54a1 100644
--- a/gen/bc_help.txt
+++ b/gen/bc_help.txt
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/gen/dc_help.txt b/gen/dc_help.txt
index 7d9e7ec2..df4ede15 100644
--- a/gen/dc_help.txt
+++ b/gen/dc_help.txt
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/gen/lib.bc b/gen/lib.bc
index b12b2317..0c9389b8 100644
--- a/gen/lib.bc
+++ b/gen/lib.bc
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/gen/lib2.bc b/gen/lib2.bc
index 1d7d48c6..d6d9f70f 100644
--- a/gen/lib2.bc
+++ b/gen/lib2.bc
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -90,6 +90,14 @@ define f(n){
 	for(r=1;n>1;--n)r*=n
 	return r
 }
+define max(a,b){
+	if(a>b)return a
+	return b
+}
+define min(a,b){
+	if(a<b)return a
+	return b
+}
 define perm(n,k){
 	auto f,g,s
 	if(k>n)return 0
@@ -266,6 +274,15 @@ define frand(p){
 	return irand(A^p)>>p
 }
 define ifrand(i,p){return irand(abs(i)$)+frand(p)}
+define i2rand(a,b){
+	auto n,x
+	a=a$
+	b=b$
+	if(a==b)return a
+	n=min(a,b)
+	x=max(a,b)
+	return irand(x-n+1)+n
+}
 define srand(x){
 	if(irand(2))return -x
 	return x
diff --git a/gen/strgen.c b/gen/strgen.c
index 2cb3ed9e..1394a05c 100644
--- a/gen/strgen.c
+++ b/gen/strgen.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -68,7 +68,7 @@ static const char* const bc_gen_ex_end = "{{ end }}";
 // This is exactly what it looks like. It just slaps a simple license header on
 // the generated C source file.
 static const char* const bc_gen_header =
-	"// Copyright (c) 2018-2023 Gavin D. Howard and contributors.\n"
+	"// Copyright (c) 2018-2024 Gavin D. Howard and contributors.\n"
 	"// Licensed under the 2-clause BSD license.\n"
 	"// *** AUTOMATICALLY GENERATED FROM %s. DO NOT MODIFY. ***\n\n";
 // clang-format on
diff --git a/gen/strgen.sh b/gen/strgen.sh
index 2b8927b5..8542bd40 100755
--- a/gen/strgen.sh
+++ b/gen/strgen.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -96,7 +96,7 @@ if [ -n "$remove_tabs" ]; then
 fi
 
 cat<<EOF
-// Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+// Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 // Licensed under the 2-clause BSD license.
 // *** AUTOMATICALLY GENERATED FROM ${input}. DO NOT MODIFY. ***
 
diff --git a/include/args.h b/include/args.h
index 3174ba26..8f8f00be 100644
--- a/include/args.h
+++ b/include/args.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -54,7 +54,7 @@
  *                    any.
  */
 void
-bc_args(int argc, char* argv[], bool exit_exprs, BcBigDig* scale,
+bc_args(int argc, const char* argv[], bool exit_exprs, BcBigDig* scale,
         BcBigDig* ibase, BcBigDig* obase);
 
 #if BC_ENABLED
diff --git a/include/bc.h b/include/bc.h
index 73a85aa4..2213278b 100644
--- a/include/bc.h
+++ b/include/bc.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -48,9 +48,10 @@
 /**
  * The main function for bc. It just sets variables and passes its arguments
  * through to @a bc_vm_boot().
+ * @return  A status.
  */
-void
-bc_main(int argc, char* argv[]);
+BcStatus
+bc_main(int argc, const char* argv[]);
 
 // These are references to the help text, the library text, and the "filename"
 // for the library.
@@ -88,10 +89,8 @@ typedef struct BcLexKeyword
 #define BC_LEX_KW_LEN(kw) ((size_t) ((kw)->data & ~(BC_LEX_CHAR_MSB(1))))
 
 /// A macro to easily build a keyword entry. See bc_lex_kws in src/data.c.
-#define BC_LEX_KW_ENTRY(a, b, c)                                              \
-	{                                                                         \
-		.data = ((b) & ~(BC_LEX_CHAR_MSB(1))) | BC_LEX_CHAR_MSB(c), .name = a \
-	}
+#define BC_LEX_KW_ENTRY(a, b, c) \
+	{ .data = ((b) & ~(BC_LEX_CHAR_MSB(1))) | BC_LEX_CHAR_MSB(c), .name = a }
 
 #if BC_ENABLE_EXTRA_MATH
 
@@ -234,7 +233,7 @@ bc_lex_token(BcLex* l);
  * @param t  The token to return operator data for.
  * @return   The operator data for @a t.
  */
-#define BC_PARSE_OP_DATA(t) bc_parse_ops[((t) -BC_LEX_OP_INC)]
+#define BC_PARSE_OP_DATA(t) bc_parse_ops[((t) - BC_LEX_OP_INC)]
 
 /**
  * Returns non-zero if operator @a op is left associative, zero otherwise.
@@ -276,7 +275,7 @@ bc_lex_token(BcLex* l);
  * @return   True if i is an expression token, false otherwise.
  */
 #define BC_PARSE_EXPR(i) \
-	(bc_parse_exprs[(((i) & (uchar) ~(0x07)) >> 3)] & (1 << (7 - ((i) &0x07))))
+	(bc_parse_exprs[(((i) & (uchar) ~(0x07)) >> 3)] & (1 << (7 - ((i) & 0x07))))
 
 /**
  * Returns the operator (by lex token) that is at the top of the operator
@@ -341,7 +340,7 @@ bc_lex_token(BcLex* l);
  * @param t  The token to turn into an instruction.
  * @return   The token as an instruction.
  */
-#define BC_PARSE_TOKEN_INST(t) ((uchar) ((t) -BC_LEX_NEG + BC_INST_NEG))
+#define BC_PARSE_TOKEN_INST(t) ((uchar) ((t) - BC_LEX_NEG + BC_INST_NEG))
 
 /**
  * Returns true if the token is a bc keyword.
@@ -372,10 +371,8 @@ typedef struct BcParseNext
 
 /// A macro to generate a BcParseNext literal from BcParseNext data. See
 /// src/data.c for examples.
-#define BC_PARSE_NEXT(a, ...)                                 \
-	{                                                         \
-		.len = (uchar) (a), BC_PARSE_NEXT_TOKENS(__VA_ARGS__) \
-	}
+#define BC_PARSE_NEXT(a, ...) \
+	{ .len = (uchar) (a), BC_PARSE_NEXT_TOKENS(__VA_ARGS__) }
 
 /// A status returned by @a bc_parse_expr_err(). It can either return success or
 /// an error indicating an empty expression.
diff --git a/include/bcl.h b/include/bcl.h
index d3a9f42c..8e762b69 100644
--- a/include/bcl.h
+++ b/include/bcl.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/include/dc.h b/include/dc.h
index 9a603c26..63f5ccbd 100644
--- a/include/dc.h
+++ b/include/dc.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -45,9 +45,10 @@
 /**
  * The main function for dc. It just sets variables and passes its arguments
  * through to @a bc_vm_boot().
+ * @return  A status.
  */
-void
-dc_main(int argc, char* argv[]);
+BcStatus
+dc_main(int argc, const char* argv[]);
 
 // A reference to the dc help text.
 extern const char dc_help[];
diff --git a/include/file.h b/include/file.h
index 95cfa861..86f368db 100644
--- a/include/file.h
+++ b/include/file.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -54,6 +54,9 @@ typedef struct BcFile
 	// with the existing code as possible.
 	FILE* f;
 
+	// True if errors should be fatal, false otherwise.
+	bool errors_fatal;
+
 } BcFile;
 
 #else // BC_ENABLE_LINE_LIB
@@ -64,6 +67,9 @@ typedef struct BcFile
 	// The actual file descriptor.
 	int fd;
 
+	// True if errors should be fatal, false otherwise.
+	bool errors_fatal;
+
 	// The buffer for the file.
 	char* buf;
 
@@ -123,23 +129,25 @@ typedef enum BcFlushType
 
 /**
  * Initialize a file.
- * @param f     The file to initialize.
- * @param file  The stdio file.
+ * @param f             The file to initialize.
+ * @param file          The stdio file.
+ * @param errors_fatal  True if errors should be fatal, false otherwise.
  */
 void
-bc_file_init(BcFile* f, FILE* file);
+bc_file_init(BcFile* f, FILE* file, bool errors_fatal);
 
 #else // BC_ENABLE_LINE_LIB
 
 /**
  * Initialize a file.
- * @param f    The file to initialize.
- * @param fd   The file descriptor.
- * @param buf  The buffer for the file.
- * @param cap  The capacity of the buffer.
+ * @param f             The file to initialize.
+ * @param fd            The file descriptor.
+ * @param buf           The buffer for the file.
+ * @param cap           The capacity of the buffer.
+ * @param errors_fatal  True if errors should be fatal, false otherwise.
  */
 void
-bc_file_init(BcFile* f, int fd, char* buf, size_t cap);
+bc_file_init(BcFile* f, int fd, char* buf, size_t cap, bool errors_fatal);
 
 #endif // BC_ENABLE_LINE_LIB
 
diff --git a/include/history.h b/include/history.h
index 19c5a0fe..13f6dc6e 100644
--- a/include/history.h
+++ b/include/history.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -120,6 +120,30 @@ typedef struct BcHistory
 extern const char bc_history_editrc[];
 extern const size_t bc_history_editrc_len;
 
+#ifdef __APPLE__
+
+/**
+ * Returns true if the line is a valid line, false otherwise.
+ * @param line  The line.
+ * @param len   The length of the line.
+ * @return      True if the line is valid, false otherwise.
+ */
+#define BC_HISTORY_INVALID_LINE(line, len) \
+	((line) == NULL && ((len) == -1 || errno == EINTR))
+
+#else // __APPLE__
+
+/**
+ * Returns true if the line is a valid line, false otherwise.
+ * @param line  The line.
+ * @param len   The length of the line.
+ * @return      True if the line is valid, false otherwise.
+ */
+#define BC_HISTORY_INVALID_LINE(line, len) \
+	((line) == NULL && (len) == -1 && errno == EINTR)
+
+#endif // __APPLE__
+
 #else // BC_ENABLE_EDITLINE
 
 #if BC_ENABLE_READLINE
@@ -173,10 +197,6 @@ typedef struct BcHistory
 #include <vector.h>
 #include <read.h>
 
-#if BC_DEBUG_CODE
-#include <file.h>
-#endif // BC_DEBUG_CODE
-
 /// Default columns.
 #define BC_HIST_DEF_COLS (80)
 
diff --git a/include/lang.h b/include/lang.h
index 97aeeaa9..6c824513 100644
--- a/include/lang.h
+++ b/include/lang.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/include/lex.h b/include/lex.h
index ac9b7b6e..d2be3c75 100644
--- a/include/lex.h
+++ b/include/lex.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/include/library.h b/include/library.h
index 1edd3757..9942705a 100644
--- a/include/library.h
+++ b/include/library.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/include/num.h b/include/num.h
index d24c206c..6cead6eb 100644
--- a/include/num.h
+++ b/include/num.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -211,9 +211,9 @@ struct BcRNG;
 #define BC_NUM_KARATSUBA_ALLOCS (6)
 
 /**
- * Rounds @a s (scale) up to the next power of BC_BASE_DIGS. This also check for
- * overflow and gives a fatal error if that happens because we just can't go
- * over the limits we have imposed.
+ * Rounds @a s (scale) up to the next power of BC_BASE_DIGS. This will also
+ * check for overflow and gives a fatal error if that happens because we just
+ * can't go over the limits we have imposed.
  * @param s  The scale to round up.
  * @return   @a s rounded up to the next power of BC_BASE_DIGS.
  */
diff --git a/include/opt.h b/include/opt.h
index 28d9d99a..41058cb4 100644
--- a/include/opt.h
+++ b/include/opt.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -47,7 +47,7 @@
 typedef struct BcOpt
 {
 	/// The array of arguments.
-	char** argv;
+	const char** argv;
 
 	/// The index of the current argument.
 	size_t optind;
@@ -59,7 +59,7 @@ typedef struct BcOpt
 	int subopt;
 
 	/// The option argument.
-	char* optarg;
+	const char* optarg;
 
 } BcOpt;
 
@@ -103,7 +103,7 @@ typedef struct BcOptLong
  * @param argv  The array of arguments.
  */
 void
-bc_opt_init(BcOpt* o, char** argv);
+bc_opt_init(BcOpt* o, const char** argv);
 
 /**
  * Parse an option. This returns a value the same way getopt() and getopt_long()
diff --git a/include/ossfuzz.h b/include/ossfuzz.h
new file mode 100644
index 00000000..5c12a3c9
--- /dev/null
+++ b/include/ossfuzz.h
@@ -0,0 +1,79 @@
+/*
+ * *****************************************************************************
+ *
+ * SPDX-License-Identifier: BSD-2-Clause
+ *
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions are met:
+ *
+ * * Redistributions of source code must retain the above copyright notice, this
+ *   list of conditions and the following disclaimer.
+ *
+ * * Redistributions in binary form must reproduce the above copyright notice,
+ *   this list of conditions and the following disclaimer in the documentation
+ *   and/or other materials provided with the distribution.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
+ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+ * POSSIBILITY OF SUCH DAMAGE.
+ *
+ * *****************************************************************************
+ *
+ * Declarations for the OSS-Fuzz build of bc and dc.
+ *
+ */
+
+#include <stdint.h>
+#include <stdlib.h>
+
+#ifndef BC_OSSFUZZ_H
+#define BC_OSSFUZZ_H
+
+/// The number of args in fuzzer arguments, including the NULL terminator.
+extern const size_t bc_fuzzer_args_len;
+
+/// The standard arguments for the bc fuzzer with the -c argument.
+extern const char* bc_fuzzer_args_c[];
+
+/// The standard arguments for the bc fuzzer with the -C argument.
+extern const char* bc_fuzzer_args_C[];
+
+/// The standard arguments for the dc fuzzer with the -c argument.
+extern const char* dc_fuzzer_args_c[];
+
+/// The standard arguments for the dc fuzzer with the -C argument.
+extern const char* dc_fuzzer_args_C[];
+
+/// The data pointer.
+extern uint8_t* bc_fuzzer_data;
+
+/**
+ * The function that the fuzzer runs.
+ * @param Data  The data.
+ * @param Size  The number of bytes in @a Data.
+ * @return      0 on success, -1 on error.
+ * @pre         @a Data must not be equal to NULL if @a Size > 0.
+ */
+int
+LLVMFuzzerTestOneInput(const uint8_t* Data, size_t Size);
+
+/**
+ * The initialization function for the fuzzer.
+ * @param argc  A pointer to the argument count.
+ * @param argv  A pointer to the argument list.
+ * @return      0 on success, -1 on error.
+ */
+int
+LLVMFuzzerInitialize(int* argc, char*** argv);
+
+#endif // BC_OSSFUZZ_H
diff --git a/include/parse.h b/include/parse.h
index ece413e7..7f0f8768 100644
--- a/include/parse.h
+++ b/include/parse.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/include/program.h b/include/program.h
index 1df753af..e16e5c07 100644
--- a/include/program.h
+++ b/include/program.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/include/rand.h b/include/rand.h
index e516295d..aee63b86 100644
--- a/include/rand.h
+++ b/include/rand.h
@@ -13,7 +13,7 @@
  * This code is under the following license:
  *
  * Copyright (c) 2014-2017 Melissa O'Neill and PCG Project contributors
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Permission is hereby granted, free of charge, to any person obtaining a copy
  * of this software and associated documentation files (the "Software"), to deal
@@ -241,10 +241,7 @@ typedef struct BcRandState
  * @param l  The low 64 bits.
  * @return   The constant built from @a h and @a l.
  */
-#define BC_RAND_CONSTANT(h, l) \
-	{                          \
-		.lo = (l), .hi = (h)   \
-	}
+#define BC_RAND_CONSTANT(h, l) { .lo = (l), .hi = (h) }
 
 /**
  * Truncates a PCG state to the number of bits in a random integer.
diff --git a/include/read.h b/include/read.h
index 867dcd74..62e68976 100644
--- a/include/read.h
+++ b/include/read.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/include/status.h b/include/status.h
index 242514ed..203f09af 100644
--- a/include/status.h
+++ b/include/status.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -46,27 +46,6 @@
 #include <stdint.h>
 #include <sys/types.h>
 
-// This is used by configure.sh to test for OpenBSD.
-#ifdef BC_TEST_OPENBSD
-#ifdef __OpenBSD__
-#error On OpenBSD without _BSD_SOURCE
-#endif // __OpenBSD__
-#endif // BC_TEST_OPENBSD
-
-// This is used by configure.sh to test for FreeBSD.
-#ifdef BC_TEST_FREEBSD
-#ifdef __FreeBSD__
-#error On FreeBSD with _POSIX_C_SOURCE
-#endif // __FreeBSD__
-#endif // BC_TEST_FREEBSD
-
-// This is used by configure.sh to test for Mac OSX.
-#ifdef BC_TEST_APPLE
-#ifdef __APPLE__
-#error On Mac OSX without _DARWIN_C_SOURCE
-#endif // __APPLE__
-#endif // BC_TEST_APPLE
-
 // Windows has deprecated isatty() and the rest of these. Or doesn't have them.
 // So these are just fixes for Windows.
 #ifdef _WIN32
@@ -676,9 +655,13 @@ typedef enum BcMode
 	/// File mode.
 	BC_MODE_FILE,
 
+#if !BC_ENABLE_OSSFUZZ
+
 	/// stdin mode.
 	BC_MODE_STDIN,
 
+#endif // !BC_ENABLE_OSSFUZZ
+
 } BcMode;
 
 /// Do a longjmp(). This is what to use when activating an "exception", i.e., a
diff --git a/include/vector.h b/include/vector.h
index b86be142..cad5fc2a 100644
--- a/include/vector.h
+++ b/include/vector.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/include/version.h b/include/version.h
index c7d2449c..e5c9ea32 100644
--- a/include/version.h
+++ b/include/version.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -37,6 +37,6 @@
 #define BC_VERSION_H
 
 /// The current version.
-#define VERSION 6.6.1
+#define VERSION 7.0.3
 
 #endif // BC_VERSION_H
diff --git a/include/vm.h b/include/vm.h
index c56cc8e7..e81206b6 100644
--- a/include/vm.h
+++ b/include/vm.h
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -493,7 +493,7 @@
 #define BC_VM_SAFE_RESULT(r) ((r)->t >= BC_RESULT_TEMP)
 
 /// The invalid locale catalog return value.
-#define BC_VM_INVALID_CATALOG ((nl_catd) -1)
+#define BC_VM_INVALID_CATALOG ((nl_catd) - 1)
 
 /**
  * Returns true if the *unsigned* multiplication overflows.
@@ -791,9 +791,10 @@ bc_vm_info(const char* const help);
  * The entrance point for bc/dc together.
  * @param argc  The count of arguments.
  * @param argv  The argument array.
+ * @return      A status.
  */
-void
-bc_vm_boot(int argc, char* argv[]);
+BcStatus
+bc_vm_boot(int argc, const char* argv[]);
 
 /**
  * Initializes some of the BcVm global. This is separate to make things easier
@@ -1045,8 +1046,9 @@ bc_vm_fatalError(BcErr e);
  * A function to call at exit.
  * @param status  The exit status.
  */
-int
-bc_vm_atexit(int status);
+BcStatus
+bc_vm_atexit(BcStatus status);
+
 #endif // BC_ENABLE_LIBRARY
 
 /// A reference to the copyright header.
diff --git a/locales/de_DE.ISO8859-1.msg b/locales/de_DE.ISO8859-1.msg
index 858a3946..9700ab07 100644
--- a/locales/de_DE.ISO8859-1.msg
+++ b/locales/de_DE.ISO8859-1.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/de_DE.UTF-8.msg b/locales/de_DE.UTF-8.msg
index 25be4fd7..7b918fc6 100644
--- a/locales/de_DE.UTF-8.msg
+++ b/locales/de_DE.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/en_US.msg b/locales/en_US.msg
index 5610496d..4afcbcd1 100644
--- a/locales/en_US.msg
+++ b/locales/en_US.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/es_ES.ISO8859-1.msg b/locales/es_ES.ISO8859-1.msg
index 3bf70753..4d022d9b 100644
--- a/locales/es_ES.ISO8859-1.msg
+++ b/locales/es_ES.ISO8859-1.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/es_ES.UTF-8.msg b/locales/es_ES.UTF-8.msg
index 0a5cf26d..364cff6e 100644
--- a/locales/es_ES.UTF-8.msg
+++ b/locales/es_ES.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/fr_FR.ISO8859-1.msg b/locales/fr_FR.ISO8859-1.msg
index f2e07e02..b4b39866 100644
--- a/locales/fr_FR.ISO8859-1.msg
+++ b/locales/fr_FR.ISO8859-1.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/fr_FR.UTF-8.msg b/locales/fr_FR.UTF-8.msg
index 1e9e9007..c3387e31 100644
--- a/locales/fr_FR.UTF-8.msg
+++ b/locales/fr_FR.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/ja_JP.UTF-8.msg b/locales/ja_JP.UTF-8.msg
index d871e9bf..21640eb9 100644
--- a/locales/ja_JP.UTF-8.msg
+++ b/locales/ja_JP.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/ja_JP.eucJP.msg b/locales/ja_JP.eucJP.msg
index e8baef5b..3e3b73d2 100644
--- a/locales/ja_JP.eucJP.msg
+++ b/locales/ja_JP.eucJP.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/nl_NL.ISO8859-1.msg b/locales/nl_NL.ISO8859-1.msg
index cca79a04..aaf41c65 100644
--- a/locales/nl_NL.ISO8859-1.msg
+++ b/locales/nl_NL.ISO8859-1.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/nl_NL.UTF-8.msg b/locales/nl_NL.UTF-8.msg
index 7becb1b8..0ab0b9c3 100644
--- a/locales/nl_NL.UTF-8.msg
+++ b/locales/nl_NL.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/pl_PL.ISO8859-2.msg b/locales/pl_PL.ISO8859-2.msg
index e3bd25a5..5b427c80 100644
--- a/locales/pl_PL.ISO8859-2.msg
+++ b/locales/pl_PL.ISO8859-2.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/pl_PL.UTF-8.msg b/locales/pl_PL.UTF-8.msg
index c6766e2f..fd0f85b5 100644
--- a/locales/pl_PL.UTF-8.msg
+++ b/locales/pl_PL.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/pt_PT.ISO8859-1.msg b/locales/pt_PT.ISO8859-1.msg
index 0a020642..9b365b4a 100644
--- a/locales/pt_PT.ISO8859-1.msg
+++ b/locales/pt_PT.ISO8859-1.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/pt_PT.UTF-8.msg b/locales/pt_PT.UTF-8.msg
index 36c3b692..f5054a17 100644
--- a/locales/pt_PT.UTF-8.msg
+++ b/locales/pt_PT.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/ru_RU.CP1251.msg b/locales/ru_RU.CP1251.msg
index 644470eb..ac8957cc 100644
--- a/locales/ru_RU.CP1251.msg
+++ b/locales/ru_RU.CP1251.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/ru_RU.CP866.msg b/locales/ru_RU.CP866.msg
index ee49a2a4..763fd55a 100644
--- a/locales/ru_RU.CP866.msg
+++ b/locales/ru_RU.CP866.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/ru_RU.ISO8859-5.msg b/locales/ru_RU.ISO8859-5.msg
index a2921a04..bbb1f418 100644
--- a/locales/ru_RU.ISO8859-5.msg
+++ b/locales/ru_RU.ISO8859-5.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/ru_RU.KOI8-R.msg b/locales/ru_RU.KOI8-R.msg
index a5ee8475..d1e2bdc0 100644
--- a/locales/ru_RU.KOI8-R.msg
+++ b/locales/ru_RU.KOI8-R.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/ru_RU.UTF-8.msg b/locales/ru_RU.UTF-8.msg
index cd95ad24..b45b3634 100644
--- a/locales/ru_RU.UTF-8.msg
+++ b/locales/ru_RU.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/zh_CN.GB18030.msg b/locales/zh_CN.GB18030.msg
index 0ec91394..3625c5b4 100644
--- a/locales/zh_CN.GB18030.msg
+++ b/locales/zh_CN.GB18030.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/zh_CN.GB2312.msg b/locales/zh_CN.GB2312.msg
index 0ec91394..3625c5b4 100644
--- a/locales/zh_CN.GB2312.msg
+++ b/locales/zh_CN.GB2312.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/zh_CN.GBK.msg b/locales/zh_CN.GBK.msg
index 0ec91394..3625c5b4 100644
--- a/locales/zh_CN.GBK.msg
+++ b/locales/zh_CN.GBK.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/zh_CN.UTF-8.msg b/locales/zh_CN.UTF-8.msg
index 1fbb16d1..95813f41 100644
--- a/locales/zh_CN.UTF-8.msg
+++ b/locales/zh_CN.UTF-8.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/locales/zh_CN.eucCN.msg b/locales/zh_CN.eucCN.msg
index 0ec91394..3625c5b4 100644
--- a/locales/zh_CN.eucCN.msg
+++ b/locales/zh_CN.eucCN.msg
@@ -1,7 +1,7 @@
 $ $
 $ SPDX-License-Identifier: BSD-2-Clause
 $ $
-$ Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+$ Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 $ $
 $ Redistribution and use in source and binary forms, with or without
 $ modification, are permitted provided that the following conditions are met:
diff --git a/manuals/algorithms.md b/manuals/algorithms.md
index e0a5e8a4..ce27bf02 100644
--- a/manuals/algorithms.md
+++ b/manuals/algorithms.md
@@ -194,7 +194,7 @@ The algorithm used is to use the formula `e(y*l(x))`.
 It has a complexity of `O(n^3)` because both `e()` and `l()` do.
 
 However, there are details to this algorithm, described by the author,
-TediusTimmy, in GitHub issue #69.
+TediusTimmy, in GitHub issue [#69][12].
 
 First, check if the exponent is 0. If it is, return 1 at the appropriate
 `scale`.
@@ -395,3 +395,4 @@ It has a complexity of `O(n^3)` because of arctangent.
 [9]: https://en.wikipedia.org/wiki/Root-finding_algorithms#Newton's_method_(and_similar_derivative-based_methods)
 [10]: https://en.wikipedia.org/wiki/Euclidean_algorithm
 [11]: https://en.wikipedia.org/wiki/Atan2#Definition_and_computation
+[12]: https://github.com/gavinhoward/bc/issues/69
diff --git a/manuals/bc.1.md.in b/manuals/bc.1.md.in
index a4bea761..17e6ff01 100644
--- a/manuals/bc.1.md.in
+++ b/manuals/bc.1.md.in
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -881,6 +881,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 {{ A H N HN }}
@@ -1151,7 +1154,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
@@ -1349,6 +1352,14 @@ The extended library is a **non-portable extension**.
 
 :   Returns the factorial of the truncated absolute value of **x**.
 
+**max(a, b)**
+
+:   Returns **a** if **a** is greater than **b**; otherwise, returns **b**.
+
+**min(a, b)**
+
+:   Returns **a** if **a** is less than **b**; otherwise, returns **b**.
+
 **perm(n, k)**
 
 :   Returns the permutation of the truncated absolute value of **n** of the
@@ -1525,7 +1536,15 @@ The extended library is a **non-portable extension**.
     digits after the decimal point equal to the truncated absolute value of
     **p**. If the absolute value of **i** is greater than or equal to **2**, and
     **p** is not **0**, then calling this function will change the value of
-    **seed**; otherwise, **0** is returned and **seed** is not changed.
+    **seed**; otherwise, **0** is returned, and **seed** is not changed.
+
+**i2rand(a, b)**
+
+:   Takes the truncated value of **a** and **b** and uses them as inclusive
+    bounds to enerate a pseudo-random integer. If the difference of the
+    truncated values of **a** and **b** is **0**, then the truncated value is
+    returned, and **seed** is *not* changed. Otherwise, this function will
+    change the value of **seed**.
 
 **srand(x)**
 
@@ -1587,7 +1606,7 @@ The extended library is a **non-portable extension**.
 **bnot8(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **8** binary digits (1 unsigned byte).
+    **8** binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1595,7 +1614,7 @@ The extended library is a **non-portable extension**.
 **bnot16(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **16** binary digits (2 unsigned bytes).
+    **16** binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1603,7 +1622,7 @@ The extended library is a **non-portable extension**.
 **bnot32(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **32** binary digits (4 unsigned bytes).
+    **32** binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1611,7 +1630,7 @@ The extended library is a **non-portable extension**.
 **bnot64(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **64** binary digits (8 unsigned bytes).
+    **64** binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1635,7 +1654,7 @@ The extended library is a **non-portable extension**.
 **brev8(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 8 binary digits (1 unsigned byte).
+    has 8 binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1643,7 +1662,7 @@ The extended library is a **non-portable extension**.
 **brev16(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 16 binary digits (2 unsigned bytes).
+    has 16 binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1651,7 +1670,7 @@ The extended library is a **non-portable extension**.
 **brev32(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 32 binary digits (4 unsigned bytes).
+    has 32 binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1659,7 +1678,7 @@ The extended library is a **non-portable extension**.
 **brev64(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 64 binary digits (8 unsigned bytes).
+    has 64 binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1706,7 +1725,7 @@ The extended library is a **non-portable extension**.
 **brol32(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **32** binary digits (**2** unsigned bytes), by the number of
+    though it has **32** binary digits (**4** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **32**.
 
@@ -1716,7 +1735,7 @@ The extended library is a **non-portable extension**.
 **brol64(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **64** binary digits (**2** unsigned bytes), by the number of
+    though it has **64** binary digits (**8** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **64**.
 
diff --git a/manuals/bc/A.1 b/manuals/bc/A.1
index 5de2d352..adeb62f8 100644
--- a/manuals/bc/A.1
+++ b/manuals/bc/A.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,41 +25,38 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bc - arbitrary-precision decimal arithmetic language and calculator
+bc \- arbitrary\-precision decimal arithmetic language and calculator
 .SH SYNOPSIS
-.PP
-\f[B]bc\f[R] [\f[B]-cCghilPqRsvVw\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--global-stacks\f[R]]
-[\f[B]--help\f[R]] [\f[B]--interactive\f[R]] [\f[B]--mathlib\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]] [\f[B]--quiet\f[R]]
-[\f[B]--standard\f[R]] [\f[B]--warn\f[R]] [\f[B]--version\f[R]]
-[\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]bc\f[R] [\f[B]\-cCghilPqRsvVw\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-global\-stacks\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-interactive\f[R]] [\f[B]\-\-mathlib\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-quiet\f[R]] [\f[B]\-\-standard\f[R]] [\f[B]\-\-warn\f[R]]
+[\f[B]\-\-version\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
-[\f[B]-I\f[R] \f[I]ibase\f[R]] [\f[B]--ibase\f[R]=\f[I]ibase\f[R]]
-[\f[B]-O\f[R] \f[I]obase\f[R]] [\f[B]--obase\f[R]=\f[I]obase\f[R]]
-[\f[B]-S\f[R] \f[I]scale\f[R]] [\f[B]--scale\f[R]=\f[I]scale\f[R]]
-[\f[B]-E\f[R] \f[I]seed\f[R]] [\f[B]--seed\f[R]=\f[I]seed\f[R]]
+[\f[B]\-I\f[R] \f[I]ibase\f[R]] [\f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]]
+[\f[B]\-O\f[R] \f[I]obase\f[R]] [\f[B]\-\-obase\f[R]=\f[I]obase\f[R]]
+[\f[B]\-S\f[R] \f[I]scale\f[R]] [\f[B]\-\-scale\f[R]=\f[I]scale\f[R]]
+[\f[B]\-E\f[R] \f[I]seed\f[R]] [\f[B]\-\-seed\f[R]=\f[I]seed\f[R]]
 .SH DESCRIPTION
-.PP
 bc(1) is an interactive processor for a language first standardized in
 1991 by POSIX.
 (See the \f[B]STANDARDS\f[R] section.)
 The language provides unlimited precision decimal arithmetic and is
-somewhat C-like, but there are differences.
+somewhat C\-like, but there are differences.
 Such differences will be noted in this document.
 .PP
 After parsing and handling options, this bc(1) reads any files given on
 the command line and executes them before reading from \f[B]stdin\f[R].
 .PP
-This bc(1) is a drop-in replacement for \f[I]any\f[R] bc(1), including
+This bc(1) is a drop\-in replacement for \f[I]any\f[R] bc(1), including
 (and especially) the GNU bc(1).
 It also has many extensions and extra features beyond other
 implementations.
@@ -68,19 +65,18 @@ implementations.
 another bc(1) gives a parse error, it is probably because a word this
 bc(1) reserves as a keyword is used as the name of a function, variable,
 or array.
-To fix that, use the command-line option \f[B]-r\f[R] \f[I]keyword\f[R],
-where \f[I]keyword\f[R] is the keyword that is used as a name in the
-script.
+To fix that, use the command\-line option \f[B]\-r\f[R]
+\f[I]keyword\f[R], where \f[I]keyword\f[R] is the keyword that is used
+as a name in the script.
 For more information, see the \f[B]OPTIONS\f[R] section.
 .PP
 If parsing scripts meant for other bc(1) implementations still does not
 work, that is a bug and should be reported.
 See the \f[B]BUGS\f[R] section.
 .SH OPTIONS
-.PP
 The following are the options that bc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -90,17 +86,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -111,17 +107,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-E\f[R] \f[I]seed\f[R], \f[B]--seed\f[R]=\f[I]seed\f[R]
+\f[B]\-E\f[R] \f[I]seed\f[R], \f[B]\-\-seed\f[R]=\f[I]seed\f[R]
 Sets the builtin variable \f[B]seed\f[R] to the value \f[I]seed\f[R]
 assuming that \f[I]seed\f[R] is in base 10.
 It is a fatal error if \f[I]seed\f[R] is not a valid number.
@@ -129,54 +125,54 @@ It is a fatal error if \f[I]seed\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
-If files are given as well (see the \f[B]-f\f[R] and \f[B]--file\f[R]
+If files are given as well (see the \f[B]\-f\f[R] and \f[B]\-\-file\f[R]
 options), the expressions and files are evaluated in the order given.
 This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]BC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
-If expressions are also given (see the \f[B]-e\f[R] and
-\f[B]--expression\f[R] options), the expressions are evaluated in the
+If expressions are also given (see the \f[B]\-e\f[R] and
+\f[B]\-\-expression\f[R] options), the expressions are evaluated in the
 order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-g\f[R], \f[B]--global-stacks\f[R]
+\f[B]\-g\f[R], \f[B]\-\-global\-stacks\f[R]
 Turns the globals \f[B]ibase\f[R], \f[B]obase\f[R], \f[B]scale\f[R], and
 \f[B]seed\f[R] into stacks.
 .RS
@@ -189,19 +185,16 @@ without worrying that the change will affect other functions.
 Thus, a hypothetical function named \f[B]output(x,b)\f[R] that simply
 printed \f[B]x\f[R] in base \f[B]b\f[R] could be written like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     obase=b
     x
 }
-\f[R]
-.fi
+.EE
 .PP
 instead of like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     auto c
     c=obase
@@ -209,8 +202,7 @@ define void output(x, b) {
     x
     obase=c
 }
-\f[R]
-.fi
+.EE
 .PP
 This makes writing functions much easier.
 .PP
@@ -228,12 +220,10 @@ converter, it is possible to replace that capability with various shell
 aliases.
 Examples:
 .IP
-.nf
-\f[C]
-alias d2o=\[dq]bc -e ibase=A -e obase=8\[dq]
-alias h2b=\[dq]bc -e ibase=G -e obase=2\[dq]
-\f[R]
-.fi
+.EX
+alias d2o=\[dq]bc \-e ibase=A \-e obase=8\[dq]
+alias h2b=\[dq]bc \-e ibase=G \-e obase=2\[dq]
+.EE
 .PP
 Second, if the purpose of a function is to set \f[B]ibase\f[R],
 \f[B]obase\f[R], \f[B]scale\f[R], or \f[B]seed\f[R] globally for any
@@ -243,35 +233,34 @@ desired value for a global.
 .PP
 For functions that set \f[B]seed\f[R], the value assigned to
 \f[B]seed\f[R] is not propagated to parent functions.
-This means that the sequence of pseudo-random numbers that they see will
-not be the same sequence of pseudo-random numbers that any parent sees.
+This means that the sequence of pseudo\-random numbers that they see
+will not be the same sequence of pseudo\-random numbers that any parent
+sees.
 This is only the case once \f[B]seed\f[R] has been set.
 .PP
-If a function desires to not affect the sequence of pseudo-random
+If a function desires to not affect the sequence of pseudo\-random
 numbers of its parents, but wants to use the same \f[B]seed\f[R], it can
 use the following line:
 .IP
-.nf
-\f[C]
+.EX
 seed = seed
-\f[R]
-.fi
+.EE
 .PP
 If the behavior of this option is desired for every run of bc(1), then
 users could make sure to define \f[B]BC_ENV_ARGS\f[R] and include this
 option (see the \f[B]ENVIRONMENT VARIABLES\f[R] section for more
 details).
 .PP
-If \f[B]-s\f[R], \f[B]-w\f[R], or any equivalents are used, this option
-is ignored.
+If \f[B]\-s\f[R], \f[B]\-w\f[R], or any equivalents are used, this
+option is ignored.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -279,28 +268,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-l\f[R], \f[B]--mathlib\f[R]
+\f[B]\-l\f[R], \f[B]\-\-mathlib\f[R]
 Sets \f[B]scale\f[R] (see the \f[B]SYNTAX\f[R] section) to \f[B]20\f[R]
 and loads the included math library and the extended math library before
 running any code, including any expressions or files specified on the
@@ -310,7 +299,7 @@ command line.
 To learn what is in the libraries, see the \f[B]LIBRARY\f[R] section.
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -318,10 +307,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -334,26 +323,26 @@ Most of those users would want to put this option in
 These options override the \f[B]BC_PROMPT\f[R] and \f[B]BC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-q\f[R], \f[B]--quiet\f[R]
+\f[B]\-q\f[R], \f[B]\-\-quiet\f[R]
 This option is for compatibility with the GNU bc(1)
-(https://www.gnu.org/software/bc/); it is a no-op.
+(https://www.gnu.org/software/bc/); it is a no\-op.
 Without this option, GNU bc(1) prints a copyright header.
 This bc(1) only prints the copyright header if one or more of the
-\f[B]-v\f[R], \f[B]-V\f[R], or \f[B]--version\f[R] options are given
+\f[B]\-v\f[R], \f[B]\-V\f[R], or \f[B]\-\-version\f[R] options are given
 unless the \f[B]BC_BANNER\f[R] environment variable is set and contains
-a non-zero integer or if this bc(1) was built with the header displayed
+a non\-zero integer or if this bc(1) was built with the header displayed
 by default.
 If \f[I]any\f[R] of that is the case, then this option \f[I]does\f[R]
 prevent bc(1) from printing the header.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -366,16 +355,16 @@ prompt for user input.
 .RS
 .PP
 This option does not disable the regular prompt because the read prompt
-is only used when the \f[B]read()\f[R] built-in function is called.
+is only used when the \f[B]read()\f[R] built\-in function is called.
 .PP
 These options \f[I]do\f[R] override the \f[B]BC_PROMPT\f[R] and
 \f[B]BC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-r\f[R] \f[I]keyword\f[R], \f[B]--redefine\f[R]=\f[I]keyword\f[R]
+\f[B]\-r\f[R] \f[I]keyword\f[R], \f[B]\-\-redefine\f[R]=\f[I]keyword\f[R]
 Redefines \f[I]keyword\f[R] in order to allow it to be used as a
 function, variable, or array name.
 This is useful when this bc(1) gives parse errors when parsing scripts
@@ -436,7 +425,7 @@ It is a fatal error to attempt to redefine words that this bc(1) does
 not reserve as keywords.
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -444,35 +433,35 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-s\f[R], \f[B]--standard\f[R]
+\f[B]\-s\f[R], \f[B]\-\-standard\f[R]
 Process exactly the language defined by the standard (see the
 \f[B]STANDARDS\f[R] section) and error if any extensions are used.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-w\f[R], \f[B]--warn\f[R]
-Like \f[B]-s\f[R] and \f[B]--standard\f[R], except that warnings (and
-not errors) are printed for non-standard extensions and execution
+\f[B]\-w\f[R], \f[B]\-\-warn\f[R]
+Like \f[B]\-s\f[R] and \f[B]\-\-standard\f[R], except that warnings (and
+not errors) are printed for non\-standard extensions and execution
 continues normally.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes bc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes bc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
@@ -480,15 +469,14 @@ This can be set for individual numbers with the \f[B]plz(x)\f[R],
 \f[B]plznl(x)\f[R], \f[B]pnlz(x)\f[R], and \f[B]pnlznl(x)\f[R] functions
 in the extended math library (see the \f[B]LIBRARY\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files or expressions are given by the \f[B]-f\f[R],
-\f[B]--file\f[R], \f[B]-e\f[R], or \f[B]--expression\f[R] options, then
-bc(1) reads from \f[B]stdin\f[R].
+If no files or expressions are given by the \f[B]\-f\f[R],
+\f[B]\-\-file\f[R], \f[B]\-e\f[R], or \f[B]\-\-expression\f[R] options,
+then bc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there are a few caveats to this.
 .PP
@@ -502,8 +490,7 @@ Second, after an \f[B]if\f[R] statement, bc(1) doesn\[cq]t know if an
 \f[B]else\f[R] statement will follow, so it will not execute until it
 knows there will not be an \f[B]else\f[R] statement.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -511,7 +498,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]bc >&-\f[R], it will quit with an error.
+\f[B]bc  >&\-\f[R], it will quit with an error.
 This is done so that bc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -519,13 +506,12 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]bc 2>&-\f[R], it will quit with an error.
+\f[B]bc  2>&\-\f[R], it will quit with an error.
 This is done so that bc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -533,8 +519,7 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
-The syntax for bc(1) programs is mostly C-like, with some differences.
+The syntax for bc(1) programs is mostly C\-like, with some differences.
 This bc(1) follows the POSIX standard (see the \f[B]STANDARDS\f[R]
 section), which is a much more thorough resource for the language this
 bc(1) accepts.
@@ -545,32 +530,32 @@ In the sections below, \f[B]E\f[R] means expression, \f[B]S\f[R] means
 statement, and \f[B]I\f[R] means identifier.
 .PP
 Identifiers (\f[B]I\f[R]) start with a lowercase letter and can be
-followed by any number (up to \f[B]BC_NAME_MAX-1\f[R]) of lowercase
-letters (\f[B]a-z\f[R]), digits (\f[B]0-9\f[R]), and underscores
+followed by any number (up to \f[B]BC_NAME_MAX\-1\f[R]) of lowercase
+letters (\f[B]a\-z\f[R]), digits (\f[B]0\-9\f[R]), and underscores
 (\f[B]_\f[R]).
-The regex is \f[B][a-z][a-z0-9_]*\f[R].
+The regex is \f[B][a\-z][a\-z0\-9_]*\f[R].
 Identifiers with more than one character (letter) are a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .PP
 \f[B]ibase\f[R] is a global variable determining how to interpret
 constant numbers.
 It is the \[lq]input\[rq] base, or the number base used for interpreting
 input numbers.
 \f[B]ibase\f[R] is initially \f[B]10\f[R].
-If the \f[B]-s\f[R] (\f[B]--standard\f[R]) and \f[B]-w\f[R]
-(\f[B]--warn\f[R]) flags were not given on the command line, the max
+If the \f[B]\-s\f[R] (\f[B]\-\-standard\f[R]) and \f[B]\-w\f[R]
+(\f[B]\-\-warn\f[R]) flags were not given on the command line, the max
 allowable value for \f[B]ibase\f[R] is \f[B]36\f[R].
 Otherwise, it is \f[B]16\f[R].
 The min allowable value for \f[B]ibase\f[R] is \f[B]2\f[R].
 The max allowable value for \f[B]ibase\f[R] can be queried in bc(1)
-programs with the \f[B]maxibase()\f[R] built-in function.
+programs with the \f[B]maxibase()\f[R] built\-in function.
 .PP
 \f[B]obase\f[R] is a global variable determining how to output results.
 It is the \[lq]output\[rq] base, or the number base used for outputting
 numbers.
 \f[B]obase\f[R] is initially \f[B]10\f[R].
 The max allowable value for \f[B]obase\f[R] is \f[B]BC_BASE_MAX\f[R] and
-can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built-in
+can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built\-in
 function.
 The min allowable value for \f[B]obase\f[R] is \f[B]0\f[R].
 If \f[B]obase\f[R] is \f[B]0\f[R], values are output in scientific
@@ -578,8 +563,8 @@ notation, and if \f[B]obase\f[R] is \f[B]1\f[R], values are output in
 engineering notation.
 Otherwise, values are output in the specified base.
 .PP
-Outputting in scientific and engineering notations are \f[B]non-portable
-extensions\f[R].
+Outputting in scientific and engineering notations are
+\f[B]non\-portable extensions\f[R].
 .PP
 The \f[I]scale\f[R] of an expression is the number of digits in the
 result of the expression right of the decimal point, and \f[B]scale\f[R]
@@ -589,7 +574,7 @@ exceptions.
 \f[B]scale\f[R] cannot be negative.
 The max allowable value for \f[B]scale\f[R] is \f[B]BC_SCALE_MAX\f[R]
 and can be queried in bc(1) programs with the \f[B]maxscale()\f[R]
-built-in function.
+built\-in function.
 .PP
 bc(1) has both \f[I]global\f[R] variables and \f[I]local\f[R] variables.
 All \f[I]local\f[R] variables are local to the function; they are
@@ -614,20 +599,18 @@ The value that is printed is also assigned to the special variable
 \f[B]last\f[R].
 A single dot (\f[B].\f[R]) may also be used as a synonym for
 \f[B]last\f[R].
-These are \f[B]non-portable extensions\f[R].
+These are \f[B]non\-portable extensions\f[R].
 .PP
 Either semicolons or newlines may separate statements.
 .SS Comments
-.PP
 There are two kinds of comments:
 .IP "1." 3
 Block comments are enclosed in \f[B]/*\f[R] and \f[B]*/\f[R].
 .IP "2." 3
 Line comments go from \f[B]#\f[R] until, and not including, the next
 newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Named Expressions
-.PP
 The following are named expressions in bc(1):
 .IP "1." 3
 Variables: \f[B]I\f[R]
@@ -644,26 +627,26 @@ Array Elements: \f[B]I[E]\f[R]
 .IP "7." 3
 \f[B]last\f[R] or a single dot (\f[B].\f[R])
 .PP
-Numbers 6 and 7 are \f[B]non-portable extensions\f[R].
+Numbers 6 and 7 are \f[B]non\-portable extensions\f[R].
 .PP
-The meaning of \f[B]seed\f[R] is dependent on the current pseudo-random
+The meaning of \f[B]seed\f[R] is dependent on the current pseudo\-random
 number generator but is guaranteed to not change except for new major
 versions.
 .PP
 The \f[I]scale\f[R] and sign of the value may be significant.
 .PP
 If a previously used \f[B]seed\f[R] value is assigned to \f[B]seed\f[R]
-and used again, the pseudo-random number generator is guaranteed to
-produce the same sequence of pseudo-random numbers as it did when the
+and used again, the pseudo\-random number generator is guaranteed to
+produce the same sequence of pseudo\-random numbers as it did when the
 \f[B]seed\f[R] value was previously used.
 .PP
 The exact value assigned to \f[B]seed\f[R] is not guaranteed to be
 returned if \f[B]seed\f[R] is queried again immediately.
 However, if \f[B]seed\f[R] \f[I]does\f[R] return a different value, both
 values, when assigned to \f[B]seed\f[R], are guaranteed to produce the
-same sequence of pseudo-random numbers.
+same sequence of pseudo\-random numbers.
 This means that certain values assigned to \f[B]seed\f[R] will
-\f[I]not\f[R] produce unique sequences of pseudo-random numbers.
+\f[I]not\f[R] produce unique sequences of pseudo\-random numbers.
 The value of \f[B]seed\f[R] will change after any use of the
 \f[B]rand()\f[R] and \f[B]irand(E)\f[R] operands (see the
 \f[I]Operands\f[R] subsection below), except if the parameter passed to
@@ -684,7 +667,6 @@ Named expressions are required as the operand of
 of \f[B]assignment\f[R] operators (see the \f[I]Operators\f[R]
 subsection).
 .SS Operands
-.PP
 The following are valid operands in bc(1):
 .IP " 1." 4
 Numbers (see the \f[I]Numbers\f[R] subsection below).
@@ -694,61 +676,61 @@ Array indices (\f[B]I[E]\f[R]).
 \f[B](E)\f[R]: The value of \f[B]E\f[R] (used to change precedence).
 .IP " 4." 4
 \f[B]sqrt(E)\f[R]: The square root of \f[B]E\f[R].
-\f[B]E\f[R] must be non-negative.
+\f[B]E\f[R] must be non\-negative.
 .IP " 5." 4
 \f[B]length(E)\f[R]: The number of significant decimal digits in
 \f[B]E\f[R].
 Returns \f[B]1\f[R] for \f[B]0\f[R] with no decimal places.
 If given a string, the length of the string is returned.
-Passing a string to \f[B]length(E)\f[R] is a \f[B]non-portable
+Passing a string to \f[B]length(E)\f[R] is a \f[B]non\-portable
 extension\f[R].
 .IP " 6." 4
 \f[B]length(I[])\f[R]: The number of elements in the array \f[B]I\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 7." 4
 \f[B]scale(E)\f[R]: The \f[I]scale\f[R] of \f[B]E\f[R].
 .IP " 8." 4
 \f[B]abs(E)\f[R]: The absolute value of \f[B]E\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 9." 4
 \f[B]is_number(E)\f[R]: \f[B]1\f[R] if the given argument is a number,
 \f[B]0\f[R] if it is a string.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "10." 4
 \f[B]is_string(E)\f[R]: \f[B]1\f[R] if the given argument is a string,
 \f[B]0\f[R] if it is a number.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "11." 4
 \f[B]modexp(E, E, E)\f[R]: Modular exponentiation, where the first
 expression is the base, the second is the exponent, and the third is the
 modulus.
 All three values must be integers.
-The second argument must be non-negative.
-The third argument must be non-zero.
-This is a \f[B]non-portable extension\f[R].
+The second argument must be non\-negative.
+The third argument must be non\-zero.
+This is a \f[B]non\-portable extension\f[R].
 .IP "12." 4
 \f[B]divmod(E, E, I[])\f[R]: Division and modulus in one operation.
 This is for optimization.
 The first expression is the dividend, and the second is the divisor,
-which must be non-zero.
+which must be non\-zero.
 The return value is the quotient, and the modulus is stored in index
 \f[B]0\f[R] of the provided array (the last argument).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "13." 4
 \f[B]asciify(E)\f[R]: If \f[B]E\f[R] is a string, returns a string that
 is the first letter of its argument.
 If it is a number, calculates the number mod \f[B]256\f[R] and returns
-that number as a one-character string.
-This is a \f[B]non-portable extension\f[R].
+that number as a one\-character string.
+This is a \f[B]non\-portable extension\f[R].
 .IP "14." 4
 \f[B]asciify(I[])\f[R]: A string that is made up of the characters that
 would result from running \f[B]asciify(E)\f[R] on each element of the
 array identified by the argument.
-This allows creating multi-character strings and storing them.
-This is a \f[B]non-portable extension\f[R].
+This allows creating multi\-character strings and storing them.
+This is a \f[B]non\-portable extension\f[R].
 .IP "15." 4
 \f[B]I()\f[R], \f[B]I(E)\f[R], \f[B]I(E, E)\f[R], and so on, where
-\f[B]I\f[R] is an identifier for a non-\f[B]void\f[R] function (see the
+\f[B]I\f[R] is an identifier for a non\-\f[B]void\f[R] function (see the
 \f[I]Void Functions\f[R] subsection of the \f[B]FUNCTIONS\f[R] section).
 The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]I[]\f[R], which will automatically be turned into array references
@@ -760,47 +742,47 @@ function definition is an array reference.
 expression.
 The result of that expression is the result of the \f[B]read()\f[R]
 operand.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "17." 4
 \f[B]maxibase()\f[R]: The max allowable \f[B]ibase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "18." 4
 \f[B]maxobase()\f[R]: The max allowable \f[B]obase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "19." 4
 \f[B]maxscale()\f[R]: The max allowable \f[B]scale\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "20." 4
 \f[B]line_length()\f[R]: The line length set with
 \f[B]BC_LINE_LENGTH\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "21." 4
 \f[B]global_stacks()\f[R]: \f[B]0\f[R] if global stacks are not enabled
-with the \f[B]-g\f[R] or \f[B]--global-stacks\f[R] options, non-zero
-otherwise.
+with the \f[B]\-g\f[R] or \f[B]\-\-global\-stacks\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "22." 4
 \f[B]leading_zero()\f[R]: \f[B]0\f[R] if leading zeroes are not enabled
-with the \f[B]-z\f[R] or \f[B]\[en]leading-zeroes\f[R] options, non-zero
-otherwise.
+with the \f[B]\-z\f[R] or \f[B]\[en]leading\-zeroes\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "23." 4
-\f[B]rand()\f[R]: A pseudo-random integer between \f[B]0\f[R]
+\f[B]rand()\f[R]: A pseudo\-random integer between \f[B]0\f[R]
 (inclusive) and \f[B]BC_RAND_MAX\f[R] (inclusive).
 Using this operand will change the value of \f[B]seed\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "24." 4
-\f[B]irand(E)\f[R]: A pseudo-random integer between \f[B]0\f[R]
+\f[B]irand(E)\f[R]: A pseudo\-random integer between \f[B]0\f[R]
 (inclusive) and the value of \f[B]E\f[R] (exclusive).
-If \f[B]E\f[R] is negative or is a non-integer (\f[B]E\f[R]\[cq]s
+If \f[B]E\f[R] is negative or is a non\-integer (\f[B]E\f[R]\[cq]s
 \f[I]scale\f[R] is not \f[B]0\f[R]), an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section) while \f[B]seed\f[R] remains
 unchanged.
 If \f[B]E\f[R] is larger than \f[B]BC_RAND_MAX\f[R], the higher bound is
-honored by generating several pseudo-random integers, multiplying them
+honored by generating several pseudo\-random integers, multiplying them
 by appropriate powers of \f[B]BC_RAND_MAX+1\f[R], and adding them
 together.
 Thus, the size of integer that can be generated with this operand is
@@ -809,27 +791,26 @@ Using this operand will change the value of \f[B]seed\f[R], unless the
 value of \f[B]E\f[R] is \f[B]0\f[R] or \f[B]1\f[R].
 In that case, \f[B]0\f[R] is returned, and \f[B]seed\f[R] is
 \f[I]not\f[R] changed.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "25." 4
 \f[B]maxrand()\f[R]: The max integer returned by \f[B]rand()\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .PP
 The integers generated by \f[B]rand()\f[R] and \f[B]irand(E)\f[R] are
 guaranteed to be as unbiased as possible, subject to the limitations of
-the pseudo-random number generator.
+the pseudo\-random number generator.
 .PP
-\f[B]Note\f[R]: The values returned by the pseudo-random number
+\f[B]Note\f[R]: The values returned by the pseudo\-random number
 generator with \f[B]rand()\f[R] and \f[B]irand(E)\f[R] are guaranteed to
 \f[I]NOT\f[R] be cryptographically secure.
-This is a consequence of using a seeded pseudo-random number generator.
+This is a consequence of using a seeded pseudo\-random number generator.
 However, they \f[I]are\f[R] guaranteed to be reproducible with identical
 \f[B]seed\f[R] values.
-This means that the pseudo-random values from bc(1) should only be used
-where a reproducible stream of pseudo-random numbers is
+This means that the pseudo\-random values from bc(1) should only be used
+where a reproducible stream of pseudo\-random numbers is
 \f[I]ESSENTIAL\f[R].
-In any other case, use a non-seeded pseudo-random number generator.
+In any other case, use a non\-seeded pseudo\-random number generator.
 .SS Numbers
-.PP
 Numbers are strings made up of digits, uppercase letters, and at most
 \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]BC_NUM_MAX\f[R] digits.
@@ -840,12 +821,12 @@ alphabet, starting from \f[B]1\f[R] (i.e., \f[B]A\f[R] equals
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]BC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -863,7 +844,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -882,11 +863,11 @@ These have the form \f[B]<number>e<integer>\f[R].
 The exponent (the portion after the \f[B]e\f[R]) must be an integer.
 An example is \f[B]1.89237e9\f[R], which is equal to
 \f[B]1892370000\f[R].
-Negative exponents are also allowed, so \f[B]4.2890e-3\f[R] is equal to
+Negative exponents are also allowed, so \f[B]4.2890e\-3\f[R] is equal to
 \f[B]0.0042890\f[R].
 .PP
-Using scientific notation is an error or warning if the \f[B]-s\f[R] or
-\f[B]-w\f[R], respectively, command-line options (or equivalents) are
+Using scientific notation is an error or warning if the \f[B]\-s\f[R] or
+\f[B]\-w\f[R], respectively, command\-line options (or equivalents) are
 given.
 .PP
 \f[B]WARNING\f[R]: Both the number and the exponent in scientific
@@ -896,17 +877,16 @@ of the current \f[B]ibase\f[R].
 For example, if \f[B]ibase\f[R] is \f[B]16\f[R] and bc(1) is given the
 number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if bc(1) is given the number string
-\f[B]10e-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
+\f[B]10e\-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .PP
-Accepting input as scientific notation is a \f[B]non-portable
+Accepting input as scientific notation is a \f[B]non\-portable
 extension\f[R].
 .SS Operators
-.PP
 The following arithmetic and logical operators can be used.
 They are listed in order of decreasing precedence.
 Operators in the same group have the same precedence.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 Type: Prefix and Postfix
 .RS
 .PP
@@ -915,7 +895,7 @@ Associativity: None
 Description: \f[B]increment\f[R], \f[B]decrement\f[R]
 .RE
 .TP
-\f[B]-\f[R] \f[B]!\f[R]
+\f[B]\-\f[R] \f[B]!\f[R]
 Type: Prefix
 .RS
 .PP
@@ -960,7 +940,7 @@ Associativity: Left
 Description: \f[B]multiply\f[R], \f[B]divide\f[R], \f[B]modulus\f[R]
 .RE
 .TP
-\f[B]+\f[R] \f[B]-\f[R]
+\f[B]+\f[R] \f[B]\-\f[R]
 Type: Binary
 .RS
 .PP
@@ -978,7 +958,7 @@ Associativity: Left
 Description: \f[B]shift left\f[R], \f[B]shift right\f[R]
 .RE
 .TP
-\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
+\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
 Type: Binary
 .RS
 .PP
@@ -1016,18 +996,18 @@ Description: \f[B]boolean or\f[R]
 .PP
 The operators will be described in more detail below.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 The prefix and postfix \f[B]increment\f[R] and \f[B]decrement\f[R]
-operators behave exactly like they would in C.
-They require a named expression (see the \f[I]Named Expressions\f[R]
-subsection) as an operand.
+operators behave exactly like they would in C. They require a named
+expression (see the \f[I]Named Expressions\f[R] subsection) as an
+operand.
 .RS
 .PP
 The prefix versions of these operators are more efficient; use them
 where possible.
 .RE
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]negation\f[R] operator returns \f[B]0\f[R] if a user attempts
 to negate any expression with the value \f[B]0\f[R].
 Otherwise, a copy of the expression with its sign flipped is returned.
@@ -1037,7 +1017,11 @@ The \f[B]boolean not\f[R] operator returns \f[B]1\f[R] if the expression
 is \f[B]0\f[R], or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]Warning\f[R]: This operator has a \f[B]different precedence\f[R]
+than the equivalent operator in GNU bc(1) and other bc(1)
+implementations!
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]$\f[R]
@@ -1045,7 +1029,7 @@ The \f[B]truncation\f[R] operator returns a copy of the given expression
 with all of its \f[I]scale\f[R] removed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[at]\f[R]
@@ -1059,9 +1043,9 @@ more).
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -1072,7 +1056,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]), and if it
-is negative, the first value must be non-zero.
+is negative, the first value must be non\-zero.
 .RE
 .TP
 \f[B]*\f[R]
@@ -1090,18 +1074,18 @@ returns the quotient.
 The \f[I]scale\f[R] of the result shall be the value of \f[B]scale\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
 The \f[B]modulus\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and evaluates them by 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R] and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]+\f[R]
@@ -1109,7 +1093,7 @@ The \f[B]add\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the sum, with a \f[I]scale\f[R] equal to the
 max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]subtract\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the difference, with a \f[I]scale\f[R] equal to
 the max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
@@ -1121,9 +1105,9 @@ decimal point moved \f[B]b\f[R] places to the right.
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]>>\f[R]
@@ -1133,12 +1117,12 @@ decimal point moved \f[B]b\f[R] places to the left.
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
+\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
 The \f[B]assignment\f[R] operators take two expressions, \f[B]a\f[R] and
 \f[B]b\f[R] where \f[B]a\f[R] is a named expression (see the \f[I]Named
 Expressions\f[R] subsection).
@@ -1151,7 +1135,7 @@ the corresponding arithmetic operator and the result is assigned to
 \f[B]a\f[R].
 .PP
 The \f[B]assignment\f[R] operators that correspond to operators that are
-extensions are themselves \f[B]non-portable extensions\f[R].
+extensions are themselves \f[B]non\-portable extensions\f[R].
 .RE
 .TP
 \f[B]==\f[R] \f[B]<=\f[R] \f[B]>=\f[R] \f[B]!=\f[R] \f[B]<\f[R] \f[B]>\f[R]
@@ -1168,31 +1152,30 @@ interpreted as \f[B](a=b)>c\f[R].
 Also, unlike the standard (see the \f[B]STANDARDS\f[R] section)
 requires, these operators can appear anywhere any other expressions can
 be used.
-This allowance is a \f[B]non-portable extension\f[R].
+This allowance is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]&&\f[R]
 The \f[B]boolean and\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if both expressions are non-zero, \f[B]0\f[R] otherwise.
+\f[B]1\f[R] if both expressions are non\-zero, \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]||\f[R]
 The \f[B]boolean or\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if one of the expressions is non-zero, \f[B]0\f[R]
+\f[B]1\f[R] if one of the expressions is non\-zero, \f[B]0\f[R]
 otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Statements
-.PP
 The following items are statements:
 .IP " 1." 4
 \f[B]E\f[R]
@@ -1239,10 +1222,10 @@ The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]FUNCTIONS\f[R] section) if the corresponding parameter in the
 function definition is an array reference.
 .PP
-Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non-portable
+Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non\-portable
 extensions\f[R].
 .PP
-Also, as a \f[B]non-portable extension\f[R], any or all of the
+Also, as a \f[B]non\-portable extension\f[R], any or all of the
 expressions in the header of a for loop may be omitted.
 If the condition (second expression) is omitted, it is assumed to be a
 constant \f[B]1\f[R].
@@ -1259,7 +1242,7 @@ This is only allowed in loops.
 The \f[B]if\f[R] \f[B]else\f[R] statement does the same thing as in C.
 .PP
 The \f[B]quit\f[R] statement causes bc(1) to quit, even if it is on a
-branch that will not be executed (it is a compile-time command).
+branch that will not be executed (it is a compile\-time command).
 .PP
 \f[B]Warning\f[R]: The behavior of this bc(1) on \f[B]quit\f[R] is
 slightly different from other bc(1) implementations.
@@ -1270,11 +1253,9 @@ occur before the \f[B]quit\f[R] statement before exiting.
 .PP
 In other words, for the bc(1) code below:
 .IP
-.nf
-\f[C]
+.EX
 for (i = 0; i < 3; ++i) i; quit
-\f[R]
-.fi
+.EE
 .PP
 Other bc(1) implementations will print nothing, and this bc(1) will
 print \f[B]0\f[R], \f[B]1\f[R], and \f[B]2\f[R] on successive lines
@@ -1286,7 +1267,7 @@ that is not executed, bc(1) does not quit.)
 .PP
 The \f[B]limits\f[R] statement prints the limits that this bc(1) is
 subject to.
-This is like the \f[B]quit\f[R] statement in that it is a compile-time
+This is like the \f[B]quit\f[R] statement in that it is a compile\-time
 command.
 .PP
 An expression by itself is evaluated and printed, followed by a newline.
@@ -1299,13 +1280,12 @@ Scientific notation is activated by assigning \f[B]0\f[R] to
 To deactivate them, just assign a different value to \f[B]obase\f[R].
 .PP
 Scientific notation and engineering notation are disabled if bc(1) is
-run with either the \f[B]-s\f[R] or \f[B]-w\f[R] command-line options
+run with either the \f[B]\-s\f[R] or \f[B]\-w\f[R] command\-line options
 (or equivalents).
 .PP
 Printing numbers in scientific notation and/or engineering notation is a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .SS Strings
-.PP
 If strings appear as a statement by themselves, they are printed without
 a trailing newline.
 .PP
@@ -1322,9 +1302,8 @@ element that has been assigned a string, an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section).
 .PP
 Assigning strings to variables and array elements and passing them to
-functions are \f[B]non-portable extensions\f[R].
+functions are \f[B]non\-portable extensions\f[R].
 .SS Print Statement
-.PP
 The \[lq]expressions\[rq] in a \f[B]print\f[R] statement may also be
 strings.
 If they are, there are backslash escape sequences that are interpreted
@@ -1351,14 +1330,12 @@ below:
 \f[B]\[rs]t\f[R]: \f[B]\[rs]t\f[R]
 .PP
 Any other character following a backslash causes the backslash and
-character to be printed as-is.
+character to be printed as\-is.
 .PP
-Any non-string expression in a print statement shall be assigned to
+Any non\-string expression in a print statement shall be assigned to
 \f[B]last\f[R], like any other expression that is printed.
 .SS Stream Statement
-.PP
-The \[lq]expressions in a \f[B]stream\f[R] statement may also be
-strings.
+The expressions in a \f[B]stream\f[R] statement may also be strings.
 .PP
 If a \f[B]stream\f[R] statement is given a string, it prints the string
 as though the string had appeared as its own statement.
@@ -1368,20 +1345,17 @@ without a newline.
 If a \f[B]stream\f[R] statement is given a number, a copy of it is
 truncated and its absolute value is calculated.
 The result is then printed as though \f[B]obase\f[R] is \f[B]256\f[R]
-and each digit is interpreted as an 8-bit ASCII character, making it a
+and each digit is interpreted as an 8\-bit ASCII character, making it a
 byte stream.
 .SS Order of Evaluation
-.PP
 All expressions in a statment are evaluated left to right, except as
 necessary to maintain order of operations.
 This means, for example, assuming that \f[B]i\f[R] is equal to
 \f[B]0\f[R], in the expression
 .IP
-.nf
-\f[C]
+.EX
 a[i++] = i++
-\f[R]
-.fi
+.EE
 .PP
 the first (or 0th) element of \f[B]a\f[R] is set to \f[B]1\f[R], and
 \f[B]i\f[R] is equal to \f[B]2\f[R] at the end of the expression.
@@ -1390,28 +1364,23 @@ This includes function arguments.
 Thus, assuming \f[B]i\f[R] is equal to \f[B]0\f[R], this means that in
 the expression
 .IP
-.nf
-\f[C]
+.EX
 x(i++, i++)
-\f[R]
-.fi
+.EE
 .PP
 the first argument passed to \f[B]x()\f[R] is \f[B]0\f[R], and the
 second argument is \f[B]1\f[R], while \f[B]i\f[R] is equal to
 \f[B]2\f[R] before the function starts executing.
 .SH FUNCTIONS
-.PP
 Function definitions are as follows:
 .IP
-.nf
-\f[C]
+.EX
 define I(I,...,I){
     auto I,...,I
     S;...;S
     return(E)
 }
-\f[R]
-.fi
+.EE
 .PP
 Any \f[B]I\f[R] in the parameter list or \f[B]auto\f[R] list may be
 replaced with \f[B]I[]\f[R] to make a parameter or \f[B]auto\f[R] var an
@@ -1422,10 +1391,10 @@ asterisk in the call; they must be called with just \f[B]I[]\f[R] like
 normal array parameters and will be automatically converted into
 references.
 .PP
-As a \f[B]non-portable extension\f[R], the opening brace of a
+As a \f[B]non\-portable extension\f[R], the opening brace of a
 \f[B]define\f[R] statement may appear on the next line.
 .PP
-As a \f[B]non-portable extension\f[R], the return statement may also be
+As a \f[B]non\-portable extension\f[R], the return statement may also be
 in one of the following forms:
 .IP "1." 3
 \f[B]return\f[R]
@@ -1439,18 +1408,15 @@ equivalent to \f[B]return (0)\f[R], unless the function is a
 \f[B]void\f[R] function (see the \f[I]Void Functions\f[R] subsection
 below).
 .SS Void Functions
-.PP
 Functions can also be \f[B]void\f[R] functions, defined as follows:
 .IP
-.nf
-\f[C]
+.EX
 define void I(I,...,I){
     auto I,...,I
     S;...;S
     return
 }
-\f[R]
-.fi
+.EE
 .PP
 They can only be used as standalone expressions, where such an
 expression would be printed alone, except in a print statement.
@@ -1464,17 +1430,14 @@ possible to have variables, arrays, and functions named \f[B]void\f[R].
 The word \[lq]void\[rq] is only treated specially right after the
 \f[B]define\f[R] keyword.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Array References
-.PP
 For any array in the parameter list, if the array is declared in the
 form
 .IP
-.nf
-\f[C]
+.EX
 *I[]
-\f[R]
-.fi
+.EE
 .PP
 it is a \f[B]reference\f[R].
 Any changes to the array in the function are reflected, when the
@@ -1482,17 +1445,15 @@ function returns, to the array that was passed in.
 .PP
 Other than this, all function arguments are passed by value.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH LIBRARY
-.PP
 All of the functions below, including the functions in the extended math
 library (see the \f[I]Extended Library\f[R] subsection below), are
-available when the \f[B]-l\f[R] or \f[B]--mathlib\f[R] command-line
+available when the \f[B]\-l\f[R] or \f[B]\-\-mathlib\f[R] command\-line
 flags are given, except that the extended math library is not available
-when the \f[B]-s\f[R] option, the \f[B]-w\f[R] option, or equivalents
+when the \f[B]\-s\f[R] option, the \f[B]\-w\f[R] option, or equivalents
 are given.
 .SS Standard Library
-.PP
 The standard (see the \f[B]STANDARDS\f[R] section) defines the following
 functions for the math library:
 .TP
@@ -1545,13 +1506,12 @@ This is a transcendental function (see the \f[I]Transcendental
 Functions\f[R] subsection below).
 .RE
 .SS Extended Library
-.PP
 The extended library is \f[I]not\f[R] loaded when the
-\f[B]-s\f[R]/\f[B]--standard\f[R] or \f[B]-w\f[R]/\f[B]--warn\f[R]
+\f[B]\-s\f[R]/\f[B]\-\-standard\f[R] or \f[B]\-w\f[R]/\f[B]\-\-warn\f[R]
 options are given since they are not part of the library defined by the
 standard (see the \f[B]STANDARDS\f[R] section).
 .PP
-The extended library is a \f[B]non-portable extension\f[R].
+The extended library is a \f[B]non\-portable extension\f[R].
 .TP
 \f[B]p(x, y)\f[R]
 Calculates \f[B]x\f[R] to the power of \f[B]y\f[R], even if \f[B]y\f[R]
@@ -1579,6 +1539,14 @@ the rounding mode round away from \f[B]0\f[R]
 \f[B]f(x)\f[R]
 Returns the factorial of the truncated absolute value of \f[B]x\f[R].
 .TP
+\f[B]max(a, b)\f[R]
+Returns \f[B]a\f[R] if \f[B]a\f[R] is greater than \f[B]b\f[R];
+otherwise, returns \f[B]b\f[R].
+.TP
+\f[B]min(a, b)\f[R]
+Returns \f[B]a\f[R] if \f[B]a\f[R] is less than \f[B]b\f[R]; otherwise,
+returns \f[B]b\f[R].
+.TP
 \f[B]perm(n, k)\f[R]
 Returns the permutation of the truncated absolute value of \f[B]n\f[R]
 of the truncated absolute value of \f[B]k\f[R], if \f[B]k <= n\f[R].
@@ -1589,6 +1557,10 @@ Returns the combination of the truncated absolute value of \f[B]n\f[R]
 of the truncated absolute value of \f[B]k\f[R], if \f[B]k <= n\f[R].
 If not, it returns \f[B]0\f[R].
 .TP
+\f[B]fib(n)\f[R]
+Returns the Fibonacci number of the truncated absolute value of
+\f[B]n\f[R].
+.TP
 \f[B]l2(x)\f[R]
 Returns the logarithm base \f[B]2\f[R] of \f[B]x\f[R].
 .RS
@@ -1660,11 +1632,11 @@ Otherwise, if \f[B]x\f[R] is greater than \f[B]0\f[R], it returns
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is greater than
 or equal to \f[B]0\f[R], it returns \f[B]a(y/x)+pi\f[R].
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]a(y/x)-pi\f[R].
+\f[B]0\f[R], it returns \f[B]a(y/x)\-pi\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is greater than
 \f[B]0\f[R], it returns \f[B]pi/2\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]-pi/2\f[R].
+\f[B]0\f[R], it returns \f[B]\-pi/2\f[R].
 .RS
 .PP
 This function is the same as the \f[B]atan2()\f[R] function in many
@@ -1698,7 +1670,7 @@ Functions\f[R] subsection below).
 Returns the tangent of \f[B]x\f[R], which is assumed to be in radians.
 .RS
 .PP
-If \f[B]x\f[R] is equal to \f[B]1\f[R] or \f[B]-1\f[R], this raises an
+If \f[B]x\f[R] is equal to \f[B]1\f[R] or \f[B]\-1\f[R], this raises an
 error and causes bc(1) to reset (see the \f[B]RESET\f[R] section).
 .PP
 This is an alias of \f[B]t(x)\f[R].
@@ -1726,11 +1698,11 @@ Otherwise, if \f[B]x\f[R] is greater than \f[B]0\f[R], it returns
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is greater than
 or equal to \f[B]0\f[R], it returns \f[B]a(y/x)+pi\f[R].
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]a(y/x)-pi\f[R].
+\f[B]0\f[R], it returns \f[B]a(y/x)\-pi\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is greater than
 \f[B]0\f[R], it returns \f[B]pi/2\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]-pi/2\f[R].
+\f[B]0\f[R], it returns \f[B]\-pi/2\f[R].
 .RS
 .PP
 This function is the same as the \f[B]atan2()\f[R] function in many
@@ -1759,7 +1731,7 @@ Functions\f[R] subsection below).
 .RE
 .TP
 \f[B]frand(p)\f[R]
-Generates a pseudo-random number between \f[B]0\f[R] (inclusive) and
+Generates a pseudo\-random number between \f[B]0\f[R] (inclusive) and
 \f[B]1\f[R] (exclusive) with the number of decimal digits after the
 decimal point equal to the truncated absolute value of \f[B]p\f[R].
 If \f[B]p\f[R] is not \f[B]0\f[R], then calling this function will
@@ -1768,14 +1740,22 @@ If \f[B]p\f[R] is \f[B]0\f[R], then \f[B]0\f[R] is returned, and
 \f[B]seed\f[R] is \f[I]not\f[R] changed.
 .TP
 \f[B]ifrand(i, p)\f[R]
-Generates a pseudo-random number that is between \f[B]0\f[R] (inclusive)
-and the truncated absolute value of \f[B]i\f[R] (exclusive) with the
-number of decimal digits after the decimal point equal to the truncated
-absolute value of \f[B]p\f[R].
+Generates a pseudo\-random number that is between \f[B]0\f[R]
+(inclusive) and the truncated absolute value of \f[B]i\f[R] (exclusive)
+with the number of decimal digits after the decimal point equal to the
+truncated absolute value of \f[B]p\f[R].
 If the absolute value of \f[B]i\f[R] is greater than or equal to
 \f[B]2\f[R], and \f[B]p\f[R] is not \f[B]0\f[R], then calling this
 function will change the value of \f[B]seed\f[R]; otherwise, \f[B]0\f[R]
-is returned and \f[B]seed\f[R] is not changed.
+is returned, and \f[B]seed\f[R] is not changed.
+.TP
+\f[B]i2rand(a, b)\f[R]
+Takes the truncated value of \f[B]a\f[R] and \f[B]b\f[R] and uses them
+as inclusive bounds to enerate a pseudo\-random integer.
+If the difference of the truncated values of \f[B]a\f[R] and \f[B]b\f[R]
+is \f[B]0\f[R], then the truncated value is returned, and \f[B]seed\f[R]
+is \f[I]not\f[R] changed.
+Otherwise, this function will change the value of \f[B]seed\f[R].
 .TP
 \f[B]srand(x)\f[R]
 Returns \f[B]x\f[R] with its sign flipped with probability
@@ -1817,8 +1797,8 @@ If you want to use signed two\[cq]s complement arguments, use
 .TP
 \f[B]bshl(a, b)\f[R]
 Takes the truncated absolute value of both \f[B]a\f[R] and \f[B]b\f[R]
-and calculates and returns the result of \f[B]a\f[R] bit-shifted left by
-\f[B]b\f[R] places.
+and calculates and returns the result of \f[B]a\f[R] bit\-shifted left
+by \f[B]b\f[R] places.
 .RS
 .PP
 If you want to use signed two\[cq]s complement arguments, use
@@ -1828,7 +1808,7 @@ If you want to use signed two\[cq]s complement arguments, use
 \f[B]bshr(a, b)\f[R]
 Takes the truncated absolute value of both \f[B]a\f[R] and \f[B]b\f[R]
 and calculates and returns the truncated result of \f[B]a\f[R]
-bit-shifted right by \f[B]b\f[R] places.
+bit\-shifted right by \f[B]b\f[R] places.
 .RS
 .PP
 If you want to use signed two\[cq]s complement arguments, use
@@ -1847,7 +1827,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot8(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]8\f[R] binary digits (1 unsigned byte).
+though it has \f[B]8\f[R] binary digits (\f[B]1\f[R] unsigned byte).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1856,7 +1836,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot16(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]16\f[R] binary digits (2 unsigned bytes).
+though it has \f[B]16\f[R] binary digits (\f[B]2\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1865,7 +1845,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot32(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]32\f[R] binary digits (4 unsigned bytes).
+though it has \f[B]32\f[R] binary digits (\f[B]4\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1874,7 +1854,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot64(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]64\f[R] binary digits (8 unsigned bytes).
+though it has \f[B]64\f[R] binary digits (\f[B]8\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1892,7 +1872,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brevn(x, n)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has the same number of 8-bit bytes as the truncated absolute
+though it has the same number of 8\-bit bytes as the truncated absolute
 value of \f[B]n\f[R].
 .RS
 .PP
@@ -1902,7 +1882,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev8(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 8 binary digits (1 unsigned byte).
+though it has 8 binary digits (\f[B]1\f[R] unsigned byte).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1911,7 +1891,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev16(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 16 binary digits (2 unsigned bytes).
+though it has 16 binary digits (\f[B]2\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1920,7 +1900,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev32(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 32 binary digits (4 unsigned bytes).
+though it has 32 binary digits (\f[B]4\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1929,7 +1909,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev64(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 64 binary digits (8 unsigned bytes).
+though it has 64 binary digits (\f[B]8\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1947,11 +1927,11 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]broln(x, p, n)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has the same number of unsigned 8-bit bytes as
-the truncated absolute value of \f[B]n\f[R], by the number of places
+\f[B]x\f[R], as though it has the same number of unsigned 8\-bit bytes
+as the truncated absolute value of \f[B]n\f[R], by the number of places
 equal to the truncated absolute value of \f[B]p\f[R] modded by the
 \f[B]2\f[R] to the power of the number of binary digits in \f[B]n\f[R]
-8-bit bytes.
+8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1982,7 +1962,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brol32(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has \f[B]32\f[R] binary digits (\f[B]2\f[R]
+\f[B]x\f[R], as though it has \f[B]32\f[R] binary digits (\f[B]4\f[R]
 unsigned bytes), by the number of places equal to the truncated absolute
 value of \f[B]p\f[R] modded by \f[B]2\f[R] to the power of \f[B]32\f[R].
 .RS
@@ -1993,7 +1973,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brol64(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has \f[B]64\f[R] binary digits (\f[B]2\f[R]
+\f[B]x\f[R], as though it has \f[B]64\f[R] binary digits (\f[B]8\f[R]
 unsigned bytes), by the number of places equal to the truncated absolute
 value of \f[B]p\f[R] modded by \f[B]2\f[R] to the power of \f[B]64\f[R].
 .RS
@@ -2005,9 +1985,9 @@ If you want to a use signed two\[cq]s complement argument, use
 \f[B]brol(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
 \f[B]x\f[R], as though it has the minimum number of power of two
-unsigned 8-bit bytes, by the number of places equal to the truncated
+unsigned 8\-bit bytes, by the number of places equal to the truncated
 absolute value of \f[B]p\f[R] modded by 2 to the power of the number of
-binary digits in the minimum number of 8-bit bytes.
+binary digits in the minimum number of 8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2016,11 +1996,11 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brorn(x, p, n)\f[R]
 Does a right bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has the same number of unsigned 8-bit bytes as
-the truncated absolute value of \f[B]n\f[R], by the number of places
+\f[B]x\f[R], as though it has the same number of unsigned 8\-bit bytes
+as the truncated absolute value of \f[B]n\f[R], by the number of places
 equal to the truncated absolute value of \f[B]p\f[R] modded by the
 \f[B]2\f[R] to the power of the number of binary digits in \f[B]n\f[R]
-8-bit bytes.
+8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2074,9 +2054,9 @@ If you want to a use signed two\[cq]s complement argument, use
 \f[B]bror(x, p)\f[R]
 Does a right bitwise rotatation of the truncated absolute value of
 \f[B]x\f[R], as though it has the minimum number of power of two
-unsigned 8-bit bytes, by the number of places equal to the truncated
+unsigned 8\-bit bytes, by the number of places equal to the truncated
 absolute value of \f[B]p\f[R] modded by 2 to the power of the number of
-binary digits in the minimum number of 8-bit bytes.
+binary digits in the minimum number of 8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2130,7 +2110,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .RE
 .TP
 \f[B]bunrev(t)\f[R]
-Assumes \f[B]t\f[R] is a bitwise-reversed number with an extra set bit
+Assumes \f[B]t\f[R] is a bitwise\-reversed number with an extra set bit
 one place more significant than the real most significant bit (which was
 the least significant bit in the original number).
 This number is reversed and returned without the extra set bit.
@@ -2141,29 +2121,29 @@ meant to be used by users, but it can be.
 .RE
 .TP
 \f[B]plz(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed with a leading zero, regardless
-of the use of the \f[B]-z\f[R] option (see the \f[B]OPTIONS\f[R]
-section) and without a trailing newline.
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed with a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
+\f[B]OPTIONS\f[R] section) and without a trailing newline.
 .RS
 .PP
 Otherwise, \f[B]x\f[R] is printed normally, without a trailing newline.
 .RE
 .TP
 \f[B]plznl(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed with a leading zero, regardless
-of the use of the \f[B]-z\f[R] option (see the \f[B]OPTIONS\f[R]
-section) and with a trailing newline.
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed with a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
+\f[B]OPTIONS\f[R] section) and with a trailing newline.
 .RS
 .PP
 Otherwise, \f[B]x\f[R] is printed normally, with a trailing newline.
 .RE
 .TP
 \f[B]pnlz(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed without a leading zero,
-regardless of the use of the \f[B]-z\f[R] option (see the
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed without a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
 \f[B]OPTIONS\f[R] section) and without a trailing newline.
 .RS
 .PP
@@ -2171,9 +2151,9 @@ Otherwise, \f[B]x\f[R] is printed normally, without a trailing newline.
 .RE
 .TP
 \f[B]pnlznl(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed without a leading zero,
-regardless of the use of the \f[B]-z\f[R] option (see the
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed without a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
 \f[B]OPTIONS\f[R] section) and with a trailing newline.
 .RS
 .PP
@@ -2185,22 +2165,22 @@ Returns the numbers of unsigned integer bytes required to hold the
 truncated absolute value of \f[B]x\f[R].
 .TP
 \f[B]sbytes(x)\f[R]
-Returns the numbers of signed, two\[cq]s-complement integer bytes
+Returns the numbers of signed, two\[cq]s\-complement integer bytes
 required to hold the truncated value of \f[B]x\f[R].
 .TP
 \f[B]s2u(x)\f[R]
-Returns \f[B]x\f[R] if it is non-negative.
+Returns \f[B]x\f[R] if it is non\-negative.
 If it \f[I]is\f[R] negative, then it calculates what \f[B]x\f[R] would
-be as a 2\[cq]s-complement signed integer and returns the non-negative
+be as a 2\[cq]s\-complement signed integer and returns the non\-negative
 integer that would have the same representation in binary.
 .TP
 \f[B]s2un(x,n)\f[R]
-Returns \f[B]x\f[R] if it is non-negative.
+Returns \f[B]x\f[R] if it is non\-negative.
 If it \f[I]is\f[R] negative, then it calculates what \f[B]x\f[R] would
-be as a 2\[cq]s-complement signed integer with \f[B]n\f[R] bytes and
-returns the non-negative integer that would have the same representation
-in binary.
-If \f[B]x\f[R] cannot fit into \f[B]n\f[R] 2\[cq]s-complement signed
+be as a 2\[cq]s\-complement signed integer with \f[B]n\f[R] bytes and
+returns the non\-negative integer that would have the same
+representation in binary.
+If \f[B]x\f[R] cannot fit into \f[B]n\f[R] 2\[cq]s\-complement signed
 bytes, it is truncated to fit.
 .TP
 \f[B]hex(x)\f[R]
@@ -2244,7 +2224,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in as few power of two bytes as
+a signed, two\[cq]s\-complement integer in as few power of two bytes as
 possible.
 Both outputs are split into bytes separated by spaces.
 .RS
@@ -2272,7 +2252,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]intn(x, n)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]n\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]n\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2300,7 +2280,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int8(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]1\f[R] byte.
+a signed, two\[cq]s\-complement integer in \f[B]1\f[R] byte.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2328,7 +2308,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int16(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]2\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]2\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2356,7 +2336,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int32(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]4\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]4\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2384,7 +2364,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int64(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]8\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]8\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2431,14 +2411,13 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 \f[B]output_byte(x, i)\f[R]
 Outputs byte \f[B]i\f[R] of the truncated absolute value of \f[B]x\f[R],
 where \f[B]0\f[R] is the least significant byte and \f[B]number_of_bytes
-- 1\f[R] is the most significant byte.
+\- 1\f[R] is the most significant byte.
 .RS
 .PP
 This is a \f[B]void\f[R] function (see the \f[I]Void Functions\f[R]
 subsection of the \f[B]FUNCTIONS\f[R] section).
 .RE
 .SS Transcendental Functions
-.PP
 All transcendental functions can return slightly inaccurate results, up
 to 1 ULP (https://en.wikipedia.org/wiki/Unit_in_the_last_place).
 This is unavoidable, and the article at
@@ -2494,8 +2473,7 @@ The transcendental functions in the extended math library are:
 .IP \[bu] 2
 \f[B]d2r(x)\f[R]
 .SH RESET
-.PP
-When bc(1) encounters an error or a signal that it has a non-default
+When bc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
@@ -2515,7 +2493,6 @@ Note that this reset behavior is different from the GNU bc(1), which
 attempts to start executing the statement right after the one that
 caused an error.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This bc(1) does something different.
@@ -2538,7 +2515,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bc(1):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -2568,29 +2544,29 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]rand()\f[R]
 operand.
-Set at \f[B]2\[ha]BC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]BC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -2598,29 +2574,28 @@ Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
 The actual values can be queried with the \f[B]limits\f[R] statement.
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], bc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], bc(1) recognizes the following
 environment variables:
 .TP
 \f[B]POSIXLY_CORRECT\f[R]
 If this variable exists (no matter the contents), bc(1) behaves as if
-the \f[B]-s\f[R] option was given.
+the \f[B]\-s\f[R] option was given.
 .TP
 \f[B]BC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to bc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to bc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]BC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
@@ -2641,14 +2616,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]BC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]BC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), bc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), bc(1) will output lines to that length,
 including the backslash (\f[B]\[rs]\f[R]).
 The default line length is \f[B]70\f[R].
 .RS
@@ -2660,7 +2635,7 @@ newlines.
 .TP
 \f[B]BC_BANNER\f[R]
 If this environment variable exists and contains an integer, then a
-non-zero value activates the copyright banner when bc(1) is in
+non\-zero value activates the copyright banner when bc(1) is in
 interactive mode, while zero deactivates it.
 .RS
 .PP
@@ -2669,7 +2644,7 @@ section), then this environment variable has no effect because bc(1)
 does not print the banner when not in interactive mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_SIGINT_RESET\f[R]
@@ -2679,13 +2654,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when bc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes bc(1)
+variable exists and contains an integer, a non\-zero value makes bc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes bc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then bc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_TTY_MODE\f[R]
@@ -2694,11 +2669,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes bc(1) use
+exists and contains an integer, then a non\-zero value makes bc(1) use
 TTY mode, and zero makes bc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_PROMPT\f[R]
@@ -2707,46 +2682,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes bc(1) use a
-prompt, and zero or a non-integer makes bc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes bc(1) use a
+prompt, and zero or a non\-integer makes bc(1) not use a prompt.
 If this environment variable does not exist and \f[B]BC_TTY_MODE\f[R]
 does, then the value of the \f[B]BC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]BC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes bc(1) exit after executing the
-expressions and expression files, and a zero value makes bc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes bc(1) exit after executing
+the expressions and expression files, and a zero value makes bc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes bc(1) clamp digits that are
+contains an integer, a non\-zero value makes bc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the standard (see the
-\f[B]STANDARDS\f[R] section).
+This never applies to single\-digit numbers, as per the standard (see
+the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 bc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -2760,10 +2735,10 @@ since math errors will happen in the process of normal execution.
 .PP
 Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, using a negative number as a bound for the
-pseudo-random number generator, attempting to convert a negative number
+pseudo\-random number generator, attempting to convert a negative number
 to a hardware integer, overflow when converting a number to a hardware
 integer, overflow when calculating the size of a number, and attempting
-to use a non-integer where an integer is required.
+to use a non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]), places (\f[B]\[at]\f[R]), left shift
@@ -2785,7 +2760,7 @@ giving an invalid \f[B]auto\f[R] list, having a duplicate
 \f[B]auto\f[R]/function parameter, failing to find the end of a code
 block, attempting to return a value from a \f[B]void\f[R] function,
 attempting to use a variable as a reference, and using any extensions
-when the option \f[B]-s\f[R] or any equivalents were given.
+when the option \f[B]\-s\f[R] or any equivalents were given.
 .RE
 .TP
 \f[B]3\f[R]
@@ -2808,7 +2783,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (bc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, bc(1)
@@ -2819,18 +2794,18 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 bc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow bc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
 Per the standard (see the \f[B]STANDARDS\f[R] section), bc(1) has an
-interactive mode and a non-interactive mode.
+interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, bc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -2839,7 +2814,6 @@ bc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]BC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, bc(1) can turn on TTY mode, subject to some
@@ -2847,52 +2821,49 @@ settings.
 .PP
 If there is the environment variable \f[B]BC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, bc(1) will turn
+that environment variable contains a non\-zero integer, bc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]BC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then bc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then bc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]BC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) standard (see the \f[B]STANDARDS\f[R] section),
 and interactive mode requires only \f[B]stdin\f[R] and \f[B]stdout\f[R]
 to be connected to a terminal.
-.SS Command-Line History
-.PP
-Command-line history is only enabled if TTY mode is, i.e., that
+.SS Command\-Line History
+Command\-line history is only enabled if TTY mode is, i.e., that
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to
 a TTY and the \f[B]BC_TTY_MODE\f[R] environment variable (see the
 \f[B]ENVIRONMENT VARIABLES\f[R] section) and its default do not disable
 TTY mode.
 See the \f[B]COMMAND LINE HISTORY\f[R] section for more information.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]BC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]BC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]BC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]BC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]BC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause bc(1) to do one of two things.
 .PP
 If bc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -2901,7 +2872,7 @@ section), or the \f[B]BC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, bc(1) will exit.
 .PP
 However, if bc(1) is in interactive mode, and the
-\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then bc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -2927,12 +2898,11 @@ The one exception is \f[B]SIGHUP\f[R]; in that case, and only when bc(1)
 is in TTY mode (see the \f[B]TTY MODE\f[R] section), a \f[B]SIGHUP\f[R]
 will cause bc(1) to clean up and exit.
 .SH COMMAND LINE HISTORY
-.PP
-bc(1) supports interactive command-line editing.
+bc(1) supports interactive command\-line editing.
 .PP
 If bc(1) can be in TTY mode (see the \f[B]TTY MODE\f[R] section),
 history can be enabled.
-This means that command-line history can only be enabled when
+This means that command\-line history can only be enabled when
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY.
 .PP
@@ -2945,18 +2915,15 @@ the arrow keys.
 .PP
 \f[B]Note\f[R]: tabs are converted to 8 spaces.
 .SH LOCALES
-.PP
 This bc(1) ships with support for adding error messages for different
 locales and thus, supports \f[B]LC_MESSAGES\f[R].
 .SH SEE ALSO
-.PP
 dc(1)
 .SH STANDARDS
-.PP
-bc(1) is compliant with the IEEE Std 1003.1-2017
-(\[lq]POSIX.1-2017\[rq]) specification at
+bc(1) is compliant with the IEEE Std 1003.1\-2017
+(\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
-The flags \f[B]-efghiqsvVw\f[R], all long options, and the extensions
+The flags \f[B]\-efghiqsvVw\f[R], all long options, and the extensions
 noted above are extensions to that specification.
 .PP
 In addition, the behavior of the \f[B]quit\f[R] implements an
@@ -2972,13 +2939,13 @@ the value of \f[B]LC_NUMERIC\f[R].
 This bc(1) supports error messages for different locales, and thus, it
 supports \f[B]LC_MESSAGES\f[R].
 .SH BUGS
-.PP
 Before version \f[B]6.1.0\f[R], this bc(1) had incorrect behavior for
 the \f[B]quit\f[R] statement.
 .PP
 No other bugs are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bc/A.1.md b/manuals/bc/A.1.md
index 3f34f451..e89305b1 100644
--- a/manuals/bc/A.1.md
+++ b/manuals/bc/A.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -811,6 +811,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 **\$**
@@ -1068,7 +1071,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
@@ -1259,6 +1262,14 @@ The extended library is a **non-portable extension**.
 
 :   Returns the factorial of the truncated absolute value of **x**.
 
+**max(a, b)**
+
+:   Returns **a** if **a** is greater than **b**; otherwise, returns **b**.
+
+**min(a, b)**
+
+:   Returns **a** if **a** is less than **b**; otherwise, returns **b**.
+
 **perm(n, k)**
 
 :   Returns the permutation of the truncated absolute value of **n** of the
@@ -1269,6 +1280,10 @@ The extended library is a **non-portable extension**.
 :   Returns the combination of the truncated absolute value of **n** of the
     truncated absolute value of **k**, if **k \<= n**. If not, it returns **0**.
 
+**fib(n)**
+
+:   Returns the Fibonacci number of the truncated absolute value of **n**.
+
 **l2(x)**
 
 :   Returns the logarithm base **2** of **x**.
@@ -1431,7 +1446,15 @@ The extended library is a **non-portable extension**.
     digits after the decimal point equal to the truncated absolute value of
     **p**. If the absolute value of **i** is greater than or equal to **2**, and
     **p** is not **0**, then calling this function will change the value of
-    **seed**; otherwise, **0** is returned and **seed** is not changed.
+    **seed**; otherwise, **0** is returned, and **seed** is not changed.
+
+**i2rand(a, b)**
+
+:   Takes the truncated value of **a** and **b** and uses them as inclusive
+    bounds to enerate a pseudo-random integer. If the difference of the
+    truncated values of **a** and **b** is **0**, then the truncated value is
+    returned, and **seed** is *not* changed. Otherwise, this function will
+    change the value of **seed**.
 
 **srand(x)**
 
@@ -1493,7 +1516,7 @@ The extended library is a **non-portable extension**.
 **bnot8(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **8** binary digits (1 unsigned byte).
+    **8** binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1501,7 +1524,7 @@ The extended library is a **non-portable extension**.
 **bnot16(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **16** binary digits (2 unsigned bytes).
+    **16** binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1509,7 +1532,7 @@ The extended library is a **non-portable extension**.
 **bnot32(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **32** binary digits (4 unsigned bytes).
+    **32** binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1517,7 +1540,7 @@ The extended library is a **non-portable extension**.
 **bnot64(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **64** binary digits (8 unsigned bytes).
+    **64** binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1541,7 +1564,7 @@ The extended library is a **non-portable extension**.
 **brev8(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 8 binary digits (1 unsigned byte).
+    has 8 binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1549,7 +1572,7 @@ The extended library is a **non-portable extension**.
 **brev16(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 16 binary digits (2 unsigned bytes).
+    has 16 binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1557,7 +1580,7 @@ The extended library is a **non-portable extension**.
 **brev32(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 32 binary digits (4 unsigned bytes).
+    has 32 binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1565,7 +1588,7 @@ The extended library is a **non-portable extension**.
 **brev64(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 64 binary digits (8 unsigned bytes).
+    has 64 binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1612,7 +1635,7 @@ The extended library is a **non-portable extension**.
 **brol32(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **32** binary digits (**2** unsigned bytes), by the number of
+    though it has **32** binary digits (**4** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **32**.
 
@@ -1622,7 +1645,7 @@ The extended library is a **non-portable extension**.
 **brol64(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **64** binary digits (**2** unsigned bytes), by the number of
+    though it has **64** binary digits (**8** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **64**.
 
diff --git a/manuals/bc/E.1 b/manuals/bc/E.1
index ecb8b128..e2f1b034 100644
--- a/manuals/bc/E.1
+++ b/manuals/bc/E.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,37 +25,34 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bc - arbitrary-precision decimal arithmetic language and calculator
+bc \- arbitrary\-precision decimal arithmetic language and calculator
 .SH SYNOPSIS
-.PP
-\f[B]bc\f[R] [\f[B]-cCghilPqRsvVw\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--global-stacks\f[R]]
-[\f[B]--help\f[R]] [\f[B]--interactive\f[R]] [\f[B]--mathlib\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]] [\f[B]--quiet\f[R]]
-[\f[B]--standard\f[R]] [\f[B]--warn\f[R]] [\f[B]--version\f[R]]
-[\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]bc\f[R] [\f[B]\-cCghilPqRsvVw\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-global\-stacks\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-interactive\f[R]] [\f[B]\-\-mathlib\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-quiet\f[R]] [\f[B]\-\-standard\f[R]] [\f[B]\-\-warn\f[R]]
+[\f[B]\-\-version\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
 .SH DESCRIPTION
-.PP
 bc(1) is an interactive processor for a language first standardized in
 1991 by POSIX.
 (See the \f[B]STANDARDS\f[R] section.)
 The language provides unlimited precision decimal arithmetic and is
-somewhat C-like, but there are differences.
+somewhat C\-like, but there are differences.
 Such differences will be noted in this document.
 .PP
 After parsing and handling options, this bc(1) reads any files given on
 the command line and executes them before reading from \f[B]stdin\f[R].
 .PP
-This bc(1) is a drop-in replacement for \f[I]any\f[R] bc(1), including
+This bc(1) is a drop\-in replacement for \f[I]any\f[R] bc(1), including
 (and especially) the GNU bc(1).
 It also has many extensions and extra features beyond other
 implementations.
@@ -64,19 +61,18 @@ implementations.
 another bc(1) gives a parse error, it is probably because a word this
 bc(1) reserves as a keyword is used as the name of a function, variable,
 or array.
-To fix that, use the command-line option \f[B]-r\f[R] \f[I]keyword\f[R],
-where \f[I]keyword\f[R] is the keyword that is used as a name in the
-script.
+To fix that, use the command\-line option \f[B]\-r\f[R]
+\f[I]keyword\f[R], where \f[I]keyword\f[R] is the keyword that is used
+as a name in the script.
 For more information, see the \f[B]OPTIONS\f[R] section.
 .PP
 If parsing scripts meant for other bc(1) implementations still does not
 work, that is a bug and should be reported.
 See the \f[B]BUGS\f[R] section.
 .SH OPTIONS
-.PP
 The following are the options that bc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -86,17 +82,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -107,61 +103,61 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
-If files are given as well (see the \f[B]-f\f[R] and \f[B]--file\f[R]
+If files are given as well (see the \f[B]\-f\f[R] and \f[B]\-\-file\f[R]
 options), the expressions and files are evaluated in the order given.
 This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]BC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
-If expressions are also given (see the \f[B]-e\f[R] and
-\f[B]--expression\f[R] options), the expressions are evaluated in the
+If expressions are also given (see the \f[B]\-e\f[R] and
+\f[B]\-\-expression\f[R] options), the expressions are evaluated in the
 order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
-.PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-g\f[R], \f[B]--global-stacks\f[R]
+\f[B]\-g\f[R], \f[B]\-\-global\-stacks\f[R]
 Turns the globals \f[B]ibase\f[R], \f[B]obase\f[R], and \f[B]scale\f[R]
 into stacks.
 .RS
@@ -174,19 +170,16 @@ without worrying that the change will affect other functions.
 Thus, a hypothetical function named \f[B]output(x,b)\f[R] that simply
 printed \f[B]x\f[R] in base \f[B]b\f[R] could be written like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     obase=b
     x
 }
-\f[R]
-.fi
+.EE
 .PP
 instead of like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     auto c
     c=obase
@@ -194,8 +187,7 @@ define void output(x, b) {
     x
     obase=c
 }
-\f[R]
-.fi
+.EE
 .PP
 This makes writing functions much easier.
 .PP
@@ -209,12 +201,10 @@ converter, it is possible to replace that capability with various shell
 aliases.
 Examples:
 .IP
-.nf
-\f[C]
-alias d2o=\[dq]bc -e ibase=A -e obase=8\[dq]
-alias h2b=\[dq]bc -e ibase=G -e obase=2\[dq]
-\f[R]
-.fi
+.EX
+alias d2o=\[dq]bc \-e ibase=A \-e obase=8\[dq]
+alias h2b=\[dq]bc \-e ibase=G \-e obase=2\[dq]
+.EE
 .PP
 Second, if the purpose of a function is to set \f[B]ibase\f[R],
 \f[B]obase\f[R], or \f[B]scale\f[R] globally for any other purpose, it
@@ -227,16 +217,16 @@ users could make sure to define \f[B]BC_ENV_ARGS\f[R] and include this
 option (see the \f[B]ENVIRONMENT VARIABLES\f[R] section for more
 details).
 .PP
-If \f[B]-s\f[R], \f[B]-w\f[R], or any equivalents are used, this option
-is ignored.
+If \f[B]\-s\f[R], \f[B]\-w\f[R], or any equivalents are used, this
+option is ignored.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -244,28 +234,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-l\f[R], \f[B]--mathlib\f[R]
+\f[B]\-l\f[R], \f[B]\-\-mathlib\f[R]
 Sets \f[B]scale\f[R] (see the \f[B]SYNTAX\f[R] section) to \f[B]20\f[R]
 and loads the included math library before running any code, including
 any expressions or files specified on the command line.
@@ -274,7 +264,7 @@ any expressions or files specified on the command line.
 To learn what is in the library, see the \f[B]LIBRARY\f[R] section.
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -282,10 +272,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -298,26 +288,26 @@ Most of those users would want to put this option in
 These options override the \f[B]BC_PROMPT\f[R] and \f[B]BC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-q\f[R], \f[B]--quiet\f[R]
+\f[B]\-q\f[R], \f[B]\-\-quiet\f[R]
 This option is for compatibility with the GNU bc(1)
-(https://www.gnu.org/software/bc/); it is a no-op.
+(https://www.gnu.org/software/bc/); it is a no\-op.
 Without this option, GNU bc(1) prints a copyright header.
 This bc(1) only prints the copyright header if one or more of the
-\f[B]-v\f[R], \f[B]-V\f[R], or \f[B]--version\f[R] options are given
+\f[B]\-v\f[R], \f[B]\-V\f[R], or \f[B]\-\-version\f[R] options are given
 unless the \f[B]BC_BANNER\f[R] environment variable is set and contains
-a non-zero integer or if this bc(1) was built with the header displayed
+a non\-zero integer or if this bc(1) was built with the header displayed
 by default.
 If \f[I]any\f[R] of that is the case, then this option \f[I]does\f[R]
 prevent bc(1) from printing the header.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -330,16 +320,16 @@ prompt for user input.
 .RS
 .PP
 This option does not disable the regular prompt because the read prompt
-is only used when the \f[B]read()\f[R] built-in function is called.
+is only used when the \f[B]read()\f[R] built\-in function is called.
 .PP
 These options \f[I]do\f[R] override the \f[B]BC_PROMPT\f[R] and
 \f[B]BC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-r\f[R] \f[I]keyword\f[R], \f[B]--redefine\f[R]=\f[I]keyword\f[R]
+\f[B]\-r\f[R] \f[I]keyword\f[R], \f[B]\-\-redefine\f[R]=\f[I]keyword\f[R]
 Redefines \f[I]keyword\f[R] in order to allow it to be used as a
 function, variable, or array name.
 This is useful when this bc(1) gives parse errors when parsing scripts
@@ -392,7 +382,7 @@ It is a fatal error to attempt to redefine words that this bc(1) does
 not reserve as keywords.
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -400,35 +390,35 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-s\f[R], \f[B]--standard\f[R]
+\f[B]\-s\f[R], \f[B]\-\-standard\f[R]
 Process exactly the language defined by the standard (see the
 \f[B]STANDARDS\f[R] section) and error if any extensions are used.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-w\f[R], \f[B]--warn\f[R]
-Like \f[B]-s\f[R] and \f[B]--standard\f[R], except that warnings (and
-not errors) are printed for non-standard extensions and execution
+\f[B]\-w\f[R], \f[B]\-\-warn\f[R]
+Like \f[B]\-s\f[R] and \f[B]\-\-standard\f[R], except that warnings (and
+not errors) are printed for non\-standard extensions and execution
 continues normally.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes bc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes bc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
@@ -436,15 +426,14 @@ This can be set for individual numbers with the \f[B]plz(x)\f[R],
 \f[B]plznl(x)\f[R], \f[B]pnlz(x)\f[R], and \f[B]pnlznl(x)\f[R] functions
 in the extended math library (see the \f[B]LIBRARY\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files or expressions are given by the \f[B]-f\f[R],
-\f[B]--file\f[R], \f[B]-e\f[R], or \f[B]--expression\f[R] options, then
-bc(1) reads from \f[B]stdin\f[R].
+If no files or expressions are given by the \f[B]\-f\f[R],
+\f[B]\-\-file\f[R], \f[B]\-e\f[R], or \f[B]\-\-expression\f[R] options,
+then bc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there are a few caveats to this.
 .PP
@@ -458,8 +447,7 @@ Second, after an \f[B]if\f[R] statement, bc(1) doesn\[cq]t know if an
 \f[B]else\f[R] statement will follow, so it will not execute until it
 knows there will not be an \f[B]else\f[R] statement.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -467,7 +455,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]bc >&-\f[R], it will quit with an error.
+\f[B]bc  >&\-\f[R], it will quit with an error.
 This is done so that bc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -475,13 +463,12 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]bc 2>&-\f[R], it will quit with an error.
+\f[B]bc  2>&\-\f[R], it will quit with an error.
 This is done so that bc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -489,8 +476,7 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
-The syntax for bc(1) programs is mostly C-like, with some differences.
+The syntax for bc(1) programs is mostly C\-like, with some differences.
 This bc(1) follows the POSIX standard (see the \f[B]STANDARDS\f[R]
 section), which is a much more thorough resource for the language this
 bc(1) accepts.
@@ -501,32 +487,32 @@ In the sections below, \f[B]E\f[R] means expression, \f[B]S\f[R] means
 statement, and \f[B]I\f[R] means identifier.
 .PP
 Identifiers (\f[B]I\f[R]) start with a lowercase letter and can be
-followed by any number (up to \f[B]BC_NAME_MAX-1\f[R]) of lowercase
-letters (\f[B]a-z\f[R]), digits (\f[B]0-9\f[R]), and underscores
+followed by any number (up to \f[B]BC_NAME_MAX\-1\f[R]) of lowercase
+letters (\f[B]a\-z\f[R]), digits (\f[B]0\-9\f[R]), and underscores
 (\f[B]_\f[R]).
-The regex is \f[B][a-z][a-z0-9_]*\f[R].
+The regex is \f[B][a\-z][a\-z0\-9_]*\f[R].
 Identifiers with more than one character (letter) are a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .PP
 \f[B]ibase\f[R] is a global variable determining how to interpret
 constant numbers.
 It is the \[lq]input\[rq] base, or the number base used for interpreting
 input numbers.
 \f[B]ibase\f[R] is initially \f[B]10\f[R].
-If the \f[B]-s\f[R] (\f[B]--standard\f[R]) and \f[B]-w\f[R]
-(\f[B]--warn\f[R]) flags were not given on the command line, the max
+If the \f[B]\-s\f[R] (\f[B]\-\-standard\f[R]) and \f[B]\-w\f[R]
+(\f[B]\-\-warn\f[R]) flags were not given on the command line, the max
 allowable value for \f[B]ibase\f[R] is \f[B]36\f[R].
 Otherwise, it is \f[B]16\f[R].
 The min allowable value for \f[B]ibase\f[R] is \f[B]2\f[R].
 The max allowable value for \f[B]ibase\f[R] can be queried in bc(1)
-programs with the \f[B]maxibase()\f[R] built-in function.
+programs with the \f[B]maxibase()\f[R] built\-in function.
 .PP
 \f[B]obase\f[R] is a global variable determining how to output results.
 It is the \[lq]output\[rq] base, or the number base used for outputting
 numbers.
 \f[B]obase\f[R] is initially \f[B]10\f[R].
 The max allowable value for \f[B]obase\f[R] is \f[B]BC_BASE_MAX\f[R] and
-can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built-in
+can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built\-in
 function.
 The min allowable value for \f[B]obase\f[R] is \f[B]2\f[R].
 Values are output in the specified base.
@@ -539,7 +525,7 @@ exceptions.
 \f[B]scale\f[R] cannot be negative.
 The max allowable value for \f[B]scale\f[R] is \f[B]BC_SCALE_MAX\f[R]
 and can be queried in bc(1) programs with the \f[B]maxscale()\f[R]
-built-in function.
+built\-in function.
 .PP
 bc(1) has both \f[I]global\f[R] variables and \f[I]local\f[R] variables.
 All \f[I]local\f[R] variables are local to the function; they are
@@ -564,20 +550,18 @@ The value that is printed is also assigned to the special variable
 \f[B]last\f[R].
 A single dot (\f[B].\f[R]) may also be used as a synonym for
 \f[B]last\f[R].
-These are \f[B]non-portable extensions\f[R].
+These are \f[B]non\-portable extensions\f[R].
 .PP
 Either semicolons or newlines may separate statements.
 .SS Comments
-.PP
 There are two kinds of comments:
 .IP "1." 3
 Block comments are enclosed in \f[B]/*\f[R] and \f[B]*/\f[R].
 .IP "2." 3
 Line comments go from \f[B]#\f[R] until, and not including, the next
 newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Named Expressions
-.PP
 The following are named expressions in bc(1):
 .IP "1." 3
 Variables: \f[B]I\f[R]
@@ -592,7 +576,7 @@ Array Elements: \f[B]I[E]\f[R]
 .IP "6." 3
 \f[B]last\f[R] or a single dot (\f[B].\f[R])
 .PP
-Number 6 is a \f[B]non-portable extension\f[R].
+Number 6 is a \f[B]non\-portable extension\f[R].
 .PP
 Variables and arrays do not interfere; users can have arrays named the
 same as variables.
@@ -606,7 +590,6 @@ Named expressions are required as the operand of
 of \f[B]assignment\f[R] operators (see the \f[I]Operators\f[R]
 subsection).
 .SS Operands
-.PP
 The following are valid operands in bc(1):
 .IP " 1." 4
 Numbers (see the \f[I]Numbers\f[R] subsection below).
@@ -616,61 +599,61 @@ Array indices (\f[B]I[E]\f[R]).
 \f[B](E)\f[R]: The value of \f[B]E\f[R] (used to change precedence).
 .IP " 4." 4
 \f[B]sqrt(E)\f[R]: The square root of \f[B]E\f[R].
-\f[B]E\f[R] must be non-negative.
+\f[B]E\f[R] must be non\-negative.
 .IP " 5." 4
 \f[B]length(E)\f[R]: The number of significant decimal digits in
 \f[B]E\f[R].
 Returns \f[B]1\f[R] for \f[B]0\f[R] with no decimal places.
 If given a string, the length of the string is returned.
-Passing a string to \f[B]length(E)\f[R] is a \f[B]non-portable
+Passing a string to \f[B]length(E)\f[R] is a \f[B]non\-portable
 extension\f[R].
 .IP " 6." 4
 \f[B]length(I[])\f[R]: The number of elements in the array \f[B]I\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 7." 4
 \f[B]scale(E)\f[R]: The \f[I]scale\f[R] of \f[B]E\f[R].
 .IP " 8." 4
 \f[B]abs(E)\f[R]: The absolute value of \f[B]E\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 9." 4
 \f[B]is_number(E)\f[R]: \f[B]1\f[R] if the given argument is a number,
 \f[B]0\f[R] if it is a string.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "10." 4
 \f[B]is_string(E)\f[R]: \f[B]1\f[R] if the given argument is a string,
 \f[B]0\f[R] if it is a number.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "11." 4
 \f[B]modexp(E, E, E)\f[R]: Modular exponentiation, where the first
 expression is the base, the second is the exponent, and the third is the
 modulus.
 All three values must be integers.
-The second argument must be non-negative.
-The third argument must be non-zero.
-This is a \f[B]non-portable extension\f[R].
+The second argument must be non\-negative.
+The third argument must be non\-zero.
+This is a \f[B]non\-portable extension\f[R].
 .IP "12." 4
 \f[B]divmod(E, E, I[])\f[R]: Division and modulus in one operation.
 This is for optimization.
 The first expression is the dividend, and the second is the divisor,
-which must be non-zero.
+which must be non\-zero.
 The return value is the quotient, and the modulus is stored in index
 \f[B]0\f[R] of the provided array (the last argument).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "13." 4
 \f[B]asciify(E)\f[R]: If \f[B]E\f[R] is a string, returns a string that
 is the first letter of its argument.
 If it is a number, calculates the number mod \f[B]256\f[R] and returns
-that number as a one-character string.
-This is a \f[B]non-portable extension\f[R].
+that number as a one\-character string.
+This is a \f[B]non\-portable extension\f[R].
 .IP "14." 4
 \f[B]asciify(I[])\f[R]: A string that is made up of the characters that
 would result from running \f[B]asciify(E)\f[R] on each element of the
 array identified by the argument.
-This allows creating multi-character strings and storing them.
-This is a \f[B]non-portable extension\f[R].
+This allows creating multi\-character strings and storing them.
+This is a \f[B]non\-portable extension\f[R].
 .IP "15." 4
 \f[B]I()\f[R], \f[B]I(E)\f[R], \f[B]I(E, E)\f[R], and so on, where
-\f[B]I\f[R] is an identifier for a non-\f[B]void\f[R] function (see the
+\f[B]I\f[R] is an identifier for a non\-\f[B]void\f[R] function (see the
 \f[I]Void Functions\f[R] subsection of the \f[B]FUNCTIONS\f[R] section).
 The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]I[]\f[R], which will automatically be turned into array references
@@ -682,35 +665,34 @@ function definition is an array reference.
 expression.
 The result of that expression is the result of the \f[B]read()\f[R]
 operand.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "17." 4
 \f[B]maxibase()\f[R]: The max allowable \f[B]ibase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "18." 4
 \f[B]maxobase()\f[R]: The max allowable \f[B]obase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "19." 4
 \f[B]maxscale()\f[R]: The max allowable \f[B]scale\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "20." 4
 \f[B]line_length()\f[R]: The line length set with
 \f[B]BC_LINE_LENGTH\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "21." 4
 \f[B]global_stacks()\f[R]: \f[B]0\f[R] if global stacks are not enabled
-with the \f[B]-g\f[R] or \f[B]--global-stacks\f[R] options, non-zero
-otherwise.
+with the \f[B]\-g\f[R] or \f[B]\-\-global\-stacks\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "22." 4
 \f[B]leading_zero()\f[R]: \f[B]0\f[R] if leading zeroes are not enabled
-with the \f[B]-z\f[R] or \f[B]\[en]leading-zeroes\f[R] options, non-zero
-otherwise.
+with the \f[B]\-z\f[R] or \f[B]\[en]leading\-zeroes\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Numbers
-.PP
 Numbers are strings made up of digits, uppercase letters, and at most
 \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]BC_NUM_MAX\f[R] digits.
@@ -721,12 +703,12 @@ alphabet, starting from \f[B]1\f[R] (i.e., \f[B]A\f[R] equals
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]BC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -744,7 +726,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -758,12 +740,11 @@ and is meant to provide an easy way to set the current \f[B]ibase\f[R]
 If clamping is on, and the clamped value of a character is needed, use a
 leading zero, i.e., for \f[B]A\f[R], use \f[B]0A\f[R].
 .SS Operators
-.PP
 The following arithmetic and logical operators can be used.
 They are listed in order of decreasing precedence.
 Operators in the same group have the same precedence.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 Type: Prefix and Postfix
 .RS
 .PP
@@ -772,7 +753,7 @@ Associativity: None
 Description: \f[B]increment\f[R], \f[B]decrement\f[R]
 .RE
 .TP
-\f[B]-\f[R] \f[B]!\f[R]
+\f[B]\-\f[R] \f[B]!\f[R]
 Type: Prefix
 .RS
 .PP
@@ -799,7 +780,7 @@ Associativity: Left
 Description: \f[B]multiply\f[R], \f[B]divide\f[R], \f[B]modulus\f[R]
 .RE
 .TP
-\f[B]+\f[R] \f[B]-\f[R]
+\f[B]+\f[R] \f[B]\-\f[R]
 Type: Binary
 .RS
 .PP
@@ -808,7 +789,7 @@ Associativity: Left
 Description: \f[B]add\f[R], \f[B]subtract\f[R]
 .RE
 .TP
-\f[B]=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
+\f[B]=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
 Type: Binary
 .RS
 .PP
@@ -846,18 +827,18 @@ Description: \f[B]boolean or\f[R]
 .PP
 The operators will be described in more detail below.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 The prefix and postfix \f[B]increment\f[R] and \f[B]decrement\f[R]
-operators behave exactly like they would in C.
-They require a named expression (see the \f[I]Named Expressions\f[R]
-subsection) as an operand.
+operators behave exactly like they would in C. They require a named
+expression (see the \f[I]Named Expressions\f[R] subsection) as an
+operand.
 .RS
 .PP
 The prefix versions of these operators are more efficient; use them
 where possible.
 .RE
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]negation\f[R] operator returns \f[B]0\f[R] if a user attempts
 to negate any expression with the value \f[B]0\f[R].
 Otherwise, a copy of the expression with its sign flipped is returned.
@@ -867,7 +848,11 @@ The \f[B]boolean not\f[R] operator returns \f[B]1\f[R] if the expression
 is \f[B]0\f[R], or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]Warning\f[R]: This operator has a \f[B]different precedence\f[R]
+than the equivalent operator in GNU bc(1) and other bc(1)
+implementations!
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -878,7 +863,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]), and if it
-is negative, the first value must be non-zero.
+is negative, the first value must be non\-zero.
 .RE
 .TP
 \f[B]*\f[R]
@@ -896,18 +881,18 @@ returns the quotient.
 The \f[I]scale\f[R] of the result shall be the value of \f[B]scale\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
 The \f[B]modulus\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and evaluates them by 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R] and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]+\f[R]
@@ -915,12 +900,12 @@ The \f[B]add\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the sum, with a \f[I]scale\f[R] equal to the
 max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]subtract\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the difference, with a \f[I]scale\f[R] equal to
 the max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
+\f[B]=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
 The \f[B]assignment\f[R] operators take two expressions, \f[B]a\f[R] and
 \f[B]b\f[R] where \f[B]a\f[R] is a named expression (see the \f[I]Named
 Expressions\f[R] subsection).
@@ -947,31 +932,30 @@ interpreted as \f[B](a=b)>c\f[R].
 Also, unlike the standard (see the \f[B]STANDARDS\f[R] section)
 requires, these operators can appear anywhere any other expressions can
 be used.
-This allowance is a \f[B]non-portable extension\f[R].
+This allowance is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]&&\f[R]
 The \f[B]boolean and\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if both expressions are non-zero, \f[B]0\f[R] otherwise.
+\f[B]1\f[R] if both expressions are non\-zero, \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]||\f[R]
 The \f[B]boolean or\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if one of the expressions is non-zero, \f[B]0\f[R]
+\f[B]1\f[R] if one of the expressions is non\-zero, \f[B]0\f[R]
 otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Statements
-.PP
 The following items are statements:
 .IP " 1." 4
 \f[B]E\f[R]
@@ -1018,10 +1002,10 @@ The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]FUNCTIONS\f[R] section) if the corresponding parameter in the
 function definition is an array reference.
 .PP
-Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non-portable
+Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non\-portable
 extensions\f[R].
 .PP
-Also, as a \f[B]non-portable extension\f[R], any or all of the
+Also, as a \f[B]non\-portable extension\f[R], any or all of the
 expressions in the header of a for loop may be omitted.
 If the condition (second expression) is omitted, it is assumed to be a
 constant \f[B]1\f[R].
@@ -1038,7 +1022,7 @@ This is only allowed in loops.
 The \f[B]if\f[R] \f[B]else\f[R] statement does the same thing as in C.
 .PP
 The \f[B]quit\f[R] statement causes bc(1) to quit, even if it is on a
-branch that will not be executed (it is a compile-time command).
+branch that will not be executed (it is a compile\-time command).
 .PP
 \f[B]Warning\f[R]: The behavior of this bc(1) on \f[B]quit\f[R] is
 slightly different from other bc(1) implementations.
@@ -1049,11 +1033,9 @@ occur before the \f[B]quit\f[R] statement before exiting.
 .PP
 In other words, for the bc(1) code below:
 .IP
-.nf
-\f[C]
+.EX
 for (i = 0; i < 3; ++i) i; quit
-\f[R]
-.fi
+.EE
 .PP
 Other bc(1) implementations will print nothing, and this bc(1) will
 print \f[B]0\f[R], \f[B]1\f[R], and \f[B]2\f[R] on successive lines
@@ -1065,12 +1047,11 @@ that is not executed, bc(1) does not quit.)
 .PP
 The \f[B]limits\f[R] statement prints the limits that this bc(1) is
 subject to.
-This is like the \f[B]quit\f[R] statement in that it is a compile-time
+This is like the \f[B]quit\f[R] statement in that it is a compile\-time
 command.
 .PP
 An expression by itself is evaluated and printed, followed by a newline.
 .SS Strings
-.PP
 If strings appear as a statement by themselves, they are printed without
 a trailing newline.
 .PP
@@ -1087,9 +1068,8 @@ element that has been assigned a string, an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section).
 .PP
 Assigning strings to variables and array elements and passing them to
-functions are \f[B]non-portable extensions\f[R].
+functions are \f[B]non\-portable extensions\f[R].
 .SS Print Statement
-.PP
 The \[lq]expressions\[rq] in a \f[B]print\f[R] statement may also be
 strings.
 If they are, there are backslash escape sequences that are interpreted
@@ -1116,14 +1096,12 @@ below:
 \f[B]\[rs]t\f[R]: \f[B]\[rs]t\f[R]
 .PP
 Any other character following a backslash causes the backslash and
-character to be printed as-is.
+character to be printed as\-is.
 .PP
-Any non-string expression in a print statement shall be assigned to
+Any non\-string expression in a print statement shall be assigned to
 \f[B]last\f[R], like any other expression that is printed.
 .SS Stream Statement
-.PP
-The \[lq]expressions in a \f[B]stream\f[R] statement may also be
-strings.
+The expressions in a \f[B]stream\f[R] statement may also be strings.
 .PP
 If a \f[B]stream\f[R] statement is given a string, it prints the string
 as though the string had appeared as its own statement.
@@ -1133,20 +1111,17 @@ without a newline.
 If a \f[B]stream\f[R] statement is given a number, a copy of it is
 truncated and its absolute value is calculated.
 The result is then printed as though \f[B]obase\f[R] is \f[B]256\f[R]
-and each digit is interpreted as an 8-bit ASCII character, making it a
+and each digit is interpreted as an 8\-bit ASCII character, making it a
 byte stream.
 .SS Order of Evaluation
-.PP
 All expressions in a statment are evaluated left to right, except as
 necessary to maintain order of operations.
 This means, for example, assuming that \f[B]i\f[R] is equal to
 \f[B]0\f[R], in the expression
 .IP
-.nf
-\f[C]
+.EX
 a[i++] = i++
-\f[R]
-.fi
+.EE
 .PP
 the first (or 0th) element of \f[B]a\f[R] is set to \f[B]1\f[R], and
 \f[B]i\f[R] is equal to \f[B]2\f[R] at the end of the expression.
@@ -1155,28 +1130,23 @@ This includes function arguments.
 Thus, assuming \f[B]i\f[R] is equal to \f[B]0\f[R], this means that in
 the expression
 .IP
-.nf
-\f[C]
+.EX
 x(i++, i++)
-\f[R]
-.fi
+.EE
 .PP
 the first argument passed to \f[B]x()\f[R] is \f[B]0\f[R], and the
 second argument is \f[B]1\f[R], while \f[B]i\f[R] is equal to
 \f[B]2\f[R] before the function starts executing.
 .SH FUNCTIONS
-.PP
 Function definitions are as follows:
 .IP
-.nf
-\f[C]
+.EX
 define I(I,...,I){
     auto I,...,I
     S;...;S
     return(E)
 }
-\f[R]
-.fi
+.EE
 .PP
 Any \f[B]I\f[R] in the parameter list or \f[B]auto\f[R] list may be
 replaced with \f[B]I[]\f[R] to make a parameter or \f[B]auto\f[R] var an
@@ -1187,10 +1157,10 @@ asterisk in the call; they must be called with just \f[B]I[]\f[R] like
 normal array parameters and will be automatically converted into
 references.
 .PP
-As a \f[B]non-portable extension\f[R], the opening brace of a
+As a \f[B]non\-portable extension\f[R], the opening brace of a
 \f[B]define\f[R] statement may appear on the next line.
 .PP
-As a \f[B]non-portable extension\f[R], the return statement may also be
+As a \f[B]non\-portable extension\f[R], the return statement may also be
 in one of the following forms:
 .IP "1." 3
 \f[B]return\f[R]
@@ -1204,18 +1174,15 @@ equivalent to \f[B]return (0)\f[R], unless the function is a
 \f[B]void\f[R] function (see the \f[I]Void Functions\f[R] subsection
 below).
 .SS Void Functions
-.PP
 Functions can also be \f[B]void\f[R] functions, defined as follows:
 .IP
-.nf
-\f[C]
+.EX
 define void I(I,...,I){
     auto I,...,I
     S;...;S
     return
 }
-\f[R]
-.fi
+.EE
 .PP
 They can only be used as standalone expressions, where such an
 expression would be printed alone, except in a print statement.
@@ -1229,17 +1196,14 @@ possible to have variables, arrays, and functions named \f[B]void\f[R].
 The word \[lq]void\[rq] is only treated specially right after the
 \f[B]define\f[R] keyword.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Array References
-.PP
 For any array in the parameter list, if the array is declared in the
 form
 .IP
-.nf
-\f[C]
+.EX
 *I[]
-\f[R]
-.fi
+.EE
 .PP
 it is a \f[B]reference\f[R].
 Any changes to the array in the function are reflected, when the
@@ -1247,13 +1211,11 @@ function returns, to the array that was passed in.
 .PP
 Other than this, all function arguments are passed by value.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH LIBRARY
-.PP
-All of the functions below are available when the \f[B]-l\f[R] or
-\f[B]--mathlib\f[R] command-line flags are given.
+All of the functions below are available when the \f[B]\-l\f[R] or
+\f[B]\-\-mathlib\f[R] command\-line flags are given.
 .SS Standard Library
-.PP
 The standard (see the \f[B]STANDARDS\f[R] section) defines the following
 functions for the math library:
 .TP
@@ -1306,7 +1268,6 @@ This is a transcendental function (see the \f[I]Transcendental
 Functions\f[R] subsection below).
 .RE
 .SS Transcendental Functions
-.PP
 All transcendental functions can return slightly inaccurate results, up
 to 1 ULP (https://en.wikipedia.org/wiki/Unit_in_the_last_place).
 This is unavoidable, and the article at
@@ -1334,8 +1295,7 @@ The transcendental functions in the standard math library are:
 .IP \[bu] 2
 \f[B]j(x, n)\f[R]
 .SH RESET
-.PP
-When bc(1) encounters an error or a signal that it has a non-default
+When bc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
@@ -1355,7 +1315,6 @@ Note that this reset behavior is different from the GNU bc(1), which
 attempts to start executing the statement right after the one that
 caused an error.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This bc(1) does something different.
@@ -1378,7 +1337,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bc(1):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -1408,24 +1366,24 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1433,29 +1391,28 @@ Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
 The actual values can be queried with the \f[B]limits\f[R] statement.
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], bc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], bc(1) recognizes the following
 environment variables:
 .TP
 \f[B]POSIXLY_CORRECT\f[R]
 If this variable exists (no matter the contents), bc(1) behaves as if
-the \f[B]-s\f[R] option was given.
+the \f[B]\-s\f[R] option was given.
 .TP
 \f[B]BC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to bc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to bc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]BC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
@@ -1476,14 +1433,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]BC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]BC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), bc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), bc(1) will output lines to that length,
 including the backslash (\f[B]\[rs]\f[R]).
 The default line length is \f[B]70\f[R].
 .RS
@@ -1495,7 +1452,7 @@ newlines.
 .TP
 \f[B]BC_BANNER\f[R]
 If this environment variable exists and contains an integer, then a
-non-zero value activates the copyright banner when bc(1) is in
+non\-zero value activates the copyright banner when bc(1) is in
 interactive mode, while zero deactivates it.
 .RS
 .PP
@@ -1504,7 +1461,7 @@ section), then this environment variable has no effect because bc(1)
 does not print the banner when not in interactive mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_SIGINT_RESET\f[R]
@@ -1514,13 +1471,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when bc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes bc(1)
+variable exists and contains an integer, a non\-zero value makes bc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes bc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then bc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_TTY_MODE\f[R]
@@ -1529,11 +1486,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes bc(1) use
+exists and contains an integer, then a non\-zero value makes bc(1) use
 TTY mode, and zero makes bc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_PROMPT\f[R]
@@ -1542,46 +1499,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes bc(1) use a
-prompt, and zero or a non-integer makes bc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes bc(1) use a
+prompt, and zero or a non\-integer makes bc(1) not use a prompt.
 If this environment variable does not exist and \f[B]BC_TTY_MODE\f[R]
 does, then the value of the \f[B]BC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]BC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes bc(1) exit after executing the
-expressions and expression files, and a zero value makes bc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes bc(1) exit after executing
+the expressions and expression files, and a zero value makes bc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes bc(1) clamp digits that are
+contains an integer, a non\-zero value makes bc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the standard (see the
-\f[B]STANDARDS\f[R] section).
+This never applies to single\-digit numbers, as per the standard (see
+the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 bc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1597,7 +1554,7 @@ Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, attempting to convert a negative number to a hardware
 integer, overflow when converting a number to a hardware integer,
 overflow when calculating the size of a number, and attempting to use a
-non-integer where an integer is required.
+non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]) operator and the corresponding assignment
@@ -1618,7 +1575,7 @@ giving an invalid \f[B]auto\f[R] list, having a duplicate
 \f[B]auto\f[R]/function parameter, failing to find the end of a code
 block, attempting to return a value from a \f[B]void\f[R] function,
 attempting to use a variable as a reference, and using any extensions
-when the option \f[B]-s\f[R] or any equivalents were given.
+when the option \f[B]\-s\f[R] or any equivalents were given.
 .RE
 .TP
 \f[B]3\f[R]
@@ -1641,7 +1598,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (bc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, bc(1)
@@ -1652,18 +1609,18 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 bc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow bc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
 Per the standard (see the \f[B]STANDARDS\f[R] section), bc(1) has an
-interactive mode and a non-interactive mode.
+interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, bc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1672,7 +1629,6 @@ bc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]BC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, bc(1) can turn on TTY mode, subject to some
@@ -1680,52 +1636,49 @@ settings.
 .PP
 If there is the environment variable \f[B]BC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, bc(1) will turn
+that environment variable contains a non\-zero integer, bc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]BC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then bc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then bc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]BC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) standard (see the \f[B]STANDARDS\f[R] section),
 and interactive mode requires only \f[B]stdin\f[R] and \f[B]stdout\f[R]
 to be connected to a terminal.
-.SS Command-Line History
-.PP
-Command-line history is only enabled if TTY mode is, i.e., that
+.SS Command\-Line History
+Command\-line history is only enabled if TTY mode is, i.e., that
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to
 a TTY and the \f[B]BC_TTY_MODE\f[R] environment variable (see the
 \f[B]ENVIRONMENT VARIABLES\f[R] section) and its default do not disable
 TTY mode.
 See the \f[B]COMMAND LINE HISTORY\f[R] section for more information.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]BC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]BC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]BC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]BC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]BC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause bc(1) to do one of two things.
 .PP
 If bc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1734,7 +1687,7 @@ section), or the \f[B]BC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, bc(1) will exit.
 .PP
 However, if bc(1) is in interactive mode, and the
-\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then bc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1760,12 +1713,11 @@ The one exception is \f[B]SIGHUP\f[R]; in that case, and only when bc(1)
 is in TTY mode (see the \f[B]TTY MODE\f[R] section), a \f[B]SIGHUP\f[R]
 will cause bc(1) to clean up and exit.
 .SH COMMAND LINE HISTORY
-.PP
-bc(1) supports interactive command-line editing.
+bc(1) supports interactive command\-line editing.
 .PP
 If bc(1) can be in TTY mode (see the \f[B]TTY MODE\f[R] section),
 history can be enabled.
-This means that command-line history can only be enabled when
+This means that command\-line history can only be enabled when
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY.
 .PP
@@ -1778,18 +1730,15 @@ the arrow keys.
 .PP
 \f[B]Note\f[R]: tabs are converted to 8 spaces.
 .SH LOCALES
-.PP
 This bc(1) ships with support for adding error messages for different
 locales and thus, supports \f[B]LC_MESSAGES\f[R].
 .SH SEE ALSO
-.PP
 dc(1)
 .SH STANDARDS
-.PP
-bc(1) is compliant with the IEEE Std 1003.1-2017
-(\[lq]POSIX.1-2017\[rq]) specification at
+bc(1) is compliant with the IEEE Std 1003.1\-2017
+(\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
-The flags \f[B]-efghiqsvVw\f[R], all long options, and the extensions
+The flags \f[B]\-efghiqsvVw\f[R], all long options, and the extensions
 noted above are extensions to that specification.
 .PP
 In addition, the behavior of the \f[B]quit\f[R] implements an
@@ -1805,13 +1754,13 @@ the value of \f[B]LC_NUMERIC\f[R].
 This bc(1) supports error messages for different locales, and thus, it
 supports \f[B]LC_MESSAGES\f[R].
 .SH BUGS
-.PP
 Before version \f[B]6.1.0\f[R], this bc(1) had incorrect behavior for
 the \f[B]quit\f[R] statement.
 .PP
 No other bugs are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bc/E.1.md b/manuals/bc/E.1.md
index 5411dcf6..0082caea 100644
--- a/manuals/bc/E.1.md
+++ b/manuals/bc/E.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -688,6 +688,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 **\^**
@@ -892,7 +895,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
diff --git a/manuals/bc/EH.1 b/manuals/bc/EH.1
index 507e7f4a..c132a0b7 100644
--- a/manuals/bc/EH.1
+++ b/manuals/bc/EH.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,37 +25,34 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bc - arbitrary-precision decimal arithmetic language and calculator
+bc \- arbitrary\-precision decimal arithmetic language and calculator
 .SH SYNOPSIS
-.PP
-\f[B]bc\f[R] [\f[B]-cCghilPqRsvVw\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--global-stacks\f[R]]
-[\f[B]--help\f[R]] [\f[B]--interactive\f[R]] [\f[B]--mathlib\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]] [\f[B]--quiet\f[R]]
-[\f[B]--standard\f[R]] [\f[B]--warn\f[R]] [\f[B]--version\f[R]]
-[\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]bc\f[R] [\f[B]\-cCghilPqRsvVw\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-global\-stacks\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-interactive\f[R]] [\f[B]\-\-mathlib\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-quiet\f[R]] [\f[B]\-\-standard\f[R]] [\f[B]\-\-warn\f[R]]
+[\f[B]\-\-version\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
 .SH DESCRIPTION
-.PP
 bc(1) is an interactive processor for a language first standardized in
 1991 by POSIX.
 (See the \f[B]STANDARDS\f[R] section.)
 The language provides unlimited precision decimal arithmetic and is
-somewhat C-like, but there are differences.
+somewhat C\-like, but there are differences.
 Such differences will be noted in this document.
 .PP
 After parsing and handling options, this bc(1) reads any files given on
 the command line and executes them before reading from \f[B]stdin\f[R].
 .PP
-This bc(1) is a drop-in replacement for \f[I]any\f[R] bc(1), including
+This bc(1) is a drop\-in replacement for \f[I]any\f[R] bc(1), including
 (and especially) the GNU bc(1).
 It also has many extensions and extra features beyond other
 implementations.
@@ -64,19 +61,18 @@ implementations.
 another bc(1) gives a parse error, it is probably because a word this
 bc(1) reserves as a keyword is used as the name of a function, variable,
 or array.
-To fix that, use the command-line option \f[B]-r\f[R] \f[I]keyword\f[R],
-where \f[I]keyword\f[R] is the keyword that is used as a name in the
-script.
+To fix that, use the command\-line option \f[B]\-r\f[R]
+\f[I]keyword\f[R], where \f[I]keyword\f[R] is the keyword that is used
+as a name in the script.
 For more information, see the \f[B]OPTIONS\f[R] section.
 .PP
 If parsing scripts meant for other bc(1) implementations still does not
 work, that is a bug and should be reported.
 See the \f[B]BUGS\f[R] section.
 .SH OPTIONS
-.PP
 The following are the options that bc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -86,17 +82,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -107,61 +103,61 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
-If files are given as well (see the \f[B]-f\f[R] and \f[B]--file\f[R]
+If files are given as well (see the \f[B]\-f\f[R] and \f[B]\-\-file\f[R]
 options), the expressions and files are evaluated in the order given.
 This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]BC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
-If expressions are also given (see the \f[B]-e\f[R] and
-\f[B]--expression\f[R] options), the expressions are evaluated in the
+If expressions are also given (see the \f[B]\-e\f[R] and
+\f[B]\-\-expression\f[R] options), the expressions are evaluated in the
 order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
-.PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-g\f[R], \f[B]--global-stacks\f[R]
+\f[B]\-g\f[R], \f[B]\-\-global\-stacks\f[R]
 Turns the globals \f[B]ibase\f[R], \f[B]obase\f[R], and \f[B]scale\f[R]
 into stacks.
 .RS
@@ -174,19 +170,16 @@ without worrying that the change will affect other functions.
 Thus, a hypothetical function named \f[B]output(x,b)\f[R] that simply
 printed \f[B]x\f[R] in base \f[B]b\f[R] could be written like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     obase=b
     x
 }
-\f[R]
-.fi
+.EE
 .PP
 instead of like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     auto c
     c=obase
@@ -194,8 +187,7 @@ define void output(x, b) {
     x
     obase=c
 }
-\f[R]
-.fi
+.EE
 .PP
 This makes writing functions much easier.
 .PP
@@ -209,12 +201,10 @@ converter, it is possible to replace that capability with various shell
 aliases.
 Examples:
 .IP
-.nf
-\f[C]
-alias d2o=\[dq]bc -e ibase=A -e obase=8\[dq]
-alias h2b=\[dq]bc -e ibase=G -e obase=2\[dq]
-\f[R]
-.fi
+.EX
+alias d2o=\[dq]bc \-e ibase=A \-e obase=8\[dq]
+alias h2b=\[dq]bc \-e ibase=G \-e obase=2\[dq]
+.EE
 .PP
 Second, if the purpose of a function is to set \f[B]ibase\f[R],
 \f[B]obase\f[R], or \f[B]scale\f[R] globally for any other purpose, it
@@ -227,16 +217,16 @@ users could make sure to define \f[B]BC_ENV_ARGS\f[R] and include this
 option (see the \f[B]ENVIRONMENT VARIABLES\f[R] section for more
 details).
 .PP
-If \f[B]-s\f[R], \f[B]-w\f[R], or any equivalents are used, this option
-is ignored.
+If \f[B]\-s\f[R], \f[B]\-w\f[R], or any equivalents are used, this
+option is ignored.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -244,28 +234,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-l\f[R], \f[B]--mathlib\f[R]
+\f[B]\-l\f[R], \f[B]\-\-mathlib\f[R]
 Sets \f[B]scale\f[R] (see the \f[B]SYNTAX\f[R] section) to \f[B]20\f[R]
 and loads the included math library before running any code, including
 any expressions or files specified on the command line.
@@ -274,7 +264,7 @@ any expressions or files specified on the command line.
 To learn what is in the library, see the \f[B]LIBRARY\f[R] section.
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -282,10 +272,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -298,26 +288,26 @@ Most of those users would want to put this option in
 These options override the \f[B]BC_PROMPT\f[R] and \f[B]BC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-q\f[R], \f[B]--quiet\f[R]
+\f[B]\-q\f[R], \f[B]\-\-quiet\f[R]
 This option is for compatibility with the GNU bc(1)
-(https://www.gnu.org/software/bc/); it is a no-op.
+(https://www.gnu.org/software/bc/); it is a no\-op.
 Without this option, GNU bc(1) prints a copyright header.
 This bc(1) only prints the copyright header if one or more of the
-\f[B]-v\f[R], \f[B]-V\f[R], or \f[B]--version\f[R] options are given
+\f[B]\-v\f[R], \f[B]\-V\f[R], or \f[B]\-\-version\f[R] options are given
 unless the \f[B]BC_BANNER\f[R] environment variable is set and contains
-a non-zero integer or if this bc(1) was built with the header displayed
+a non\-zero integer or if this bc(1) was built with the header displayed
 by default.
 If \f[I]any\f[R] of that is the case, then this option \f[I]does\f[R]
 prevent bc(1) from printing the header.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -330,16 +320,16 @@ prompt for user input.
 .RS
 .PP
 This option does not disable the regular prompt because the read prompt
-is only used when the \f[B]read()\f[R] built-in function is called.
+is only used when the \f[B]read()\f[R] built\-in function is called.
 .PP
 These options \f[I]do\f[R] override the \f[B]BC_PROMPT\f[R] and
 \f[B]BC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-r\f[R] \f[I]keyword\f[R], \f[B]--redefine\f[R]=\f[I]keyword\f[R]
+\f[B]\-r\f[R] \f[I]keyword\f[R], \f[B]\-\-redefine\f[R]=\f[I]keyword\f[R]
 Redefines \f[I]keyword\f[R] in order to allow it to be used as a
 function, variable, or array name.
 This is useful when this bc(1) gives parse errors when parsing scripts
@@ -392,7 +382,7 @@ It is a fatal error to attempt to redefine words that this bc(1) does
 not reserve as keywords.
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -400,35 +390,35 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-s\f[R], \f[B]--standard\f[R]
+\f[B]\-s\f[R], \f[B]\-\-standard\f[R]
 Process exactly the language defined by the standard (see the
 \f[B]STANDARDS\f[R] section) and error if any extensions are used.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-w\f[R], \f[B]--warn\f[R]
-Like \f[B]-s\f[R] and \f[B]--standard\f[R], except that warnings (and
-not errors) are printed for non-standard extensions and execution
+\f[B]\-w\f[R], \f[B]\-\-warn\f[R]
+Like \f[B]\-s\f[R] and \f[B]\-\-standard\f[R], except that warnings (and
+not errors) are printed for non\-standard extensions and execution
 continues normally.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes bc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes bc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
@@ -436,15 +426,14 @@ This can be set for individual numbers with the \f[B]plz(x)\f[R],
 \f[B]plznl(x)\f[R], \f[B]pnlz(x)\f[R], and \f[B]pnlznl(x)\f[R] functions
 in the extended math library (see the \f[B]LIBRARY\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files or expressions are given by the \f[B]-f\f[R],
-\f[B]--file\f[R], \f[B]-e\f[R], or \f[B]--expression\f[R] options, then
-bc(1) reads from \f[B]stdin\f[R].
+If no files or expressions are given by the \f[B]\-f\f[R],
+\f[B]\-\-file\f[R], \f[B]\-e\f[R], or \f[B]\-\-expression\f[R] options,
+then bc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there are a few caveats to this.
 .PP
@@ -458,8 +447,7 @@ Second, after an \f[B]if\f[R] statement, bc(1) doesn\[cq]t know if an
 \f[B]else\f[R] statement will follow, so it will not execute until it
 knows there will not be an \f[B]else\f[R] statement.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -467,7 +455,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]bc >&-\f[R], it will quit with an error.
+\f[B]bc  >&\-\f[R], it will quit with an error.
 This is done so that bc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -475,13 +463,12 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]bc 2>&-\f[R], it will quit with an error.
+\f[B]bc  2>&\-\f[R], it will quit with an error.
 This is done so that bc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -489,8 +476,7 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
-The syntax for bc(1) programs is mostly C-like, with some differences.
+The syntax for bc(1) programs is mostly C\-like, with some differences.
 This bc(1) follows the POSIX standard (see the \f[B]STANDARDS\f[R]
 section), which is a much more thorough resource for the language this
 bc(1) accepts.
@@ -501,32 +487,32 @@ In the sections below, \f[B]E\f[R] means expression, \f[B]S\f[R] means
 statement, and \f[B]I\f[R] means identifier.
 .PP
 Identifiers (\f[B]I\f[R]) start with a lowercase letter and can be
-followed by any number (up to \f[B]BC_NAME_MAX-1\f[R]) of lowercase
-letters (\f[B]a-z\f[R]), digits (\f[B]0-9\f[R]), and underscores
+followed by any number (up to \f[B]BC_NAME_MAX\-1\f[R]) of lowercase
+letters (\f[B]a\-z\f[R]), digits (\f[B]0\-9\f[R]), and underscores
 (\f[B]_\f[R]).
-The regex is \f[B][a-z][a-z0-9_]*\f[R].
+The regex is \f[B][a\-z][a\-z0\-9_]*\f[R].
 Identifiers with more than one character (letter) are a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .PP
 \f[B]ibase\f[R] is a global variable determining how to interpret
 constant numbers.
 It is the \[lq]input\[rq] base, or the number base used for interpreting
 input numbers.
 \f[B]ibase\f[R] is initially \f[B]10\f[R].
-If the \f[B]-s\f[R] (\f[B]--standard\f[R]) and \f[B]-w\f[R]
-(\f[B]--warn\f[R]) flags were not given on the command line, the max
+If the \f[B]\-s\f[R] (\f[B]\-\-standard\f[R]) and \f[B]\-w\f[R]
+(\f[B]\-\-warn\f[R]) flags were not given on the command line, the max
 allowable value for \f[B]ibase\f[R] is \f[B]36\f[R].
 Otherwise, it is \f[B]16\f[R].
 The min allowable value for \f[B]ibase\f[R] is \f[B]2\f[R].
 The max allowable value for \f[B]ibase\f[R] can be queried in bc(1)
-programs with the \f[B]maxibase()\f[R] built-in function.
+programs with the \f[B]maxibase()\f[R] built\-in function.
 .PP
 \f[B]obase\f[R] is a global variable determining how to output results.
 It is the \[lq]output\[rq] base, or the number base used for outputting
 numbers.
 \f[B]obase\f[R] is initially \f[B]10\f[R].
 The max allowable value for \f[B]obase\f[R] is \f[B]BC_BASE_MAX\f[R] and
-can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built-in
+can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built\-in
 function.
 The min allowable value for \f[B]obase\f[R] is \f[B]2\f[R].
 Values are output in the specified base.
@@ -539,7 +525,7 @@ exceptions.
 \f[B]scale\f[R] cannot be negative.
 The max allowable value for \f[B]scale\f[R] is \f[B]BC_SCALE_MAX\f[R]
 and can be queried in bc(1) programs with the \f[B]maxscale()\f[R]
-built-in function.
+built\-in function.
 .PP
 bc(1) has both \f[I]global\f[R] variables and \f[I]local\f[R] variables.
 All \f[I]local\f[R] variables are local to the function; they are
@@ -564,20 +550,18 @@ The value that is printed is also assigned to the special variable
 \f[B]last\f[R].
 A single dot (\f[B].\f[R]) may also be used as a synonym for
 \f[B]last\f[R].
-These are \f[B]non-portable extensions\f[R].
+These are \f[B]non\-portable extensions\f[R].
 .PP
 Either semicolons or newlines may separate statements.
 .SS Comments
-.PP
 There are two kinds of comments:
 .IP "1." 3
 Block comments are enclosed in \f[B]/*\f[R] and \f[B]*/\f[R].
 .IP "2." 3
 Line comments go from \f[B]#\f[R] until, and not including, the next
 newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Named Expressions
-.PP
 The following are named expressions in bc(1):
 .IP "1." 3
 Variables: \f[B]I\f[R]
@@ -592,7 +576,7 @@ Array Elements: \f[B]I[E]\f[R]
 .IP "6." 3
 \f[B]last\f[R] or a single dot (\f[B].\f[R])
 .PP
-Number 6 is a \f[B]non-portable extension\f[R].
+Number 6 is a \f[B]non\-portable extension\f[R].
 .PP
 Variables and arrays do not interfere; users can have arrays named the
 same as variables.
@@ -606,7 +590,6 @@ Named expressions are required as the operand of
 of \f[B]assignment\f[R] operators (see the \f[I]Operators\f[R]
 subsection).
 .SS Operands
-.PP
 The following are valid operands in bc(1):
 .IP " 1." 4
 Numbers (see the \f[I]Numbers\f[R] subsection below).
@@ -616,61 +599,61 @@ Array indices (\f[B]I[E]\f[R]).
 \f[B](E)\f[R]: The value of \f[B]E\f[R] (used to change precedence).
 .IP " 4." 4
 \f[B]sqrt(E)\f[R]: The square root of \f[B]E\f[R].
-\f[B]E\f[R] must be non-negative.
+\f[B]E\f[R] must be non\-negative.
 .IP " 5." 4
 \f[B]length(E)\f[R]: The number of significant decimal digits in
 \f[B]E\f[R].
 Returns \f[B]1\f[R] for \f[B]0\f[R] with no decimal places.
 If given a string, the length of the string is returned.
-Passing a string to \f[B]length(E)\f[R] is a \f[B]non-portable
+Passing a string to \f[B]length(E)\f[R] is a \f[B]non\-portable
 extension\f[R].
 .IP " 6." 4
 \f[B]length(I[])\f[R]: The number of elements in the array \f[B]I\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 7." 4
 \f[B]scale(E)\f[R]: The \f[I]scale\f[R] of \f[B]E\f[R].
 .IP " 8." 4
 \f[B]abs(E)\f[R]: The absolute value of \f[B]E\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 9." 4
 \f[B]is_number(E)\f[R]: \f[B]1\f[R] if the given argument is a number,
 \f[B]0\f[R] if it is a string.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "10." 4
 \f[B]is_string(E)\f[R]: \f[B]1\f[R] if the given argument is a string,
 \f[B]0\f[R] if it is a number.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "11." 4
 \f[B]modexp(E, E, E)\f[R]: Modular exponentiation, where the first
 expression is the base, the second is the exponent, and the third is the
 modulus.
 All three values must be integers.
-The second argument must be non-negative.
-The third argument must be non-zero.
-This is a \f[B]non-portable extension\f[R].
+The second argument must be non\-negative.
+The third argument must be non\-zero.
+This is a \f[B]non\-portable extension\f[R].
 .IP "12." 4
 \f[B]divmod(E, E, I[])\f[R]: Division and modulus in one operation.
 This is for optimization.
 The first expression is the dividend, and the second is the divisor,
-which must be non-zero.
+which must be non\-zero.
 The return value is the quotient, and the modulus is stored in index
 \f[B]0\f[R] of the provided array (the last argument).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "13." 4
 \f[B]asciify(E)\f[R]: If \f[B]E\f[R] is a string, returns a string that
 is the first letter of its argument.
 If it is a number, calculates the number mod \f[B]256\f[R] and returns
-that number as a one-character string.
-This is a \f[B]non-portable extension\f[R].
+that number as a one\-character string.
+This is a \f[B]non\-portable extension\f[R].
 .IP "14." 4
 \f[B]asciify(I[])\f[R]: A string that is made up of the characters that
 would result from running \f[B]asciify(E)\f[R] on each element of the
 array identified by the argument.
-This allows creating multi-character strings and storing them.
-This is a \f[B]non-portable extension\f[R].
+This allows creating multi\-character strings and storing them.
+This is a \f[B]non\-portable extension\f[R].
 .IP "15." 4
 \f[B]I()\f[R], \f[B]I(E)\f[R], \f[B]I(E, E)\f[R], and so on, where
-\f[B]I\f[R] is an identifier for a non-\f[B]void\f[R] function (see the
+\f[B]I\f[R] is an identifier for a non\-\f[B]void\f[R] function (see the
 \f[I]Void Functions\f[R] subsection of the \f[B]FUNCTIONS\f[R] section).
 The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]I[]\f[R], which will automatically be turned into array references
@@ -682,35 +665,34 @@ function definition is an array reference.
 expression.
 The result of that expression is the result of the \f[B]read()\f[R]
 operand.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "17." 4
 \f[B]maxibase()\f[R]: The max allowable \f[B]ibase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "18." 4
 \f[B]maxobase()\f[R]: The max allowable \f[B]obase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "19." 4
 \f[B]maxscale()\f[R]: The max allowable \f[B]scale\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "20." 4
 \f[B]line_length()\f[R]: The line length set with
 \f[B]BC_LINE_LENGTH\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "21." 4
 \f[B]global_stacks()\f[R]: \f[B]0\f[R] if global stacks are not enabled
-with the \f[B]-g\f[R] or \f[B]--global-stacks\f[R] options, non-zero
-otherwise.
+with the \f[B]\-g\f[R] or \f[B]\-\-global\-stacks\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "22." 4
 \f[B]leading_zero()\f[R]: \f[B]0\f[R] if leading zeroes are not enabled
-with the \f[B]-z\f[R] or \f[B]\[en]leading-zeroes\f[R] options, non-zero
-otherwise.
+with the \f[B]\-z\f[R] or \f[B]\[en]leading\-zeroes\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Numbers
-.PP
 Numbers are strings made up of digits, uppercase letters, and at most
 \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]BC_NUM_MAX\f[R] digits.
@@ -721,12 +703,12 @@ alphabet, starting from \f[B]1\f[R] (i.e., \f[B]A\f[R] equals
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]BC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -744,7 +726,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -758,12 +740,11 @@ and is meant to provide an easy way to set the current \f[B]ibase\f[R]
 If clamping is on, and the clamped value of a character is needed, use a
 leading zero, i.e., for \f[B]A\f[R], use \f[B]0A\f[R].
 .SS Operators
-.PP
 The following arithmetic and logical operators can be used.
 They are listed in order of decreasing precedence.
 Operators in the same group have the same precedence.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 Type: Prefix and Postfix
 .RS
 .PP
@@ -772,7 +753,7 @@ Associativity: None
 Description: \f[B]increment\f[R], \f[B]decrement\f[R]
 .RE
 .TP
-\f[B]-\f[R] \f[B]!\f[R]
+\f[B]\-\f[R] \f[B]!\f[R]
 Type: Prefix
 .RS
 .PP
@@ -799,7 +780,7 @@ Associativity: Left
 Description: \f[B]multiply\f[R], \f[B]divide\f[R], \f[B]modulus\f[R]
 .RE
 .TP
-\f[B]+\f[R] \f[B]-\f[R]
+\f[B]+\f[R] \f[B]\-\f[R]
 Type: Binary
 .RS
 .PP
@@ -808,7 +789,7 @@ Associativity: Left
 Description: \f[B]add\f[R], \f[B]subtract\f[R]
 .RE
 .TP
-\f[B]=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
+\f[B]=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
 Type: Binary
 .RS
 .PP
@@ -846,18 +827,18 @@ Description: \f[B]boolean or\f[R]
 .PP
 The operators will be described in more detail below.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 The prefix and postfix \f[B]increment\f[R] and \f[B]decrement\f[R]
-operators behave exactly like they would in C.
-They require a named expression (see the \f[I]Named Expressions\f[R]
-subsection) as an operand.
+operators behave exactly like they would in C. They require a named
+expression (see the \f[I]Named Expressions\f[R] subsection) as an
+operand.
 .RS
 .PP
 The prefix versions of these operators are more efficient; use them
 where possible.
 .RE
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]negation\f[R] operator returns \f[B]0\f[R] if a user attempts
 to negate any expression with the value \f[B]0\f[R].
 Otherwise, a copy of the expression with its sign flipped is returned.
@@ -867,7 +848,11 @@ The \f[B]boolean not\f[R] operator returns \f[B]1\f[R] if the expression
 is \f[B]0\f[R], or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]Warning\f[R]: This operator has a \f[B]different precedence\f[R]
+than the equivalent operator in GNU bc(1) and other bc(1)
+implementations!
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -878,7 +863,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]), and if it
-is negative, the first value must be non-zero.
+is negative, the first value must be non\-zero.
 .RE
 .TP
 \f[B]*\f[R]
@@ -896,18 +881,18 @@ returns the quotient.
 The \f[I]scale\f[R] of the result shall be the value of \f[B]scale\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
 The \f[B]modulus\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and evaluates them by 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R] and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]+\f[R]
@@ -915,12 +900,12 @@ The \f[B]add\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the sum, with a \f[I]scale\f[R] equal to the
 max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]subtract\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the difference, with a \f[I]scale\f[R] equal to
 the max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
+\f[B]=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
 The \f[B]assignment\f[R] operators take two expressions, \f[B]a\f[R] and
 \f[B]b\f[R] where \f[B]a\f[R] is a named expression (see the \f[I]Named
 Expressions\f[R] subsection).
@@ -947,31 +932,30 @@ interpreted as \f[B](a=b)>c\f[R].
 Also, unlike the standard (see the \f[B]STANDARDS\f[R] section)
 requires, these operators can appear anywhere any other expressions can
 be used.
-This allowance is a \f[B]non-portable extension\f[R].
+This allowance is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]&&\f[R]
 The \f[B]boolean and\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if both expressions are non-zero, \f[B]0\f[R] otherwise.
+\f[B]1\f[R] if both expressions are non\-zero, \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]||\f[R]
 The \f[B]boolean or\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if one of the expressions is non-zero, \f[B]0\f[R]
+\f[B]1\f[R] if one of the expressions is non\-zero, \f[B]0\f[R]
 otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Statements
-.PP
 The following items are statements:
 .IP " 1." 4
 \f[B]E\f[R]
@@ -1018,10 +1002,10 @@ The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]FUNCTIONS\f[R] section) if the corresponding parameter in the
 function definition is an array reference.
 .PP
-Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non-portable
+Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non\-portable
 extensions\f[R].
 .PP
-Also, as a \f[B]non-portable extension\f[R], any or all of the
+Also, as a \f[B]non\-portable extension\f[R], any or all of the
 expressions in the header of a for loop may be omitted.
 If the condition (second expression) is omitted, it is assumed to be a
 constant \f[B]1\f[R].
@@ -1038,7 +1022,7 @@ This is only allowed in loops.
 The \f[B]if\f[R] \f[B]else\f[R] statement does the same thing as in C.
 .PP
 The \f[B]quit\f[R] statement causes bc(1) to quit, even if it is on a
-branch that will not be executed (it is a compile-time command).
+branch that will not be executed (it is a compile\-time command).
 .PP
 \f[B]Warning\f[R]: The behavior of this bc(1) on \f[B]quit\f[R] is
 slightly different from other bc(1) implementations.
@@ -1049,11 +1033,9 @@ occur before the \f[B]quit\f[R] statement before exiting.
 .PP
 In other words, for the bc(1) code below:
 .IP
-.nf
-\f[C]
+.EX
 for (i = 0; i < 3; ++i) i; quit
-\f[R]
-.fi
+.EE
 .PP
 Other bc(1) implementations will print nothing, and this bc(1) will
 print \f[B]0\f[R], \f[B]1\f[R], and \f[B]2\f[R] on successive lines
@@ -1065,12 +1047,11 @@ that is not executed, bc(1) does not quit.)
 .PP
 The \f[B]limits\f[R] statement prints the limits that this bc(1) is
 subject to.
-This is like the \f[B]quit\f[R] statement in that it is a compile-time
+This is like the \f[B]quit\f[R] statement in that it is a compile\-time
 command.
 .PP
 An expression by itself is evaluated and printed, followed by a newline.
 .SS Strings
-.PP
 If strings appear as a statement by themselves, they are printed without
 a trailing newline.
 .PP
@@ -1087,9 +1068,8 @@ element that has been assigned a string, an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section).
 .PP
 Assigning strings to variables and array elements and passing them to
-functions are \f[B]non-portable extensions\f[R].
+functions are \f[B]non\-portable extensions\f[R].
 .SS Print Statement
-.PP
 The \[lq]expressions\[rq] in a \f[B]print\f[R] statement may also be
 strings.
 If they are, there are backslash escape sequences that are interpreted
@@ -1116,14 +1096,12 @@ below:
 \f[B]\[rs]t\f[R]: \f[B]\[rs]t\f[R]
 .PP
 Any other character following a backslash causes the backslash and
-character to be printed as-is.
+character to be printed as\-is.
 .PP
-Any non-string expression in a print statement shall be assigned to
+Any non\-string expression in a print statement shall be assigned to
 \f[B]last\f[R], like any other expression that is printed.
 .SS Stream Statement
-.PP
-The \[lq]expressions in a \f[B]stream\f[R] statement may also be
-strings.
+The expressions in a \f[B]stream\f[R] statement may also be strings.
 .PP
 If a \f[B]stream\f[R] statement is given a string, it prints the string
 as though the string had appeared as its own statement.
@@ -1133,20 +1111,17 @@ without a newline.
 If a \f[B]stream\f[R] statement is given a number, a copy of it is
 truncated and its absolute value is calculated.
 The result is then printed as though \f[B]obase\f[R] is \f[B]256\f[R]
-and each digit is interpreted as an 8-bit ASCII character, making it a
+and each digit is interpreted as an 8\-bit ASCII character, making it a
 byte stream.
 .SS Order of Evaluation
-.PP
 All expressions in a statment are evaluated left to right, except as
 necessary to maintain order of operations.
 This means, for example, assuming that \f[B]i\f[R] is equal to
 \f[B]0\f[R], in the expression
 .IP
-.nf
-\f[C]
+.EX
 a[i++] = i++
-\f[R]
-.fi
+.EE
 .PP
 the first (or 0th) element of \f[B]a\f[R] is set to \f[B]1\f[R], and
 \f[B]i\f[R] is equal to \f[B]2\f[R] at the end of the expression.
@@ -1155,28 +1130,23 @@ This includes function arguments.
 Thus, assuming \f[B]i\f[R] is equal to \f[B]0\f[R], this means that in
 the expression
 .IP
-.nf
-\f[C]
+.EX
 x(i++, i++)
-\f[R]
-.fi
+.EE
 .PP
 the first argument passed to \f[B]x()\f[R] is \f[B]0\f[R], and the
 second argument is \f[B]1\f[R], while \f[B]i\f[R] is equal to
 \f[B]2\f[R] before the function starts executing.
 .SH FUNCTIONS
-.PP
 Function definitions are as follows:
 .IP
-.nf
-\f[C]
+.EX
 define I(I,...,I){
     auto I,...,I
     S;...;S
     return(E)
 }
-\f[R]
-.fi
+.EE
 .PP
 Any \f[B]I\f[R] in the parameter list or \f[B]auto\f[R] list may be
 replaced with \f[B]I[]\f[R] to make a parameter or \f[B]auto\f[R] var an
@@ -1187,10 +1157,10 @@ asterisk in the call; they must be called with just \f[B]I[]\f[R] like
 normal array parameters and will be automatically converted into
 references.
 .PP
-As a \f[B]non-portable extension\f[R], the opening brace of a
+As a \f[B]non\-portable extension\f[R], the opening brace of a
 \f[B]define\f[R] statement may appear on the next line.
 .PP
-As a \f[B]non-portable extension\f[R], the return statement may also be
+As a \f[B]non\-portable extension\f[R], the return statement may also be
 in one of the following forms:
 .IP "1." 3
 \f[B]return\f[R]
@@ -1204,18 +1174,15 @@ equivalent to \f[B]return (0)\f[R], unless the function is a
 \f[B]void\f[R] function (see the \f[I]Void Functions\f[R] subsection
 below).
 .SS Void Functions
-.PP
 Functions can also be \f[B]void\f[R] functions, defined as follows:
 .IP
-.nf
-\f[C]
+.EX
 define void I(I,...,I){
     auto I,...,I
     S;...;S
     return
 }
-\f[R]
-.fi
+.EE
 .PP
 They can only be used as standalone expressions, where such an
 expression would be printed alone, except in a print statement.
@@ -1229,17 +1196,14 @@ possible to have variables, arrays, and functions named \f[B]void\f[R].
 The word \[lq]void\[rq] is only treated specially right after the
 \f[B]define\f[R] keyword.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Array References
-.PP
 For any array in the parameter list, if the array is declared in the
 form
 .IP
-.nf
-\f[C]
+.EX
 *I[]
-\f[R]
-.fi
+.EE
 .PP
 it is a \f[B]reference\f[R].
 Any changes to the array in the function are reflected, when the
@@ -1247,13 +1211,11 @@ function returns, to the array that was passed in.
 .PP
 Other than this, all function arguments are passed by value.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH LIBRARY
-.PP
-All of the functions below are available when the \f[B]-l\f[R] or
-\f[B]--mathlib\f[R] command-line flags are given.
+All of the functions below are available when the \f[B]\-l\f[R] or
+\f[B]\-\-mathlib\f[R] command\-line flags are given.
 .SS Standard Library
-.PP
 The standard (see the \f[B]STANDARDS\f[R] section) defines the following
 functions for the math library:
 .TP
@@ -1306,7 +1268,6 @@ This is a transcendental function (see the \f[I]Transcendental
 Functions\f[R] subsection below).
 .RE
 .SS Transcendental Functions
-.PP
 All transcendental functions can return slightly inaccurate results, up
 to 1 ULP (https://en.wikipedia.org/wiki/Unit_in_the_last_place).
 This is unavoidable, and the article at
@@ -1334,8 +1295,7 @@ The transcendental functions in the standard math library are:
 .IP \[bu] 2
 \f[B]j(x, n)\f[R]
 .SH RESET
-.PP
-When bc(1) encounters an error or a signal that it has a non-default
+When bc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
@@ -1355,7 +1315,6 @@ Note that this reset behavior is different from the GNU bc(1), which
 attempts to start executing the statement right after the one that
 caused an error.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This bc(1) does something different.
@@ -1378,7 +1337,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bc(1):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -1408,24 +1366,24 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1433,29 +1391,28 @@ Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
 The actual values can be queried with the \f[B]limits\f[R] statement.
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], bc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], bc(1) recognizes the following
 environment variables:
 .TP
 \f[B]POSIXLY_CORRECT\f[R]
 If this variable exists (no matter the contents), bc(1) behaves as if
-the \f[B]-s\f[R] option was given.
+the \f[B]\-s\f[R] option was given.
 .TP
 \f[B]BC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to bc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to bc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]BC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
@@ -1476,14 +1433,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]BC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]BC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), bc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), bc(1) will output lines to that length,
 including the backslash (\f[B]\[rs]\f[R]).
 The default line length is \f[B]70\f[R].
 .RS
@@ -1495,7 +1452,7 @@ newlines.
 .TP
 \f[B]BC_BANNER\f[R]
 If this environment variable exists and contains an integer, then a
-non-zero value activates the copyright banner when bc(1) is in
+non\-zero value activates the copyright banner when bc(1) is in
 interactive mode, while zero deactivates it.
 .RS
 .PP
@@ -1504,7 +1461,7 @@ section), then this environment variable has no effect because bc(1)
 does not print the banner when not in interactive mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_SIGINT_RESET\f[R]
@@ -1514,13 +1471,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when bc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes bc(1)
+variable exists and contains an integer, a non\-zero value makes bc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes bc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then bc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_TTY_MODE\f[R]
@@ -1529,11 +1486,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes bc(1) use
+exists and contains an integer, then a non\-zero value makes bc(1) use
 TTY mode, and zero makes bc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_PROMPT\f[R]
@@ -1542,46 +1499,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes bc(1) use a
-prompt, and zero or a non-integer makes bc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes bc(1) use a
+prompt, and zero or a non\-integer makes bc(1) not use a prompt.
 If this environment variable does not exist and \f[B]BC_TTY_MODE\f[R]
 does, then the value of the \f[B]BC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]BC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes bc(1) exit after executing the
-expressions and expression files, and a zero value makes bc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes bc(1) exit after executing
+the expressions and expression files, and a zero value makes bc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes bc(1) clamp digits that are
+contains an integer, a non\-zero value makes bc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the standard (see the
-\f[B]STANDARDS\f[R] section).
+This never applies to single\-digit numbers, as per the standard (see
+the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 bc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1597,7 +1554,7 @@ Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, attempting to convert a negative number to a hardware
 integer, overflow when converting a number to a hardware integer,
 overflow when calculating the size of a number, and attempting to use a
-non-integer where an integer is required.
+non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]) operator and the corresponding assignment
@@ -1618,7 +1575,7 @@ giving an invalid \f[B]auto\f[R] list, having a duplicate
 \f[B]auto\f[R]/function parameter, failing to find the end of a code
 block, attempting to return a value from a \f[B]void\f[R] function,
 attempting to use a variable as a reference, and using any extensions
-when the option \f[B]-s\f[R] or any equivalents were given.
+when the option \f[B]\-s\f[R] or any equivalents were given.
 .RE
 .TP
 \f[B]3\f[R]
@@ -1641,7 +1598,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (bc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, bc(1)
@@ -1652,18 +1609,18 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 bc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow bc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
 Per the standard (see the \f[B]STANDARDS\f[R] section), bc(1) has an
-interactive mode and a non-interactive mode.
+interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, bc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1672,7 +1629,6 @@ bc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]BC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, bc(1) can turn on TTY mode, subject to some
@@ -1680,44 +1636,42 @@ settings.
 .PP
 If there is the environment variable \f[B]BC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, bc(1) will turn
+that environment variable contains a non\-zero integer, bc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]BC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then bc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then bc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]BC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) standard (see the \f[B]STANDARDS\f[R] section),
 and interactive mode requires only \f[B]stdin\f[R] and \f[B]stdout\f[R]
 to be connected to a terminal.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]BC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]BC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]BC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]BC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]BC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause bc(1) to do one of two things.
 .PP
 If bc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1726,7 +1680,7 @@ section), or the \f[B]BC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, bc(1) will exit.
 .PP
 However, if bc(1) is in interactive mode, and the
-\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then bc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1749,18 +1703,15 @@ the user to continue.
 \f[B]SIGTERM\f[R] and \f[B]SIGQUIT\f[R] cause bc(1) to clean up and
 exit, and it uses the default handler for all other signals.
 .SH LOCALES
-.PP
 This bc(1) ships with support for adding error messages for different
 locales and thus, supports \f[B]LC_MESSAGES\f[R].
 .SH SEE ALSO
-.PP
 dc(1)
 .SH STANDARDS
-.PP
-bc(1) is compliant with the IEEE Std 1003.1-2017
-(\[lq]POSIX.1-2017\[rq]) specification at
+bc(1) is compliant with the IEEE Std 1003.1\-2017
+(\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
-The flags \f[B]-efghiqsvVw\f[R], all long options, and the extensions
+The flags \f[B]\-efghiqsvVw\f[R], all long options, and the extensions
 noted above are extensions to that specification.
 .PP
 In addition, the behavior of the \f[B]quit\f[R] implements an
@@ -1776,13 +1727,13 @@ the value of \f[B]LC_NUMERIC\f[R].
 This bc(1) supports error messages for different locales, and thus, it
 supports \f[B]LC_MESSAGES\f[R].
 .SH BUGS
-.PP
 Before version \f[B]6.1.0\f[R], this bc(1) had incorrect behavior for
 the \f[B]quit\f[R] statement.
 .PP
 No other bugs are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bc/EH.1.md b/manuals/bc/EH.1.md
index 6f4c4326..7e682058 100644
--- a/manuals/bc/EH.1.md
+++ b/manuals/bc/EH.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -688,6 +688,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 **\^**
@@ -892,7 +895,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
diff --git a/manuals/bc/EHN.1 b/manuals/bc/EHN.1
index e00fcd57..e3395b1c 100644
--- a/manuals/bc/EHN.1
+++ b/manuals/bc/EHN.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,37 +25,34 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bc - arbitrary-precision decimal arithmetic language and calculator
+bc \- arbitrary\-precision decimal arithmetic language and calculator
 .SH SYNOPSIS
-.PP
-\f[B]bc\f[R] [\f[B]-cCghilPqRsvVw\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--global-stacks\f[R]]
-[\f[B]--help\f[R]] [\f[B]--interactive\f[R]] [\f[B]--mathlib\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]] [\f[B]--quiet\f[R]]
-[\f[B]--standard\f[R]] [\f[B]--warn\f[R]] [\f[B]--version\f[R]]
-[\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]bc\f[R] [\f[B]\-cCghilPqRsvVw\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-global\-stacks\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-interactive\f[R]] [\f[B]\-\-mathlib\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-quiet\f[R]] [\f[B]\-\-standard\f[R]] [\f[B]\-\-warn\f[R]]
+[\f[B]\-\-version\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
 .SH DESCRIPTION
-.PP
 bc(1) is an interactive processor for a language first standardized in
 1991 by POSIX.
 (See the \f[B]STANDARDS\f[R] section.)
 The language provides unlimited precision decimal arithmetic and is
-somewhat C-like, but there are differences.
+somewhat C\-like, but there are differences.
 Such differences will be noted in this document.
 .PP
 After parsing and handling options, this bc(1) reads any files given on
 the command line and executes them before reading from \f[B]stdin\f[R].
 .PP
-This bc(1) is a drop-in replacement for \f[I]any\f[R] bc(1), including
+This bc(1) is a drop\-in replacement for \f[I]any\f[R] bc(1), including
 (and especially) the GNU bc(1).
 It also has many extensions and extra features beyond other
 implementations.
@@ -64,19 +61,18 @@ implementations.
 another bc(1) gives a parse error, it is probably because a word this
 bc(1) reserves as a keyword is used as the name of a function, variable,
 or array.
-To fix that, use the command-line option \f[B]-r\f[R] \f[I]keyword\f[R],
-where \f[I]keyword\f[R] is the keyword that is used as a name in the
-script.
+To fix that, use the command\-line option \f[B]\-r\f[R]
+\f[I]keyword\f[R], where \f[I]keyword\f[R] is the keyword that is used
+as a name in the script.
 For more information, see the \f[B]OPTIONS\f[R] section.
 .PP
 If parsing scripts meant for other bc(1) implementations still does not
 work, that is a bug and should be reported.
 See the \f[B]BUGS\f[R] section.
 .SH OPTIONS
-.PP
 The following are the options that bc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -86,17 +82,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -107,61 +103,61 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
-If files are given as well (see the \f[B]-f\f[R] and \f[B]--file\f[R]
+If files are given as well (see the \f[B]\-f\f[R] and \f[B]\-\-file\f[R]
 options), the expressions and files are evaluated in the order given.
 This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]BC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
-If expressions are also given (see the \f[B]-e\f[R] and
-\f[B]--expression\f[R] options), the expressions are evaluated in the
+If expressions are also given (see the \f[B]\-e\f[R] and
+\f[B]\-\-expression\f[R] options), the expressions are evaluated in the
 order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
-.PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-g\f[R], \f[B]--global-stacks\f[R]
+\f[B]\-g\f[R], \f[B]\-\-global\-stacks\f[R]
 Turns the globals \f[B]ibase\f[R], \f[B]obase\f[R], and \f[B]scale\f[R]
 into stacks.
 .RS
@@ -174,19 +170,16 @@ without worrying that the change will affect other functions.
 Thus, a hypothetical function named \f[B]output(x,b)\f[R] that simply
 printed \f[B]x\f[R] in base \f[B]b\f[R] could be written like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     obase=b
     x
 }
-\f[R]
-.fi
+.EE
 .PP
 instead of like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     auto c
     c=obase
@@ -194,8 +187,7 @@ define void output(x, b) {
     x
     obase=c
 }
-\f[R]
-.fi
+.EE
 .PP
 This makes writing functions much easier.
 .PP
@@ -209,12 +201,10 @@ converter, it is possible to replace that capability with various shell
 aliases.
 Examples:
 .IP
-.nf
-\f[C]
-alias d2o=\[dq]bc -e ibase=A -e obase=8\[dq]
-alias h2b=\[dq]bc -e ibase=G -e obase=2\[dq]
-\f[R]
-.fi
+.EX
+alias d2o=\[dq]bc \-e ibase=A \-e obase=8\[dq]
+alias h2b=\[dq]bc \-e ibase=G \-e obase=2\[dq]
+.EE
 .PP
 Second, if the purpose of a function is to set \f[B]ibase\f[R],
 \f[B]obase\f[R], or \f[B]scale\f[R] globally for any other purpose, it
@@ -227,16 +217,16 @@ users could make sure to define \f[B]BC_ENV_ARGS\f[R] and include this
 option (see the \f[B]ENVIRONMENT VARIABLES\f[R] section for more
 details).
 .PP
-If \f[B]-s\f[R], \f[B]-w\f[R], or any equivalents are used, this option
-is ignored.
+If \f[B]\-s\f[R], \f[B]\-w\f[R], or any equivalents are used, this
+option is ignored.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -244,28 +234,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-l\f[R], \f[B]--mathlib\f[R]
+\f[B]\-l\f[R], \f[B]\-\-mathlib\f[R]
 Sets \f[B]scale\f[R] (see the \f[B]SYNTAX\f[R] section) to \f[B]20\f[R]
 and loads the included math library before running any code, including
 any expressions or files specified on the command line.
@@ -274,7 +264,7 @@ any expressions or files specified on the command line.
 To learn what is in the library, see the \f[B]LIBRARY\f[R] section.
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -282,10 +272,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -298,26 +288,26 @@ Most of those users would want to put this option in
 These options override the \f[B]BC_PROMPT\f[R] and \f[B]BC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-q\f[R], \f[B]--quiet\f[R]
+\f[B]\-q\f[R], \f[B]\-\-quiet\f[R]
 This option is for compatibility with the GNU bc(1)
-(https://www.gnu.org/software/bc/); it is a no-op.
+(https://www.gnu.org/software/bc/); it is a no\-op.
 Without this option, GNU bc(1) prints a copyright header.
 This bc(1) only prints the copyright header if one or more of the
-\f[B]-v\f[R], \f[B]-V\f[R], or \f[B]--version\f[R] options are given
+\f[B]\-v\f[R], \f[B]\-V\f[R], or \f[B]\-\-version\f[R] options are given
 unless the \f[B]BC_BANNER\f[R] environment variable is set and contains
-a non-zero integer or if this bc(1) was built with the header displayed
+a non\-zero integer or if this bc(1) was built with the header displayed
 by default.
 If \f[I]any\f[R] of that is the case, then this option \f[I]does\f[R]
 prevent bc(1) from printing the header.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -330,16 +320,16 @@ prompt for user input.
 .RS
 .PP
 This option does not disable the regular prompt because the read prompt
-is only used when the \f[B]read()\f[R] built-in function is called.
+is only used when the \f[B]read()\f[R] built\-in function is called.
 .PP
 These options \f[I]do\f[R] override the \f[B]BC_PROMPT\f[R] and
 \f[B]BC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-r\f[R] \f[I]keyword\f[R], \f[B]--redefine\f[R]=\f[I]keyword\f[R]
+\f[B]\-r\f[R] \f[I]keyword\f[R], \f[B]\-\-redefine\f[R]=\f[I]keyword\f[R]
 Redefines \f[I]keyword\f[R] in order to allow it to be used as a
 function, variable, or array name.
 This is useful when this bc(1) gives parse errors when parsing scripts
@@ -392,7 +382,7 @@ It is a fatal error to attempt to redefine words that this bc(1) does
 not reserve as keywords.
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -400,35 +390,35 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-s\f[R], \f[B]--standard\f[R]
+\f[B]\-s\f[R], \f[B]\-\-standard\f[R]
 Process exactly the language defined by the standard (see the
 \f[B]STANDARDS\f[R] section) and error if any extensions are used.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-w\f[R], \f[B]--warn\f[R]
-Like \f[B]-s\f[R] and \f[B]--standard\f[R], except that warnings (and
-not errors) are printed for non-standard extensions and execution
+\f[B]\-w\f[R], \f[B]\-\-warn\f[R]
+Like \f[B]\-s\f[R] and \f[B]\-\-standard\f[R], except that warnings (and
+not errors) are printed for non\-standard extensions and execution
 continues normally.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes bc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes bc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
@@ -436,15 +426,14 @@ This can be set for individual numbers with the \f[B]plz(x)\f[R],
 \f[B]plznl(x)\f[R], \f[B]pnlz(x)\f[R], and \f[B]pnlznl(x)\f[R] functions
 in the extended math library (see the \f[B]LIBRARY\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files or expressions are given by the \f[B]-f\f[R],
-\f[B]--file\f[R], \f[B]-e\f[R], or \f[B]--expression\f[R] options, then
-bc(1) reads from \f[B]stdin\f[R].
+If no files or expressions are given by the \f[B]\-f\f[R],
+\f[B]\-\-file\f[R], \f[B]\-e\f[R], or \f[B]\-\-expression\f[R] options,
+then bc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there are a few caveats to this.
 .PP
@@ -458,8 +447,7 @@ Second, after an \f[B]if\f[R] statement, bc(1) doesn\[cq]t know if an
 \f[B]else\f[R] statement will follow, so it will not execute until it
 knows there will not be an \f[B]else\f[R] statement.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -467,7 +455,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]bc >&-\f[R], it will quit with an error.
+\f[B]bc  >&\-\f[R], it will quit with an error.
 This is done so that bc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -475,13 +463,12 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]bc 2>&-\f[R], it will quit with an error.
+\f[B]bc  2>&\-\f[R], it will quit with an error.
 This is done so that bc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -489,8 +476,7 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
-The syntax for bc(1) programs is mostly C-like, with some differences.
+The syntax for bc(1) programs is mostly C\-like, with some differences.
 This bc(1) follows the POSIX standard (see the \f[B]STANDARDS\f[R]
 section), which is a much more thorough resource for the language this
 bc(1) accepts.
@@ -501,32 +487,32 @@ In the sections below, \f[B]E\f[R] means expression, \f[B]S\f[R] means
 statement, and \f[B]I\f[R] means identifier.
 .PP
 Identifiers (\f[B]I\f[R]) start with a lowercase letter and can be
-followed by any number (up to \f[B]BC_NAME_MAX-1\f[R]) of lowercase
-letters (\f[B]a-z\f[R]), digits (\f[B]0-9\f[R]), and underscores
+followed by any number (up to \f[B]BC_NAME_MAX\-1\f[R]) of lowercase
+letters (\f[B]a\-z\f[R]), digits (\f[B]0\-9\f[R]), and underscores
 (\f[B]_\f[R]).
-The regex is \f[B][a-z][a-z0-9_]*\f[R].
+The regex is \f[B][a\-z][a\-z0\-9_]*\f[R].
 Identifiers with more than one character (letter) are a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .PP
 \f[B]ibase\f[R] is a global variable determining how to interpret
 constant numbers.
 It is the \[lq]input\[rq] base, or the number base used for interpreting
 input numbers.
 \f[B]ibase\f[R] is initially \f[B]10\f[R].
-If the \f[B]-s\f[R] (\f[B]--standard\f[R]) and \f[B]-w\f[R]
-(\f[B]--warn\f[R]) flags were not given on the command line, the max
+If the \f[B]\-s\f[R] (\f[B]\-\-standard\f[R]) and \f[B]\-w\f[R]
+(\f[B]\-\-warn\f[R]) flags were not given on the command line, the max
 allowable value for \f[B]ibase\f[R] is \f[B]36\f[R].
 Otherwise, it is \f[B]16\f[R].
 The min allowable value for \f[B]ibase\f[R] is \f[B]2\f[R].
 The max allowable value for \f[B]ibase\f[R] can be queried in bc(1)
-programs with the \f[B]maxibase()\f[R] built-in function.
+programs with the \f[B]maxibase()\f[R] built\-in function.
 .PP
 \f[B]obase\f[R] is a global variable determining how to output results.
 It is the \[lq]output\[rq] base, or the number base used for outputting
 numbers.
 \f[B]obase\f[R] is initially \f[B]10\f[R].
 The max allowable value for \f[B]obase\f[R] is \f[B]BC_BASE_MAX\f[R] and
-can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built-in
+can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built\-in
 function.
 The min allowable value for \f[B]obase\f[R] is \f[B]2\f[R].
 Values are output in the specified base.
@@ -539,7 +525,7 @@ exceptions.
 \f[B]scale\f[R] cannot be negative.
 The max allowable value for \f[B]scale\f[R] is \f[B]BC_SCALE_MAX\f[R]
 and can be queried in bc(1) programs with the \f[B]maxscale()\f[R]
-built-in function.
+built\-in function.
 .PP
 bc(1) has both \f[I]global\f[R] variables and \f[I]local\f[R] variables.
 All \f[I]local\f[R] variables are local to the function; they are
@@ -564,20 +550,18 @@ The value that is printed is also assigned to the special variable
 \f[B]last\f[R].
 A single dot (\f[B].\f[R]) may also be used as a synonym for
 \f[B]last\f[R].
-These are \f[B]non-portable extensions\f[R].
+These are \f[B]non\-portable extensions\f[R].
 .PP
 Either semicolons or newlines may separate statements.
 .SS Comments
-.PP
 There are two kinds of comments:
 .IP "1." 3
 Block comments are enclosed in \f[B]/*\f[R] and \f[B]*/\f[R].
 .IP "2." 3
 Line comments go from \f[B]#\f[R] until, and not including, the next
 newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Named Expressions
-.PP
 The following are named expressions in bc(1):
 .IP "1." 3
 Variables: \f[B]I\f[R]
@@ -592,7 +576,7 @@ Array Elements: \f[B]I[E]\f[R]
 .IP "6." 3
 \f[B]last\f[R] or a single dot (\f[B].\f[R])
 .PP
-Number 6 is a \f[B]non-portable extension\f[R].
+Number 6 is a \f[B]non\-portable extension\f[R].
 .PP
 Variables and arrays do not interfere; users can have arrays named the
 same as variables.
@@ -606,7 +590,6 @@ Named expressions are required as the operand of
 of \f[B]assignment\f[R] operators (see the \f[I]Operators\f[R]
 subsection).
 .SS Operands
-.PP
 The following are valid operands in bc(1):
 .IP " 1." 4
 Numbers (see the \f[I]Numbers\f[R] subsection below).
@@ -616,61 +599,61 @@ Array indices (\f[B]I[E]\f[R]).
 \f[B](E)\f[R]: The value of \f[B]E\f[R] (used to change precedence).
 .IP " 4." 4
 \f[B]sqrt(E)\f[R]: The square root of \f[B]E\f[R].
-\f[B]E\f[R] must be non-negative.
+\f[B]E\f[R] must be non\-negative.
 .IP " 5." 4
 \f[B]length(E)\f[R]: The number of significant decimal digits in
 \f[B]E\f[R].
 Returns \f[B]1\f[R] for \f[B]0\f[R] with no decimal places.
 If given a string, the length of the string is returned.
-Passing a string to \f[B]length(E)\f[R] is a \f[B]non-portable
+Passing a string to \f[B]length(E)\f[R] is a \f[B]non\-portable
 extension\f[R].
 .IP " 6." 4
 \f[B]length(I[])\f[R]: The number of elements in the array \f[B]I\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 7." 4
 \f[B]scale(E)\f[R]: The \f[I]scale\f[R] of \f[B]E\f[R].
 .IP " 8." 4
 \f[B]abs(E)\f[R]: The absolute value of \f[B]E\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 9." 4
 \f[B]is_number(E)\f[R]: \f[B]1\f[R] if the given argument is a number,
 \f[B]0\f[R] if it is a string.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "10." 4
 \f[B]is_string(E)\f[R]: \f[B]1\f[R] if the given argument is a string,
 \f[B]0\f[R] if it is a number.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "11." 4
 \f[B]modexp(E, E, E)\f[R]: Modular exponentiation, where the first
 expression is the base, the second is the exponent, and the third is the
 modulus.
 All three values must be integers.
-The second argument must be non-negative.
-The third argument must be non-zero.
-This is a \f[B]non-portable extension\f[R].
+The second argument must be non\-negative.
+The third argument must be non\-zero.
+This is a \f[B]non\-portable extension\f[R].
 .IP "12." 4
 \f[B]divmod(E, E, I[])\f[R]: Division and modulus in one operation.
 This is for optimization.
 The first expression is the dividend, and the second is the divisor,
-which must be non-zero.
+which must be non\-zero.
 The return value is the quotient, and the modulus is stored in index
 \f[B]0\f[R] of the provided array (the last argument).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "13." 4
 \f[B]asciify(E)\f[R]: If \f[B]E\f[R] is a string, returns a string that
 is the first letter of its argument.
 If it is a number, calculates the number mod \f[B]256\f[R] and returns
-that number as a one-character string.
-This is a \f[B]non-portable extension\f[R].
+that number as a one\-character string.
+This is a \f[B]non\-portable extension\f[R].
 .IP "14." 4
 \f[B]asciify(I[])\f[R]: A string that is made up of the characters that
 would result from running \f[B]asciify(E)\f[R] on each element of the
 array identified by the argument.
-This allows creating multi-character strings and storing them.
-This is a \f[B]non-portable extension\f[R].
+This allows creating multi\-character strings and storing them.
+This is a \f[B]non\-portable extension\f[R].
 .IP "15." 4
 \f[B]I()\f[R], \f[B]I(E)\f[R], \f[B]I(E, E)\f[R], and so on, where
-\f[B]I\f[R] is an identifier for a non-\f[B]void\f[R] function (see the
+\f[B]I\f[R] is an identifier for a non\-\f[B]void\f[R] function (see the
 \f[I]Void Functions\f[R] subsection of the \f[B]FUNCTIONS\f[R] section).
 The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]I[]\f[R], which will automatically be turned into array references
@@ -682,35 +665,34 @@ function definition is an array reference.
 expression.
 The result of that expression is the result of the \f[B]read()\f[R]
 operand.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "17." 4
 \f[B]maxibase()\f[R]: The max allowable \f[B]ibase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "18." 4
 \f[B]maxobase()\f[R]: The max allowable \f[B]obase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "19." 4
 \f[B]maxscale()\f[R]: The max allowable \f[B]scale\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "20." 4
 \f[B]line_length()\f[R]: The line length set with
 \f[B]BC_LINE_LENGTH\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "21." 4
 \f[B]global_stacks()\f[R]: \f[B]0\f[R] if global stacks are not enabled
-with the \f[B]-g\f[R] or \f[B]--global-stacks\f[R] options, non-zero
-otherwise.
+with the \f[B]\-g\f[R] or \f[B]\-\-global\-stacks\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "22." 4
 \f[B]leading_zero()\f[R]: \f[B]0\f[R] if leading zeroes are not enabled
-with the \f[B]-z\f[R] or \f[B]\[en]leading-zeroes\f[R] options, non-zero
-otherwise.
+with the \f[B]\-z\f[R] or \f[B]\[en]leading\-zeroes\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Numbers
-.PP
 Numbers are strings made up of digits, uppercase letters, and at most
 \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]BC_NUM_MAX\f[R] digits.
@@ -721,12 +703,12 @@ alphabet, starting from \f[B]1\f[R] (i.e., \f[B]A\f[R] equals
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]BC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -744,7 +726,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -758,12 +740,11 @@ and is meant to provide an easy way to set the current \f[B]ibase\f[R]
 If clamping is on, and the clamped value of a character is needed, use a
 leading zero, i.e., for \f[B]A\f[R], use \f[B]0A\f[R].
 .SS Operators
-.PP
 The following arithmetic and logical operators can be used.
 They are listed in order of decreasing precedence.
 Operators in the same group have the same precedence.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 Type: Prefix and Postfix
 .RS
 .PP
@@ -772,7 +753,7 @@ Associativity: None
 Description: \f[B]increment\f[R], \f[B]decrement\f[R]
 .RE
 .TP
-\f[B]-\f[R] \f[B]!\f[R]
+\f[B]\-\f[R] \f[B]!\f[R]
 Type: Prefix
 .RS
 .PP
@@ -799,7 +780,7 @@ Associativity: Left
 Description: \f[B]multiply\f[R], \f[B]divide\f[R], \f[B]modulus\f[R]
 .RE
 .TP
-\f[B]+\f[R] \f[B]-\f[R]
+\f[B]+\f[R] \f[B]\-\f[R]
 Type: Binary
 .RS
 .PP
@@ -808,7 +789,7 @@ Associativity: Left
 Description: \f[B]add\f[R], \f[B]subtract\f[R]
 .RE
 .TP
-\f[B]=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
+\f[B]=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
 Type: Binary
 .RS
 .PP
@@ -846,18 +827,18 @@ Description: \f[B]boolean or\f[R]
 .PP
 The operators will be described in more detail below.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 The prefix and postfix \f[B]increment\f[R] and \f[B]decrement\f[R]
-operators behave exactly like they would in C.
-They require a named expression (see the \f[I]Named Expressions\f[R]
-subsection) as an operand.
+operators behave exactly like they would in C. They require a named
+expression (see the \f[I]Named Expressions\f[R] subsection) as an
+operand.
 .RS
 .PP
 The prefix versions of these operators are more efficient; use them
 where possible.
 .RE
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]negation\f[R] operator returns \f[B]0\f[R] if a user attempts
 to negate any expression with the value \f[B]0\f[R].
 Otherwise, a copy of the expression with its sign flipped is returned.
@@ -867,7 +848,11 @@ The \f[B]boolean not\f[R] operator returns \f[B]1\f[R] if the expression
 is \f[B]0\f[R], or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]Warning\f[R]: This operator has a \f[B]different precedence\f[R]
+than the equivalent operator in GNU bc(1) and other bc(1)
+implementations!
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -878,7 +863,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]), and if it
-is negative, the first value must be non-zero.
+is negative, the first value must be non\-zero.
 .RE
 .TP
 \f[B]*\f[R]
@@ -896,18 +881,18 @@ returns the quotient.
 The \f[I]scale\f[R] of the result shall be the value of \f[B]scale\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
 The \f[B]modulus\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and evaluates them by 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R] and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]+\f[R]
@@ -915,12 +900,12 @@ The \f[B]add\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the sum, with a \f[I]scale\f[R] equal to the
 max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]subtract\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the difference, with a \f[I]scale\f[R] equal to
 the max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
+\f[B]=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
 The \f[B]assignment\f[R] operators take two expressions, \f[B]a\f[R] and
 \f[B]b\f[R] where \f[B]a\f[R] is a named expression (see the \f[I]Named
 Expressions\f[R] subsection).
@@ -947,31 +932,30 @@ interpreted as \f[B](a=b)>c\f[R].
 Also, unlike the standard (see the \f[B]STANDARDS\f[R] section)
 requires, these operators can appear anywhere any other expressions can
 be used.
-This allowance is a \f[B]non-portable extension\f[R].
+This allowance is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]&&\f[R]
 The \f[B]boolean and\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if both expressions are non-zero, \f[B]0\f[R] otherwise.
+\f[B]1\f[R] if both expressions are non\-zero, \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]||\f[R]
 The \f[B]boolean or\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if one of the expressions is non-zero, \f[B]0\f[R]
+\f[B]1\f[R] if one of the expressions is non\-zero, \f[B]0\f[R]
 otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Statements
-.PP
 The following items are statements:
 .IP " 1." 4
 \f[B]E\f[R]
@@ -1018,10 +1002,10 @@ The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]FUNCTIONS\f[R] section) if the corresponding parameter in the
 function definition is an array reference.
 .PP
-Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non-portable
+Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non\-portable
 extensions\f[R].
 .PP
-Also, as a \f[B]non-portable extension\f[R], any or all of the
+Also, as a \f[B]non\-portable extension\f[R], any or all of the
 expressions in the header of a for loop may be omitted.
 If the condition (second expression) is omitted, it is assumed to be a
 constant \f[B]1\f[R].
@@ -1038,7 +1022,7 @@ This is only allowed in loops.
 The \f[B]if\f[R] \f[B]else\f[R] statement does the same thing as in C.
 .PP
 The \f[B]quit\f[R] statement causes bc(1) to quit, even if it is on a
-branch that will not be executed (it is a compile-time command).
+branch that will not be executed (it is a compile\-time command).
 .PP
 \f[B]Warning\f[R]: The behavior of this bc(1) on \f[B]quit\f[R] is
 slightly different from other bc(1) implementations.
@@ -1049,11 +1033,9 @@ occur before the \f[B]quit\f[R] statement before exiting.
 .PP
 In other words, for the bc(1) code below:
 .IP
-.nf
-\f[C]
+.EX
 for (i = 0; i < 3; ++i) i; quit
-\f[R]
-.fi
+.EE
 .PP
 Other bc(1) implementations will print nothing, and this bc(1) will
 print \f[B]0\f[R], \f[B]1\f[R], and \f[B]2\f[R] on successive lines
@@ -1065,12 +1047,11 @@ that is not executed, bc(1) does not quit.)
 .PP
 The \f[B]limits\f[R] statement prints the limits that this bc(1) is
 subject to.
-This is like the \f[B]quit\f[R] statement in that it is a compile-time
+This is like the \f[B]quit\f[R] statement in that it is a compile\-time
 command.
 .PP
 An expression by itself is evaluated and printed, followed by a newline.
 .SS Strings
-.PP
 If strings appear as a statement by themselves, they are printed without
 a trailing newline.
 .PP
@@ -1087,9 +1068,8 @@ element that has been assigned a string, an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section).
 .PP
 Assigning strings to variables and array elements and passing them to
-functions are \f[B]non-portable extensions\f[R].
+functions are \f[B]non\-portable extensions\f[R].
 .SS Print Statement
-.PP
 The \[lq]expressions\[rq] in a \f[B]print\f[R] statement may also be
 strings.
 If they are, there are backslash escape sequences that are interpreted
@@ -1116,14 +1096,12 @@ below:
 \f[B]\[rs]t\f[R]: \f[B]\[rs]t\f[R]
 .PP
 Any other character following a backslash causes the backslash and
-character to be printed as-is.
+character to be printed as\-is.
 .PP
-Any non-string expression in a print statement shall be assigned to
+Any non\-string expression in a print statement shall be assigned to
 \f[B]last\f[R], like any other expression that is printed.
 .SS Stream Statement
-.PP
-The \[lq]expressions in a \f[B]stream\f[R] statement may also be
-strings.
+The expressions in a \f[B]stream\f[R] statement may also be strings.
 .PP
 If a \f[B]stream\f[R] statement is given a string, it prints the string
 as though the string had appeared as its own statement.
@@ -1133,20 +1111,17 @@ without a newline.
 If a \f[B]stream\f[R] statement is given a number, a copy of it is
 truncated and its absolute value is calculated.
 The result is then printed as though \f[B]obase\f[R] is \f[B]256\f[R]
-and each digit is interpreted as an 8-bit ASCII character, making it a
+and each digit is interpreted as an 8\-bit ASCII character, making it a
 byte stream.
 .SS Order of Evaluation
-.PP
 All expressions in a statment are evaluated left to right, except as
 necessary to maintain order of operations.
 This means, for example, assuming that \f[B]i\f[R] is equal to
 \f[B]0\f[R], in the expression
 .IP
-.nf
-\f[C]
+.EX
 a[i++] = i++
-\f[R]
-.fi
+.EE
 .PP
 the first (or 0th) element of \f[B]a\f[R] is set to \f[B]1\f[R], and
 \f[B]i\f[R] is equal to \f[B]2\f[R] at the end of the expression.
@@ -1155,28 +1130,23 @@ This includes function arguments.
 Thus, assuming \f[B]i\f[R] is equal to \f[B]0\f[R], this means that in
 the expression
 .IP
-.nf
-\f[C]
+.EX
 x(i++, i++)
-\f[R]
-.fi
+.EE
 .PP
 the first argument passed to \f[B]x()\f[R] is \f[B]0\f[R], and the
 second argument is \f[B]1\f[R], while \f[B]i\f[R] is equal to
 \f[B]2\f[R] before the function starts executing.
 .SH FUNCTIONS
-.PP
 Function definitions are as follows:
 .IP
-.nf
-\f[C]
+.EX
 define I(I,...,I){
     auto I,...,I
     S;...;S
     return(E)
 }
-\f[R]
-.fi
+.EE
 .PP
 Any \f[B]I\f[R] in the parameter list or \f[B]auto\f[R] list may be
 replaced with \f[B]I[]\f[R] to make a parameter or \f[B]auto\f[R] var an
@@ -1187,10 +1157,10 @@ asterisk in the call; they must be called with just \f[B]I[]\f[R] like
 normal array parameters and will be automatically converted into
 references.
 .PP
-As a \f[B]non-portable extension\f[R], the opening brace of a
+As a \f[B]non\-portable extension\f[R], the opening brace of a
 \f[B]define\f[R] statement may appear on the next line.
 .PP
-As a \f[B]non-portable extension\f[R], the return statement may also be
+As a \f[B]non\-portable extension\f[R], the return statement may also be
 in one of the following forms:
 .IP "1." 3
 \f[B]return\f[R]
@@ -1204,18 +1174,15 @@ equivalent to \f[B]return (0)\f[R], unless the function is a
 \f[B]void\f[R] function (see the \f[I]Void Functions\f[R] subsection
 below).
 .SS Void Functions
-.PP
 Functions can also be \f[B]void\f[R] functions, defined as follows:
 .IP
-.nf
-\f[C]
+.EX
 define void I(I,...,I){
     auto I,...,I
     S;...;S
     return
 }
-\f[R]
-.fi
+.EE
 .PP
 They can only be used as standalone expressions, where such an
 expression would be printed alone, except in a print statement.
@@ -1229,17 +1196,14 @@ possible to have variables, arrays, and functions named \f[B]void\f[R].
 The word \[lq]void\[rq] is only treated specially right after the
 \f[B]define\f[R] keyword.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Array References
-.PP
 For any array in the parameter list, if the array is declared in the
 form
 .IP
-.nf
-\f[C]
+.EX
 *I[]
-\f[R]
-.fi
+.EE
 .PP
 it is a \f[B]reference\f[R].
 Any changes to the array in the function are reflected, when the
@@ -1247,13 +1211,11 @@ function returns, to the array that was passed in.
 .PP
 Other than this, all function arguments are passed by value.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH LIBRARY
-.PP
-All of the functions below are available when the \f[B]-l\f[R] or
-\f[B]--mathlib\f[R] command-line flags are given.
+All of the functions below are available when the \f[B]\-l\f[R] or
+\f[B]\-\-mathlib\f[R] command\-line flags are given.
 .SS Standard Library
-.PP
 The standard (see the \f[B]STANDARDS\f[R] section) defines the following
 functions for the math library:
 .TP
@@ -1306,7 +1268,6 @@ This is a transcendental function (see the \f[I]Transcendental
 Functions\f[R] subsection below).
 .RE
 .SS Transcendental Functions
-.PP
 All transcendental functions can return slightly inaccurate results, up
 to 1 ULP (https://en.wikipedia.org/wiki/Unit_in_the_last_place).
 This is unavoidable, and the article at
@@ -1334,8 +1295,7 @@ The transcendental functions in the standard math library are:
 .IP \[bu] 2
 \f[B]j(x, n)\f[R]
 .SH RESET
-.PP
-When bc(1) encounters an error or a signal that it has a non-default
+When bc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
@@ -1355,7 +1315,6 @@ Note that this reset behavior is different from the GNU bc(1), which
 attempts to start executing the statement right after the one that
 caused an error.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This bc(1) does something different.
@@ -1378,7 +1337,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bc(1):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -1408,24 +1366,24 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1433,29 +1391,28 @@ Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
 The actual values can be queried with the \f[B]limits\f[R] statement.
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], bc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], bc(1) recognizes the following
 environment variables:
 .TP
 \f[B]POSIXLY_CORRECT\f[R]
 If this variable exists (no matter the contents), bc(1) behaves as if
-the \f[B]-s\f[R] option was given.
+the \f[B]\-s\f[R] option was given.
 .TP
 \f[B]BC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to bc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to bc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]BC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
@@ -1476,14 +1433,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]BC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]BC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), bc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), bc(1) will output lines to that length,
 including the backslash (\f[B]\[rs]\f[R]).
 The default line length is \f[B]70\f[R].
 .RS
@@ -1495,7 +1452,7 @@ newlines.
 .TP
 \f[B]BC_BANNER\f[R]
 If this environment variable exists and contains an integer, then a
-non-zero value activates the copyright banner when bc(1) is in
+non\-zero value activates the copyright banner when bc(1) is in
 interactive mode, while zero deactivates it.
 .RS
 .PP
@@ -1504,7 +1461,7 @@ section), then this environment variable has no effect because bc(1)
 does not print the banner when not in interactive mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_SIGINT_RESET\f[R]
@@ -1514,13 +1471,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when bc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes bc(1)
+variable exists and contains an integer, a non\-zero value makes bc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes bc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then bc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_TTY_MODE\f[R]
@@ -1529,11 +1486,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes bc(1) use
+exists and contains an integer, then a non\-zero value makes bc(1) use
 TTY mode, and zero makes bc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_PROMPT\f[R]
@@ -1542,46 +1499,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes bc(1) use a
-prompt, and zero or a non-integer makes bc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes bc(1) use a
+prompt, and zero or a non\-integer makes bc(1) not use a prompt.
 If this environment variable does not exist and \f[B]BC_TTY_MODE\f[R]
 does, then the value of the \f[B]BC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]BC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes bc(1) exit after executing the
-expressions and expression files, and a zero value makes bc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes bc(1) exit after executing
+the expressions and expression files, and a zero value makes bc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes bc(1) clamp digits that are
+contains an integer, a non\-zero value makes bc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the standard (see the
-\f[B]STANDARDS\f[R] section).
+This never applies to single\-digit numbers, as per the standard (see
+the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 bc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1597,7 +1554,7 @@ Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, attempting to convert a negative number to a hardware
 integer, overflow when converting a number to a hardware integer,
 overflow when calculating the size of a number, and attempting to use a
-non-integer where an integer is required.
+non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]) operator and the corresponding assignment
@@ -1618,7 +1575,7 @@ giving an invalid \f[B]auto\f[R] list, having a duplicate
 \f[B]auto\f[R]/function parameter, failing to find the end of a code
 block, attempting to return a value from a \f[B]void\f[R] function,
 attempting to use a variable as a reference, and using any extensions
-when the option \f[B]-s\f[R] or any equivalents were given.
+when the option \f[B]\-s\f[R] or any equivalents were given.
 .RE
 .TP
 \f[B]3\f[R]
@@ -1641,7 +1598,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (bc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, bc(1)
@@ -1652,18 +1609,18 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 bc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow bc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
 Per the standard (see the \f[B]STANDARDS\f[R] section), bc(1) has an
-interactive mode and a non-interactive mode.
+interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, bc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1672,7 +1629,6 @@ bc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]BC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, bc(1) can turn on TTY mode, subject to some
@@ -1680,44 +1636,42 @@ settings.
 .PP
 If there is the environment variable \f[B]BC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, bc(1) will turn
+that environment variable contains a non\-zero integer, bc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]BC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then bc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then bc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]BC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) standard (see the \f[B]STANDARDS\f[R] section),
 and interactive mode requires only \f[B]stdin\f[R] and \f[B]stdout\f[R]
 to be connected to a terminal.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]BC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]BC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]BC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]BC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]BC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause bc(1) to do one of two things.
 .PP
 If bc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1726,7 +1680,7 @@ section), or the \f[B]BC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, bc(1) will exit.
 .PP
 However, if bc(1) is in interactive mode, and the
-\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then bc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1749,14 +1703,12 @@ the user to continue.
 \f[B]SIGTERM\f[R] and \f[B]SIGQUIT\f[R] cause bc(1) to clean up and
 exit, and it uses the default handler for all other signals.
 .SH SEE ALSO
-.PP
 dc(1)
 .SH STANDARDS
-.PP
-bc(1) is compliant with the IEEE Std 1003.1-2017
-(\[lq]POSIX.1-2017\[rq]) specification at
+bc(1) is compliant with the IEEE Std 1003.1\-2017
+(\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
-The flags \f[B]-efghiqsvVw\f[R], all long options, and the extensions
+The flags \f[B]\-efghiqsvVw\f[R], all long options, and the extensions
 noted above are extensions to that specification.
 .PP
 In addition, the behavior of the \f[B]quit\f[R] implements an
@@ -1769,13 +1721,13 @@ Note that the specification explicitly says that bc(1) only accepts
 numbers that use a period (\f[B].\f[R]) as a radix point, regardless of
 the value of \f[B]LC_NUMERIC\f[R].
 .SH BUGS
-.PP
 Before version \f[B]6.1.0\f[R], this bc(1) had incorrect behavior for
 the \f[B]quit\f[R] statement.
 .PP
 No other bugs are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bc/EHN.1.md b/manuals/bc/EHN.1.md
index 6f7a3321..9578d2ab 100644
--- a/manuals/bc/EHN.1.md
+++ b/manuals/bc/EHN.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -688,6 +688,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 **\^**
@@ -892,7 +895,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
diff --git a/manuals/bc/EN.1 b/manuals/bc/EN.1
index ea842eac..c1ccbec5 100644
--- a/manuals/bc/EN.1
+++ b/manuals/bc/EN.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,37 +25,34 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bc - arbitrary-precision decimal arithmetic language and calculator
+bc \- arbitrary\-precision decimal arithmetic language and calculator
 .SH SYNOPSIS
-.PP
-\f[B]bc\f[R] [\f[B]-cCghilPqRsvVw\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--global-stacks\f[R]]
-[\f[B]--help\f[R]] [\f[B]--interactive\f[R]] [\f[B]--mathlib\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]] [\f[B]--quiet\f[R]]
-[\f[B]--standard\f[R]] [\f[B]--warn\f[R]] [\f[B]--version\f[R]]
-[\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]bc\f[R] [\f[B]\-cCghilPqRsvVw\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-global\-stacks\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-interactive\f[R]] [\f[B]\-\-mathlib\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-quiet\f[R]] [\f[B]\-\-standard\f[R]] [\f[B]\-\-warn\f[R]]
+[\f[B]\-\-version\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
 .SH DESCRIPTION
-.PP
 bc(1) is an interactive processor for a language first standardized in
 1991 by POSIX.
 (See the \f[B]STANDARDS\f[R] section.)
 The language provides unlimited precision decimal arithmetic and is
-somewhat C-like, but there are differences.
+somewhat C\-like, but there are differences.
 Such differences will be noted in this document.
 .PP
 After parsing and handling options, this bc(1) reads any files given on
 the command line and executes them before reading from \f[B]stdin\f[R].
 .PP
-This bc(1) is a drop-in replacement for \f[I]any\f[R] bc(1), including
+This bc(1) is a drop\-in replacement for \f[I]any\f[R] bc(1), including
 (and especially) the GNU bc(1).
 It also has many extensions and extra features beyond other
 implementations.
@@ -64,19 +61,18 @@ implementations.
 another bc(1) gives a parse error, it is probably because a word this
 bc(1) reserves as a keyword is used as the name of a function, variable,
 or array.
-To fix that, use the command-line option \f[B]-r\f[R] \f[I]keyword\f[R],
-where \f[I]keyword\f[R] is the keyword that is used as a name in the
-script.
+To fix that, use the command\-line option \f[B]\-r\f[R]
+\f[I]keyword\f[R], where \f[I]keyword\f[R] is the keyword that is used
+as a name in the script.
 For more information, see the \f[B]OPTIONS\f[R] section.
 .PP
 If parsing scripts meant for other bc(1) implementations still does not
 work, that is a bug and should be reported.
 See the \f[B]BUGS\f[R] section.
 .SH OPTIONS
-.PP
 The following are the options that bc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -86,17 +82,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -107,61 +103,61 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
-If files are given as well (see the \f[B]-f\f[R] and \f[B]--file\f[R]
+If files are given as well (see the \f[B]\-f\f[R] and \f[B]\-\-file\f[R]
 options), the expressions and files are evaluated in the order given.
 This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]BC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
-If expressions are also given (see the \f[B]-e\f[R] and
-\f[B]--expression\f[R] options), the expressions are evaluated in the
+If expressions are also given (see the \f[B]\-e\f[R] and
+\f[B]\-\-expression\f[R] options), the expressions are evaluated in the
 order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
-.PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-g\f[R], \f[B]--global-stacks\f[R]
+\f[B]\-g\f[R], \f[B]\-\-global\-stacks\f[R]
 Turns the globals \f[B]ibase\f[R], \f[B]obase\f[R], and \f[B]scale\f[R]
 into stacks.
 .RS
@@ -174,19 +170,16 @@ without worrying that the change will affect other functions.
 Thus, a hypothetical function named \f[B]output(x,b)\f[R] that simply
 printed \f[B]x\f[R] in base \f[B]b\f[R] could be written like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     obase=b
     x
 }
-\f[R]
-.fi
+.EE
 .PP
 instead of like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     auto c
     c=obase
@@ -194,8 +187,7 @@ define void output(x, b) {
     x
     obase=c
 }
-\f[R]
-.fi
+.EE
 .PP
 This makes writing functions much easier.
 .PP
@@ -209,12 +201,10 @@ converter, it is possible to replace that capability with various shell
 aliases.
 Examples:
 .IP
-.nf
-\f[C]
-alias d2o=\[dq]bc -e ibase=A -e obase=8\[dq]
-alias h2b=\[dq]bc -e ibase=G -e obase=2\[dq]
-\f[R]
-.fi
+.EX
+alias d2o=\[dq]bc \-e ibase=A \-e obase=8\[dq]
+alias h2b=\[dq]bc \-e ibase=G \-e obase=2\[dq]
+.EE
 .PP
 Second, if the purpose of a function is to set \f[B]ibase\f[R],
 \f[B]obase\f[R], or \f[B]scale\f[R] globally for any other purpose, it
@@ -227,16 +217,16 @@ users could make sure to define \f[B]BC_ENV_ARGS\f[R] and include this
 option (see the \f[B]ENVIRONMENT VARIABLES\f[R] section for more
 details).
 .PP
-If \f[B]-s\f[R], \f[B]-w\f[R], or any equivalents are used, this option
-is ignored.
+If \f[B]\-s\f[R], \f[B]\-w\f[R], or any equivalents are used, this
+option is ignored.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -244,28 +234,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-l\f[R], \f[B]--mathlib\f[R]
+\f[B]\-l\f[R], \f[B]\-\-mathlib\f[R]
 Sets \f[B]scale\f[R] (see the \f[B]SYNTAX\f[R] section) to \f[B]20\f[R]
 and loads the included math library before running any code, including
 any expressions or files specified on the command line.
@@ -274,7 +264,7 @@ any expressions or files specified on the command line.
 To learn what is in the library, see the \f[B]LIBRARY\f[R] section.
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -282,10 +272,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -298,26 +288,26 @@ Most of those users would want to put this option in
 These options override the \f[B]BC_PROMPT\f[R] and \f[B]BC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-q\f[R], \f[B]--quiet\f[R]
+\f[B]\-q\f[R], \f[B]\-\-quiet\f[R]
 This option is for compatibility with the GNU bc(1)
-(https://www.gnu.org/software/bc/); it is a no-op.
+(https://www.gnu.org/software/bc/); it is a no\-op.
 Without this option, GNU bc(1) prints a copyright header.
 This bc(1) only prints the copyright header if one or more of the
-\f[B]-v\f[R], \f[B]-V\f[R], or \f[B]--version\f[R] options are given
+\f[B]\-v\f[R], \f[B]\-V\f[R], or \f[B]\-\-version\f[R] options are given
 unless the \f[B]BC_BANNER\f[R] environment variable is set and contains
-a non-zero integer or if this bc(1) was built with the header displayed
+a non\-zero integer or if this bc(1) was built with the header displayed
 by default.
 If \f[I]any\f[R] of that is the case, then this option \f[I]does\f[R]
 prevent bc(1) from printing the header.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -330,16 +320,16 @@ prompt for user input.
 .RS
 .PP
 This option does not disable the regular prompt because the read prompt
-is only used when the \f[B]read()\f[R] built-in function is called.
+is only used when the \f[B]read()\f[R] built\-in function is called.
 .PP
 These options \f[I]do\f[R] override the \f[B]BC_PROMPT\f[R] and
 \f[B]BC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-r\f[R] \f[I]keyword\f[R], \f[B]--redefine\f[R]=\f[I]keyword\f[R]
+\f[B]\-r\f[R] \f[I]keyword\f[R], \f[B]\-\-redefine\f[R]=\f[I]keyword\f[R]
 Redefines \f[I]keyword\f[R] in order to allow it to be used as a
 function, variable, or array name.
 This is useful when this bc(1) gives parse errors when parsing scripts
@@ -392,7 +382,7 @@ It is a fatal error to attempt to redefine words that this bc(1) does
 not reserve as keywords.
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -400,35 +390,35 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-s\f[R], \f[B]--standard\f[R]
+\f[B]\-s\f[R], \f[B]\-\-standard\f[R]
 Process exactly the language defined by the standard (see the
 \f[B]STANDARDS\f[R] section) and error if any extensions are used.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-w\f[R], \f[B]--warn\f[R]
-Like \f[B]-s\f[R] and \f[B]--standard\f[R], except that warnings (and
-not errors) are printed for non-standard extensions and execution
+\f[B]\-w\f[R], \f[B]\-\-warn\f[R]
+Like \f[B]\-s\f[R] and \f[B]\-\-standard\f[R], except that warnings (and
+not errors) are printed for non\-standard extensions and execution
 continues normally.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes bc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes bc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
@@ -436,15 +426,14 @@ This can be set for individual numbers with the \f[B]plz(x)\f[R],
 \f[B]plznl(x)\f[R], \f[B]pnlz(x)\f[R], and \f[B]pnlznl(x)\f[R] functions
 in the extended math library (see the \f[B]LIBRARY\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files or expressions are given by the \f[B]-f\f[R],
-\f[B]--file\f[R], \f[B]-e\f[R], or \f[B]--expression\f[R] options, then
-bc(1) reads from \f[B]stdin\f[R].
+If no files or expressions are given by the \f[B]\-f\f[R],
+\f[B]\-\-file\f[R], \f[B]\-e\f[R], or \f[B]\-\-expression\f[R] options,
+then bc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there are a few caveats to this.
 .PP
@@ -458,8 +447,7 @@ Second, after an \f[B]if\f[R] statement, bc(1) doesn\[cq]t know if an
 \f[B]else\f[R] statement will follow, so it will not execute until it
 knows there will not be an \f[B]else\f[R] statement.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -467,7 +455,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]bc >&-\f[R], it will quit with an error.
+\f[B]bc  >&\-\f[R], it will quit with an error.
 This is done so that bc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -475,13 +463,12 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]bc 2>&-\f[R], it will quit with an error.
+\f[B]bc  2>&\-\f[R], it will quit with an error.
 This is done so that bc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -489,8 +476,7 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
-The syntax for bc(1) programs is mostly C-like, with some differences.
+The syntax for bc(1) programs is mostly C\-like, with some differences.
 This bc(1) follows the POSIX standard (see the \f[B]STANDARDS\f[R]
 section), which is a much more thorough resource for the language this
 bc(1) accepts.
@@ -501,32 +487,32 @@ In the sections below, \f[B]E\f[R] means expression, \f[B]S\f[R] means
 statement, and \f[B]I\f[R] means identifier.
 .PP
 Identifiers (\f[B]I\f[R]) start with a lowercase letter and can be
-followed by any number (up to \f[B]BC_NAME_MAX-1\f[R]) of lowercase
-letters (\f[B]a-z\f[R]), digits (\f[B]0-9\f[R]), and underscores
+followed by any number (up to \f[B]BC_NAME_MAX\-1\f[R]) of lowercase
+letters (\f[B]a\-z\f[R]), digits (\f[B]0\-9\f[R]), and underscores
 (\f[B]_\f[R]).
-The regex is \f[B][a-z][a-z0-9_]*\f[R].
+The regex is \f[B][a\-z][a\-z0\-9_]*\f[R].
 Identifiers with more than one character (letter) are a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .PP
 \f[B]ibase\f[R] is a global variable determining how to interpret
 constant numbers.
 It is the \[lq]input\[rq] base, or the number base used for interpreting
 input numbers.
 \f[B]ibase\f[R] is initially \f[B]10\f[R].
-If the \f[B]-s\f[R] (\f[B]--standard\f[R]) and \f[B]-w\f[R]
-(\f[B]--warn\f[R]) flags were not given on the command line, the max
+If the \f[B]\-s\f[R] (\f[B]\-\-standard\f[R]) and \f[B]\-w\f[R]
+(\f[B]\-\-warn\f[R]) flags were not given on the command line, the max
 allowable value for \f[B]ibase\f[R] is \f[B]36\f[R].
 Otherwise, it is \f[B]16\f[R].
 The min allowable value for \f[B]ibase\f[R] is \f[B]2\f[R].
 The max allowable value for \f[B]ibase\f[R] can be queried in bc(1)
-programs with the \f[B]maxibase()\f[R] built-in function.
+programs with the \f[B]maxibase()\f[R] built\-in function.
 .PP
 \f[B]obase\f[R] is a global variable determining how to output results.
 It is the \[lq]output\[rq] base, or the number base used for outputting
 numbers.
 \f[B]obase\f[R] is initially \f[B]10\f[R].
 The max allowable value for \f[B]obase\f[R] is \f[B]BC_BASE_MAX\f[R] and
-can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built-in
+can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built\-in
 function.
 The min allowable value for \f[B]obase\f[R] is \f[B]2\f[R].
 Values are output in the specified base.
@@ -539,7 +525,7 @@ exceptions.
 \f[B]scale\f[R] cannot be negative.
 The max allowable value for \f[B]scale\f[R] is \f[B]BC_SCALE_MAX\f[R]
 and can be queried in bc(1) programs with the \f[B]maxscale()\f[R]
-built-in function.
+built\-in function.
 .PP
 bc(1) has both \f[I]global\f[R] variables and \f[I]local\f[R] variables.
 All \f[I]local\f[R] variables are local to the function; they are
@@ -564,20 +550,18 @@ The value that is printed is also assigned to the special variable
 \f[B]last\f[R].
 A single dot (\f[B].\f[R]) may also be used as a synonym for
 \f[B]last\f[R].
-These are \f[B]non-portable extensions\f[R].
+These are \f[B]non\-portable extensions\f[R].
 .PP
 Either semicolons or newlines may separate statements.
 .SS Comments
-.PP
 There are two kinds of comments:
 .IP "1." 3
 Block comments are enclosed in \f[B]/*\f[R] and \f[B]*/\f[R].
 .IP "2." 3
 Line comments go from \f[B]#\f[R] until, and not including, the next
 newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Named Expressions
-.PP
 The following are named expressions in bc(1):
 .IP "1." 3
 Variables: \f[B]I\f[R]
@@ -592,7 +576,7 @@ Array Elements: \f[B]I[E]\f[R]
 .IP "6." 3
 \f[B]last\f[R] or a single dot (\f[B].\f[R])
 .PP
-Number 6 is a \f[B]non-portable extension\f[R].
+Number 6 is a \f[B]non\-portable extension\f[R].
 .PP
 Variables and arrays do not interfere; users can have arrays named the
 same as variables.
@@ -606,7 +590,6 @@ Named expressions are required as the operand of
 of \f[B]assignment\f[R] operators (see the \f[I]Operators\f[R]
 subsection).
 .SS Operands
-.PP
 The following are valid operands in bc(1):
 .IP " 1." 4
 Numbers (see the \f[I]Numbers\f[R] subsection below).
@@ -616,61 +599,61 @@ Array indices (\f[B]I[E]\f[R]).
 \f[B](E)\f[R]: The value of \f[B]E\f[R] (used to change precedence).
 .IP " 4." 4
 \f[B]sqrt(E)\f[R]: The square root of \f[B]E\f[R].
-\f[B]E\f[R] must be non-negative.
+\f[B]E\f[R] must be non\-negative.
 .IP " 5." 4
 \f[B]length(E)\f[R]: The number of significant decimal digits in
 \f[B]E\f[R].
 Returns \f[B]1\f[R] for \f[B]0\f[R] with no decimal places.
 If given a string, the length of the string is returned.
-Passing a string to \f[B]length(E)\f[R] is a \f[B]non-portable
+Passing a string to \f[B]length(E)\f[R] is a \f[B]non\-portable
 extension\f[R].
 .IP " 6." 4
 \f[B]length(I[])\f[R]: The number of elements in the array \f[B]I\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 7." 4
 \f[B]scale(E)\f[R]: The \f[I]scale\f[R] of \f[B]E\f[R].
 .IP " 8." 4
 \f[B]abs(E)\f[R]: The absolute value of \f[B]E\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 9." 4
 \f[B]is_number(E)\f[R]: \f[B]1\f[R] if the given argument is a number,
 \f[B]0\f[R] if it is a string.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "10." 4
 \f[B]is_string(E)\f[R]: \f[B]1\f[R] if the given argument is a string,
 \f[B]0\f[R] if it is a number.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "11." 4
 \f[B]modexp(E, E, E)\f[R]: Modular exponentiation, where the first
 expression is the base, the second is the exponent, and the third is the
 modulus.
 All three values must be integers.
-The second argument must be non-negative.
-The third argument must be non-zero.
-This is a \f[B]non-portable extension\f[R].
+The second argument must be non\-negative.
+The third argument must be non\-zero.
+This is a \f[B]non\-portable extension\f[R].
 .IP "12." 4
 \f[B]divmod(E, E, I[])\f[R]: Division and modulus in one operation.
 This is for optimization.
 The first expression is the dividend, and the second is the divisor,
-which must be non-zero.
+which must be non\-zero.
 The return value is the quotient, and the modulus is stored in index
 \f[B]0\f[R] of the provided array (the last argument).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "13." 4
 \f[B]asciify(E)\f[R]: If \f[B]E\f[R] is a string, returns a string that
 is the first letter of its argument.
 If it is a number, calculates the number mod \f[B]256\f[R] and returns
-that number as a one-character string.
-This is a \f[B]non-portable extension\f[R].
+that number as a one\-character string.
+This is a \f[B]non\-portable extension\f[R].
 .IP "14." 4
 \f[B]asciify(I[])\f[R]: A string that is made up of the characters that
 would result from running \f[B]asciify(E)\f[R] on each element of the
 array identified by the argument.
-This allows creating multi-character strings and storing them.
-This is a \f[B]non-portable extension\f[R].
+This allows creating multi\-character strings and storing them.
+This is a \f[B]non\-portable extension\f[R].
 .IP "15." 4
 \f[B]I()\f[R], \f[B]I(E)\f[R], \f[B]I(E, E)\f[R], and so on, where
-\f[B]I\f[R] is an identifier for a non-\f[B]void\f[R] function (see the
+\f[B]I\f[R] is an identifier for a non\-\f[B]void\f[R] function (see the
 \f[I]Void Functions\f[R] subsection of the \f[B]FUNCTIONS\f[R] section).
 The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]I[]\f[R], which will automatically be turned into array references
@@ -682,35 +665,34 @@ function definition is an array reference.
 expression.
 The result of that expression is the result of the \f[B]read()\f[R]
 operand.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "17." 4
 \f[B]maxibase()\f[R]: The max allowable \f[B]ibase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "18." 4
 \f[B]maxobase()\f[R]: The max allowable \f[B]obase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "19." 4
 \f[B]maxscale()\f[R]: The max allowable \f[B]scale\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "20." 4
 \f[B]line_length()\f[R]: The line length set with
 \f[B]BC_LINE_LENGTH\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "21." 4
 \f[B]global_stacks()\f[R]: \f[B]0\f[R] if global stacks are not enabled
-with the \f[B]-g\f[R] or \f[B]--global-stacks\f[R] options, non-zero
-otherwise.
+with the \f[B]\-g\f[R] or \f[B]\-\-global\-stacks\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "22." 4
 \f[B]leading_zero()\f[R]: \f[B]0\f[R] if leading zeroes are not enabled
-with the \f[B]-z\f[R] or \f[B]\[en]leading-zeroes\f[R] options, non-zero
-otherwise.
+with the \f[B]\-z\f[R] or \f[B]\[en]leading\-zeroes\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Numbers
-.PP
 Numbers are strings made up of digits, uppercase letters, and at most
 \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]BC_NUM_MAX\f[R] digits.
@@ -721,12 +703,12 @@ alphabet, starting from \f[B]1\f[R] (i.e., \f[B]A\f[R] equals
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]BC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -744,7 +726,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -758,12 +740,11 @@ and is meant to provide an easy way to set the current \f[B]ibase\f[R]
 If clamping is on, and the clamped value of a character is needed, use a
 leading zero, i.e., for \f[B]A\f[R], use \f[B]0A\f[R].
 .SS Operators
-.PP
 The following arithmetic and logical operators can be used.
 They are listed in order of decreasing precedence.
 Operators in the same group have the same precedence.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 Type: Prefix and Postfix
 .RS
 .PP
@@ -772,7 +753,7 @@ Associativity: None
 Description: \f[B]increment\f[R], \f[B]decrement\f[R]
 .RE
 .TP
-\f[B]-\f[R] \f[B]!\f[R]
+\f[B]\-\f[R] \f[B]!\f[R]
 Type: Prefix
 .RS
 .PP
@@ -799,7 +780,7 @@ Associativity: Left
 Description: \f[B]multiply\f[R], \f[B]divide\f[R], \f[B]modulus\f[R]
 .RE
 .TP
-\f[B]+\f[R] \f[B]-\f[R]
+\f[B]+\f[R] \f[B]\-\f[R]
 Type: Binary
 .RS
 .PP
@@ -808,7 +789,7 @@ Associativity: Left
 Description: \f[B]add\f[R], \f[B]subtract\f[R]
 .RE
 .TP
-\f[B]=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
+\f[B]=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
 Type: Binary
 .RS
 .PP
@@ -846,18 +827,18 @@ Description: \f[B]boolean or\f[R]
 .PP
 The operators will be described in more detail below.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 The prefix and postfix \f[B]increment\f[R] and \f[B]decrement\f[R]
-operators behave exactly like they would in C.
-They require a named expression (see the \f[I]Named Expressions\f[R]
-subsection) as an operand.
+operators behave exactly like they would in C. They require a named
+expression (see the \f[I]Named Expressions\f[R] subsection) as an
+operand.
 .RS
 .PP
 The prefix versions of these operators are more efficient; use them
 where possible.
 .RE
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]negation\f[R] operator returns \f[B]0\f[R] if a user attempts
 to negate any expression with the value \f[B]0\f[R].
 Otherwise, a copy of the expression with its sign flipped is returned.
@@ -867,7 +848,11 @@ The \f[B]boolean not\f[R] operator returns \f[B]1\f[R] if the expression
 is \f[B]0\f[R], or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]Warning\f[R]: This operator has a \f[B]different precedence\f[R]
+than the equivalent operator in GNU bc(1) and other bc(1)
+implementations!
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -878,7 +863,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]), and if it
-is negative, the first value must be non-zero.
+is negative, the first value must be non\-zero.
 .RE
 .TP
 \f[B]*\f[R]
@@ -896,18 +881,18 @@ returns the quotient.
 The \f[I]scale\f[R] of the result shall be the value of \f[B]scale\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
 The \f[B]modulus\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and evaluates them by 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R] and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]+\f[R]
@@ -915,12 +900,12 @@ The \f[B]add\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the sum, with a \f[I]scale\f[R] equal to the
 max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]subtract\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the difference, with a \f[I]scale\f[R] equal to
 the max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
+\f[B]=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R]
 The \f[B]assignment\f[R] operators take two expressions, \f[B]a\f[R] and
 \f[B]b\f[R] where \f[B]a\f[R] is a named expression (see the \f[I]Named
 Expressions\f[R] subsection).
@@ -947,31 +932,30 @@ interpreted as \f[B](a=b)>c\f[R].
 Also, unlike the standard (see the \f[B]STANDARDS\f[R] section)
 requires, these operators can appear anywhere any other expressions can
 be used.
-This allowance is a \f[B]non-portable extension\f[R].
+This allowance is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]&&\f[R]
 The \f[B]boolean and\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if both expressions are non-zero, \f[B]0\f[R] otherwise.
+\f[B]1\f[R] if both expressions are non\-zero, \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]||\f[R]
 The \f[B]boolean or\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if one of the expressions is non-zero, \f[B]0\f[R]
+\f[B]1\f[R] if one of the expressions is non\-zero, \f[B]0\f[R]
 otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Statements
-.PP
 The following items are statements:
 .IP " 1." 4
 \f[B]E\f[R]
@@ -1018,10 +1002,10 @@ The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]FUNCTIONS\f[R] section) if the corresponding parameter in the
 function definition is an array reference.
 .PP
-Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non-portable
+Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non\-portable
 extensions\f[R].
 .PP
-Also, as a \f[B]non-portable extension\f[R], any or all of the
+Also, as a \f[B]non\-portable extension\f[R], any or all of the
 expressions in the header of a for loop may be omitted.
 If the condition (second expression) is omitted, it is assumed to be a
 constant \f[B]1\f[R].
@@ -1038,7 +1022,7 @@ This is only allowed in loops.
 The \f[B]if\f[R] \f[B]else\f[R] statement does the same thing as in C.
 .PP
 The \f[B]quit\f[R] statement causes bc(1) to quit, even if it is on a
-branch that will not be executed (it is a compile-time command).
+branch that will not be executed (it is a compile\-time command).
 .PP
 \f[B]Warning\f[R]: The behavior of this bc(1) on \f[B]quit\f[R] is
 slightly different from other bc(1) implementations.
@@ -1049,11 +1033,9 @@ occur before the \f[B]quit\f[R] statement before exiting.
 .PP
 In other words, for the bc(1) code below:
 .IP
-.nf
-\f[C]
+.EX
 for (i = 0; i < 3; ++i) i; quit
-\f[R]
-.fi
+.EE
 .PP
 Other bc(1) implementations will print nothing, and this bc(1) will
 print \f[B]0\f[R], \f[B]1\f[R], and \f[B]2\f[R] on successive lines
@@ -1065,12 +1047,11 @@ that is not executed, bc(1) does not quit.)
 .PP
 The \f[B]limits\f[R] statement prints the limits that this bc(1) is
 subject to.
-This is like the \f[B]quit\f[R] statement in that it is a compile-time
+This is like the \f[B]quit\f[R] statement in that it is a compile\-time
 command.
 .PP
 An expression by itself is evaluated and printed, followed by a newline.
 .SS Strings
-.PP
 If strings appear as a statement by themselves, they are printed without
 a trailing newline.
 .PP
@@ -1087,9 +1068,8 @@ element that has been assigned a string, an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section).
 .PP
 Assigning strings to variables and array elements and passing them to
-functions are \f[B]non-portable extensions\f[R].
+functions are \f[B]non\-portable extensions\f[R].
 .SS Print Statement
-.PP
 The \[lq]expressions\[rq] in a \f[B]print\f[R] statement may also be
 strings.
 If they are, there are backslash escape sequences that are interpreted
@@ -1116,14 +1096,12 @@ below:
 \f[B]\[rs]t\f[R]: \f[B]\[rs]t\f[R]
 .PP
 Any other character following a backslash causes the backslash and
-character to be printed as-is.
+character to be printed as\-is.
 .PP
-Any non-string expression in a print statement shall be assigned to
+Any non\-string expression in a print statement shall be assigned to
 \f[B]last\f[R], like any other expression that is printed.
 .SS Stream Statement
-.PP
-The \[lq]expressions in a \f[B]stream\f[R] statement may also be
-strings.
+The expressions in a \f[B]stream\f[R] statement may also be strings.
 .PP
 If a \f[B]stream\f[R] statement is given a string, it prints the string
 as though the string had appeared as its own statement.
@@ -1133,20 +1111,17 @@ without a newline.
 If a \f[B]stream\f[R] statement is given a number, a copy of it is
 truncated and its absolute value is calculated.
 The result is then printed as though \f[B]obase\f[R] is \f[B]256\f[R]
-and each digit is interpreted as an 8-bit ASCII character, making it a
+and each digit is interpreted as an 8\-bit ASCII character, making it a
 byte stream.
 .SS Order of Evaluation
-.PP
 All expressions in a statment are evaluated left to right, except as
 necessary to maintain order of operations.
 This means, for example, assuming that \f[B]i\f[R] is equal to
 \f[B]0\f[R], in the expression
 .IP
-.nf
-\f[C]
+.EX
 a[i++] = i++
-\f[R]
-.fi
+.EE
 .PP
 the first (or 0th) element of \f[B]a\f[R] is set to \f[B]1\f[R], and
 \f[B]i\f[R] is equal to \f[B]2\f[R] at the end of the expression.
@@ -1155,28 +1130,23 @@ This includes function arguments.
 Thus, assuming \f[B]i\f[R] is equal to \f[B]0\f[R], this means that in
 the expression
 .IP
-.nf
-\f[C]
+.EX
 x(i++, i++)
-\f[R]
-.fi
+.EE
 .PP
 the first argument passed to \f[B]x()\f[R] is \f[B]0\f[R], and the
 second argument is \f[B]1\f[R], while \f[B]i\f[R] is equal to
 \f[B]2\f[R] before the function starts executing.
 .SH FUNCTIONS
-.PP
 Function definitions are as follows:
 .IP
-.nf
-\f[C]
+.EX
 define I(I,...,I){
     auto I,...,I
     S;...;S
     return(E)
 }
-\f[R]
-.fi
+.EE
 .PP
 Any \f[B]I\f[R] in the parameter list or \f[B]auto\f[R] list may be
 replaced with \f[B]I[]\f[R] to make a parameter or \f[B]auto\f[R] var an
@@ -1187,10 +1157,10 @@ asterisk in the call; they must be called with just \f[B]I[]\f[R] like
 normal array parameters and will be automatically converted into
 references.
 .PP
-As a \f[B]non-portable extension\f[R], the opening brace of a
+As a \f[B]non\-portable extension\f[R], the opening brace of a
 \f[B]define\f[R] statement may appear on the next line.
 .PP
-As a \f[B]non-portable extension\f[R], the return statement may also be
+As a \f[B]non\-portable extension\f[R], the return statement may also be
 in one of the following forms:
 .IP "1." 3
 \f[B]return\f[R]
@@ -1204,18 +1174,15 @@ equivalent to \f[B]return (0)\f[R], unless the function is a
 \f[B]void\f[R] function (see the \f[I]Void Functions\f[R] subsection
 below).
 .SS Void Functions
-.PP
 Functions can also be \f[B]void\f[R] functions, defined as follows:
 .IP
-.nf
-\f[C]
+.EX
 define void I(I,...,I){
     auto I,...,I
     S;...;S
     return
 }
-\f[R]
-.fi
+.EE
 .PP
 They can only be used as standalone expressions, where such an
 expression would be printed alone, except in a print statement.
@@ -1229,17 +1196,14 @@ possible to have variables, arrays, and functions named \f[B]void\f[R].
 The word \[lq]void\[rq] is only treated specially right after the
 \f[B]define\f[R] keyword.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Array References
-.PP
 For any array in the parameter list, if the array is declared in the
 form
 .IP
-.nf
-\f[C]
+.EX
 *I[]
-\f[R]
-.fi
+.EE
 .PP
 it is a \f[B]reference\f[R].
 Any changes to the array in the function are reflected, when the
@@ -1247,13 +1211,11 @@ function returns, to the array that was passed in.
 .PP
 Other than this, all function arguments are passed by value.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH LIBRARY
-.PP
-All of the functions below are available when the \f[B]-l\f[R] or
-\f[B]--mathlib\f[R] command-line flags are given.
+All of the functions below are available when the \f[B]\-l\f[R] or
+\f[B]\-\-mathlib\f[R] command\-line flags are given.
 .SS Standard Library
-.PP
 The standard (see the \f[B]STANDARDS\f[R] section) defines the following
 functions for the math library:
 .TP
@@ -1306,7 +1268,6 @@ This is a transcendental function (see the \f[I]Transcendental
 Functions\f[R] subsection below).
 .RE
 .SS Transcendental Functions
-.PP
 All transcendental functions can return slightly inaccurate results, up
 to 1 ULP (https://en.wikipedia.org/wiki/Unit_in_the_last_place).
 This is unavoidable, and the article at
@@ -1334,8 +1295,7 @@ The transcendental functions in the standard math library are:
 .IP \[bu] 2
 \f[B]j(x, n)\f[R]
 .SH RESET
-.PP
-When bc(1) encounters an error or a signal that it has a non-default
+When bc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
@@ -1355,7 +1315,6 @@ Note that this reset behavior is different from the GNU bc(1), which
 attempts to start executing the statement right after the one that
 caused an error.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This bc(1) does something different.
@@ -1378,7 +1337,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bc(1):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -1408,24 +1366,24 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1433,29 +1391,28 @@ Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
 The actual values can be queried with the \f[B]limits\f[R] statement.
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], bc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], bc(1) recognizes the following
 environment variables:
 .TP
 \f[B]POSIXLY_CORRECT\f[R]
 If this variable exists (no matter the contents), bc(1) behaves as if
-the \f[B]-s\f[R] option was given.
+the \f[B]\-s\f[R] option was given.
 .TP
 \f[B]BC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to bc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to bc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]BC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
@@ -1476,14 +1433,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]BC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]BC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), bc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), bc(1) will output lines to that length,
 including the backslash (\f[B]\[rs]\f[R]).
 The default line length is \f[B]70\f[R].
 .RS
@@ -1495,7 +1452,7 @@ newlines.
 .TP
 \f[B]BC_BANNER\f[R]
 If this environment variable exists and contains an integer, then a
-non-zero value activates the copyright banner when bc(1) is in
+non\-zero value activates the copyright banner when bc(1) is in
 interactive mode, while zero deactivates it.
 .RS
 .PP
@@ -1504,7 +1461,7 @@ section), then this environment variable has no effect because bc(1)
 does not print the banner when not in interactive mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_SIGINT_RESET\f[R]
@@ -1514,13 +1471,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when bc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes bc(1)
+variable exists and contains an integer, a non\-zero value makes bc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes bc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then bc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_TTY_MODE\f[R]
@@ -1529,11 +1486,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes bc(1) use
+exists and contains an integer, then a non\-zero value makes bc(1) use
 TTY mode, and zero makes bc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_PROMPT\f[R]
@@ -1542,46 +1499,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes bc(1) use a
-prompt, and zero or a non-integer makes bc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes bc(1) use a
+prompt, and zero or a non\-integer makes bc(1) not use a prompt.
 If this environment variable does not exist and \f[B]BC_TTY_MODE\f[R]
 does, then the value of the \f[B]BC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]BC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes bc(1) exit after executing the
-expressions and expression files, and a zero value makes bc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes bc(1) exit after executing
+the expressions and expression files, and a zero value makes bc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes bc(1) clamp digits that are
+contains an integer, a non\-zero value makes bc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the standard (see the
-\f[B]STANDARDS\f[R] section).
+This never applies to single\-digit numbers, as per the standard (see
+the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 bc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1597,7 +1554,7 @@ Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, attempting to convert a negative number to a hardware
 integer, overflow when converting a number to a hardware integer,
 overflow when calculating the size of a number, and attempting to use a
-non-integer where an integer is required.
+non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]) operator and the corresponding assignment
@@ -1618,7 +1575,7 @@ giving an invalid \f[B]auto\f[R] list, having a duplicate
 \f[B]auto\f[R]/function parameter, failing to find the end of a code
 block, attempting to return a value from a \f[B]void\f[R] function,
 attempting to use a variable as a reference, and using any extensions
-when the option \f[B]-s\f[R] or any equivalents were given.
+when the option \f[B]\-s\f[R] or any equivalents were given.
 .RE
 .TP
 \f[B]3\f[R]
@@ -1641,7 +1598,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (bc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, bc(1)
@@ -1652,18 +1609,18 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 bc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow bc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
 Per the standard (see the \f[B]STANDARDS\f[R] section), bc(1) has an
-interactive mode and a non-interactive mode.
+interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, bc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1672,7 +1629,6 @@ bc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]BC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, bc(1) can turn on TTY mode, subject to some
@@ -1680,52 +1636,49 @@ settings.
 .PP
 If there is the environment variable \f[B]BC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, bc(1) will turn
+that environment variable contains a non\-zero integer, bc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]BC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then bc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then bc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]BC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) standard (see the \f[B]STANDARDS\f[R] section),
 and interactive mode requires only \f[B]stdin\f[R] and \f[B]stdout\f[R]
 to be connected to a terminal.
-.SS Command-Line History
-.PP
-Command-line history is only enabled if TTY mode is, i.e., that
+.SS Command\-Line History
+Command\-line history is only enabled if TTY mode is, i.e., that
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to
 a TTY and the \f[B]BC_TTY_MODE\f[R] environment variable (see the
 \f[B]ENVIRONMENT VARIABLES\f[R] section) and its default do not disable
 TTY mode.
 See the \f[B]COMMAND LINE HISTORY\f[R] section for more information.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]BC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]BC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]BC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]BC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]BC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause bc(1) to do one of two things.
 .PP
 If bc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1734,7 +1687,7 @@ section), or the \f[B]BC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, bc(1) will exit.
 .PP
 However, if bc(1) is in interactive mode, and the
-\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then bc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1760,12 +1713,11 @@ The one exception is \f[B]SIGHUP\f[R]; in that case, and only when bc(1)
 is in TTY mode (see the \f[B]TTY MODE\f[R] section), a \f[B]SIGHUP\f[R]
 will cause bc(1) to clean up and exit.
 .SH COMMAND LINE HISTORY
-.PP
-bc(1) supports interactive command-line editing.
+bc(1) supports interactive command\-line editing.
 .PP
 If bc(1) can be in TTY mode (see the \f[B]TTY MODE\f[R] section),
 history can be enabled.
-This means that command-line history can only be enabled when
+This means that command\-line history can only be enabled when
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY.
 .PP
@@ -1778,14 +1730,12 @@ the arrow keys.
 .PP
 \f[B]Note\f[R]: tabs are converted to 8 spaces.
 .SH SEE ALSO
-.PP
 dc(1)
 .SH STANDARDS
-.PP
-bc(1) is compliant with the IEEE Std 1003.1-2017
-(\[lq]POSIX.1-2017\[rq]) specification at
+bc(1) is compliant with the IEEE Std 1003.1\-2017
+(\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
-The flags \f[B]-efghiqsvVw\f[R], all long options, and the extensions
+The flags \f[B]\-efghiqsvVw\f[R], all long options, and the extensions
 noted above are extensions to that specification.
 .PP
 In addition, the behavior of the \f[B]quit\f[R] implements an
@@ -1798,13 +1748,13 @@ Note that the specification explicitly says that bc(1) only accepts
 numbers that use a period (\f[B].\f[R]) as a radix point, regardless of
 the value of \f[B]LC_NUMERIC\f[R].
 .SH BUGS
-.PP
 Before version \f[B]6.1.0\f[R], this bc(1) had incorrect behavior for
 the \f[B]quit\f[R] statement.
 .PP
 No other bugs are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bc/EN.1.md b/manuals/bc/EN.1.md
index 189193bf..f6ad0093 100644
--- a/manuals/bc/EN.1.md
+++ b/manuals/bc/EN.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -688,6 +688,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 **\^**
@@ -892,7 +895,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
diff --git a/manuals/bc/H.1 b/manuals/bc/H.1
index d477dc8a..9dc46ee5 100644
--- a/manuals/bc/H.1
+++ b/manuals/bc/H.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,41 +25,38 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bc - arbitrary-precision decimal arithmetic language and calculator
+bc \- arbitrary\-precision decimal arithmetic language and calculator
 .SH SYNOPSIS
-.PP
-\f[B]bc\f[R] [\f[B]-cCghilPqRsvVw\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--global-stacks\f[R]]
-[\f[B]--help\f[R]] [\f[B]--interactive\f[R]] [\f[B]--mathlib\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]] [\f[B]--quiet\f[R]]
-[\f[B]--standard\f[R]] [\f[B]--warn\f[R]] [\f[B]--version\f[R]]
-[\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]bc\f[R] [\f[B]\-cCghilPqRsvVw\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-global\-stacks\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-interactive\f[R]] [\f[B]\-\-mathlib\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-quiet\f[R]] [\f[B]\-\-standard\f[R]] [\f[B]\-\-warn\f[R]]
+[\f[B]\-\-version\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
-[\f[B]-I\f[R] \f[I]ibase\f[R]] [\f[B]--ibase\f[R]=\f[I]ibase\f[R]]
-[\f[B]-O\f[R] \f[I]obase\f[R]] [\f[B]--obase\f[R]=\f[I]obase\f[R]]
-[\f[B]-S\f[R] \f[I]scale\f[R]] [\f[B]--scale\f[R]=\f[I]scale\f[R]]
-[\f[B]-E\f[R] \f[I]seed\f[R]] [\f[B]--seed\f[R]=\f[I]seed\f[R]]
+[\f[B]\-I\f[R] \f[I]ibase\f[R]] [\f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]]
+[\f[B]\-O\f[R] \f[I]obase\f[R]] [\f[B]\-\-obase\f[R]=\f[I]obase\f[R]]
+[\f[B]\-S\f[R] \f[I]scale\f[R]] [\f[B]\-\-scale\f[R]=\f[I]scale\f[R]]
+[\f[B]\-E\f[R] \f[I]seed\f[R]] [\f[B]\-\-seed\f[R]=\f[I]seed\f[R]]
 .SH DESCRIPTION
-.PP
 bc(1) is an interactive processor for a language first standardized in
 1991 by POSIX.
 (See the \f[B]STANDARDS\f[R] section.)
 The language provides unlimited precision decimal arithmetic and is
-somewhat C-like, but there are differences.
+somewhat C\-like, but there are differences.
 Such differences will be noted in this document.
 .PP
 After parsing and handling options, this bc(1) reads any files given on
 the command line and executes them before reading from \f[B]stdin\f[R].
 .PP
-This bc(1) is a drop-in replacement for \f[I]any\f[R] bc(1), including
+This bc(1) is a drop\-in replacement for \f[I]any\f[R] bc(1), including
 (and especially) the GNU bc(1).
 It also has many extensions and extra features beyond other
 implementations.
@@ -68,19 +65,18 @@ implementations.
 another bc(1) gives a parse error, it is probably because a word this
 bc(1) reserves as a keyword is used as the name of a function, variable,
 or array.
-To fix that, use the command-line option \f[B]-r\f[R] \f[I]keyword\f[R],
-where \f[I]keyword\f[R] is the keyword that is used as a name in the
-script.
+To fix that, use the command\-line option \f[B]\-r\f[R]
+\f[I]keyword\f[R], where \f[I]keyword\f[R] is the keyword that is used
+as a name in the script.
 For more information, see the \f[B]OPTIONS\f[R] section.
 .PP
 If parsing scripts meant for other bc(1) implementations still does not
 work, that is a bug and should be reported.
 See the \f[B]BUGS\f[R] section.
 .SH OPTIONS
-.PP
 The following are the options that bc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -90,17 +86,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -111,17 +107,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-E\f[R] \f[I]seed\f[R], \f[B]--seed\f[R]=\f[I]seed\f[R]
+\f[B]\-E\f[R] \f[I]seed\f[R], \f[B]\-\-seed\f[R]=\f[I]seed\f[R]
 Sets the builtin variable \f[B]seed\f[R] to the value \f[I]seed\f[R]
 assuming that \f[I]seed\f[R] is in base 10.
 It is a fatal error if \f[I]seed\f[R] is not a valid number.
@@ -129,54 +125,54 @@ It is a fatal error if \f[I]seed\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
-If files are given as well (see the \f[B]-f\f[R] and \f[B]--file\f[R]
+If files are given as well (see the \f[B]\-f\f[R] and \f[B]\-\-file\f[R]
 options), the expressions and files are evaluated in the order given.
 This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]BC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
-If expressions are also given (see the \f[B]-e\f[R] and
-\f[B]--expression\f[R] options), the expressions are evaluated in the
+If expressions are also given (see the \f[B]\-e\f[R] and
+\f[B]\-\-expression\f[R] options), the expressions are evaluated in the
 order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-g\f[R], \f[B]--global-stacks\f[R]
+\f[B]\-g\f[R], \f[B]\-\-global\-stacks\f[R]
 Turns the globals \f[B]ibase\f[R], \f[B]obase\f[R], \f[B]scale\f[R], and
 \f[B]seed\f[R] into stacks.
 .RS
@@ -189,19 +185,16 @@ without worrying that the change will affect other functions.
 Thus, a hypothetical function named \f[B]output(x,b)\f[R] that simply
 printed \f[B]x\f[R] in base \f[B]b\f[R] could be written like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     obase=b
     x
 }
-\f[R]
-.fi
+.EE
 .PP
 instead of like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     auto c
     c=obase
@@ -209,8 +202,7 @@ define void output(x, b) {
     x
     obase=c
 }
-\f[R]
-.fi
+.EE
 .PP
 This makes writing functions much easier.
 .PP
@@ -228,12 +220,10 @@ converter, it is possible to replace that capability with various shell
 aliases.
 Examples:
 .IP
-.nf
-\f[C]
-alias d2o=\[dq]bc -e ibase=A -e obase=8\[dq]
-alias h2b=\[dq]bc -e ibase=G -e obase=2\[dq]
-\f[R]
-.fi
+.EX
+alias d2o=\[dq]bc \-e ibase=A \-e obase=8\[dq]
+alias h2b=\[dq]bc \-e ibase=G \-e obase=2\[dq]
+.EE
 .PP
 Second, if the purpose of a function is to set \f[B]ibase\f[R],
 \f[B]obase\f[R], \f[B]scale\f[R], or \f[B]seed\f[R] globally for any
@@ -243,35 +233,34 @@ desired value for a global.
 .PP
 For functions that set \f[B]seed\f[R], the value assigned to
 \f[B]seed\f[R] is not propagated to parent functions.
-This means that the sequence of pseudo-random numbers that they see will
-not be the same sequence of pseudo-random numbers that any parent sees.
+This means that the sequence of pseudo\-random numbers that they see
+will not be the same sequence of pseudo\-random numbers that any parent
+sees.
 This is only the case once \f[B]seed\f[R] has been set.
 .PP
-If a function desires to not affect the sequence of pseudo-random
+If a function desires to not affect the sequence of pseudo\-random
 numbers of its parents, but wants to use the same \f[B]seed\f[R], it can
 use the following line:
 .IP
-.nf
-\f[C]
+.EX
 seed = seed
-\f[R]
-.fi
+.EE
 .PP
 If the behavior of this option is desired for every run of bc(1), then
 users could make sure to define \f[B]BC_ENV_ARGS\f[R] and include this
 option (see the \f[B]ENVIRONMENT VARIABLES\f[R] section for more
 details).
 .PP
-If \f[B]-s\f[R], \f[B]-w\f[R], or any equivalents are used, this option
-is ignored.
+If \f[B]\-s\f[R], \f[B]\-w\f[R], or any equivalents are used, this
+option is ignored.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -279,28 +268,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-l\f[R], \f[B]--mathlib\f[R]
+\f[B]\-l\f[R], \f[B]\-\-mathlib\f[R]
 Sets \f[B]scale\f[R] (see the \f[B]SYNTAX\f[R] section) to \f[B]20\f[R]
 and loads the included math library and the extended math library before
 running any code, including any expressions or files specified on the
@@ -310,7 +299,7 @@ command line.
 To learn what is in the libraries, see the \f[B]LIBRARY\f[R] section.
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -318,10 +307,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -334,26 +323,26 @@ Most of those users would want to put this option in
 These options override the \f[B]BC_PROMPT\f[R] and \f[B]BC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-q\f[R], \f[B]--quiet\f[R]
+\f[B]\-q\f[R], \f[B]\-\-quiet\f[R]
 This option is for compatibility with the GNU bc(1)
-(https://www.gnu.org/software/bc/); it is a no-op.
+(https://www.gnu.org/software/bc/); it is a no\-op.
 Without this option, GNU bc(1) prints a copyright header.
 This bc(1) only prints the copyright header if one or more of the
-\f[B]-v\f[R], \f[B]-V\f[R], or \f[B]--version\f[R] options are given
+\f[B]\-v\f[R], \f[B]\-V\f[R], or \f[B]\-\-version\f[R] options are given
 unless the \f[B]BC_BANNER\f[R] environment variable is set and contains
-a non-zero integer or if this bc(1) was built with the header displayed
+a non\-zero integer or if this bc(1) was built with the header displayed
 by default.
 If \f[I]any\f[R] of that is the case, then this option \f[I]does\f[R]
 prevent bc(1) from printing the header.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -366,16 +355,16 @@ prompt for user input.
 .RS
 .PP
 This option does not disable the regular prompt because the read prompt
-is only used when the \f[B]read()\f[R] built-in function is called.
+is only used when the \f[B]read()\f[R] built\-in function is called.
 .PP
 These options \f[I]do\f[R] override the \f[B]BC_PROMPT\f[R] and
 \f[B]BC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-r\f[R] \f[I]keyword\f[R], \f[B]--redefine\f[R]=\f[I]keyword\f[R]
+\f[B]\-r\f[R] \f[I]keyword\f[R], \f[B]\-\-redefine\f[R]=\f[I]keyword\f[R]
 Redefines \f[I]keyword\f[R] in order to allow it to be used as a
 function, variable, or array name.
 This is useful when this bc(1) gives parse errors when parsing scripts
@@ -436,7 +425,7 @@ It is a fatal error to attempt to redefine words that this bc(1) does
 not reserve as keywords.
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -444,35 +433,35 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-s\f[R], \f[B]--standard\f[R]
+\f[B]\-s\f[R], \f[B]\-\-standard\f[R]
 Process exactly the language defined by the standard (see the
 \f[B]STANDARDS\f[R] section) and error if any extensions are used.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-w\f[R], \f[B]--warn\f[R]
-Like \f[B]-s\f[R] and \f[B]--standard\f[R], except that warnings (and
-not errors) are printed for non-standard extensions and execution
+\f[B]\-w\f[R], \f[B]\-\-warn\f[R]
+Like \f[B]\-s\f[R] and \f[B]\-\-standard\f[R], except that warnings (and
+not errors) are printed for non\-standard extensions and execution
 continues normally.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes bc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes bc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
@@ -480,15 +469,14 @@ This can be set for individual numbers with the \f[B]plz(x)\f[R],
 \f[B]plznl(x)\f[R], \f[B]pnlz(x)\f[R], and \f[B]pnlznl(x)\f[R] functions
 in the extended math library (see the \f[B]LIBRARY\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files or expressions are given by the \f[B]-f\f[R],
-\f[B]--file\f[R], \f[B]-e\f[R], or \f[B]--expression\f[R] options, then
-bc(1) reads from \f[B]stdin\f[R].
+If no files or expressions are given by the \f[B]\-f\f[R],
+\f[B]\-\-file\f[R], \f[B]\-e\f[R], or \f[B]\-\-expression\f[R] options,
+then bc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there are a few caveats to this.
 .PP
@@ -502,8 +490,7 @@ Second, after an \f[B]if\f[R] statement, bc(1) doesn\[cq]t know if an
 \f[B]else\f[R] statement will follow, so it will not execute until it
 knows there will not be an \f[B]else\f[R] statement.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -511,7 +498,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]bc >&-\f[R], it will quit with an error.
+\f[B]bc  >&\-\f[R], it will quit with an error.
 This is done so that bc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -519,13 +506,12 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]bc 2>&-\f[R], it will quit with an error.
+\f[B]bc  2>&\-\f[R], it will quit with an error.
 This is done so that bc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -533,8 +519,7 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
-The syntax for bc(1) programs is mostly C-like, with some differences.
+The syntax for bc(1) programs is mostly C\-like, with some differences.
 This bc(1) follows the POSIX standard (see the \f[B]STANDARDS\f[R]
 section), which is a much more thorough resource for the language this
 bc(1) accepts.
@@ -545,32 +530,32 @@ In the sections below, \f[B]E\f[R] means expression, \f[B]S\f[R] means
 statement, and \f[B]I\f[R] means identifier.
 .PP
 Identifiers (\f[B]I\f[R]) start with a lowercase letter and can be
-followed by any number (up to \f[B]BC_NAME_MAX-1\f[R]) of lowercase
-letters (\f[B]a-z\f[R]), digits (\f[B]0-9\f[R]), and underscores
+followed by any number (up to \f[B]BC_NAME_MAX\-1\f[R]) of lowercase
+letters (\f[B]a\-z\f[R]), digits (\f[B]0\-9\f[R]), and underscores
 (\f[B]_\f[R]).
-The regex is \f[B][a-z][a-z0-9_]*\f[R].
+The regex is \f[B][a\-z][a\-z0\-9_]*\f[R].
 Identifiers with more than one character (letter) are a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .PP
 \f[B]ibase\f[R] is a global variable determining how to interpret
 constant numbers.
 It is the \[lq]input\[rq] base, or the number base used for interpreting
 input numbers.
 \f[B]ibase\f[R] is initially \f[B]10\f[R].
-If the \f[B]-s\f[R] (\f[B]--standard\f[R]) and \f[B]-w\f[R]
-(\f[B]--warn\f[R]) flags were not given on the command line, the max
+If the \f[B]\-s\f[R] (\f[B]\-\-standard\f[R]) and \f[B]\-w\f[R]
+(\f[B]\-\-warn\f[R]) flags were not given on the command line, the max
 allowable value for \f[B]ibase\f[R] is \f[B]36\f[R].
 Otherwise, it is \f[B]16\f[R].
 The min allowable value for \f[B]ibase\f[R] is \f[B]2\f[R].
 The max allowable value for \f[B]ibase\f[R] can be queried in bc(1)
-programs with the \f[B]maxibase()\f[R] built-in function.
+programs with the \f[B]maxibase()\f[R] built\-in function.
 .PP
 \f[B]obase\f[R] is a global variable determining how to output results.
 It is the \[lq]output\[rq] base, or the number base used for outputting
 numbers.
 \f[B]obase\f[R] is initially \f[B]10\f[R].
 The max allowable value for \f[B]obase\f[R] is \f[B]BC_BASE_MAX\f[R] and
-can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built-in
+can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built\-in
 function.
 The min allowable value for \f[B]obase\f[R] is \f[B]0\f[R].
 If \f[B]obase\f[R] is \f[B]0\f[R], values are output in scientific
@@ -578,8 +563,8 @@ notation, and if \f[B]obase\f[R] is \f[B]1\f[R], values are output in
 engineering notation.
 Otherwise, values are output in the specified base.
 .PP
-Outputting in scientific and engineering notations are \f[B]non-portable
-extensions\f[R].
+Outputting in scientific and engineering notations are
+\f[B]non\-portable extensions\f[R].
 .PP
 The \f[I]scale\f[R] of an expression is the number of digits in the
 result of the expression right of the decimal point, and \f[B]scale\f[R]
@@ -589,7 +574,7 @@ exceptions.
 \f[B]scale\f[R] cannot be negative.
 The max allowable value for \f[B]scale\f[R] is \f[B]BC_SCALE_MAX\f[R]
 and can be queried in bc(1) programs with the \f[B]maxscale()\f[R]
-built-in function.
+built\-in function.
 .PP
 bc(1) has both \f[I]global\f[R] variables and \f[I]local\f[R] variables.
 All \f[I]local\f[R] variables are local to the function; they are
@@ -614,20 +599,18 @@ The value that is printed is also assigned to the special variable
 \f[B]last\f[R].
 A single dot (\f[B].\f[R]) may also be used as a synonym for
 \f[B]last\f[R].
-These are \f[B]non-portable extensions\f[R].
+These are \f[B]non\-portable extensions\f[R].
 .PP
 Either semicolons or newlines may separate statements.
 .SS Comments
-.PP
 There are two kinds of comments:
 .IP "1." 3
 Block comments are enclosed in \f[B]/*\f[R] and \f[B]*/\f[R].
 .IP "2." 3
 Line comments go from \f[B]#\f[R] until, and not including, the next
 newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Named Expressions
-.PP
 The following are named expressions in bc(1):
 .IP "1." 3
 Variables: \f[B]I\f[R]
@@ -644,26 +627,26 @@ Array Elements: \f[B]I[E]\f[R]
 .IP "7." 3
 \f[B]last\f[R] or a single dot (\f[B].\f[R])
 .PP
-Numbers 6 and 7 are \f[B]non-portable extensions\f[R].
+Numbers 6 and 7 are \f[B]non\-portable extensions\f[R].
 .PP
-The meaning of \f[B]seed\f[R] is dependent on the current pseudo-random
+The meaning of \f[B]seed\f[R] is dependent on the current pseudo\-random
 number generator but is guaranteed to not change except for new major
 versions.
 .PP
 The \f[I]scale\f[R] and sign of the value may be significant.
 .PP
 If a previously used \f[B]seed\f[R] value is assigned to \f[B]seed\f[R]
-and used again, the pseudo-random number generator is guaranteed to
-produce the same sequence of pseudo-random numbers as it did when the
+and used again, the pseudo\-random number generator is guaranteed to
+produce the same sequence of pseudo\-random numbers as it did when the
 \f[B]seed\f[R] value was previously used.
 .PP
 The exact value assigned to \f[B]seed\f[R] is not guaranteed to be
 returned if \f[B]seed\f[R] is queried again immediately.
 However, if \f[B]seed\f[R] \f[I]does\f[R] return a different value, both
 values, when assigned to \f[B]seed\f[R], are guaranteed to produce the
-same sequence of pseudo-random numbers.
+same sequence of pseudo\-random numbers.
 This means that certain values assigned to \f[B]seed\f[R] will
-\f[I]not\f[R] produce unique sequences of pseudo-random numbers.
+\f[I]not\f[R] produce unique sequences of pseudo\-random numbers.
 The value of \f[B]seed\f[R] will change after any use of the
 \f[B]rand()\f[R] and \f[B]irand(E)\f[R] operands (see the
 \f[I]Operands\f[R] subsection below), except if the parameter passed to
@@ -684,7 +667,6 @@ Named expressions are required as the operand of
 of \f[B]assignment\f[R] operators (see the \f[I]Operators\f[R]
 subsection).
 .SS Operands
-.PP
 The following are valid operands in bc(1):
 .IP " 1." 4
 Numbers (see the \f[I]Numbers\f[R] subsection below).
@@ -694,61 +676,61 @@ Array indices (\f[B]I[E]\f[R]).
 \f[B](E)\f[R]: The value of \f[B]E\f[R] (used to change precedence).
 .IP " 4." 4
 \f[B]sqrt(E)\f[R]: The square root of \f[B]E\f[R].
-\f[B]E\f[R] must be non-negative.
+\f[B]E\f[R] must be non\-negative.
 .IP " 5." 4
 \f[B]length(E)\f[R]: The number of significant decimal digits in
 \f[B]E\f[R].
 Returns \f[B]1\f[R] for \f[B]0\f[R] with no decimal places.
 If given a string, the length of the string is returned.
-Passing a string to \f[B]length(E)\f[R] is a \f[B]non-portable
+Passing a string to \f[B]length(E)\f[R] is a \f[B]non\-portable
 extension\f[R].
 .IP " 6." 4
 \f[B]length(I[])\f[R]: The number of elements in the array \f[B]I\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 7." 4
 \f[B]scale(E)\f[R]: The \f[I]scale\f[R] of \f[B]E\f[R].
 .IP " 8." 4
 \f[B]abs(E)\f[R]: The absolute value of \f[B]E\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 9." 4
 \f[B]is_number(E)\f[R]: \f[B]1\f[R] if the given argument is a number,
 \f[B]0\f[R] if it is a string.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "10." 4
 \f[B]is_string(E)\f[R]: \f[B]1\f[R] if the given argument is a string,
 \f[B]0\f[R] if it is a number.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "11." 4
 \f[B]modexp(E, E, E)\f[R]: Modular exponentiation, where the first
 expression is the base, the second is the exponent, and the third is the
 modulus.
 All three values must be integers.
-The second argument must be non-negative.
-The third argument must be non-zero.
-This is a \f[B]non-portable extension\f[R].
+The second argument must be non\-negative.
+The third argument must be non\-zero.
+This is a \f[B]non\-portable extension\f[R].
 .IP "12." 4
 \f[B]divmod(E, E, I[])\f[R]: Division and modulus in one operation.
 This is for optimization.
 The first expression is the dividend, and the second is the divisor,
-which must be non-zero.
+which must be non\-zero.
 The return value is the quotient, and the modulus is stored in index
 \f[B]0\f[R] of the provided array (the last argument).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "13." 4
 \f[B]asciify(E)\f[R]: If \f[B]E\f[R] is a string, returns a string that
 is the first letter of its argument.
 If it is a number, calculates the number mod \f[B]256\f[R] and returns
-that number as a one-character string.
-This is a \f[B]non-portable extension\f[R].
+that number as a one\-character string.
+This is a \f[B]non\-portable extension\f[R].
 .IP "14." 4
 \f[B]asciify(I[])\f[R]: A string that is made up of the characters that
 would result from running \f[B]asciify(E)\f[R] on each element of the
 array identified by the argument.
-This allows creating multi-character strings and storing them.
-This is a \f[B]non-portable extension\f[R].
+This allows creating multi\-character strings and storing them.
+This is a \f[B]non\-portable extension\f[R].
 .IP "15." 4
 \f[B]I()\f[R], \f[B]I(E)\f[R], \f[B]I(E, E)\f[R], and so on, where
-\f[B]I\f[R] is an identifier for a non-\f[B]void\f[R] function (see the
+\f[B]I\f[R] is an identifier for a non\-\f[B]void\f[R] function (see the
 \f[I]Void Functions\f[R] subsection of the \f[B]FUNCTIONS\f[R] section).
 The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]I[]\f[R], which will automatically be turned into array references
@@ -760,47 +742,47 @@ function definition is an array reference.
 expression.
 The result of that expression is the result of the \f[B]read()\f[R]
 operand.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "17." 4
 \f[B]maxibase()\f[R]: The max allowable \f[B]ibase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "18." 4
 \f[B]maxobase()\f[R]: The max allowable \f[B]obase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "19." 4
 \f[B]maxscale()\f[R]: The max allowable \f[B]scale\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "20." 4
 \f[B]line_length()\f[R]: The line length set with
 \f[B]BC_LINE_LENGTH\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "21." 4
 \f[B]global_stacks()\f[R]: \f[B]0\f[R] if global stacks are not enabled
-with the \f[B]-g\f[R] or \f[B]--global-stacks\f[R] options, non-zero
-otherwise.
+with the \f[B]\-g\f[R] or \f[B]\-\-global\-stacks\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "22." 4
 \f[B]leading_zero()\f[R]: \f[B]0\f[R] if leading zeroes are not enabled
-with the \f[B]-z\f[R] or \f[B]\[en]leading-zeroes\f[R] options, non-zero
-otherwise.
+with the \f[B]\-z\f[R] or \f[B]\[en]leading\-zeroes\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "23." 4
-\f[B]rand()\f[R]: A pseudo-random integer between \f[B]0\f[R]
+\f[B]rand()\f[R]: A pseudo\-random integer between \f[B]0\f[R]
 (inclusive) and \f[B]BC_RAND_MAX\f[R] (inclusive).
 Using this operand will change the value of \f[B]seed\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "24." 4
-\f[B]irand(E)\f[R]: A pseudo-random integer between \f[B]0\f[R]
+\f[B]irand(E)\f[R]: A pseudo\-random integer between \f[B]0\f[R]
 (inclusive) and the value of \f[B]E\f[R] (exclusive).
-If \f[B]E\f[R] is negative or is a non-integer (\f[B]E\f[R]\[cq]s
+If \f[B]E\f[R] is negative or is a non\-integer (\f[B]E\f[R]\[cq]s
 \f[I]scale\f[R] is not \f[B]0\f[R]), an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section) while \f[B]seed\f[R] remains
 unchanged.
 If \f[B]E\f[R] is larger than \f[B]BC_RAND_MAX\f[R], the higher bound is
-honored by generating several pseudo-random integers, multiplying them
+honored by generating several pseudo\-random integers, multiplying them
 by appropriate powers of \f[B]BC_RAND_MAX+1\f[R], and adding them
 together.
 Thus, the size of integer that can be generated with this operand is
@@ -809,27 +791,26 @@ Using this operand will change the value of \f[B]seed\f[R], unless the
 value of \f[B]E\f[R] is \f[B]0\f[R] or \f[B]1\f[R].
 In that case, \f[B]0\f[R] is returned, and \f[B]seed\f[R] is
 \f[I]not\f[R] changed.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "25." 4
 \f[B]maxrand()\f[R]: The max integer returned by \f[B]rand()\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .PP
 The integers generated by \f[B]rand()\f[R] and \f[B]irand(E)\f[R] are
 guaranteed to be as unbiased as possible, subject to the limitations of
-the pseudo-random number generator.
+the pseudo\-random number generator.
 .PP
-\f[B]Note\f[R]: The values returned by the pseudo-random number
+\f[B]Note\f[R]: The values returned by the pseudo\-random number
 generator with \f[B]rand()\f[R] and \f[B]irand(E)\f[R] are guaranteed to
 \f[I]NOT\f[R] be cryptographically secure.
-This is a consequence of using a seeded pseudo-random number generator.
+This is a consequence of using a seeded pseudo\-random number generator.
 However, they \f[I]are\f[R] guaranteed to be reproducible with identical
 \f[B]seed\f[R] values.
-This means that the pseudo-random values from bc(1) should only be used
-where a reproducible stream of pseudo-random numbers is
+This means that the pseudo\-random values from bc(1) should only be used
+where a reproducible stream of pseudo\-random numbers is
 \f[I]ESSENTIAL\f[R].
-In any other case, use a non-seeded pseudo-random number generator.
+In any other case, use a non\-seeded pseudo\-random number generator.
 .SS Numbers
-.PP
 Numbers are strings made up of digits, uppercase letters, and at most
 \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]BC_NUM_MAX\f[R] digits.
@@ -840,12 +821,12 @@ alphabet, starting from \f[B]1\f[R] (i.e., \f[B]A\f[R] equals
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]BC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -863,7 +844,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -882,11 +863,11 @@ These have the form \f[B]<number>e<integer>\f[R].
 The exponent (the portion after the \f[B]e\f[R]) must be an integer.
 An example is \f[B]1.89237e9\f[R], which is equal to
 \f[B]1892370000\f[R].
-Negative exponents are also allowed, so \f[B]4.2890e-3\f[R] is equal to
+Negative exponents are also allowed, so \f[B]4.2890e\-3\f[R] is equal to
 \f[B]0.0042890\f[R].
 .PP
-Using scientific notation is an error or warning if the \f[B]-s\f[R] or
-\f[B]-w\f[R], respectively, command-line options (or equivalents) are
+Using scientific notation is an error or warning if the \f[B]\-s\f[R] or
+\f[B]\-w\f[R], respectively, command\-line options (or equivalents) are
 given.
 .PP
 \f[B]WARNING\f[R]: Both the number and the exponent in scientific
@@ -896,17 +877,16 @@ of the current \f[B]ibase\f[R].
 For example, if \f[B]ibase\f[R] is \f[B]16\f[R] and bc(1) is given the
 number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if bc(1) is given the number string
-\f[B]10e-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
+\f[B]10e\-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .PP
-Accepting input as scientific notation is a \f[B]non-portable
+Accepting input as scientific notation is a \f[B]non\-portable
 extension\f[R].
 .SS Operators
-.PP
 The following arithmetic and logical operators can be used.
 They are listed in order of decreasing precedence.
 Operators in the same group have the same precedence.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 Type: Prefix and Postfix
 .RS
 .PP
@@ -915,7 +895,7 @@ Associativity: None
 Description: \f[B]increment\f[R], \f[B]decrement\f[R]
 .RE
 .TP
-\f[B]-\f[R] \f[B]!\f[R]
+\f[B]\-\f[R] \f[B]!\f[R]
 Type: Prefix
 .RS
 .PP
@@ -960,7 +940,7 @@ Associativity: Left
 Description: \f[B]multiply\f[R], \f[B]divide\f[R], \f[B]modulus\f[R]
 .RE
 .TP
-\f[B]+\f[R] \f[B]-\f[R]
+\f[B]+\f[R] \f[B]\-\f[R]
 Type: Binary
 .RS
 .PP
@@ -978,7 +958,7 @@ Associativity: Left
 Description: \f[B]shift left\f[R], \f[B]shift right\f[R]
 .RE
 .TP
-\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
+\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
 Type: Binary
 .RS
 .PP
@@ -1016,18 +996,18 @@ Description: \f[B]boolean or\f[R]
 .PP
 The operators will be described in more detail below.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 The prefix and postfix \f[B]increment\f[R] and \f[B]decrement\f[R]
-operators behave exactly like they would in C.
-They require a named expression (see the \f[I]Named Expressions\f[R]
-subsection) as an operand.
+operators behave exactly like they would in C. They require a named
+expression (see the \f[I]Named Expressions\f[R] subsection) as an
+operand.
 .RS
 .PP
 The prefix versions of these operators are more efficient; use them
 where possible.
 .RE
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]negation\f[R] operator returns \f[B]0\f[R] if a user attempts
 to negate any expression with the value \f[B]0\f[R].
 Otherwise, a copy of the expression with its sign flipped is returned.
@@ -1037,7 +1017,11 @@ The \f[B]boolean not\f[R] operator returns \f[B]1\f[R] if the expression
 is \f[B]0\f[R], or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]Warning\f[R]: This operator has a \f[B]different precedence\f[R]
+than the equivalent operator in GNU bc(1) and other bc(1)
+implementations!
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]$\f[R]
@@ -1045,7 +1029,7 @@ The \f[B]truncation\f[R] operator returns a copy of the given expression
 with all of its \f[I]scale\f[R] removed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[at]\f[R]
@@ -1059,9 +1043,9 @@ more).
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -1072,7 +1056,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]), and if it
-is negative, the first value must be non-zero.
+is negative, the first value must be non\-zero.
 .RE
 .TP
 \f[B]*\f[R]
@@ -1090,18 +1074,18 @@ returns the quotient.
 The \f[I]scale\f[R] of the result shall be the value of \f[B]scale\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
 The \f[B]modulus\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and evaluates them by 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R] and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]+\f[R]
@@ -1109,7 +1093,7 @@ The \f[B]add\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the sum, with a \f[I]scale\f[R] equal to the
 max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]subtract\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the difference, with a \f[I]scale\f[R] equal to
 the max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
@@ -1121,9 +1105,9 @@ decimal point moved \f[B]b\f[R] places to the right.
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]>>\f[R]
@@ -1133,12 +1117,12 @@ decimal point moved \f[B]b\f[R] places to the left.
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
+\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
 The \f[B]assignment\f[R] operators take two expressions, \f[B]a\f[R] and
 \f[B]b\f[R] where \f[B]a\f[R] is a named expression (see the \f[I]Named
 Expressions\f[R] subsection).
@@ -1151,7 +1135,7 @@ the corresponding arithmetic operator and the result is assigned to
 \f[B]a\f[R].
 .PP
 The \f[B]assignment\f[R] operators that correspond to operators that are
-extensions are themselves \f[B]non-portable extensions\f[R].
+extensions are themselves \f[B]non\-portable extensions\f[R].
 .RE
 .TP
 \f[B]==\f[R] \f[B]<=\f[R] \f[B]>=\f[R] \f[B]!=\f[R] \f[B]<\f[R] \f[B]>\f[R]
@@ -1168,31 +1152,30 @@ interpreted as \f[B](a=b)>c\f[R].
 Also, unlike the standard (see the \f[B]STANDARDS\f[R] section)
 requires, these operators can appear anywhere any other expressions can
 be used.
-This allowance is a \f[B]non-portable extension\f[R].
+This allowance is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]&&\f[R]
 The \f[B]boolean and\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if both expressions are non-zero, \f[B]0\f[R] otherwise.
+\f[B]1\f[R] if both expressions are non\-zero, \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]||\f[R]
 The \f[B]boolean or\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if one of the expressions is non-zero, \f[B]0\f[R]
+\f[B]1\f[R] if one of the expressions is non\-zero, \f[B]0\f[R]
 otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Statements
-.PP
 The following items are statements:
 .IP " 1." 4
 \f[B]E\f[R]
@@ -1239,10 +1222,10 @@ The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]FUNCTIONS\f[R] section) if the corresponding parameter in the
 function definition is an array reference.
 .PP
-Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non-portable
+Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non\-portable
 extensions\f[R].
 .PP
-Also, as a \f[B]non-portable extension\f[R], any or all of the
+Also, as a \f[B]non\-portable extension\f[R], any or all of the
 expressions in the header of a for loop may be omitted.
 If the condition (second expression) is omitted, it is assumed to be a
 constant \f[B]1\f[R].
@@ -1259,7 +1242,7 @@ This is only allowed in loops.
 The \f[B]if\f[R] \f[B]else\f[R] statement does the same thing as in C.
 .PP
 The \f[B]quit\f[R] statement causes bc(1) to quit, even if it is on a
-branch that will not be executed (it is a compile-time command).
+branch that will not be executed (it is a compile\-time command).
 .PP
 \f[B]Warning\f[R]: The behavior of this bc(1) on \f[B]quit\f[R] is
 slightly different from other bc(1) implementations.
@@ -1270,11 +1253,9 @@ occur before the \f[B]quit\f[R] statement before exiting.
 .PP
 In other words, for the bc(1) code below:
 .IP
-.nf
-\f[C]
+.EX
 for (i = 0; i < 3; ++i) i; quit
-\f[R]
-.fi
+.EE
 .PP
 Other bc(1) implementations will print nothing, and this bc(1) will
 print \f[B]0\f[R], \f[B]1\f[R], and \f[B]2\f[R] on successive lines
@@ -1286,7 +1267,7 @@ that is not executed, bc(1) does not quit.)
 .PP
 The \f[B]limits\f[R] statement prints the limits that this bc(1) is
 subject to.
-This is like the \f[B]quit\f[R] statement in that it is a compile-time
+This is like the \f[B]quit\f[R] statement in that it is a compile\-time
 command.
 .PP
 An expression by itself is evaluated and printed, followed by a newline.
@@ -1299,13 +1280,12 @@ Scientific notation is activated by assigning \f[B]0\f[R] to
 To deactivate them, just assign a different value to \f[B]obase\f[R].
 .PP
 Scientific notation and engineering notation are disabled if bc(1) is
-run with either the \f[B]-s\f[R] or \f[B]-w\f[R] command-line options
+run with either the \f[B]\-s\f[R] or \f[B]\-w\f[R] command\-line options
 (or equivalents).
 .PP
 Printing numbers in scientific notation and/or engineering notation is a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .SS Strings
-.PP
 If strings appear as a statement by themselves, they are printed without
 a trailing newline.
 .PP
@@ -1322,9 +1302,8 @@ element that has been assigned a string, an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section).
 .PP
 Assigning strings to variables and array elements and passing them to
-functions are \f[B]non-portable extensions\f[R].
+functions are \f[B]non\-portable extensions\f[R].
 .SS Print Statement
-.PP
 The \[lq]expressions\[rq] in a \f[B]print\f[R] statement may also be
 strings.
 If they are, there are backslash escape sequences that are interpreted
@@ -1351,14 +1330,12 @@ below:
 \f[B]\[rs]t\f[R]: \f[B]\[rs]t\f[R]
 .PP
 Any other character following a backslash causes the backslash and
-character to be printed as-is.
+character to be printed as\-is.
 .PP
-Any non-string expression in a print statement shall be assigned to
+Any non\-string expression in a print statement shall be assigned to
 \f[B]last\f[R], like any other expression that is printed.
 .SS Stream Statement
-.PP
-The \[lq]expressions in a \f[B]stream\f[R] statement may also be
-strings.
+The expressions in a \f[B]stream\f[R] statement may also be strings.
 .PP
 If a \f[B]stream\f[R] statement is given a string, it prints the string
 as though the string had appeared as its own statement.
@@ -1368,20 +1345,17 @@ without a newline.
 If a \f[B]stream\f[R] statement is given a number, a copy of it is
 truncated and its absolute value is calculated.
 The result is then printed as though \f[B]obase\f[R] is \f[B]256\f[R]
-and each digit is interpreted as an 8-bit ASCII character, making it a
+and each digit is interpreted as an 8\-bit ASCII character, making it a
 byte stream.
 .SS Order of Evaluation
-.PP
 All expressions in a statment are evaluated left to right, except as
 necessary to maintain order of operations.
 This means, for example, assuming that \f[B]i\f[R] is equal to
 \f[B]0\f[R], in the expression
 .IP
-.nf
-\f[C]
+.EX
 a[i++] = i++
-\f[R]
-.fi
+.EE
 .PP
 the first (or 0th) element of \f[B]a\f[R] is set to \f[B]1\f[R], and
 \f[B]i\f[R] is equal to \f[B]2\f[R] at the end of the expression.
@@ -1390,28 +1364,23 @@ This includes function arguments.
 Thus, assuming \f[B]i\f[R] is equal to \f[B]0\f[R], this means that in
 the expression
 .IP
-.nf
-\f[C]
+.EX
 x(i++, i++)
-\f[R]
-.fi
+.EE
 .PP
 the first argument passed to \f[B]x()\f[R] is \f[B]0\f[R], and the
 second argument is \f[B]1\f[R], while \f[B]i\f[R] is equal to
 \f[B]2\f[R] before the function starts executing.
 .SH FUNCTIONS
-.PP
 Function definitions are as follows:
 .IP
-.nf
-\f[C]
+.EX
 define I(I,...,I){
     auto I,...,I
     S;...;S
     return(E)
 }
-\f[R]
-.fi
+.EE
 .PP
 Any \f[B]I\f[R] in the parameter list or \f[B]auto\f[R] list may be
 replaced with \f[B]I[]\f[R] to make a parameter or \f[B]auto\f[R] var an
@@ -1422,10 +1391,10 @@ asterisk in the call; they must be called with just \f[B]I[]\f[R] like
 normal array parameters and will be automatically converted into
 references.
 .PP
-As a \f[B]non-portable extension\f[R], the opening brace of a
+As a \f[B]non\-portable extension\f[R], the opening brace of a
 \f[B]define\f[R] statement may appear on the next line.
 .PP
-As a \f[B]non-portable extension\f[R], the return statement may also be
+As a \f[B]non\-portable extension\f[R], the return statement may also be
 in one of the following forms:
 .IP "1." 3
 \f[B]return\f[R]
@@ -1439,18 +1408,15 @@ equivalent to \f[B]return (0)\f[R], unless the function is a
 \f[B]void\f[R] function (see the \f[I]Void Functions\f[R] subsection
 below).
 .SS Void Functions
-.PP
 Functions can also be \f[B]void\f[R] functions, defined as follows:
 .IP
-.nf
-\f[C]
+.EX
 define void I(I,...,I){
     auto I,...,I
     S;...;S
     return
 }
-\f[R]
-.fi
+.EE
 .PP
 They can only be used as standalone expressions, where such an
 expression would be printed alone, except in a print statement.
@@ -1464,17 +1430,14 @@ possible to have variables, arrays, and functions named \f[B]void\f[R].
 The word \[lq]void\[rq] is only treated specially right after the
 \f[B]define\f[R] keyword.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Array References
-.PP
 For any array in the parameter list, if the array is declared in the
 form
 .IP
-.nf
-\f[C]
+.EX
 *I[]
-\f[R]
-.fi
+.EE
 .PP
 it is a \f[B]reference\f[R].
 Any changes to the array in the function are reflected, when the
@@ -1482,17 +1445,15 @@ function returns, to the array that was passed in.
 .PP
 Other than this, all function arguments are passed by value.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH LIBRARY
-.PP
 All of the functions below, including the functions in the extended math
 library (see the \f[I]Extended Library\f[R] subsection below), are
-available when the \f[B]-l\f[R] or \f[B]--mathlib\f[R] command-line
+available when the \f[B]\-l\f[R] or \f[B]\-\-mathlib\f[R] command\-line
 flags are given, except that the extended math library is not available
-when the \f[B]-s\f[R] option, the \f[B]-w\f[R] option, or equivalents
+when the \f[B]\-s\f[R] option, the \f[B]\-w\f[R] option, or equivalents
 are given.
 .SS Standard Library
-.PP
 The standard (see the \f[B]STANDARDS\f[R] section) defines the following
 functions for the math library:
 .TP
@@ -1545,13 +1506,12 @@ This is a transcendental function (see the \f[I]Transcendental
 Functions\f[R] subsection below).
 .RE
 .SS Extended Library
-.PP
 The extended library is \f[I]not\f[R] loaded when the
-\f[B]-s\f[R]/\f[B]--standard\f[R] or \f[B]-w\f[R]/\f[B]--warn\f[R]
+\f[B]\-s\f[R]/\f[B]\-\-standard\f[R] or \f[B]\-w\f[R]/\f[B]\-\-warn\f[R]
 options are given since they are not part of the library defined by the
 standard (see the \f[B]STANDARDS\f[R] section).
 .PP
-The extended library is a \f[B]non-portable extension\f[R].
+The extended library is a \f[B]non\-portable extension\f[R].
 .TP
 \f[B]p(x, y)\f[R]
 Calculates \f[B]x\f[R] to the power of \f[B]y\f[R], even if \f[B]y\f[R]
@@ -1579,6 +1539,14 @@ the rounding mode round away from \f[B]0\f[R]
 \f[B]f(x)\f[R]
 Returns the factorial of the truncated absolute value of \f[B]x\f[R].
 .TP
+\f[B]max(a, b)\f[R]
+Returns \f[B]a\f[R] if \f[B]a\f[R] is greater than \f[B]b\f[R];
+otherwise, returns \f[B]b\f[R].
+.TP
+\f[B]min(a, b)\f[R]
+Returns \f[B]a\f[R] if \f[B]a\f[R] is less than \f[B]b\f[R]; otherwise,
+returns \f[B]b\f[R].
+.TP
 \f[B]perm(n, k)\f[R]
 Returns the permutation of the truncated absolute value of \f[B]n\f[R]
 of the truncated absolute value of \f[B]k\f[R], if \f[B]k <= n\f[R].
@@ -1589,6 +1557,10 @@ Returns the combination of the truncated absolute value of \f[B]n\f[R]
 of the truncated absolute value of \f[B]k\f[R], if \f[B]k <= n\f[R].
 If not, it returns \f[B]0\f[R].
 .TP
+\f[B]fib(n)\f[R]
+Returns the Fibonacci number of the truncated absolute value of
+\f[B]n\f[R].
+.TP
 \f[B]l2(x)\f[R]
 Returns the logarithm base \f[B]2\f[R] of \f[B]x\f[R].
 .RS
@@ -1660,11 +1632,11 @@ Otherwise, if \f[B]x\f[R] is greater than \f[B]0\f[R], it returns
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is greater than
 or equal to \f[B]0\f[R], it returns \f[B]a(y/x)+pi\f[R].
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]a(y/x)-pi\f[R].
+\f[B]0\f[R], it returns \f[B]a(y/x)\-pi\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is greater than
 \f[B]0\f[R], it returns \f[B]pi/2\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]-pi/2\f[R].
+\f[B]0\f[R], it returns \f[B]\-pi/2\f[R].
 .RS
 .PP
 This function is the same as the \f[B]atan2()\f[R] function in many
@@ -1698,7 +1670,7 @@ Functions\f[R] subsection below).
 Returns the tangent of \f[B]x\f[R], which is assumed to be in radians.
 .RS
 .PP
-If \f[B]x\f[R] is equal to \f[B]1\f[R] or \f[B]-1\f[R], this raises an
+If \f[B]x\f[R] is equal to \f[B]1\f[R] or \f[B]\-1\f[R], this raises an
 error and causes bc(1) to reset (see the \f[B]RESET\f[R] section).
 .PP
 This is an alias of \f[B]t(x)\f[R].
@@ -1726,11 +1698,11 @@ Otherwise, if \f[B]x\f[R] is greater than \f[B]0\f[R], it returns
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is greater than
 or equal to \f[B]0\f[R], it returns \f[B]a(y/x)+pi\f[R].
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]a(y/x)-pi\f[R].
+\f[B]0\f[R], it returns \f[B]a(y/x)\-pi\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is greater than
 \f[B]0\f[R], it returns \f[B]pi/2\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]-pi/2\f[R].
+\f[B]0\f[R], it returns \f[B]\-pi/2\f[R].
 .RS
 .PP
 This function is the same as the \f[B]atan2()\f[R] function in many
@@ -1759,7 +1731,7 @@ Functions\f[R] subsection below).
 .RE
 .TP
 \f[B]frand(p)\f[R]
-Generates a pseudo-random number between \f[B]0\f[R] (inclusive) and
+Generates a pseudo\-random number between \f[B]0\f[R] (inclusive) and
 \f[B]1\f[R] (exclusive) with the number of decimal digits after the
 decimal point equal to the truncated absolute value of \f[B]p\f[R].
 If \f[B]p\f[R] is not \f[B]0\f[R], then calling this function will
@@ -1768,14 +1740,22 @@ If \f[B]p\f[R] is \f[B]0\f[R], then \f[B]0\f[R] is returned, and
 \f[B]seed\f[R] is \f[I]not\f[R] changed.
 .TP
 \f[B]ifrand(i, p)\f[R]
-Generates a pseudo-random number that is between \f[B]0\f[R] (inclusive)
-and the truncated absolute value of \f[B]i\f[R] (exclusive) with the
-number of decimal digits after the decimal point equal to the truncated
-absolute value of \f[B]p\f[R].
+Generates a pseudo\-random number that is between \f[B]0\f[R]
+(inclusive) and the truncated absolute value of \f[B]i\f[R] (exclusive)
+with the number of decimal digits after the decimal point equal to the
+truncated absolute value of \f[B]p\f[R].
 If the absolute value of \f[B]i\f[R] is greater than or equal to
 \f[B]2\f[R], and \f[B]p\f[R] is not \f[B]0\f[R], then calling this
 function will change the value of \f[B]seed\f[R]; otherwise, \f[B]0\f[R]
-is returned and \f[B]seed\f[R] is not changed.
+is returned, and \f[B]seed\f[R] is not changed.
+.TP
+\f[B]i2rand(a, b)\f[R]
+Takes the truncated value of \f[B]a\f[R] and \f[B]b\f[R] and uses them
+as inclusive bounds to enerate a pseudo\-random integer.
+If the difference of the truncated values of \f[B]a\f[R] and \f[B]b\f[R]
+is \f[B]0\f[R], then the truncated value is returned, and \f[B]seed\f[R]
+is \f[I]not\f[R] changed.
+Otherwise, this function will change the value of \f[B]seed\f[R].
 .TP
 \f[B]srand(x)\f[R]
 Returns \f[B]x\f[R] with its sign flipped with probability
@@ -1817,8 +1797,8 @@ If you want to use signed two\[cq]s complement arguments, use
 .TP
 \f[B]bshl(a, b)\f[R]
 Takes the truncated absolute value of both \f[B]a\f[R] and \f[B]b\f[R]
-and calculates and returns the result of \f[B]a\f[R] bit-shifted left by
-\f[B]b\f[R] places.
+and calculates and returns the result of \f[B]a\f[R] bit\-shifted left
+by \f[B]b\f[R] places.
 .RS
 .PP
 If you want to use signed two\[cq]s complement arguments, use
@@ -1828,7 +1808,7 @@ If you want to use signed two\[cq]s complement arguments, use
 \f[B]bshr(a, b)\f[R]
 Takes the truncated absolute value of both \f[B]a\f[R] and \f[B]b\f[R]
 and calculates and returns the truncated result of \f[B]a\f[R]
-bit-shifted right by \f[B]b\f[R] places.
+bit\-shifted right by \f[B]b\f[R] places.
 .RS
 .PP
 If you want to use signed two\[cq]s complement arguments, use
@@ -1847,7 +1827,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot8(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]8\f[R] binary digits (1 unsigned byte).
+though it has \f[B]8\f[R] binary digits (\f[B]1\f[R] unsigned byte).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1856,7 +1836,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot16(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]16\f[R] binary digits (2 unsigned bytes).
+though it has \f[B]16\f[R] binary digits (\f[B]2\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1865,7 +1845,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot32(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]32\f[R] binary digits (4 unsigned bytes).
+though it has \f[B]32\f[R] binary digits (\f[B]4\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1874,7 +1854,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot64(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]64\f[R] binary digits (8 unsigned bytes).
+though it has \f[B]64\f[R] binary digits (\f[B]8\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1892,7 +1872,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brevn(x, n)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has the same number of 8-bit bytes as the truncated absolute
+though it has the same number of 8\-bit bytes as the truncated absolute
 value of \f[B]n\f[R].
 .RS
 .PP
@@ -1902,7 +1882,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev8(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 8 binary digits (1 unsigned byte).
+though it has 8 binary digits (\f[B]1\f[R] unsigned byte).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1911,7 +1891,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev16(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 16 binary digits (2 unsigned bytes).
+though it has 16 binary digits (\f[B]2\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1920,7 +1900,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev32(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 32 binary digits (4 unsigned bytes).
+though it has 32 binary digits (\f[B]4\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1929,7 +1909,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev64(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 64 binary digits (8 unsigned bytes).
+though it has 64 binary digits (\f[B]8\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1947,11 +1927,11 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]broln(x, p, n)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has the same number of unsigned 8-bit bytes as
-the truncated absolute value of \f[B]n\f[R], by the number of places
+\f[B]x\f[R], as though it has the same number of unsigned 8\-bit bytes
+as the truncated absolute value of \f[B]n\f[R], by the number of places
 equal to the truncated absolute value of \f[B]p\f[R] modded by the
 \f[B]2\f[R] to the power of the number of binary digits in \f[B]n\f[R]
-8-bit bytes.
+8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1982,7 +1962,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brol32(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has \f[B]32\f[R] binary digits (\f[B]2\f[R]
+\f[B]x\f[R], as though it has \f[B]32\f[R] binary digits (\f[B]4\f[R]
 unsigned bytes), by the number of places equal to the truncated absolute
 value of \f[B]p\f[R] modded by \f[B]2\f[R] to the power of \f[B]32\f[R].
 .RS
@@ -1993,7 +1973,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brol64(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has \f[B]64\f[R] binary digits (\f[B]2\f[R]
+\f[B]x\f[R], as though it has \f[B]64\f[R] binary digits (\f[B]8\f[R]
 unsigned bytes), by the number of places equal to the truncated absolute
 value of \f[B]p\f[R] modded by \f[B]2\f[R] to the power of \f[B]64\f[R].
 .RS
@@ -2005,9 +1985,9 @@ If you want to a use signed two\[cq]s complement argument, use
 \f[B]brol(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
 \f[B]x\f[R], as though it has the minimum number of power of two
-unsigned 8-bit bytes, by the number of places equal to the truncated
+unsigned 8\-bit bytes, by the number of places equal to the truncated
 absolute value of \f[B]p\f[R] modded by 2 to the power of the number of
-binary digits in the minimum number of 8-bit bytes.
+binary digits in the minimum number of 8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2016,11 +1996,11 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brorn(x, p, n)\f[R]
 Does a right bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has the same number of unsigned 8-bit bytes as
-the truncated absolute value of \f[B]n\f[R], by the number of places
+\f[B]x\f[R], as though it has the same number of unsigned 8\-bit bytes
+as the truncated absolute value of \f[B]n\f[R], by the number of places
 equal to the truncated absolute value of \f[B]p\f[R] modded by the
 \f[B]2\f[R] to the power of the number of binary digits in \f[B]n\f[R]
-8-bit bytes.
+8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2074,9 +2054,9 @@ If you want to a use signed two\[cq]s complement argument, use
 \f[B]bror(x, p)\f[R]
 Does a right bitwise rotatation of the truncated absolute value of
 \f[B]x\f[R], as though it has the minimum number of power of two
-unsigned 8-bit bytes, by the number of places equal to the truncated
+unsigned 8\-bit bytes, by the number of places equal to the truncated
 absolute value of \f[B]p\f[R] modded by 2 to the power of the number of
-binary digits in the minimum number of 8-bit bytes.
+binary digits in the minimum number of 8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2130,7 +2110,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .RE
 .TP
 \f[B]bunrev(t)\f[R]
-Assumes \f[B]t\f[R] is a bitwise-reversed number with an extra set bit
+Assumes \f[B]t\f[R] is a bitwise\-reversed number with an extra set bit
 one place more significant than the real most significant bit (which was
 the least significant bit in the original number).
 This number is reversed and returned without the extra set bit.
@@ -2141,29 +2121,29 @@ meant to be used by users, but it can be.
 .RE
 .TP
 \f[B]plz(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed with a leading zero, regardless
-of the use of the \f[B]-z\f[R] option (see the \f[B]OPTIONS\f[R]
-section) and without a trailing newline.
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed with a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
+\f[B]OPTIONS\f[R] section) and without a trailing newline.
 .RS
 .PP
 Otherwise, \f[B]x\f[R] is printed normally, without a trailing newline.
 .RE
 .TP
 \f[B]plznl(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed with a leading zero, regardless
-of the use of the \f[B]-z\f[R] option (see the \f[B]OPTIONS\f[R]
-section) and with a trailing newline.
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed with a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
+\f[B]OPTIONS\f[R] section) and with a trailing newline.
 .RS
 .PP
 Otherwise, \f[B]x\f[R] is printed normally, with a trailing newline.
 .RE
 .TP
 \f[B]pnlz(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed without a leading zero,
-regardless of the use of the \f[B]-z\f[R] option (see the
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed without a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
 \f[B]OPTIONS\f[R] section) and without a trailing newline.
 .RS
 .PP
@@ -2171,9 +2151,9 @@ Otherwise, \f[B]x\f[R] is printed normally, without a trailing newline.
 .RE
 .TP
 \f[B]pnlznl(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed without a leading zero,
-regardless of the use of the \f[B]-z\f[R] option (see the
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed without a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
 \f[B]OPTIONS\f[R] section) and with a trailing newline.
 .RS
 .PP
@@ -2185,22 +2165,22 @@ Returns the numbers of unsigned integer bytes required to hold the
 truncated absolute value of \f[B]x\f[R].
 .TP
 \f[B]sbytes(x)\f[R]
-Returns the numbers of signed, two\[cq]s-complement integer bytes
+Returns the numbers of signed, two\[cq]s\-complement integer bytes
 required to hold the truncated value of \f[B]x\f[R].
 .TP
 \f[B]s2u(x)\f[R]
-Returns \f[B]x\f[R] if it is non-negative.
+Returns \f[B]x\f[R] if it is non\-negative.
 If it \f[I]is\f[R] negative, then it calculates what \f[B]x\f[R] would
-be as a 2\[cq]s-complement signed integer and returns the non-negative
+be as a 2\[cq]s\-complement signed integer and returns the non\-negative
 integer that would have the same representation in binary.
 .TP
 \f[B]s2un(x,n)\f[R]
-Returns \f[B]x\f[R] if it is non-negative.
+Returns \f[B]x\f[R] if it is non\-negative.
 If it \f[I]is\f[R] negative, then it calculates what \f[B]x\f[R] would
-be as a 2\[cq]s-complement signed integer with \f[B]n\f[R] bytes and
-returns the non-negative integer that would have the same representation
-in binary.
-If \f[B]x\f[R] cannot fit into \f[B]n\f[R] 2\[cq]s-complement signed
+be as a 2\[cq]s\-complement signed integer with \f[B]n\f[R] bytes and
+returns the non\-negative integer that would have the same
+representation in binary.
+If \f[B]x\f[R] cannot fit into \f[B]n\f[R] 2\[cq]s\-complement signed
 bytes, it is truncated to fit.
 .TP
 \f[B]hex(x)\f[R]
@@ -2244,7 +2224,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in as few power of two bytes as
+a signed, two\[cq]s\-complement integer in as few power of two bytes as
 possible.
 Both outputs are split into bytes separated by spaces.
 .RS
@@ -2272,7 +2252,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]intn(x, n)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]n\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]n\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2300,7 +2280,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int8(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]1\f[R] byte.
+a signed, two\[cq]s\-complement integer in \f[B]1\f[R] byte.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2328,7 +2308,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int16(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]2\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]2\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2356,7 +2336,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int32(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]4\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]4\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2384,7 +2364,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int64(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]8\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]8\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2431,14 +2411,13 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 \f[B]output_byte(x, i)\f[R]
 Outputs byte \f[B]i\f[R] of the truncated absolute value of \f[B]x\f[R],
 where \f[B]0\f[R] is the least significant byte and \f[B]number_of_bytes
-- 1\f[R] is the most significant byte.
+\- 1\f[R] is the most significant byte.
 .RS
 .PP
 This is a \f[B]void\f[R] function (see the \f[I]Void Functions\f[R]
 subsection of the \f[B]FUNCTIONS\f[R] section).
 .RE
 .SS Transcendental Functions
-.PP
 All transcendental functions can return slightly inaccurate results, up
 to 1 ULP (https://en.wikipedia.org/wiki/Unit_in_the_last_place).
 This is unavoidable, and the article at
@@ -2494,8 +2473,7 @@ The transcendental functions in the extended math library are:
 .IP \[bu] 2
 \f[B]d2r(x)\f[R]
 .SH RESET
-.PP
-When bc(1) encounters an error or a signal that it has a non-default
+When bc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
@@ -2515,7 +2493,6 @@ Note that this reset behavior is different from the GNU bc(1), which
 attempts to start executing the statement right after the one that
 caused an error.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This bc(1) does something different.
@@ -2538,7 +2515,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bc(1):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -2568,29 +2544,29 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]rand()\f[R]
 operand.
-Set at \f[B]2\[ha]BC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]BC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -2598,29 +2574,28 @@ Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
 The actual values can be queried with the \f[B]limits\f[R] statement.
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], bc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], bc(1) recognizes the following
 environment variables:
 .TP
 \f[B]POSIXLY_CORRECT\f[R]
 If this variable exists (no matter the contents), bc(1) behaves as if
-the \f[B]-s\f[R] option was given.
+the \f[B]\-s\f[R] option was given.
 .TP
 \f[B]BC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to bc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to bc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]BC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
@@ -2641,14 +2616,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]BC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]BC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), bc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), bc(1) will output lines to that length,
 including the backslash (\f[B]\[rs]\f[R]).
 The default line length is \f[B]70\f[R].
 .RS
@@ -2660,7 +2635,7 @@ newlines.
 .TP
 \f[B]BC_BANNER\f[R]
 If this environment variable exists and contains an integer, then a
-non-zero value activates the copyright banner when bc(1) is in
+non\-zero value activates the copyright banner when bc(1) is in
 interactive mode, while zero deactivates it.
 .RS
 .PP
@@ -2669,7 +2644,7 @@ section), then this environment variable has no effect because bc(1)
 does not print the banner when not in interactive mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_SIGINT_RESET\f[R]
@@ -2679,13 +2654,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when bc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes bc(1)
+variable exists and contains an integer, a non\-zero value makes bc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes bc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then bc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_TTY_MODE\f[R]
@@ -2694,11 +2669,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes bc(1) use
+exists and contains an integer, then a non\-zero value makes bc(1) use
 TTY mode, and zero makes bc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_PROMPT\f[R]
@@ -2707,46 +2682,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes bc(1) use a
-prompt, and zero or a non-integer makes bc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes bc(1) use a
+prompt, and zero or a non\-integer makes bc(1) not use a prompt.
 If this environment variable does not exist and \f[B]BC_TTY_MODE\f[R]
 does, then the value of the \f[B]BC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]BC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes bc(1) exit after executing the
-expressions and expression files, and a zero value makes bc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes bc(1) exit after executing
+the expressions and expression files, and a zero value makes bc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes bc(1) clamp digits that are
+contains an integer, a non\-zero value makes bc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the standard (see the
-\f[B]STANDARDS\f[R] section).
+This never applies to single\-digit numbers, as per the standard (see
+the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 bc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -2760,10 +2735,10 @@ since math errors will happen in the process of normal execution.
 .PP
 Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, using a negative number as a bound for the
-pseudo-random number generator, attempting to convert a negative number
+pseudo\-random number generator, attempting to convert a negative number
 to a hardware integer, overflow when converting a number to a hardware
 integer, overflow when calculating the size of a number, and attempting
-to use a non-integer where an integer is required.
+to use a non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]), places (\f[B]\[at]\f[R]), left shift
@@ -2785,7 +2760,7 @@ giving an invalid \f[B]auto\f[R] list, having a duplicate
 \f[B]auto\f[R]/function parameter, failing to find the end of a code
 block, attempting to return a value from a \f[B]void\f[R] function,
 attempting to use a variable as a reference, and using any extensions
-when the option \f[B]-s\f[R] or any equivalents were given.
+when the option \f[B]\-s\f[R] or any equivalents were given.
 .RE
 .TP
 \f[B]3\f[R]
@@ -2808,7 +2783,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (bc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, bc(1)
@@ -2819,18 +2794,18 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 bc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow bc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
 Per the standard (see the \f[B]STANDARDS\f[R] section), bc(1) has an
-interactive mode and a non-interactive mode.
+interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, bc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -2839,7 +2814,6 @@ bc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]BC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, bc(1) can turn on TTY mode, subject to some
@@ -2847,44 +2821,42 @@ settings.
 .PP
 If there is the environment variable \f[B]BC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, bc(1) will turn
+that environment variable contains a non\-zero integer, bc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]BC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then bc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then bc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]BC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) standard (see the \f[B]STANDARDS\f[R] section),
 and interactive mode requires only \f[B]stdin\f[R] and \f[B]stdout\f[R]
 to be connected to a terminal.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]BC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]BC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]BC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]BC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]BC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause bc(1) to do one of two things.
 .PP
 If bc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -2893,7 +2865,7 @@ section), or the \f[B]BC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, bc(1) will exit.
 .PP
 However, if bc(1) is in interactive mode, and the
-\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then bc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -2916,18 +2888,15 @@ the user to continue.
 \f[B]SIGTERM\f[R] and \f[B]SIGQUIT\f[R] cause bc(1) to clean up and
 exit, and it uses the default handler for all other signals.
 .SH LOCALES
-.PP
 This bc(1) ships with support for adding error messages for different
 locales and thus, supports \f[B]LC_MESSAGES\f[R].
 .SH SEE ALSO
-.PP
 dc(1)
 .SH STANDARDS
-.PP
-bc(1) is compliant with the IEEE Std 1003.1-2017
-(\[lq]POSIX.1-2017\[rq]) specification at
+bc(1) is compliant with the IEEE Std 1003.1\-2017
+(\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
-The flags \f[B]-efghiqsvVw\f[R], all long options, and the extensions
+The flags \f[B]\-efghiqsvVw\f[R], all long options, and the extensions
 noted above are extensions to that specification.
 .PP
 In addition, the behavior of the \f[B]quit\f[R] implements an
@@ -2943,13 +2912,13 @@ the value of \f[B]LC_NUMERIC\f[R].
 This bc(1) supports error messages for different locales, and thus, it
 supports \f[B]LC_MESSAGES\f[R].
 .SH BUGS
-.PP
 Before version \f[B]6.1.0\f[R], this bc(1) had incorrect behavior for
 the \f[B]quit\f[R] statement.
 .PP
 No other bugs are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bc/H.1.md b/manuals/bc/H.1.md
index 2cb0b4eb..fbc0658d 100644
--- a/manuals/bc/H.1.md
+++ b/manuals/bc/H.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -811,6 +811,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 **\$**
@@ -1068,7 +1071,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
@@ -1259,6 +1262,14 @@ The extended library is a **non-portable extension**.
 
 :   Returns the factorial of the truncated absolute value of **x**.
 
+**max(a, b)**
+
+:   Returns **a** if **a** is greater than **b**; otherwise, returns **b**.
+
+**min(a, b)**
+
+:   Returns **a** if **a** is less than **b**; otherwise, returns **b**.
+
 **perm(n, k)**
 
 :   Returns the permutation of the truncated absolute value of **n** of the
@@ -1269,6 +1280,10 @@ The extended library is a **non-portable extension**.
 :   Returns the combination of the truncated absolute value of **n** of the
     truncated absolute value of **k**, if **k \<= n**. If not, it returns **0**.
 
+**fib(n)**
+
+:   Returns the Fibonacci number of the truncated absolute value of **n**.
+
 **l2(x)**
 
 :   Returns the logarithm base **2** of **x**.
@@ -1431,7 +1446,15 @@ The extended library is a **non-portable extension**.
     digits after the decimal point equal to the truncated absolute value of
     **p**. If the absolute value of **i** is greater than or equal to **2**, and
     **p** is not **0**, then calling this function will change the value of
-    **seed**; otherwise, **0** is returned and **seed** is not changed.
+    **seed**; otherwise, **0** is returned, and **seed** is not changed.
+
+**i2rand(a, b)**
+
+:   Takes the truncated value of **a** and **b** and uses them as inclusive
+    bounds to enerate a pseudo-random integer. If the difference of the
+    truncated values of **a** and **b** is **0**, then the truncated value is
+    returned, and **seed** is *not* changed. Otherwise, this function will
+    change the value of **seed**.
 
 **srand(x)**
 
@@ -1493,7 +1516,7 @@ The extended library is a **non-portable extension**.
 **bnot8(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **8** binary digits (1 unsigned byte).
+    **8** binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1501,7 +1524,7 @@ The extended library is a **non-portable extension**.
 **bnot16(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **16** binary digits (2 unsigned bytes).
+    **16** binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1509,7 +1532,7 @@ The extended library is a **non-portable extension**.
 **bnot32(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **32** binary digits (4 unsigned bytes).
+    **32** binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1517,7 +1540,7 @@ The extended library is a **non-portable extension**.
 **bnot64(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **64** binary digits (8 unsigned bytes).
+    **64** binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1541,7 +1564,7 @@ The extended library is a **non-portable extension**.
 **brev8(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 8 binary digits (1 unsigned byte).
+    has 8 binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1549,7 +1572,7 @@ The extended library is a **non-portable extension**.
 **brev16(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 16 binary digits (2 unsigned bytes).
+    has 16 binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1557,7 +1580,7 @@ The extended library is a **non-portable extension**.
 **brev32(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 32 binary digits (4 unsigned bytes).
+    has 32 binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1565,7 +1588,7 @@ The extended library is a **non-portable extension**.
 **brev64(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 64 binary digits (8 unsigned bytes).
+    has 64 binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1612,7 +1635,7 @@ The extended library is a **non-portable extension**.
 **brol32(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **32** binary digits (**2** unsigned bytes), by the number of
+    though it has **32** binary digits (**4** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **32**.
 
@@ -1622,7 +1645,7 @@ The extended library is a **non-portable extension**.
 **brol64(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **64** binary digits (**2** unsigned bytes), by the number of
+    though it has **64** binary digits (**8** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **64**.
 
diff --git a/manuals/bc/HN.1 b/manuals/bc/HN.1
index 10d9621c..7b4577f2 100644
--- a/manuals/bc/HN.1
+++ b/manuals/bc/HN.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,41 +25,38 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bc - arbitrary-precision decimal arithmetic language and calculator
+bc \- arbitrary\-precision decimal arithmetic language and calculator
 .SH SYNOPSIS
-.PP
-\f[B]bc\f[R] [\f[B]-cCghilPqRsvVw\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--global-stacks\f[R]]
-[\f[B]--help\f[R]] [\f[B]--interactive\f[R]] [\f[B]--mathlib\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]] [\f[B]--quiet\f[R]]
-[\f[B]--standard\f[R]] [\f[B]--warn\f[R]] [\f[B]--version\f[R]]
-[\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]bc\f[R] [\f[B]\-cCghilPqRsvVw\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-global\-stacks\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-interactive\f[R]] [\f[B]\-\-mathlib\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-quiet\f[R]] [\f[B]\-\-standard\f[R]] [\f[B]\-\-warn\f[R]]
+[\f[B]\-\-version\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
-[\f[B]-I\f[R] \f[I]ibase\f[R]] [\f[B]--ibase\f[R]=\f[I]ibase\f[R]]
-[\f[B]-O\f[R] \f[I]obase\f[R]] [\f[B]--obase\f[R]=\f[I]obase\f[R]]
-[\f[B]-S\f[R] \f[I]scale\f[R]] [\f[B]--scale\f[R]=\f[I]scale\f[R]]
-[\f[B]-E\f[R] \f[I]seed\f[R]] [\f[B]--seed\f[R]=\f[I]seed\f[R]]
+[\f[B]\-I\f[R] \f[I]ibase\f[R]] [\f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]]
+[\f[B]\-O\f[R] \f[I]obase\f[R]] [\f[B]\-\-obase\f[R]=\f[I]obase\f[R]]
+[\f[B]\-S\f[R] \f[I]scale\f[R]] [\f[B]\-\-scale\f[R]=\f[I]scale\f[R]]
+[\f[B]\-E\f[R] \f[I]seed\f[R]] [\f[B]\-\-seed\f[R]=\f[I]seed\f[R]]
 .SH DESCRIPTION
-.PP
 bc(1) is an interactive processor for a language first standardized in
 1991 by POSIX.
 (See the \f[B]STANDARDS\f[R] section.)
 The language provides unlimited precision decimal arithmetic and is
-somewhat C-like, but there are differences.
+somewhat C\-like, but there are differences.
 Such differences will be noted in this document.
 .PP
 After parsing and handling options, this bc(1) reads any files given on
 the command line and executes them before reading from \f[B]stdin\f[R].
 .PP
-This bc(1) is a drop-in replacement for \f[I]any\f[R] bc(1), including
+This bc(1) is a drop\-in replacement for \f[I]any\f[R] bc(1), including
 (and especially) the GNU bc(1).
 It also has many extensions and extra features beyond other
 implementations.
@@ -68,19 +65,18 @@ implementations.
 another bc(1) gives a parse error, it is probably because a word this
 bc(1) reserves as a keyword is used as the name of a function, variable,
 or array.
-To fix that, use the command-line option \f[B]-r\f[R] \f[I]keyword\f[R],
-where \f[I]keyword\f[R] is the keyword that is used as a name in the
-script.
+To fix that, use the command\-line option \f[B]\-r\f[R]
+\f[I]keyword\f[R], where \f[I]keyword\f[R] is the keyword that is used
+as a name in the script.
 For more information, see the \f[B]OPTIONS\f[R] section.
 .PP
 If parsing scripts meant for other bc(1) implementations still does not
 work, that is a bug and should be reported.
 See the \f[B]BUGS\f[R] section.
 .SH OPTIONS
-.PP
 The following are the options that bc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -90,17 +86,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -111,17 +107,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-E\f[R] \f[I]seed\f[R], \f[B]--seed\f[R]=\f[I]seed\f[R]
+\f[B]\-E\f[R] \f[I]seed\f[R], \f[B]\-\-seed\f[R]=\f[I]seed\f[R]
 Sets the builtin variable \f[B]seed\f[R] to the value \f[I]seed\f[R]
 assuming that \f[I]seed\f[R] is in base 10.
 It is a fatal error if \f[I]seed\f[R] is not a valid number.
@@ -129,54 +125,54 @@ It is a fatal error if \f[I]seed\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
-If files are given as well (see the \f[B]-f\f[R] and \f[B]--file\f[R]
+If files are given as well (see the \f[B]\-f\f[R] and \f[B]\-\-file\f[R]
 options), the expressions and files are evaluated in the order given.
 This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]BC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
-If expressions are also given (see the \f[B]-e\f[R] and
-\f[B]--expression\f[R] options), the expressions are evaluated in the
+If expressions are also given (see the \f[B]\-e\f[R] and
+\f[B]\-\-expression\f[R] options), the expressions are evaluated in the
 order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-g\f[R], \f[B]--global-stacks\f[R]
+\f[B]\-g\f[R], \f[B]\-\-global\-stacks\f[R]
 Turns the globals \f[B]ibase\f[R], \f[B]obase\f[R], \f[B]scale\f[R], and
 \f[B]seed\f[R] into stacks.
 .RS
@@ -189,19 +185,16 @@ without worrying that the change will affect other functions.
 Thus, a hypothetical function named \f[B]output(x,b)\f[R] that simply
 printed \f[B]x\f[R] in base \f[B]b\f[R] could be written like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     obase=b
     x
 }
-\f[R]
-.fi
+.EE
 .PP
 instead of like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     auto c
     c=obase
@@ -209,8 +202,7 @@ define void output(x, b) {
     x
     obase=c
 }
-\f[R]
-.fi
+.EE
 .PP
 This makes writing functions much easier.
 .PP
@@ -228,12 +220,10 @@ converter, it is possible to replace that capability with various shell
 aliases.
 Examples:
 .IP
-.nf
-\f[C]
-alias d2o=\[dq]bc -e ibase=A -e obase=8\[dq]
-alias h2b=\[dq]bc -e ibase=G -e obase=2\[dq]
-\f[R]
-.fi
+.EX
+alias d2o=\[dq]bc \-e ibase=A \-e obase=8\[dq]
+alias h2b=\[dq]bc \-e ibase=G \-e obase=2\[dq]
+.EE
 .PP
 Second, if the purpose of a function is to set \f[B]ibase\f[R],
 \f[B]obase\f[R], \f[B]scale\f[R], or \f[B]seed\f[R] globally for any
@@ -243,35 +233,34 @@ desired value for a global.
 .PP
 For functions that set \f[B]seed\f[R], the value assigned to
 \f[B]seed\f[R] is not propagated to parent functions.
-This means that the sequence of pseudo-random numbers that they see will
-not be the same sequence of pseudo-random numbers that any parent sees.
+This means that the sequence of pseudo\-random numbers that they see
+will not be the same sequence of pseudo\-random numbers that any parent
+sees.
 This is only the case once \f[B]seed\f[R] has been set.
 .PP
-If a function desires to not affect the sequence of pseudo-random
+If a function desires to not affect the sequence of pseudo\-random
 numbers of its parents, but wants to use the same \f[B]seed\f[R], it can
 use the following line:
 .IP
-.nf
-\f[C]
+.EX
 seed = seed
-\f[R]
-.fi
+.EE
 .PP
 If the behavior of this option is desired for every run of bc(1), then
 users could make sure to define \f[B]BC_ENV_ARGS\f[R] and include this
 option (see the \f[B]ENVIRONMENT VARIABLES\f[R] section for more
 details).
 .PP
-If \f[B]-s\f[R], \f[B]-w\f[R], or any equivalents are used, this option
-is ignored.
+If \f[B]\-s\f[R], \f[B]\-w\f[R], or any equivalents are used, this
+option is ignored.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -279,28 +268,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-l\f[R], \f[B]--mathlib\f[R]
+\f[B]\-l\f[R], \f[B]\-\-mathlib\f[R]
 Sets \f[B]scale\f[R] (see the \f[B]SYNTAX\f[R] section) to \f[B]20\f[R]
 and loads the included math library and the extended math library before
 running any code, including any expressions or files specified on the
@@ -310,7 +299,7 @@ command line.
 To learn what is in the libraries, see the \f[B]LIBRARY\f[R] section.
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -318,10 +307,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -334,26 +323,26 @@ Most of those users would want to put this option in
 These options override the \f[B]BC_PROMPT\f[R] and \f[B]BC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-q\f[R], \f[B]--quiet\f[R]
+\f[B]\-q\f[R], \f[B]\-\-quiet\f[R]
 This option is for compatibility with the GNU bc(1)
-(https://www.gnu.org/software/bc/); it is a no-op.
+(https://www.gnu.org/software/bc/); it is a no\-op.
 Without this option, GNU bc(1) prints a copyright header.
 This bc(1) only prints the copyright header if one or more of the
-\f[B]-v\f[R], \f[B]-V\f[R], or \f[B]--version\f[R] options are given
+\f[B]\-v\f[R], \f[B]\-V\f[R], or \f[B]\-\-version\f[R] options are given
 unless the \f[B]BC_BANNER\f[R] environment variable is set and contains
-a non-zero integer or if this bc(1) was built with the header displayed
+a non\-zero integer or if this bc(1) was built with the header displayed
 by default.
 If \f[I]any\f[R] of that is the case, then this option \f[I]does\f[R]
 prevent bc(1) from printing the header.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -366,16 +355,16 @@ prompt for user input.
 .RS
 .PP
 This option does not disable the regular prompt because the read prompt
-is only used when the \f[B]read()\f[R] built-in function is called.
+is only used when the \f[B]read()\f[R] built\-in function is called.
 .PP
 These options \f[I]do\f[R] override the \f[B]BC_PROMPT\f[R] and
 \f[B]BC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-r\f[R] \f[I]keyword\f[R], \f[B]--redefine\f[R]=\f[I]keyword\f[R]
+\f[B]\-r\f[R] \f[I]keyword\f[R], \f[B]\-\-redefine\f[R]=\f[I]keyword\f[R]
 Redefines \f[I]keyword\f[R] in order to allow it to be used as a
 function, variable, or array name.
 This is useful when this bc(1) gives parse errors when parsing scripts
@@ -436,7 +425,7 @@ It is a fatal error to attempt to redefine words that this bc(1) does
 not reserve as keywords.
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -444,35 +433,35 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-s\f[R], \f[B]--standard\f[R]
+\f[B]\-s\f[R], \f[B]\-\-standard\f[R]
 Process exactly the language defined by the standard (see the
 \f[B]STANDARDS\f[R] section) and error if any extensions are used.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-w\f[R], \f[B]--warn\f[R]
-Like \f[B]-s\f[R] and \f[B]--standard\f[R], except that warnings (and
-not errors) are printed for non-standard extensions and execution
+\f[B]\-w\f[R], \f[B]\-\-warn\f[R]
+Like \f[B]\-s\f[R] and \f[B]\-\-standard\f[R], except that warnings (and
+not errors) are printed for non\-standard extensions and execution
 continues normally.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes bc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes bc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
@@ -480,15 +469,14 @@ This can be set for individual numbers with the \f[B]plz(x)\f[R],
 \f[B]plznl(x)\f[R], \f[B]pnlz(x)\f[R], and \f[B]pnlznl(x)\f[R] functions
 in the extended math library (see the \f[B]LIBRARY\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files or expressions are given by the \f[B]-f\f[R],
-\f[B]--file\f[R], \f[B]-e\f[R], or \f[B]--expression\f[R] options, then
-bc(1) reads from \f[B]stdin\f[R].
+If no files or expressions are given by the \f[B]\-f\f[R],
+\f[B]\-\-file\f[R], \f[B]\-e\f[R], or \f[B]\-\-expression\f[R] options,
+then bc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there are a few caveats to this.
 .PP
@@ -502,8 +490,7 @@ Second, after an \f[B]if\f[R] statement, bc(1) doesn\[cq]t know if an
 \f[B]else\f[R] statement will follow, so it will not execute until it
 knows there will not be an \f[B]else\f[R] statement.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -511,7 +498,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]bc >&-\f[R], it will quit with an error.
+\f[B]bc  >&\-\f[R], it will quit with an error.
 This is done so that bc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -519,13 +506,12 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]bc 2>&-\f[R], it will quit with an error.
+\f[B]bc  2>&\-\f[R], it will quit with an error.
 This is done so that bc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -533,8 +519,7 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
-The syntax for bc(1) programs is mostly C-like, with some differences.
+The syntax for bc(1) programs is mostly C\-like, with some differences.
 This bc(1) follows the POSIX standard (see the \f[B]STANDARDS\f[R]
 section), which is a much more thorough resource for the language this
 bc(1) accepts.
@@ -545,32 +530,32 @@ In the sections below, \f[B]E\f[R] means expression, \f[B]S\f[R] means
 statement, and \f[B]I\f[R] means identifier.
 .PP
 Identifiers (\f[B]I\f[R]) start with a lowercase letter and can be
-followed by any number (up to \f[B]BC_NAME_MAX-1\f[R]) of lowercase
-letters (\f[B]a-z\f[R]), digits (\f[B]0-9\f[R]), and underscores
+followed by any number (up to \f[B]BC_NAME_MAX\-1\f[R]) of lowercase
+letters (\f[B]a\-z\f[R]), digits (\f[B]0\-9\f[R]), and underscores
 (\f[B]_\f[R]).
-The regex is \f[B][a-z][a-z0-9_]*\f[R].
+The regex is \f[B][a\-z][a\-z0\-9_]*\f[R].
 Identifiers with more than one character (letter) are a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .PP
 \f[B]ibase\f[R] is a global variable determining how to interpret
 constant numbers.
 It is the \[lq]input\[rq] base, or the number base used for interpreting
 input numbers.
 \f[B]ibase\f[R] is initially \f[B]10\f[R].
-If the \f[B]-s\f[R] (\f[B]--standard\f[R]) and \f[B]-w\f[R]
-(\f[B]--warn\f[R]) flags were not given on the command line, the max
+If the \f[B]\-s\f[R] (\f[B]\-\-standard\f[R]) and \f[B]\-w\f[R]
+(\f[B]\-\-warn\f[R]) flags were not given on the command line, the max
 allowable value for \f[B]ibase\f[R] is \f[B]36\f[R].
 Otherwise, it is \f[B]16\f[R].
 The min allowable value for \f[B]ibase\f[R] is \f[B]2\f[R].
 The max allowable value for \f[B]ibase\f[R] can be queried in bc(1)
-programs with the \f[B]maxibase()\f[R] built-in function.
+programs with the \f[B]maxibase()\f[R] built\-in function.
 .PP
 \f[B]obase\f[R] is a global variable determining how to output results.
 It is the \[lq]output\[rq] base, or the number base used for outputting
 numbers.
 \f[B]obase\f[R] is initially \f[B]10\f[R].
 The max allowable value for \f[B]obase\f[R] is \f[B]BC_BASE_MAX\f[R] and
-can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built-in
+can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built\-in
 function.
 The min allowable value for \f[B]obase\f[R] is \f[B]0\f[R].
 If \f[B]obase\f[R] is \f[B]0\f[R], values are output in scientific
@@ -578,8 +563,8 @@ notation, and if \f[B]obase\f[R] is \f[B]1\f[R], values are output in
 engineering notation.
 Otherwise, values are output in the specified base.
 .PP
-Outputting in scientific and engineering notations are \f[B]non-portable
-extensions\f[R].
+Outputting in scientific and engineering notations are
+\f[B]non\-portable extensions\f[R].
 .PP
 The \f[I]scale\f[R] of an expression is the number of digits in the
 result of the expression right of the decimal point, and \f[B]scale\f[R]
@@ -589,7 +574,7 @@ exceptions.
 \f[B]scale\f[R] cannot be negative.
 The max allowable value for \f[B]scale\f[R] is \f[B]BC_SCALE_MAX\f[R]
 and can be queried in bc(1) programs with the \f[B]maxscale()\f[R]
-built-in function.
+built\-in function.
 .PP
 bc(1) has both \f[I]global\f[R] variables and \f[I]local\f[R] variables.
 All \f[I]local\f[R] variables are local to the function; they are
@@ -614,20 +599,18 @@ The value that is printed is also assigned to the special variable
 \f[B]last\f[R].
 A single dot (\f[B].\f[R]) may also be used as a synonym for
 \f[B]last\f[R].
-These are \f[B]non-portable extensions\f[R].
+These are \f[B]non\-portable extensions\f[R].
 .PP
 Either semicolons or newlines may separate statements.
 .SS Comments
-.PP
 There are two kinds of comments:
 .IP "1." 3
 Block comments are enclosed in \f[B]/*\f[R] and \f[B]*/\f[R].
 .IP "2." 3
 Line comments go from \f[B]#\f[R] until, and not including, the next
 newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Named Expressions
-.PP
 The following are named expressions in bc(1):
 .IP "1." 3
 Variables: \f[B]I\f[R]
@@ -644,26 +627,26 @@ Array Elements: \f[B]I[E]\f[R]
 .IP "7." 3
 \f[B]last\f[R] or a single dot (\f[B].\f[R])
 .PP
-Numbers 6 and 7 are \f[B]non-portable extensions\f[R].
+Numbers 6 and 7 are \f[B]non\-portable extensions\f[R].
 .PP
-The meaning of \f[B]seed\f[R] is dependent on the current pseudo-random
+The meaning of \f[B]seed\f[R] is dependent on the current pseudo\-random
 number generator but is guaranteed to not change except for new major
 versions.
 .PP
 The \f[I]scale\f[R] and sign of the value may be significant.
 .PP
 If a previously used \f[B]seed\f[R] value is assigned to \f[B]seed\f[R]
-and used again, the pseudo-random number generator is guaranteed to
-produce the same sequence of pseudo-random numbers as it did when the
+and used again, the pseudo\-random number generator is guaranteed to
+produce the same sequence of pseudo\-random numbers as it did when the
 \f[B]seed\f[R] value was previously used.
 .PP
 The exact value assigned to \f[B]seed\f[R] is not guaranteed to be
 returned if \f[B]seed\f[R] is queried again immediately.
 However, if \f[B]seed\f[R] \f[I]does\f[R] return a different value, both
 values, when assigned to \f[B]seed\f[R], are guaranteed to produce the
-same sequence of pseudo-random numbers.
+same sequence of pseudo\-random numbers.
 This means that certain values assigned to \f[B]seed\f[R] will
-\f[I]not\f[R] produce unique sequences of pseudo-random numbers.
+\f[I]not\f[R] produce unique sequences of pseudo\-random numbers.
 The value of \f[B]seed\f[R] will change after any use of the
 \f[B]rand()\f[R] and \f[B]irand(E)\f[R] operands (see the
 \f[I]Operands\f[R] subsection below), except if the parameter passed to
@@ -684,7 +667,6 @@ Named expressions are required as the operand of
 of \f[B]assignment\f[R] operators (see the \f[I]Operators\f[R]
 subsection).
 .SS Operands
-.PP
 The following are valid operands in bc(1):
 .IP " 1." 4
 Numbers (see the \f[I]Numbers\f[R] subsection below).
@@ -694,61 +676,61 @@ Array indices (\f[B]I[E]\f[R]).
 \f[B](E)\f[R]: The value of \f[B]E\f[R] (used to change precedence).
 .IP " 4." 4
 \f[B]sqrt(E)\f[R]: The square root of \f[B]E\f[R].
-\f[B]E\f[R] must be non-negative.
+\f[B]E\f[R] must be non\-negative.
 .IP " 5." 4
 \f[B]length(E)\f[R]: The number of significant decimal digits in
 \f[B]E\f[R].
 Returns \f[B]1\f[R] for \f[B]0\f[R] with no decimal places.
 If given a string, the length of the string is returned.
-Passing a string to \f[B]length(E)\f[R] is a \f[B]non-portable
+Passing a string to \f[B]length(E)\f[R] is a \f[B]non\-portable
 extension\f[R].
 .IP " 6." 4
 \f[B]length(I[])\f[R]: The number of elements in the array \f[B]I\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 7." 4
 \f[B]scale(E)\f[R]: The \f[I]scale\f[R] of \f[B]E\f[R].
 .IP " 8." 4
 \f[B]abs(E)\f[R]: The absolute value of \f[B]E\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 9." 4
 \f[B]is_number(E)\f[R]: \f[B]1\f[R] if the given argument is a number,
 \f[B]0\f[R] if it is a string.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "10." 4
 \f[B]is_string(E)\f[R]: \f[B]1\f[R] if the given argument is a string,
 \f[B]0\f[R] if it is a number.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "11." 4
 \f[B]modexp(E, E, E)\f[R]: Modular exponentiation, where the first
 expression is the base, the second is the exponent, and the third is the
 modulus.
 All three values must be integers.
-The second argument must be non-negative.
-The third argument must be non-zero.
-This is a \f[B]non-portable extension\f[R].
+The second argument must be non\-negative.
+The third argument must be non\-zero.
+This is a \f[B]non\-portable extension\f[R].
 .IP "12." 4
 \f[B]divmod(E, E, I[])\f[R]: Division and modulus in one operation.
 This is for optimization.
 The first expression is the dividend, and the second is the divisor,
-which must be non-zero.
+which must be non\-zero.
 The return value is the quotient, and the modulus is stored in index
 \f[B]0\f[R] of the provided array (the last argument).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "13." 4
 \f[B]asciify(E)\f[R]: If \f[B]E\f[R] is a string, returns a string that
 is the first letter of its argument.
 If it is a number, calculates the number mod \f[B]256\f[R] and returns
-that number as a one-character string.
-This is a \f[B]non-portable extension\f[R].
+that number as a one\-character string.
+This is a \f[B]non\-portable extension\f[R].
 .IP "14." 4
 \f[B]asciify(I[])\f[R]: A string that is made up of the characters that
 would result from running \f[B]asciify(E)\f[R] on each element of the
 array identified by the argument.
-This allows creating multi-character strings and storing them.
-This is a \f[B]non-portable extension\f[R].
+This allows creating multi\-character strings and storing them.
+This is a \f[B]non\-portable extension\f[R].
 .IP "15." 4
 \f[B]I()\f[R], \f[B]I(E)\f[R], \f[B]I(E, E)\f[R], and so on, where
-\f[B]I\f[R] is an identifier for a non-\f[B]void\f[R] function (see the
+\f[B]I\f[R] is an identifier for a non\-\f[B]void\f[R] function (see the
 \f[I]Void Functions\f[R] subsection of the \f[B]FUNCTIONS\f[R] section).
 The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]I[]\f[R], which will automatically be turned into array references
@@ -760,47 +742,47 @@ function definition is an array reference.
 expression.
 The result of that expression is the result of the \f[B]read()\f[R]
 operand.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "17." 4
 \f[B]maxibase()\f[R]: The max allowable \f[B]ibase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "18." 4
 \f[B]maxobase()\f[R]: The max allowable \f[B]obase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "19." 4
 \f[B]maxscale()\f[R]: The max allowable \f[B]scale\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "20." 4
 \f[B]line_length()\f[R]: The line length set with
 \f[B]BC_LINE_LENGTH\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "21." 4
 \f[B]global_stacks()\f[R]: \f[B]0\f[R] if global stacks are not enabled
-with the \f[B]-g\f[R] or \f[B]--global-stacks\f[R] options, non-zero
-otherwise.
+with the \f[B]\-g\f[R] or \f[B]\-\-global\-stacks\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "22." 4
 \f[B]leading_zero()\f[R]: \f[B]0\f[R] if leading zeroes are not enabled
-with the \f[B]-z\f[R] or \f[B]\[en]leading-zeroes\f[R] options, non-zero
-otherwise.
+with the \f[B]\-z\f[R] or \f[B]\[en]leading\-zeroes\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "23." 4
-\f[B]rand()\f[R]: A pseudo-random integer between \f[B]0\f[R]
+\f[B]rand()\f[R]: A pseudo\-random integer between \f[B]0\f[R]
 (inclusive) and \f[B]BC_RAND_MAX\f[R] (inclusive).
 Using this operand will change the value of \f[B]seed\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "24." 4
-\f[B]irand(E)\f[R]: A pseudo-random integer between \f[B]0\f[R]
+\f[B]irand(E)\f[R]: A pseudo\-random integer between \f[B]0\f[R]
 (inclusive) and the value of \f[B]E\f[R] (exclusive).
-If \f[B]E\f[R] is negative or is a non-integer (\f[B]E\f[R]\[cq]s
+If \f[B]E\f[R] is negative or is a non\-integer (\f[B]E\f[R]\[cq]s
 \f[I]scale\f[R] is not \f[B]0\f[R]), an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section) while \f[B]seed\f[R] remains
 unchanged.
 If \f[B]E\f[R] is larger than \f[B]BC_RAND_MAX\f[R], the higher bound is
-honored by generating several pseudo-random integers, multiplying them
+honored by generating several pseudo\-random integers, multiplying them
 by appropriate powers of \f[B]BC_RAND_MAX+1\f[R], and adding them
 together.
 Thus, the size of integer that can be generated with this operand is
@@ -809,27 +791,26 @@ Using this operand will change the value of \f[B]seed\f[R], unless the
 value of \f[B]E\f[R] is \f[B]0\f[R] or \f[B]1\f[R].
 In that case, \f[B]0\f[R] is returned, and \f[B]seed\f[R] is
 \f[I]not\f[R] changed.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "25." 4
 \f[B]maxrand()\f[R]: The max integer returned by \f[B]rand()\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .PP
 The integers generated by \f[B]rand()\f[R] and \f[B]irand(E)\f[R] are
 guaranteed to be as unbiased as possible, subject to the limitations of
-the pseudo-random number generator.
+the pseudo\-random number generator.
 .PP
-\f[B]Note\f[R]: The values returned by the pseudo-random number
+\f[B]Note\f[R]: The values returned by the pseudo\-random number
 generator with \f[B]rand()\f[R] and \f[B]irand(E)\f[R] are guaranteed to
 \f[I]NOT\f[R] be cryptographically secure.
-This is a consequence of using a seeded pseudo-random number generator.
+This is a consequence of using a seeded pseudo\-random number generator.
 However, they \f[I]are\f[R] guaranteed to be reproducible with identical
 \f[B]seed\f[R] values.
-This means that the pseudo-random values from bc(1) should only be used
-where a reproducible stream of pseudo-random numbers is
+This means that the pseudo\-random values from bc(1) should only be used
+where a reproducible stream of pseudo\-random numbers is
 \f[I]ESSENTIAL\f[R].
-In any other case, use a non-seeded pseudo-random number generator.
+In any other case, use a non\-seeded pseudo\-random number generator.
 .SS Numbers
-.PP
 Numbers are strings made up of digits, uppercase letters, and at most
 \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]BC_NUM_MAX\f[R] digits.
@@ -840,12 +821,12 @@ alphabet, starting from \f[B]1\f[R] (i.e., \f[B]A\f[R] equals
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]BC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -863,7 +844,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -882,11 +863,11 @@ These have the form \f[B]<number>e<integer>\f[R].
 The exponent (the portion after the \f[B]e\f[R]) must be an integer.
 An example is \f[B]1.89237e9\f[R], which is equal to
 \f[B]1892370000\f[R].
-Negative exponents are also allowed, so \f[B]4.2890e-3\f[R] is equal to
+Negative exponents are also allowed, so \f[B]4.2890e\-3\f[R] is equal to
 \f[B]0.0042890\f[R].
 .PP
-Using scientific notation is an error or warning if the \f[B]-s\f[R] or
-\f[B]-w\f[R], respectively, command-line options (or equivalents) are
+Using scientific notation is an error or warning if the \f[B]\-s\f[R] or
+\f[B]\-w\f[R], respectively, command\-line options (or equivalents) are
 given.
 .PP
 \f[B]WARNING\f[R]: Both the number and the exponent in scientific
@@ -896,17 +877,16 @@ of the current \f[B]ibase\f[R].
 For example, if \f[B]ibase\f[R] is \f[B]16\f[R] and bc(1) is given the
 number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if bc(1) is given the number string
-\f[B]10e-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
+\f[B]10e\-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .PP
-Accepting input as scientific notation is a \f[B]non-portable
+Accepting input as scientific notation is a \f[B]non\-portable
 extension\f[R].
 .SS Operators
-.PP
 The following arithmetic and logical operators can be used.
 They are listed in order of decreasing precedence.
 Operators in the same group have the same precedence.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 Type: Prefix and Postfix
 .RS
 .PP
@@ -915,7 +895,7 @@ Associativity: None
 Description: \f[B]increment\f[R], \f[B]decrement\f[R]
 .RE
 .TP
-\f[B]-\f[R] \f[B]!\f[R]
+\f[B]\-\f[R] \f[B]!\f[R]
 Type: Prefix
 .RS
 .PP
@@ -960,7 +940,7 @@ Associativity: Left
 Description: \f[B]multiply\f[R], \f[B]divide\f[R], \f[B]modulus\f[R]
 .RE
 .TP
-\f[B]+\f[R] \f[B]-\f[R]
+\f[B]+\f[R] \f[B]\-\f[R]
 Type: Binary
 .RS
 .PP
@@ -978,7 +958,7 @@ Associativity: Left
 Description: \f[B]shift left\f[R], \f[B]shift right\f[R]
 .RE
 .TP
-\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
+\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
 Type: Binary
 .RS
 .PP
@@ -1016,18 +996,18 @@ Description: \f[B]boolean or\f[R]
 .PP
 The operators will be described in more detail below.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 The prefix and postfix \f[B]increment\f[R] and \f[B]decrement\f[R]
-operators behave exactly like they would in C.
-They require a named expression (see the \f[I]Named Expressions\f[R]
-subsection) as an operand.
+operators behave exactly like they would in C. They require a named
+expression (see the \f[I]Named Expressions\f[R] subsection) as an
+operand.
 .RS
 .PP
 The prefix versions of these operators are more efficient; use them
 where possible.
 .RE
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]negation\f[R] operator returns \f[B]0\f[R] if a user attempts
 to negate any expression with the value \f[B]0\f[R].
 Otherwise, a copy of the expression with its sign flipped is returned.
@@ -1037,7 +1017,11 @@ The \f[B]boolean not\f[R] operator returns \f[B]1\f[R] if the expression
 is \f[B]0\f[R], or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]Warning\f[R]: This operator has a \f[B]different precedence\f[R]
+than the equivalent operator in GNU bc(1) and other bc(1)
+implementations!
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]$\f[R]
@@ -1045,7 +1029,7 @@ The \f[B]truncation\f[R] operator returns a copy of the given expression
 with all of its \f[I]scale\f[R] removed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[at]\f[R]
@@ -1059,9 +1043,9 @@ more).
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -1072,7 +1056,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]), and if it
-is negative, the first value must be non-zero.
+is negative, the first value must be non\-zero.
 .RE
 .TP
 \f[B]*\f[R]
@@ -1090,18 +1074,18 @@ returns the quotient.
 The \f[I]scale\f[R] of the result shall be the value of \f[B]scale\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
 The \f[B]modulus\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and evaluates them by 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R] and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]+\f[R]
@@ -1109,7 +1093,7 @@ The \f[B]add\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the sum, with a \f[I]scale\f[R] equal to the
 max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]subtract\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the difference, with a \f[I]scale\f[R] equal to
 the max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
@@ -1121,9 +1105,9 @@ decimal point moved \f[B]b\f[R] places to the right.
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]>>\f[R]
@@ -1133,12 +1117,12 @@ decimal point moved \f[B]b\f[R] places to the left.
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
+\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
 The \f[B]assignment\f[R] operators take two expressions, \f[B]a\f[R] and
 \f[B]b\f[R] where \f[B]a\f[R] is a named expression (see the \f[I]Named
 Expressions\f[R] subsection).
@@ -1151,7 +1135,7 @@ the corresponding arithmetic operator and the result is assigned to
 \f[B]a\f[R].
 .PP
 The \f[B]assignment\f[R] operators that correspond to operators that are
-extensions are themselves \f[B]non-portable extensions\f[R].
+extensions are themselves \f[B]non\-portable extensions\f[R].
 .RE
 .TP
 \f[B]==\f[R] \f[B]<=\f[R] \f[B]>=\f[R] \f[B]!=\f[R] \f[B]<\f[R] \f[B]>\f[R]
@@ -1168,31 +1152,30 @@ interpreted as \f[B](a=b)>c\f[R].
 Also, unlike the standard (see the \f[B]STANDARDS\f[R] section)
 requires, these operators can appear anywhere any other expressions can
 be used.
-This allowance is a \f[B]non-portable extension\f[R].
+This allowance is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]&&\f[R]
 The \f[B]boolean and\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if both expressions are non-zero, \f[B]0\f[R] otherwise.
+\f[B]1\f[R] if both expressions are non\-zero, \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]||\f[R]
 The \f[B]boolean or\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if one of the expressions is non-zero, \f[B]0\f[R]
+\f[B]1\f[R] if one of the expressions is non\-zero, \f[B]0\f[R]
 otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Statements
-.PP
 The following items are statements:
 .IP " 1." 4
 \f[B]E\f[R]
@@ -1239,10 +1222,10 @@ The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]FUNCTIONS\f[R] section) if the corresponding parameter in the
 function definition is an array reference.
 .PP
-Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non-portable
+Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non\-portable
 extensions\f[R].
 .PP
-Also, as a \f[B]non-portable extension\f[R], any or all of the
+Also, as a \f[B]non\-portable extension\f[R], any or all of the
 expressions in the header of a for loop may be omitted.
 If the condition (second expression) is omitted, it is assumed to be a
 constant \f[B]1\f[R].
@@ -1259,7 +1242,7 @@ This is only allowed in loops.
 The \f[B]if\f[R] \f[B]else\f[R] statement does the same thing as in C.
 .PP
 The \f[B]quit\f[R] statement causes bc(1) to quit, even if it is on a
-branch that will not be executed (it is a compile-time command).
+branch that will not be executed (it is a compile\-time command).
 .PP
 \f[B]Warning\f[R]: The behavior of this bc(1) on \f[B]quit\f[R] is
 slightly different from other bc(1) implementations.
@@ -1270,11 +1253,9 @@ occur before the \f[B]quit\f[R] statement before exiting.
 .PP
 In other words, for the bc(1) code below:
 .IP
-.nf
-\f[C]
+.EX
 for (i = 0; i < 3; ++i) i; quit
-\f[R]
-.fi
+.EE
 .PP
 Other bc(1) implementations will print nothing, and this bc(1) will
 print \f[B]0\f[R], \f[B]1\f[R], and \f[B]2\f[R] on successive lines
@@ -1286,7 +1267,7 @@ that is not executed, bc(1) does not quit.)
 .PP
 The \f[B]limits\f[R] statement prints the limits that this bc(1) is
 subject to.
-This is like the \f[B]quit\f[R] statement in that it is a compile-time
+This is like the \f[B]quit\f[R] statement in that it is a compile\-time
 command.
 .PP
 An expression by itself is evaluated and printed, followed by a newline.
@@ -1299,13 +1280,12 @@ Scientific notation is activated by assigning \f[B]0\f[R] to
 To deactivate them, just assign a different value to \f[B]obase\f[R].
 .PP
 Scientific notation and engineering notation are disabled if bc(1) is
-run with either the \f[B]-s\f[R] or \f[B]-w\f[R] command-line options
+run with either the \f[B]\-s\f[R] or \f[B]\-w\f[R] command\-line options
 (or equivalents).
 .PP
 Printing numbers in scientific notation and/or engineering notation is a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .SS Strings
-.PP
 If strings appear as a statement by themselves, they are printed without
 a trailing newline.
 .PP
@@ -1322,9 +1302,8 @@ element that has been assigned a string, an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section).
 .PP
 Assigning strings to variables and array elements and passing them to
-functions are \f[B]non-portable extensions\f[R].
+functions are \f[B]non\-portable extensions\f[R].
 .SS Print Statement
-.PP
 The \[lq]expressions\[rq] in a \f[B]print\f[R] statement may also be
 strings.
 If they are, there are backslash escape sequences that are interpreted
@@ -1351,14 +1330,12 @@ below:
 \f[B]\[rs]t\f[R]: \f[B]\[rs]t\f[R]
 .PP
 Any other character following a backslash causes the backslash and
-character to be printed as-is.
+character to be printed as\-is.
 .PP
-Any non-string expression in a print statement shall be assigned to
+Any non\-string expression in a print statement shall be assigned to
 \f[B]last\f[R], like any other expression that is printed.
 .SS Stream Statement
-.PP
-The \[lq]expressions in a \f[B]stream\f[R] statement may also be
-strings.
+The expressions in a \f[B]stream\f[R] statement may also be strings.
 .PP
 If a \f[B]stream\f[R] statement is given a string, it prints the string
 as though the string had appeared as its own statement.
@@ -1368,20 +1345,17 @@ without a newline.
 If a \f[B]stream\f[R] statement is given a number, a copy of it is
 truncated and its absolute value is calculated.
 The result is then printed as though \f[B]obase\f[R] is \f[B]256\f[R]
-and each digit is interpreted as an 8-bit ASCII character, making it a
+and each digit is interpreted as an 8\-bit ASCII character, making it a
 byte stream.
 .SS Order of Evaluation
-.PP
 All expressions in a statment are evaluated left to right, except as
 necessary to maintain order of operations.
 This means, for example, assuming that \f[B]i\f[R] is equal to
 \f[B]0\f[R], in the expression
 .IP
-.nf
-\f[C]
+.EX
 a[i++] = i++
-\f[R]
-.fi
+.EE
 .PP
 the first (or 0th) element of \f[B]a\f[R] is set to \f[B]1\f[R], and
 \f[B]i\f[R] is equal to \f[B]2\f[R] at the end of the expression.
@@ -1390,28 +1364,23 @@ This includes function arguments.
 Thus, assuming \f[B]i\f[R] is equal to \f[B]0\f[R], this means that in
 the expression
 .IP
-.nf
-\f[C]
+.EX
 x(i++, i++)
-\f[R]
-.fi
+.EE
 .PP
 the first argument passed to \f[B]x()\f[R] is \f[B]0\f[R], and the
 second argument is \f[B]1\f[R], while \f[B]i\f[R] is equal to
 \f[B]2\f[R] before the function starts executing.
 .SH FUNCTIONS
-.PP
 Function definitions are as follows:
 .IP
-.nf
-\f[C]
+.EX
 define I(I,...,I){
     auto I,...,I
     S;...;S
     return(E)
 }
-\f[R]
-.fi
+.EE
 .PP
 Any \f[B]I\f[R] in the parameter list or \f[B]auto\f[R] list may be
 replaced with \f[B]I[]\f[R] to make a parameter or \f[B]auto\f[R] var an
@@ -1422,10 +1391,10 @@ asterisk in the call; they must be called with just \f[B]I[]\f[R] like
 normal array parameters and will be automatically converted into
 references.
 .PP
-As a \f[B]non-portable extension\f[R], the opening brace of a
+As a \f[B]non\-portable extension\f[R], the opening brace of a
 \f[B]define\f[R] statement may appear on the next line.
 .PP
-As a \f[B]non-portable extension\f[R], the return statement may also be
+As a \f[B]non\-portable extension\f[R], the return statement may also be
 in one of the following forms:
 .IP "1." 3
 \f[B]return\f[R]
@@ -1439,18 +1408,15 @@ equivalent to \f[B]return (0)\f[R], unless the function is a
 \f[B]void\f[R] function (see the \f[I]Void Functions\f[R] subsection
 below).
 .SS Void Functions
-.PP
 Functions can also be \f[B]void\f[R] functions, defined as follows:
 .IP
-.nf
-\f[C]
+.EX
 define void I(I,...,I){
     auto I,...,I
     S;...;S
     return
 }
-\f[R]
-.fi
+.EE
 .PP
 They can only be used as standalone expressions, where such an
 expression would be printed alone, except in a print statement.
@@ -1464,17 +1430,14 @@ possible to have variables, arrays, and functions named \f[B]void\f[R].
 The word \[lq]void\[rq] is only treated specially right after the
 \f[B]define\f[R] keyword.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Array References
-.PP
 For any array in the parameter list, if the array is declared in the
 form
 .IP
-.nf
-\f[C]
+.EX
 *I[]
-\f[R]
-.fi
+.EE
 .PP
 it is a \f[B]reference\f[R].
 Any changes to the array in the function are reflected, when the
@@ -1482,17 +1445,15 @@ function returns, to the array that was passed in.
 .PP
 Other than this, all function arguments are passed by value.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH LIBRARY
-.PP
 All of the functions below, including the functions in the extended math
 library (see the \f[I]Extended Library\f[R] subsection below), are
-available when the \f[B]-l\f[R] or \f[B]--mathlib\f[R] command-line
+available when the \f[B]\-l\f[R] or \f[B]\-\-mathlib\f[R] command\-line
 flags are given, except that the extended math library is not available
-when the \f[B]-s\f[R] option, the \f[B]-w\f[R] option, or equivalents
+when the \f[B]\-s\f[R] option, the \f[B]\-w\f[R] option, or equivalents
 are given.
 .SS Standard Library
-.PP
 The standard (see the \f[B]STANDARDS\f[R] section) defines the following
 functions for the math library:
 .TP
@@ -1545,13 +1506,12 @@ This is a transcendental function (see the \f[I]Transcendental
 Functions\f[R] subsection below).
 .RE
 .SS Extended Library
-.PP
 The extended library is \f[I]not\f[R] loaded when the
-\f[B]-s\f[R]/\f[B]--standard\f[R] or \f[B]-w\f[R]/\f[B]--warn\f[R]
+\f[B]\-s\f[R]/\f[B]\-\-standard\f[R] or \f[B]\-w\f[R]/\f[B]\-\-warn\f[R]
 options are given since they are not part of the library defined by the
 standard (see the \f[B]STANDARDS\f[R] section).
 .PP
-The extended library is a \f[B]non-portable extension\f[R].
+The extended library is a \f[B]non\-portable extension\f[R].
 .TP
 \f[B]p(x, y)\f[R]
 Calculates \f[B]x\f[R] to the power of \f[B]y\f[R], even if \f[B]y\f[R]
@@ -1579,6 +1539,14 @@ the rounding mode round away from \f[B]0\f[R]
 \f[B]f(x)\f[R]
 Returns the factorial of the truncated absolute value of \f[B]x\f[R].
 .TP
+\f[B]max(a, b)\f[R]
+Returns \f[B]a\f[R] if \f[B]a\f[R] is greater than \f[B]b\f[R];
+otherwise, returns \f[B]b\f[R].
+.TP
+\f[B]min(a, b)\f[R]
+Returns \f[B]a\f[R] if \f[B]a\f[R] is less than \f[B]b\f[R]; otherwise,
+returns \f[B]b\f[R].
+.TP
 \f[B]perm(n, k)\f[R]
 Returns the permutation of the truncated absolute value of \f[B]n\f[R]
 of the truncated absolute value of \f[B]k\f[R], if \f[B]k <= n\f[R].
@@ -1589,6 +1557,10 @@ Returns the combination of the truncated absolute value of \f[B]n\f[R]
 of the truncated absolute value of \f[B]k\f[R], if \f[B]k <= n\f[R].
 If not, it returns \f[B]0\f[R].
 .TP
+\f[B]fib(n)\f[R]
+Returns the Fibonacci number of the truncated absolute value of
+\f[B]n\f[R].
+.TP
 \f[B]l2(x)\f[R]
 Returns the logarithm base \f[B]2\f[R] of \f[B]x\f[R].
 .RS
@@ -1660,11 +1632,11 @@ Otherwise, if \f[B]x\f[R] is greater than \f[B]0\f[R], it returns
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is greater than
 or equal to \f[B]0\f[R], it returns \f[B]a(y/x)+pi\f[R].
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]a(y/x)-pi\f[R].
+\f[B]0\f[R], it returns \f[B]a(y/x)\-pi\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is greater than
 \f[B]0\f[R], it returns \f[B]pi/2\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]-pi/2\f[R].
+\f[B]0\f[R], it returns \f[B]\-pi/2\f[R].
 .RS
 .PP
 This function is the same as the \f[B]atan2()\f[R] function in many
@@ -1698,7 +1670,7 @@ Functions\f[R] subsection below).
 Returns the tangent of \f[B]x\f[R], which is assumed to be in radians.
 .RS
 .PP
-If \f[B]x\f[R] is equal to \f[B]1\f[R] or \f[B]-1\f[R], this raises an
+If \f[B]x\f[R] is equal to \f[B]1\f[R] or \f[B]\-1\f[R], this raises an
 error and causes bc(1) to reset (see the \f[B]RESET\f[R] section).
 .PP
 This is an alias of \f[B]t(x)\f[R].
@@ -1726,11 +1698,11 @@ Otherwise, if \f[B]x\f[R] is greater than \f[B]0\f[R], it returns
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is greater than
 or equal to \f[B]0\f[R], it returns \f[B]a(y/x)+pi\f[R].
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]a(y/x)-pi\f[R].
+\f[B]0\f[R], it returns \f[B]a(y/x)\-pi\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is greater than
 \f[B]0\f[R], it returns \f[B]pi/2\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]-pi/2\f[R].
+\f[B]0\f[R], it returns \f[B]\-pi/2\f[R].
 .RS
 .PP
 This function is the same as the \f[B]atan2()\f[R] function in many
@@ -1759,7 +1731,7 @@ Functions\f[R] subsection below).
 .RE
 .TP
 \f[B]frand(p)\f[R]
-Generates a pseudo-random number between \f[B]0\f[R] (inclusive) and
+Generates a pseudo\-random number between \f[B]0\f[R] (inclusive) and
 \f[B]1\f[R] (exclusive) with the number of decimal digits after the
 decimal point equal to the truncated absolute value of \f[B]p\f[R].
 If \f[B]p\f[R] is not \f[B]0\f[R], then calling this function will
@@ -1768,14 +1740,22 @@ If \f[B]p\f[R] is \f[B]0\f[R], then \f[B]0\f[R] is returned, and
 \f[B]seed\f[R] is \f[I]not\f[R] changed.
 .TP
 \f[B]ifrand(i, p)\f[R]
-Generates a pseudo-random number that is between \f[B]0\f[R] (inclusive)
-and the truncated absolute value of \f[B]i\f[R] (exclusive) with the
-number of decimal digits after the decimal point equal to the truncated
-absolute value of \f[B]p\f[R].
+Generates a pseudo\-random number that is between \f[B]0\f[R]
+(inclusive) and the truncated absolute value of \f[B]i\f[R] (exclusive)
+with the number of decimal digits after the decimal point equal to the
+truncated absolute value of \f[B]p\f[R].
 If the absolute value of \f[B]i\f[R] is greater than or equal to
 \f[B]2\f[R], and \f[B]p\f[R] is not \f[B]0\f[R], then calling this
 function will change the value of \f[B]seed\f[R]; otherwise, \f[B]0\f[R]
-is returned and \f[B]seed\f[R] is not changed.
+is returned, and \f[B]seed\f[R] is not changed.
+.TP
+\f[B]i2rand(a, b)\f[R]
+Takes the truncated value of \f[B]a\f[R] and \f[B]b\f[R] and uses them
+as inclusive bounds to enerate a pseudo\-random integer.
+If the difference of the truncated values of \f[B]a\f[R] and \f[B]b\f[R]
+is \f[B]0\f[R], then the truncated value is returned, and \f[B]seed\f[R]
+is \f[I]not\f[R] changed.
+Otherwise, this function will change the value of \f[B]seed\f[R].
 .TP
 \f[B]srand(x)\f[R]
 Returns \f[B]x\f[R] with its sign flipped with probability
@@ -1817,8 +1797,8 @@ If you want to use signed two\[cq]s complement arguments, use
 .TP
 \f[B]bshl(a, b)\f[R]
 Takes the truncated absolute value of both \f[B]a\f[R] and \f[B]b\f[R]
-and calculates and returns the result of \f[B]a\f[R] bit-shifted left by
-\f[B]b\f[R] places.
+and calculates and returns the result of \f[B]a\f[R] bit\-shifted left
+by \f[B]b\f[R] places.
 .RS
 .PP
 If you want to use signed two\[cq]s complement arguments, use
@@ -1828,7 +1808,7 @@ If you want to use signed two\[cq]s complement arguments, use
 \f[B]bshr(a, b)\f[R]
 Takes the truncated absolute value of both \f[B]a\f[R] and \f[B]b\f[R]
 and calculates and returns the truncated result of \f[B]a\f[R]
-bit-shifted right by \f[B]b\f[R] places.
+bit\-shifted right by \f[B]b\f[R] places.
 .RS
 .PP
 If you want to use signed two\[cq]s complement arguments, use
@@ -1847,7 +1827,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot8(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]8\f[R] binary digits (1 unsigned byte).
+though it has \f[B]8\f[R] binary digits (\f[B]1\f[R] unsigned byte).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1856,7 +1836,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot16(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]16\f[R] binary digits (2 unsigned bytes).
+though it has \f[B]16\f[R] binary digits (\f[B]2\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1865,7 +1845,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot32(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]32\f[R] binary digits (4 unsigned bytes).
+though it has \f[B]32\f[R] binary digits (\f[B]4\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1874,7 +1854,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot64(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]64\f[R] binary digits (8 unsigned bytes).
+though it has \f[B]64\f[R] binary digits (\f[B]8\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1892,7 +1872,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brevn(x, n)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has the same number of 8-bit bytes as the truncated absolute
+though it has the same number of 8\-bit bytes as the truncated absolute
 value of \f[B]n\f[R].
 .RS
 .PP
@@ -1902,7 +1882,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev8(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 8 binary digits (1 unsigned byte).
+though it has 8 binary digits (\f[B]1\f[R] unsigned byte).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1911,7 +1891,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev16(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 16 binary digits (2 unsigned bytes).
+though it has 16 binary digits (\f[B]2\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1920,7 +1900,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev32(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 32 binary digits (4 unsigned bytes).
+though it has 32 binary digits (\f[B]4\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1929,7 +1909,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev64(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 64 binary digits (8 unsigned bytes).
+though it has 64 binary digits (\f[B]8\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1947,11 +1927,11 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]broln(x, p, n)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has the same number of unsigned 8-bit bytes as
-the truncated absolute value of \f[B]n\f[R], by the number of places
+\f[B]x\f[R], as though it has the same number of unsigned 8\-bit bytes
+as the truncated absolute value of \f[B]n\f[R], by the number of places
 equal to the truncated absolute value of \f[B]p\f[R] modded by the
 \f[B]2\f[R] to the power of the number of binary digits in \f[B]n\f[R]
-8-bit bytes.
+8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1982,7 +1962,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brol32(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has \f[B]32\f[R] binary digits (\f[B]2\f[R]
+\f[B]x\f[R], as though it has \f[B]32\f[R] binary digits (\f[B]4\f[R]
 unsigned bytes), by the number of places equal to the truncated absolute
 value of \f[B]p\f[R] modded by \f[B]2\f[R] to the power of \f[B]32\f[R].
 .RS
@@ -1993,7 +1973,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brol64(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has \f[B]64\f[R] binary digits (\f[B]2\f[R]
+\f[B]x\f[R], as though it has \f[B]64\f[R] binary digits (\f[B]8\f[R]
 unsigned bytes), by the number of places equal to the truncated absolute
 value of \f[B]p\f[R] modded by \f[B]2\f[R] to the power of \f[B]64\f[R].
 .RS
@@ -2005,9 +1985,9 @@ If you want to a use signed two\[cq]s complement argument, use
 \f[B]brol(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
 \f[B]x\f[R], as though it has the minimum number of power of two
-unsigned 8-bit bytes, by the number of places equal to the truncated
+unsigned 8\-bit bytes, by the number of places equal to the truncated
 absolute value of \f[B]p\f[R] modded by 2 to the power of the number of
-binary digits in the minimum number of 8-bit bytes.
+binary digits in the minimum number of 8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2016,11 +1996,11 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brorn(x, p, n)\f[R]
 Does a right bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has the same number of unsigned 8-bit bytes as
-the truncated absolute value of \f[B]n\f[R], by the number of places
+\f[B]x\f[R], as though it has the same number of unsigned 8\-bit bytes
+as the truncated absolute value of \f[B]n\f[R], by the number of places
 equal to the truncated absolute value of \f[B]p\f[R] modded by the
 \f[B]2\f[R] to the power of the number of binary digits in \f[B]n\f[R]
-8-bit bytes.
+8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2074,9 +2054,9 @@ If you want to a use signed two\[cq]s complement argument, use
 \f[B]bror(x, p)\f[R]
 Does a right bitwise rotatation of the truncated absolute value of
 \f[B]x\f[R], as though it has the minimum number of power of two
-unsigned 8-bit bytes, by the number of places equal to the truncated
+unsigned 8\-bit bytes, by the number of places equal to the truncated
 absolute value of \f[B]p\f[R] modded by 2 to the power of the number of
-binary digits in the minimum number of 8-bit bytes.
+binary digits in the minimum number of 8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2130,7 +2110,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .RE
 .TP
 \f[B]bunrev(t)\f[R]
-Assumes \f[B]t\f[R] is a bitwise-reversed number with an extra set bit
+Assumes \f[B]t\f[R] is a bitwise\-reversed number with an extra set bit
 one place more significant than the real most significant bit (which was
 the least significant bit in the original number).
 This number is reversed and returned without the extra set bit.
@@ -2141,29 +2121,29 @@ meant to be used by users, but it can be.
 .RE
 .TP
 \f[B]plz(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed with a leading zero, regardless
-of the use of the \f[B]-z\f[R] option (see the \f[B]OPTIONS\f[R]
-section) and without a trailing newline.
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed with a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
+\f[B]OPTIONS\f[R] section) and without a trailing newline.
 .RS
 .PP
 Otherwise, \f[B]x\f[R] is printed normally, without a trailing newline.
 .RE
 .TP
 \f[B]plznl(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed with a leading zero, regardless
-of the use of the \f[B]-z\f[R] option (see the \f[B]OPTIONS\f[R]
-section) and with a trailing newline.
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed with a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
+\f[B]OPTIONS\f[R] section) and with a trailing newline.
 .RS
 .PP
 Otherwise, \f[B]x\f[R] is printed normally, with a trailing newline.
 .RE
 .TP
 \f[B]pnlz(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed without a leading zero,
-regardless of the use of the \f[B]-z\f[R] option (see the
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed without a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
 \f[B]OPTIONS\f[R] section) and without a trailing newline.
 .RS
 .PP
@@ -2171,9 +2151,9 @@ Otherwise, \f[B]x\f[R] is printed normally, without a trailing newline.
 .RE
 .TP
 \f[B]pnlznl(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed without a leading zero,
-regardless of the use of the \f[B]-z\f[R] option (see the
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed without a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
 \f[B]OPTIONS\f[R] section) and with a trailing newline.
 .RS
 .PP
@@ -2185,22 +2165,22 @@ Returns the numbers of unsigned integer bytes required to hold the
 truncated absolute value of \f[B]x\f[R].
 .TP
 \f[B]sbytes(x)\f[R]
-Returns the numbers of signed, two\[cq]s-complement integer bytes
+Returns the numbers of signed, two\[cq]s\-complement integer bytes
 required to hold the truncated value of \f[B]x\f[R].
 .TP
 \f[B]s2u(x)\f[R]
-Returns \f[B]x\f[R] if it is non-negative.
+Returns \f[B]x\f[R] if it is non\-negative.
 If it \f[I]is\f[R] negative, then it calculates what \f[B]x\f[R] would
-be as a 2\[cq]s-complement signed integer and returns the non-negative
+be as a 2\[cq]s\-complement signed integer and returns the non\-negative
 integer that would have the same representation in binary.
 .TP
 \f[B]s2un(x,n)\f[R]
-Returns \f[B]x\f[R] if it is non-negative.
+Returns \f[B]x\f[R] if it is non\-negative.
 If it \f[I]is\f[R] negative, then it calculates what \f[B]x\f[R] would
-be as a 2\[cq]s-complement signed integer with \f[B]n\f[R] bytes and
-returns the non-negative integer that would have the same representation
-in binary.
-If \f[B]x\f[R] cannot fit into \f[B]n\f[R] 2\[cq]s-complement signed
+be as a 2\[cq]s\-complement signed integer with \f[B]n\f[R] bytes and
+returns the non\-negative integer that would have the same
+representation in binary.
+If \f[B]x\f[R] cannot fit into \f[B]n\f[R] 2\[cq]s\-complement signed
 bytes, it is truncated to fit.
 .TP
 \f[B]hex(x)\f[R]
@@ -2244,7 +2224,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in as few power of two bytes as
+a signed, two\[cq]s\-complement integer in as few power of two bytes as
 possible.
 Both outputs are split into bytes separated by spaces.
 .RS
@@ -2272,7 +2252,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]intn(x, n)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]n\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]n\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2300,7 +2280,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int8(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]1\f[R] byte.
+a signed, two\[cq]s\-complement integer in \f[B]1\f[R] byte.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2328,7 +2308,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int16(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]2\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]2\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2356,7 +2336,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int32(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]4\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]4\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2384,7 +2364,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int64(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]8\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]8\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2431,14 +2411,13 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 \f[B]output_byte(x, i)\f[R]
 Outputs byte \f[B]i\f[R] of the truncated absolute value of \f[B]x\f[R],
 where \f[B]0\f[R] is the least significant byte and \f[B]number_of_bytes
-- 1\f[R] is the most significant byte.
+\- 1\f[R] is the most significant byte.
 .RS
 .PP
 This is a \f[B]void\f[R] function (see the \f[I]Void Functions\f[R]
 subsection of the \f[B]FUNCTIONS\f[R] section).
 .RE
 .SS Transcendental Functions
-.PP
 All transcendental functions can return slightly inaccurate results, up
 to 1 ULP (https://en.wikipedia.org/wiki/Unit_in_the_last_place).
 This is unavoidable, and the article at
@@ -2494,8 +2473,7 @@ The transcendental functions in the extended math library are:
 .IP \[bu] 2
 \f[B]d2r(x)\f[R]
 .SH RESET
-.PP
-When bc(1) encounters an error or a signal that it has a non-default
+When bc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
@@ -2515,7 +2493,6 @@ Note that this reset behavior is different from the GNU bc(1), which
 attempts to start executing the statement right after the one that
 caused an error.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This bc(1) does something different.
@@ -2538,7 +2515,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bc(1):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -2568,29 +2544,29 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]rand()\f[R]
 operand.
-Set at \f[B]2\[ha]BC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]BC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -2598,29 +2574,28 @@ Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
 The actual values can be queried with the \f[B]limits\f[R] statement.
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], bc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], bc(1) recognizes the following
 environment variables:
 .TP
 \f[B]POSIXLY_CORRECT\f[R]
 If this variable exists (no matter the contents), bc(1) behaves as if
-the \f[B]-s\f[R] option was given.
+the \f[B]\-s\f[R] option was given.
 .TP
 \f[B]BC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to bc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to bc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]BC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
@@ -2641,14 +2616,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]BC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]BC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), bc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), bc(1) will output lines to that length,
 including the backslash (\f[B]\[rs]\f[R]).
 The default line length is \f[B]70\f[R].
 .RS
@@ -2660,7 +2635,7 @@ newlines.
 .TP
 \f[B]BC_BANNER\f[R]
 If this environment variable exists and contains an integer, then a
-non-zero value activates the copyright banner when bc(1) is in
+non\-zero value activates the copyright banner when bc(1) is in
 interactive mode, while zero deactivates it.
 .RS
 .PP
@@ -2669,7 +2644,7 @@ section), then this environment variable has no effect because bc(1)
 does not print the banner when not in interactive mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_SIGINT_RESET\f[R]
@@ -2679,13 +2654,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when bc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes bc(1)
+variable exists and contains an integer, a non\-zero value makes bc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes bc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then bc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_TTY_MODE\f[R]
@@ -2694,11 +2669,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes bc(1) use
+exists and contains an integer, then a non\-zero value makes bc(1) use
 TTY mode, and zero makes bc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_PROMPT\f[R]
@@ -2707,46 +2682,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes bc(1) use a
-prompt, and zero or a non-integer makes bc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes bc(1) use a
+prompt, and zero or a non\-integer makes bc(1) not use a prompt.
 If this environment variable does not exist and \f[B]BC_TTY_MODE\f[R]
 does, then the value of the \f[B]BC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]BC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes bc(1) exit after executing the
-expressions and expression files, and a zero value makes bc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes bc(1) exit after executing
+the expressions and expression files, and a zero value makes bc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes bc(1) clamp digits that are
+contains an integer, a non\-zero value makes bc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the standard (see the
-\f[B]STANDARDS\f[R] section).
+This never applies to single\-digit numbers, as per the standard (see
+the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 bc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -2760,10 +2735,10 @@ since math errors will happen in the process of normal execution.
 .PP
 Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, using a negative number as a bound for the
-pseudo-random number generator, attempting to convert a negative number
+pseudo\-random number generator, attempting to convert a negative number
 to a hardware integer, overflow when converting a number to a hardware
 integer, overflow when calculating the size of a number, and attempting
-to use a non-integer where an integer is required.
+to use a non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]), places (\f[B]\[at]\f[R]), left shift
@@ -2785,7 +2760,7 @@ giving an invalid \f[B]auto\f[R] list, having a duplicate
 \f[B]auto\f[R]/function parameter, failing to find the end of a code
 block, attempting to return a value from a \f[B]void\f[R] function,
 attempting to use a variable as a reference, and using any extensions
-when the option \f[B]-s\f[R] or any equivalents were given.
+when the option \f[B]\-s\f[R] or any equivalents were given.
 .RE
 .TP
 \f[B]3\f[R]
@@ -2808,7 +2783,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (bc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, bc(1)
@@ -2819,18 +2794,18 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 bc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow bc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
 Per the standard (see the \f[B]STANDARDS\f[R] section), bc(1) has an
-interactive mode and a non-interactive mode.
+interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, bc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -2839,7 +2814,6 @@ bc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]BC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, bc(1) can turn on TTY mode, subject to some
@@ -2847,44 +2821,42 @@ settings.
 .PP
 If there is the environment variable \f[B]BC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, bc(1) will turn
+that environment variable contains a non\-zero integer, bc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]BC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then bc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then bc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]BC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) standard (see the \f[B]STANDARDS\f[R] section),
 and interactive mode requires only \f[B]stdin\f[R] and \f[B]stdout\f[R]
 to be connected to a terminal.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]BC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]BC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]BC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]BC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]BC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause bc(1) to do one of two things.
 .PP
 If bc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -2893,7 +2865,7 @@ section), or the \f[B]BC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, bc(1) will exit.
 .PP
 However, if bc(1) is in interactive mode, and the
-\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then bc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -2916,14 +2888,12 @@ the user to continue.
 \f[B]SIGTERM\f[R] and \f[B]SIGQUIT\f[R] cause bc(1) to clean up and
 exit, and it uses the default handler for all other signals.
 .SH SEE ALSO
-.PP
 dc(1)
 .SH STANDARDS
-.PP
-bc(1) is compliant with the IEEE Std 1003.1-2017
-(\[lq]POSIX.1-2017\[rq]) specification at
+bc(1) is compliant with the IEEE Std 1003.1\-2017
+(\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
-The flags \f[B]-efghiqsvVw\f[R], all long options, and the extensions
+The flags \f[B]\-efghiqsvVw\f[R], all long options, and the extensions
 noted above are extensions to that specification.
 .PP
 In addition, the behavior of the \f[B]quit\f[R] implements an
@@ -2936,13 +2906,13 @@ Note that the specification explicitly says that bc(1) only accepts
 numbers that use a period (\f[B].\f[R]) as a radix point, regardless of
 the value of \f[B]LC_NUMERIC\f[R].
 .SH BUGS
-.PP
 Before version \f[B]6.1.0\f[R], this bc(1) had incorrect behavior for
 the \f[B]quit\f[R] statement.
 .PP
 No other bugs are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bc/HN.1.md b/manuals/bc/HN.1.md
index 25f136a2..015035c1 100644
--- a/manuals/bc/HN.1.md
+++ b/manuals/bc/HN.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -811,6 +811,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 **\$**
@@ -1068,7 +1071,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
@@ -1259,6 +1262,14 @@ The extended library is a **non-portable extension**.
 
 :   Returns the factorial of the truncated absolute value of **x**.
 
+**max(a, b)**
+
+:   Returns **a** if **a** is greater than **b**; otherwise, returns **b**.
+
+**min(a, b)**
+
+:   Returns **a** if **a** is less than **b**; otherwise, returns **b**.
+
 **perm(n, k)**
 
 :   Returns the permutation of the truncated absolute value of **n** of the
@@ -1269,6 +1280,10 @@ The extended library is a **non-portable extension**.
 :   Returns the combination of the truncated absolute value of **n** of the
     truncated absolute value of **k**, if **k \<= n**. If not, it returns **0**.
 
+**fib(n)**
+
+:   Returns the Fibonacci number of the truncated absolute value of **n**.
+
 **l2(x)**
 
 :   Returns the logarithm base **2** of **x**.
@@ -1431,7 +1446,15 @@ The extended library is a **non-portable extension**.
     digits after the decimal point equal to the truncated absolute value of
     **p**. If the absolute value of **i** is greater than or equal to **2**, and
     **p** is not **0**, then calling this function will change the value of
-    **seed**; otherwise, **0** is returned and **seed** is not changed.
+    **seed**; otherwise, **0** is returned, and **seed** is not changed.
+
+**i2rand(a, b)**
+
+:   Takes the truncated value of **a** and **b** and uses them as inclusive
+    bounds to enerate a pseudo-random integer. If the difference of the
+    truncated values of **a** and **b** is **0**, then the truncated value is
+    returned, and **seed** is *not* changed. Otherwise, this function will
+    change the value of **seed**.
 
 **srand(x)**
 
@@ -1493,7 +1516,7 @@ The extended library is a **non-portable extension**.
 **bnot8(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **8** binary digits (1 unsigned byte).
+    **8** binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1501,7 +1524,7 @@ The extended library is a **non-portable extension**.
 **bnot16(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **16** binary digits (2 unsigned bytes).
+    **16** binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1509,7 +1532,7 @@ The extended library is a **non-portable extension**.
 **bnot32(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **32** binary digits (4 unsigned bytes).
+    **32** binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1517,7 +1540,7 @@ The extended library is a **non-portable extension**.
 **bnot64(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **64** binary digits (8 unsigned bytes).
+    **64** binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1541,7 +1564,7 @@ The extended library is a **non-portable extension**.
 **brev8(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 8 binary digits (1 unsigned byte).
+    has 8 binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1549,7 +1572,7 @@ The extended library is a **non-portable extension**.
 **brev16(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 16 binary digits (2 unsigned bytes).
+    has 16 binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1557,7 +1580,7 @@ The extended library is a **non-portable extension**.
 **brev32(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 32 binary digits (4 unsigned bytes).
+    has 32 binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1565,7 +1588,7 @@ The extended library is a **non-portable extension**.
 **brev64(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 64 binary digits (8 unsigned bytes).
+    has 64 binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1612,7 +1635,7 @@ The extended library is a **non-portable extension**.
 **brol32(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **32** binary digits (**2** unsigned bytes), by the number of
+    though it has **32** binary digits (**4** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **32**.
 
@@ -1622,7 +1645,7 @@ The extended library is a **non-portable extension**.
 **brol64(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **64** binary digits (**2** unsigned bytes), by the number of
+    though it has **64** binary digits (**8** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **64**.
 
diff --git a/manuals/bc/N.1 b/manuals/bc/N.1
index f39e5127..193e0d15 100644
--- a/manuals/bc/N.1
+++ b/manuals/bc/N.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,41 +25,38 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bc - arbitrary-precision decimal arithmetic language and calculator
+bc \- arbitrary\-precision decimal arithmetic language and calculator
 .SH SYNOPSIS
-.PP
-\f[B]bc\f[R] [\f[B]-cCghilPqRsvVw\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--global-stacks\f[R]]
-[\f[B]--help\f[R]] [\f[B]--interactive\f[R]] [\f[B]--mathlib\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]] [\f[B]--quiet\f[R]]
-[\f[B]--standard\f[R]] [\f[B]--warn\f[R]] [\f[B]--version\f[R]]
-[\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]bc\f[R] [\f[B]\-cCghilPqRsvVw\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-global\-stacks\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-interactive\f[R]] [\f[B]\-\-mathlib\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-quiet\f[R]] [\f[B]\-\-standard\f[R]] [\f[B]\-\-warn\f[R]]
+[\f[B]\-\-version\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
-[\f[B]-I\f[R] \f[I]ibase\f[R]] [\f[B]--ibase\f[R]=\f[I]ibase\f[R]]
-[\f[B]-O\f[R] \f[I]obase\f[R]] [\f[B]--obase\f[R]=\f[I]obase\f[R]]
-[\f[B]-S\f[R] \f[I]scale\f[R]] [\f[B]--scale\f[R]=\f[I]scale\f[R]]
-[\f[B]-E\f[R] \f[I]seed\f[R]] [\f[B]--seed\f[R]=\f[I]seed\f[R]]
+[\f[B]\-I\f[R] \f[I]ibase\f[R]] [\f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]]
+[\f[B]\-O\f[R] \f[I]obase\f[R]] [\f[B]\-\-obase\f[R]=\f[I]obase\f[R]]
+[\f[B]\-S\f[R] \f[I]scale\f[R]] [\f[B]\-\-scale\f[R]=\f[I]scale\f[R]]
+[\f[B]\-E\f[R] \f[I]seed\f[R]] [\f[B]\-\-seed\f[R]=\f[I]seed\f[R]]
 .SH DESCRIPTION
-.PP
 bc(1) is an interactive processor for a language first standardized in
 1991 by POSIX.
 (See the \f[B]STANDARDS\f[R] section.)
 The language provides unlimited precision decimal arithmetic and is
-somewhat C-like, but there are differences.
+somewhat C\-like, but there are differences.
 Such differences will be noted in this document.
 .PP
 After parsing and handling options, this bc(1) reads any files given on
 the command line and executes them before reading from \f[B]stdin\f[R].
 .PP
-This bc(1) is a drop-in replacement for \f[I]any\f[R] bc(1), including
+This bc(1) is a drop\-in replacement for \f[I]any\f[R] bc(1), including
 (and especially) the GNU bc(1).
 It also has many extensions and extra features beyond other
 implementations.
@@ -68,19 +65,18 @@ implementations.
 another bc(1) gives a parse error, it is probably because a word this
 bc(1) reserves as a keyword is used as the name of a function, variable,
 or array.
-To fix that, use the command-line option \f[B]-r\f[R] \f[I]keyword\f[R],
-where \f[I]keyword\f[R] is the keyword that is used as a name in the
-script.
+To fix that, use the command\-line option \f[B]\-r\f[R]
+\f[I]keyword\f[R], where \f[I]keyword\f[R] is the keyword that is used
+as a name in the script.
 For more information, see the \f[B]OPTIONS\f[R] section.
 .PP
 If parsing scripts meant for other bc(1) implementations still does not
 work, that is a bug and should be reported.
 See the \f[B]BUGS\f[R] section.
 .SH OPTIONS
-.PP
 The following are the options that bc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -90,17 +86,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -111,17 +107,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]BC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-E\f[R] \f[I]seed\f[R], \f[B]--seed\f[R]=\f[I]seed\f[R]
+\f[B]\-E\f[R] \f[I]seed\f[R], \f[B]\-\-seed\f[R]=\f[I]seed\f[R]
 Sets the builtin variable \f[B]seed\f[R] to the value \f[I]seed\f[R]
 assuming that \f[I]seed\f[R] is in base 10.
 It is a fatal error if \f[I]seed\f[R] is not a valid number.
@@ -129,54 +125,54 @@ It is a fatal error if \f[I]seed\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
-If files are given as well (see the \f[B]-f\f[R] and \f[B]--file\f[R]
+If files are given as well (see the \f[B]\-f\f[R] and \f[B]\-\-file\f[R]
 options), the expressions and files are evaluated in the order given.
 This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]BC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
-If expressions are also given (see the \f[B]-e\f[R] and
-\f[B]--expression\f[R] options), the expressions are evaluated in the
+If expressions are also given (see the \f[B]\-e\f[R] and
+\f[B]\-\-expression\f[R] options), the expressions are evaluated in the
 order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]BC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, bc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, bc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, bc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-g\f[R], \f[B]--global-stacks\f[R]
+\f[B]\-g\f[R], \f[B]\-\-global\-stacks\f[R]
 Turns the globals \f[B]ibase\f[R], \f[B]obase\f[R], \f[B]scale\f[R], and
 \f[B]seed\f[R] into stacks.
 .RS
@@ -189,19 +185,16 @@ without worrying that the change will affect other functions.
 Thus, a hypothetical function named \f[B]output(x,b)\f[R] that simply
 printed \f[B]x\f[R] in base \f[B]b\f[R] could be written like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     obase=b
     x
 }
-\f[R]
-.fi
+.EE
 .PP
 instead of like this:
 .IP
-.nf
-\f[C]
+.EX
 define void output(x, b) {
     auto c
     c=obase
@@ -209,8 +202,7 @@ define void output(x, b) {
     x
     obase=c
 }
-\f[R]
-.fi
+.EE
 .PP
 This makes writing functions much easier.
 .PP
@@ -228,12 +220,10 @@ converter, it is possible to replace that capability with various shell
 aliases.
 Examples:
 .IP
-.nf
-\f[C]
-alias d2o=\[dq]bc -e ibase=A -e obase=8\[dq]
-alias h2b=\[dq]bc -e ibase=G -e obase=2\[dq]
-\f[R]
-.fi
+.EX
+alias d2o=\[dq]bc \-e ibase=A \-e obase=8\[dq]
+alias h2b=\[dq]bc \-e ibase=G \-e obase=2\[dq]
+.EE
 .PP
 Second, if the purpose of a function is to set \f[B]ibase\f[R],
 \f[B]obase\f[R], \f[B]scale\f[R], or \f[B]seed\f[R] globally for any
@@ -243,35 +233,34 @@ desired value for a global.
 .PP
 For functions that set \f[B]seed\f[R], the value assigned to
 \f[B]seed\f[R] is not propagated to parent functions.
-This means that the sequence of pseudo-random numbers that they see will
-not be the same sequence of pseudo-random numbers that any parent sees.
+This means that the sequence of pseudo\-random numbers that they see
+will not be the same sequence of pseudo\-random numbers that any parent
+sees.
 This is only the case once \f[B]seed\f[R] has been set.
 .PP
-If a function desires to not affect the sequence of pseudo-random
+If a function desires to not affect the sequence of pseudo\-random
 numbers of its parents, but wants to use the same \f[B]seed\f[R], it can
 use the following line:
 .IP
-.nf
-\f[C]
+.EX
 seed = seed
-\f[R]
-.fi
+.EE
 .PP
 If the behavior of this option is desired for every run of bc(1), then
 users could make sure to define \f[B]BC_ENV_ARGS\f[R] and include this
 option (see the \f[B]ENVIRONMENT VARIABLES\f[R] section for more
 details).
 .PP
-If \f[B]-s\f[R], \f[B]-w\f[R], or any equivalents are used, this option
-is ignored.
+If \f[B]\-s\f[R], \f[B]\-w\f[R], or any equivalents are used, this
+option is ignored.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -279,28 +268,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-l\f[R], \f[B]--mathlib\f[R]
+\f[B]\-l\f[R], \f[B]\-\-mathlib\f[R]
 Sets \f[B]scale\f[R] (see the \f[B]SYNTAX\f[R] section) to \f[B]20\f[R]
 and loads the included math library and the extended math library before
 running any code, including any expressions or files specified on the
@@ -310,7 +299,7 @@ command line.
 To learn what is in the libraries, see the \f[B]LIBRARY\f[R] section.
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -318,10 +307,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -334,26 +323,26 @@ Most of those users would want to put this option in
 These options override the \f[B]BC_PROMPT\f[R] and \f[B]BC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-q\f[R], \f[B]--quiet\f[R]
+\f[B]\-q\f[R], \f[B]\-\-quiet\f[R]
 This option is for compatibility with the GNU bc(1)
-(https://www.gnu.org/software/bc/); it is a no-op.
+(https://www.gnu.org/software/bc/); it is a no\-op.
 Without this option, GNU bc(1) prints a copyright header.
 This bc(1) only prints the copyright header if one or more of the
-\f[B]-v\f[R], \f[B]-V\f[R], or \f[B]--version\f[R] options are given
+\f[B]\-v\f[R], \f[B]\-V\f[R], or \f[B]\-\-version\f[R] options are given
 unless the \f[B]BC_BANNER\f[R] environment variable is set and contains
-a non-zero integer or if this bc(1) was built with the header displayed
+a non\-zero integer or if this bc(1) was built with the header displayed
 by default.
 If \f[I]any\f[R] of that is the case, then this option \f[I]does\f[R]
 prevent bc(1) from printing the header.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -366,16 +355,16 @@ prompt for user input.
 .RS
 .PP
 This option does not disable the regular prompt because the read prompt
-is only used when the \f[B]read()\f[R] built-in function is called.
+is only used when the \f[B]read()\f[R] built\-in function is called.
 .PP
 These options \f[I]do\f[R] override the \f[B]BC_PROMPT\f[R] and
 \f[B]BC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-r\f[R] \f[I]keyword\f[R], \f[B]--redefine\f[R]=\f[I]keyword\f[R]
+\f[B]\-r\f[R] \f[I]keyword\f[R], \f[B]\-\-redefine\f[R]=\f[I]keyword\f[R]
 Redefines \f[I]keyword\f[R] in order to allow it to be used as a
 function, variable, or array name.
 This is useful when this bc(1) gives parse errors when parsing scripts
@@ -436,7 +425,7 @@ It is a fatal error to attempt to redefine words that this bc(1) does
 not reserve as keywords.
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -444,35 +433,35 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-s\f[R], \f[B]--standard\f[R]
+\f[B]\-s\f[R], \f[B]\-\-standard\f[R]
 Process exactly the language defined by the standard (see the
 \f[B]STANDARDS\f[R] section) and error if any extensions are used.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-w\f[R], \f[B]--warn\f[R]
-Like \f[B]-s\f[R] and \f[B]--standard\f[R], except that warnings (and
-not errors) are printed for non-standard extensions and execution
+\f[B]\-w\f[R], \f[B]\-\-warn\f[R]
+Like \f[B]\-s\f[R] and \f[B]\-\-standard\f[R], except that warnings (and
+not errors) are printed for non\-standard extensions and execution
 continues normally.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes bc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes bc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
@@ -480,15 +469,14 @@ This can be set for individual numbers with the \f[B]plz(x)\f[R],
 \f[B]plznl(x)\f[R], \f[B]pnlz(x)\f[R], and \f[B]pnlznl(x)\f[R] functions
 in the extended math library (see the \f[B]LIBRARY\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files or expressions are given by the \f[B]-f\f[R],
-\f[B]--file\f[R], \f[B]-e\f[R], or \f[B]--expression\f[R] options, then
-bc(1) reads from \f[B]stdin\f[R].
+If no files or expressions are given by the \f[B]\-f\f[R],
+\f[B]\-\-file\f[R], \f[B]\-e\f[R], or \f[B]\-\-expression\f[R] options,
+then bc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there are a few caveats to this.
 .PP
@@ -502,8 +490,7 @@ Second, after an \f[B]if\f[R] statement, bc(1) doesn\[cq]t know if an
 \f[B]else\f[R] statement will follow, so it will not execute until it
 knows there will not be an \f[B]else\f[R] statement.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -511,7 +498,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]bc >&-\f[R], it will quit with an error.
+\f[B]bc  >&\-\f[R], it will quit with an error.
 This is done so that bc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -519,13 +506,12 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other bc(1) implementations, this bc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]bc 2>&-\f[R], it will quit with an error.
+\f[B]bc  2>&\-\f[R], it will quit with an error.
 This is done so that bc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -533,8 +519,7 @@ If there are scripts that depend on the behavior of other bc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
-The syntax for bc(1) programs is mostly C-like, with some differences.
+The syntax for bc(1) programs is mostly C\-like, with some differences.
 This bc(1) follows the POSIX standard (see the \f[B]STANDARDS\f[R]
 section), which is a much more thorough resource for the language this
 bc(1) accepts.
@@ -545,32 +530,32 @@ In the sections below, \f[B]E\f[R] means expression, \f[B]S\f[R] means
 statement, and \f[B]I\f[R] means identifier.
 .PP
 Identifiers (\f[B]I\f[R]) start with a lowercase letter and can be
-followed by any number (up to \f[B]BC_NAME_MAX-1\f[R]) of lowercase
-letters (\f[B]a-z\f[R]), digits (\f[B]0-9\f[R]), and underscores
+followed by any number (up to \f[B]BC_NAME_MAX\-1\f[R]) of lowercase
+letters (\f[B]a\-z\f[R]), digits (\f[B]0\-9\f[R]), and underscores
 (\f[B]_\f[R]).
-The regex is \f[B][a-z][a-z0-9_]*\f[R].
+The regex is \f[B][a\-z][a\-z0\-9_]*\f[R].
 Identifiers with more than one character (letter) are a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .PP
 \f[B]ibase\f[R] is a global variable determining how to interpret
 constant numbers.
 It is the \[lq]input\[rq] base, or the number base used for interpreting
 input numbers.
 \f[B]ibase\f[R] is initially \f[B]10\f[R].
-If the \f[B]-s\f[R] (\f[B]--standard\f[R]) and \f[B]-w\f[R]
-(\f[B]--warn\f[R]) flags were not given on the command line, the max
+If the \f[B]\-s\f[R] (\f[B]\-\-standard\f[R]) and \f[B]\-w\f[R]
+(\f[B]\-\-warn\f[R]) flags were not given on the command line, the max
 allowable value for \f[B]ibase\f[R] is \f[B]36\f[R].
 Otherwise, it is \f[B]16\f[R].
 The min allowable value for \f[B]ibase\f[R] is \f[B]2\f[R].
 The max allowable value for \f[B]ibase\f[R] can be queried in bc(1)
-programs with the \f[B]maxibase()\f[R] built-in function.
+programs with the \f[B]maxibase()\f[R] built\-in function.
 .PP
 \f[B]obase\f[R] is a global variable determining how to output results.
 It is the \[lq]output\[rq] base, or the number base used for outputting
 numbers.
 \f[B]obase\f[R] is initially \f[B]10\f[R].
 The max allowable value for \f[B]obase\f[R] is \f[B]BC_BASE_MAX\f[R] and
-can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built-in
+can be queried in bc(1) programs with the \f[B]maxobase()\f[R] built\-in
 function.
 The min allowable value for \f[B]obase\f[R] is \f[B]0\f[R].
 If \f[B]obase\f[R] is \f[B]0\f[R], values are output in scientific
@@ -578,8 +563,8 @@ notation, and if \f[B]obase\f[R] is \f[B]1\f[R], values are output in
 engineering notation.
 Otherwise, values are output in the specified base.
 .PP
-Outputting in scientific and engineering notations are \f[B]non-portable
-extensions\f[R].
+Outputting in scientific and engineering notations are
+\f[B]non\-portable extensions\f[R].
 .PP
 The \f[I]scale\f[R] of an expression is the number of digits in the
 result of the expression right of the decimal point, and \f[B]scale\f[R]
@@ -589,7 +574,7 @@ exceptions.
 \f[B]scale\f[R] cannot be negative.
 The max allowable value for \f[B]scale\f[R] is \f[B]BC_SCALE_MAX\f[R]
 and can be queried in bc(1) programs with the \f[B]maxscale()\f[R]
-built-in function.
+built\-in function.
 .PP
 bc(1) has both \f[I]global\f[R] variables and \f[I]local\f[R] variables.
 All \f[I]local\f[R] variables are local to the function; they are
@@ -614,20 +599,18 @@ The value that is printed is also assigned to the special variable
 \f[B]last\f[R].
 A single dot (\f[B].\f[R]) may also be used as a synonym for
 \f[B]last\f[R].
-These are \f[B]non-portable extensions\f[R].
+These are \f[B]non\-portable extensions\f[R].
 .PP
 Either semicolons or newlines may separate statements.
 .SS Comments
-.PP
 There are two kinds of comments:
 .IP "1." 3
 Block comments are enclosed in \f[B]/*\f[R] and \f[B]*/\f[R].
 .IP "2." 3
 Line comments go from \f[B]#\f[R] until, and not including, the next
 newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Named Expressions
-.PP
 The following are named expressions in bc(1):
 .IP "1." 3
 Variables: \f[B]I\f[R]
@@ -644,26 +627,26 @@ Array Elements: \f[B]I[E]\f[R]
 .IP "7." 3
 \f[B]last\f[R] or a single dot (\f[B].\f[R])
 .PP
-Numbers 6 and 7 are \f[B]non-portable extensions\f[R].
+Numbers 6 and 7 are \f[B]non\-portable extensions\f[R].
 .PP
-The meaning of \f[B]seed\f[R] is dependent on the current pseudo-random
+The meaning of \f[B]seed\f[R] is dependent on the current pseudo\-random
 number generator but is guaranteed to not change except for new major
 versions.
 .PP
 The \f[I]scale\f[R] and sign of the value may be significant.
 .PP
 If a previously used \f[B]seed\f[R] value is assigned to \f[B]seed\f[R]
-and used again, the pseudo-random number generator is guaranteed to
-produce the same sequence of pseudo-random numbers as it did when the
+and used again, the pseudo\-random number generator is guaranteed to
+produce the same sequence of pseudo\-random numbers as it did when the
 \f[B]seed\f[R] value was previously used.
 .PP
 The exact value assigned to \f[B]seed\f[R] is not guaranteed to be
 returned if \f[B]seed\f[R] is queried again immediately.
 However, if \f[B]seed\f[R] \f[I]does\f[R] return a different value, both
 values, when assigned to \f[B]seed\f[R], are guaranteed to produce the
-same sequence of pseudo-random numbers.
+same sequence of pseudo\-random numbers.
 This means that certain values assigned to \f[B]seed\f[R] will
-\f[I]not\f[R] produce unique sequences of pseudo-random numbers.
+\f[I]not\f[R] produce unique sequences of pseudo\-random numbers.
 The value of \f[B]seed\f[R] will change after any use of the
 \f[B]rand()\f[R] and \f[B]irand(E)\f[R] operands (see the
 \f[I]Operands\f[R] subsection below), except if the parameter passed to
@@ -684,7 +667,6 @@ Named expressions are required as the operand of
 of \f[B]assignment\f[R] operators (see the \f[I]Operators\f[R]
 subsection).
 .SS Operands
-.PP
 The following are valid operands in bc(1):
 .IP " 1." 4
 Numbers (see the \f[I]Numbers\f[R] subsection below).
@@ -694,61 +676,61 @@ Array indices (\f[B]I[E]\f[R]).
 \f[B](E)\f[R]: The value of \f[B]E\f[R] (used to change precedence).
 .IP " 4." 4
 \f[B]sqrt(E)\f[R]: The square root of \f[B]E\f[R].
-\f[B]E\f[R] must be non-negative.
+\f[B]E\f[R] must be non\-negative.
 .IP " 5." 4
 \f[B]length(E)\f[R]: The number of significant decimal digits in
 \f[B]E\f[R].
 Returns \f[B]1\f[R] for \f[B]0\f[R] with no decimal places.
 If given a string, the length of the string is returned.
-Passing a string to \f[B]length(E)\f[R] is a \f[B]non-portable
+Passing a string to \f[B]length(E)\f[R] is a \f[B]non\-portable
 extension\f[R].
 .IP " 6." 4
 \f[B]length(I[])\f[R]: The number of elements in the array \f[B]I\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 7." 4
 \f[B]scale(E)\f[R]: The \f[I]scale\f[R] of \f[B]E\f[R].
 .IP " 8." 4
 \f[B]abs(E)\f[R]: The absolute value of \f[B]E\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP " 9." 4
 \f[B]is_number(E)\f[R]: \f[B]1\f[R] if the given argument is a number,
 \f[B]0\f[R] if it is a string.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "10." 4
 \f[B]is_string(E)\f[R]: \f[B]1\f[R] if the given argument is a string,
 \f[B]0\f[R] if it is a number.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "11." 4
 \f[B]modexp(E, E, E)\f[R]: Modular exponentiation, where the first
 expression is the base, the second is the exponent, and the third is the
 modulus.
 All three values must be integers.
-The second argument must be non-negative.
-The third argument must be non-zero.
-This is a \f[B]non-portable extension\f[R].
+The second argument must be non\-negative.
+The third argument must be non\-zero.
+This is a \f[B]non\-portable extension\f[R].
 .IP "12." 4
 \f[B]divmod(E, E, I[])\f[R]: Division and modulus in one operation.
 This is for optimization.
 The first expression is the dividend, and the second is the divisor,
-which must be non-zero.
+which must be non\-zero.
 The return value is the quotient, and the modulus is stored in index
 \f[B]0\f[R] of the provided array (the last argument).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "13." 4
 \f[B]asciify(E)\f[R]: If \f[B]E\f[R] is a string, returns a string that
 is the first letter of its argument.
 If it is a number, calculates the number mod \f[B]256\f[R] and returns
-that number as a one-character string.
-This is a \f[B]non-portable extension\f[R].
+that number as a one\-character string.
+This is a \f[B]non\-portable extension\f[R].
 .IP "14." 4
 \f[B]asciify(I[])\f[R]: A string that is made up of the characters that
 would result from running \f[B]asciify(E)\f[R] on each element of the
 array identified by the argument.
-This allows creating multi-character strings and storing them.
-This is a \f[B]non-portable extension\f[R].
+This allows creating multi\-character strings and storing them.
+This is a \f[B]non\-portable extension\f[R].
 .IP "15." 4
 \f[B]I()\f[R], \f[B]I(E)\f[R], \f[B]I(E, E)\f[R], and so on, where
-\f[B]I\f[R] is an identifier for a non-\f[B]void\f[R] function (see the
+\f[B]I\f[R] is an identifier for a non\-\f[B]void\f[R] function (see the
 \f[I]Void Functions\f[R] subsection of the \f[B]FUNCTIONS\f[R] section).
 The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]I[]\f[R], which will automatically be turned into array references
@@ -760,47 +742,47 @@ function definition is an array reference.
 expression.
 The result of that expression is the result of the \f[B]read()\f[R]
 operand.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "17." 4
 \f[B]maxibase()\f[R]: The max allowable \f[B]ibase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "18." 4
 \f[B]maxobase()\f[R]: The max allowable \f[B]obase\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "19." 4
 \f[B]maxscale()\f[R]: The max allowable \f[B]scale\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "20." 4
 \f[B]line_length()\f[R]: The line length set with
 \f[B]BC_LINE_LENGTH\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "21." 4
 \f[B]global_stacks()\f[R]: \f[B]0\f[R] if global stacks are not enabled
-with the \f[B]-g\f[R] or \f[B]--global-stacks\f[R] options, non-zero
-otherwise.
+with the \f[B]\-g\f[R] or \f[B]\-\-global\-stacks\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "22." 4
 \f[B]leading_zero()\f[R]: \f[B]0\f[R] if leading zeroes are not enabled
-with the \f[B]-z\f[R] or \f[B]\[en]leading-zeroes\f[R] options, non-zero
-otherwise.
+with the \f[B]\-z\f[R] or \f[B]\[en]leading\-zeroes\f[R] options,
+non\-zero otherwise.
 See the \f[B]OPTIONS\f[R] section.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "23." 4
-\f[B]rand()\f[R]: A pseudo-random integer between \f[B]0\f[R]
+\f[B]rand()\f[R]: A pseudo\-random integer between \f[B]0\f[R]
 (inclusive) and \f[B]BC_RAND_MAX\f[R] (inclusive).
 Using this operand will change the value of \f[B]seed\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "24." 4
-\f[B]irand(E)\f[R]: A pseudo-random integer between \f[B]0\f[R]
+\f[B]irand(E)\f[R]: A pseudo\-random integer between \f[B]0\f[R]
 (inclusive) and the value of \f[B]E\f[R] (exclusive).
-If \f[B]E\f[R] is negative or is a non-integer (\f[B]E\f[R]\[cq]s
+If \f[B]E\f[R] is negative or is a non\-integer (\f[B]E\f[R]\[cq]s
 \f[I]scale\f[R] is not \f[B]0\f[R]), an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section) while \f[B]seed\f[R] remains
 unchanged.
 If \f[B]E\f[R] is larger than \f[B]BC_RAND_MAX\f[R], the higher bound is
-honored by generating several pseudo-random integers, multiplying them
+honored by generating several pseudo\-random integers, multiplying them
 by appropriate powers of \f[B]BC_RAND_MAX+1\f[R], and adding them
 together.
 Thus, the size of integer that can be generated with this operand is
@@ -809,27 +791,26 @@ Using this operand will change the value of \f[B]seed\f[R], unless the
 value of \f[B]E\f[R] is \f[B]0\f[R] or \f[B]1\f[R].
 In that case, \f[B]0\f[R] is returned, and \f[B]seed\f[R] is
 \f[I]not\f[R] changed.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .IP "25." 4
 \f[B]maxrand()\f[R]: The max integer returned by \f[B]rand()\f[R].
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .PP
 The integers generated by \f[B]rand()\f[R] and \f[B]irand(E)\f[R] are
 guaranteed to be as unbiased as possible, subject to the limitations of
-the pseudo-random number generator.
+the pseudo\-random number generator.
 .PP
-\f[B]Note\f[R]: The values returned by the pseudo-random number
+\f[B]Note\f[R]: The values returned by the pseudo\-random number
 generator with \f[B]rand()\f[R] and \f[B]irand(E)\f[R] are guaranteed to
 \f[I]NOT\f[R] be cryptographically secure.
-This is a consequence of using a seeded pseudo-random number generator.
+This is a consequence of using a seeded pseudo\-random number generator.
 However, they \f[I]are\f[R] guaranteed to be reproducible with identical
 \f[B]seed\f[R] values.
-This means that the pseudo-random values from bc(1) should only be used
-where a reproducible stream of pseudo-random numbers is
+This means that the pseudo\-random values from bc(1) should only be used
+where a reproducible stream of pseudo\-random numbers is
 \f[I]ESSENTIAL\f[R].
-In any other case, use a non-seeded pseudo-random number generator.
+In any other case, use a non\-seeded pseudo\-random number generator.
 .SS Numbers
-.PP
 Numbers are strings made up of digits, uppercase letters, and at most
 \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]BC_NUM_MAX\f[R] digits.
@@ -840,12 +821,12 @@ alphabet, starting from \f[B]1\f[R] (i.e., \f[B]A\f[R] equals
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]BC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -863,7 +844,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -882,11 +863,11 @@ These have the form \f[B]<number>e<integer>\f[R].
 The exponent (the portion after the \f[B]e\f[R]) must be an integer.
 An example is \f[B]1.89237e9\f[R], which is equal to
 \f[B]1892370000\f[R].
-Negative exponents are also allowed, so \f[B]4.2890e-3\f[R] is equal to
+Negative exponents are also allowed, so \f[B]4.2890e\-3\f[R] is equal to
 \f[B]0.0042890\f[R].
 .PP
-Using scientific notation is an error or warning if the \f[B]-s\f[R] or
-\f[B]-w\f[R], respectively, command-line options (or equivalents) are
+Using scientific notation is an error or warning if the \f[B]\-s\f[R] or
+\f[B]\-w\f[R], respectively, command\-line options (or equivalents) are
 given.
 .PP
 \f[B]WARNING\f[R]: Both the number and the exponent in scientific
@@ -896,17 +877,16 @@ of the current \f[B]ibase\f[R].
 For example, if \f[B]ibase\f[R] is \f[B]16\f[R] and bc(1) is given the
 number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if bc(1) is given the number string
-\f[B]10e-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
+\f[B]10e\-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .PP
-Accepting input as scientific notation is a \f[B]non-portable
+Accepting input as scientific notation is a \f[B]non\-portable
 extension\f[R].
 .SS Operators
-.PP
 The following arithmetic and logical operators can be used.
 They are listed in order of decreasing precedence.
 Operators in the same group have the same precedence.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 Type: Prefix and Postfix
 .RS
 .PP
@@ -915,7 +895,7 @@ Associativity: None
 Description: \f[B]increment\f[R], \f[B]decrement\f[R]
 .RE
 .TP
-\f[B]-\f[R] \f[B]!\f[R]
+\f[B]\-\f[R] \f[B]!\f[R]
 Type: Prefix
 .RS
 .PP
@@ -960,7 +940,7 @@ Associativity: Left
 Description: \f[B]multiply\f[R], \f[B]divide\f[R], \f[B]modulus\f[R]
 .RE
 .TP
-\f[B]+\f[R] \f[B]-\f[R]
+\f[B]+\f[R] \f[B]\-\f[R]
 Type: Binary
 .RS
 .PP
@@ -978,7 +958,7 @@ Associativity: Left
 Description: \f[B]shift left\f[R], \f[B]shift right\f[R]
 .RE
 .TP
-\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
+\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
 Type: Binary
 .RS
 .PP
@@ -1016,18 +996,18 @@ Description: \f[B]boolean or\f[R]
 .PP
 The operators will be described in more detail below.
 .TP
-\f[B]++\f[R] \f[B]--\f[R]
+\f[B]++\f[R] \f[B]\-\-\f[R]
 The prefix and postfix \f[B]increment\f[R] and \f[B]decrement\f[R]
-operators behave exactly like they would in C.
-They require a named expression (see the \f[I]Named Expressions\f[R]
-subsection) as an operand.
+operators behave exactly like they would in C. They require a named
+expression (see the \f[I]Named Expressions\f[R] subsection) as an
+operand.
 .RS
 .PP
 The prefix versions of these operators are more efficient; use them
 where possible.
 .RE
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]negation\f[R] operator returns \f[B]0\f[R] if a user attempts
 to negate any expression with the value \f[B]0\f[R].
 Otherwise, a copy of the expression with its sign flipped is returned.
@@ -1037,7 +1017,11 @@ The \f[B]boolean not\f[R] operator returns \f[B]1\f[R] if the expression
 is \f[B]0\f[R], or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+\f[B]Warning\f[R]: This operator has a \f[B]different precedence\f[R]
+than the equivalent operator in GNU bc(1) and other bc(1)
+implementations!
+.PP
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]$\f[R]
@@ -1045,7 +1029,7 @@ The \f[B]truncation\f[R] operator returns a copy of the given expression
 with all of its \f[I]scale\f[R] removed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[at]\f[R]
@@ -1059,9 +1043,9 @@ more).
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -1072,7 +1056,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]), and if it
-is negative, the first value must be non-zero.
+is negative, the first value must be non\-zero.
 .RE
 .TP
 \f[B]*\f[R]
@@ -1090,18 +1074,18 @@ returns the quotient.
 The \f[I]scale\f[R] of the result shall be the value of \f[B]scale\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
 The \f[B]modulus\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and evaluates them by 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R] and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .RS
 .PP
-The second expression must be non-zero.
+The second expression must be non\-zero.
 .RE
 .TP
 \f[B]+\f[R]
@@ -1109,7 +1093,7 @@ The \f[B]add\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the sum, with a \f[I]scale\f[R] equal to the
 max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The \f[B]subtract\f[R] operator takes two expressions, \f[B]a\f[R] and
 \f[B]b\f[R], and returns the difference, with a \f[I]scale\f[R] equal to
 the max of the \f[I]scale\f[R]s of \f[B]a\f[R] and \f[B]b\f[R].
@@ -1121,9 +1105,9 @@ decimal point moved \f[B]b\f[R] places to the right.
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]>>\f[R]
@@ -1133,12 +1117,12 @@ decimal point moved \f[B]b\f[R] places to the left.
 .RS
 .PP
 The second expression must be an integer (no \f[I]scale\f[R]) and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
+\f[B]=\f[R] \f[B]<<=\f[R] \f[B]>>=\f[R] \f[B]+=\f[R] \f[B]\-=\f[R] \f[B]*=\f[R] \f[B]/=\f[R] \f[B]%=\f[R] \f[B]\[ha]=\f[R] \f[B]\[at]=\f[R]
 The \f[B]assignment\f[R] operators take two expressions, \f[B]a\f[R] and
 \f[B]b\f[R] where \f[B]a\f[R] is a named expression (see the \f[I]Named
 Expressions\f[R] subsection).
@@ -1151,7 +1135,7 @@ the corresponding arithmetic operator and the result is assigned to
 \f[B]a\f[R].
 .PP
 The \f[B]assignment\f[R] operators that correspond to operators that are
-extensions are themselves \f[B]non-portable extensions\f[R].
+extensions are themselves \f[B]non\-portable extensions\f[R].
 .RE
 .TP
 \f[B]==\f[R] \f[B]<=\f[R] \f[B]>=\f[R] \f[B]!=\f[R] \f[B]<\f[R] \f[B]>\f[R]
@@ -1168,31 +1152,30 @@ interpreted as \f[B](a=b)>c\f[R].
 Also, unlike the standard (see the \f[B]STANDARDS\f[R] section)
 requires, these operators can appear anywhere any other expressions can
 be used.
-This allowance is a \f[B]non-portable extension\f[R].
+This allowance is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]&&\f[R]
 The \f[B]boolean and\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if both expressions are non-zero, \f[B]0\f[R] otherwise.
+\f[B]1\f[R] if both expressions are non\-zero, \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]||\f[R]
 The \f[B]boolean or\f[R] operator takes two expressions and returns
-\f[B]1\f[R] if one of the expressions is non-zero, \f[B]0\f[R]
+\f[B]1\f[R] if one of the expressions is non\-zero, \f[B]0\f[R]
 otherwise.
 .RS
 .PP
-This is \f[I]not\f[R] a short-circuit operator.
+This is \f[I]not\f[R] a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Statements
-.PP
 The following items are statements:
 .IP " 1." 4
 \f[B]E\f[R]
@@ -1239,10 +1222,10 @@ The \f[B]E\f[R] argument(s) may also be arrays of the form
 \f[B]FUNCTIONS\f[R] section) if the corresponding parameter in the
 function definition is an array reference.
 .PP
-Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non-portable
+Numbers 4, 9, 11, 12, 14, 15, and 16 are \f[B]non\-portable
 extensions\f[R].
 .PP
-Also, as a \f[B]non-portable extension\f[R], any or all of the
+Also, as a \f[B]non\-portable extension\f[R], any or all of the
 expressions in the header of a for loop may be omitted.
 If the condition (second expression) is omitted, it is assumed to be a
 constant \f[B]1\f[R].
@@ -1259,7 +1242,7 @@ This is only allowed in loops.
 The \f[B]if\f[R] \f[B]else\f[R] statement does the same thing as in C.
 .PP
 The \f[B]quit\f[R] statement causes bc(1) to quit, even if it is on a
-branch that will not be executed (it is a compile-time command).
+branch that will not be executed (it is a compile\-time command).
 .PP
 \f[B]Warning\f[R]: The behavior of this bc(1) on \f[B]quit\f[R] is
 slightly different from other bc(1) implementations.
@@ -1270,11 +1253,9 @@ occur before the \f[B]quit\f[R] statement before exiting.
 .PP
 In other words, for the bc(1) code below:
 .IP
-.nf
-\f[C]
+.EX
 for (i = 0; i < 3; ++i) i; quit
-\f[R]
-.fi
+.EE
 .PP
 Other bc(1) implementations will print nothing, and this bc(1) will
 print \f[B]0\f[R], \f[B]1\f[R], and \f[B]2\f[R] on successive lines
@@ -1286,7 +1267,7 @@ that is not executed, bc(1) does not quit.)
 .PP
 The \f[B]limits\f[R] statement prints the limits that this bc(1) is
 subject to.
-This is like the \f[B]quit\f[R] statement in that it is a compile-time
+This is like the \f[B]quit\f[R] statement in that it is a compile\-time
 command.
 .PP
 An expression by itself is evaluated and printed, followed by a newline.
@@ -1299,13 +1280,12 @@ Scientific notation is activated by assigning \f[B]0\f[R] to
 To deactivate them, just assign a different value to \f[B]obase\f[R].
 .PP
 Scientific notation and engineering notation are disabled if bc(1) is
-run with either the \f[B]-s\f[R] or \f[B]-w\f[R] command-line options
+run with either the \f[B]\-s\f[R] or \f[B]\-w\f[R] command\-line options
 (or equivalents).
 .PP
 Printing numbers in scientific notation and/or engineering notation is a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .SS Strings
-.PP
 If strings appear as a statement by themselves, they are printed without
 a trailing newline.
 .PP
@@ -1322,9 +1302,8 @@ element that has been assigned a string, an error is raised, and bc(1)
 resets (see the \f[B]RESET\f[R] section).
 .PP
 Assigning strings to variables and array elements and passing them to
-functions are \f[B]non-portable extensions\f[R].
+functions are \f[B]non\-portable extensions\f[R].
 .SS Print Statement
-.PP
 The \[lq]expressions\[rq] in a \f[B]print\f[R] statement may also be
 strings.
 If they are, there are backslash escape sequences that are interpreted
@@ -1351,14 +1330,12 @@ below:
 \f[B]\[rs]t\f[R]: \f[B]\[rs]t\f[R]
 .PP
 Any other character following a backslash causes the backslash and
-character to be printed as-is.
+character to be printed as\-is.
 .PP
-Any non-string expression in a print statement shall be assigned to
+Any non\-string expression in a print statement shall be assigned to
 \f[B]last\f[R], like any other expression that is printed.
 .SS Stream Statement
-.PP
-The \[lq]expressions in a \f[B]stream\f[R] statement may also be
-strings.
+The expressions in a \f[B]stream\f[R] statement may also be strings.
 .PP
 If a \f[B]stream\f[R] statement is given a string, it prints the string
 as though the string had appeared as its own statement.
@@ -1368,20 +1345,17 @@ without a newline.
 If a \f[B]stream\f[R] statement is given a number, a copy of it is
 truncated and its absolute value is calculated.
 The result is then printed as though \f[B]obase\f[R] is \f[B]256\f[R]
-and each digit is interpreted as an 8-bit ASCII character, making it a
+and each digit is interpreted as an 8\-bit ASCII character, making it a
 byte stream.
 .SS Order of Evaluation
-.PP
 All expressions in a statment are evaluated left to right, except as
 necessary to maintain order of operations.
 This means, for example, assuming that \f[B]i\f[R] is equal to
 \f[B]0\f[R], in the expression
 .IP
-.nf
-\f[C]
+.EX
 a[i++] = i++
-\f[R]
-.fi
+.EE
 .PP
 the first (or 0th) element of \f[B]a\f[R] is set to \f[B]1\f[R], and
 \f[B]i\f[R] is equal to \f[B]2\f[R] at the end of the expression.
@@ -1390,28 +1364,23 @@ This includes function arguments.
 Thus, assuming \f[B]i\f[R] is equal to \f[B]0\f[R], this means that in
 the expression
 .IP
-.nf
-\f[C]
+.EX
 x(i++, i++)
-\f[R]
-.fi
+.EE
 .PP
 the first argument passed to \f[B]x()\f[R] is \f[B]0\f[R], and the
 second argument is \f[B]1\f[R], while \f[B]i\f[R] is equal to
 \f[B]2\f[R] before the function starts executing.
 .SH FUNCTIONS
-.PP
 Function definitions are as follows:
 .IP
-.nf
-\f[C]
+.EX
 define I(I,...,I){
     auto I,...,I
     S;...;S
     return(E)
 }
-\f[R]
-.fi
+.EE
 .PP
 Any \f[B]I\f[R] in the parameter list or \f[B]auto\f[R] list may be
 replaced with \f[B]I[]\f[R] to make a parameter or \f[B]auto\f[R] var an
@@ -1422,10 +1391,10 @@ asterisk in the call; they must be called with just \f[B]I[]\f[R] like
 normal array parameters and will be automatically converted into
 references.
 .PP
-As a \f[B]non-portable extension\f[R], the opening brace of a
+As a \f[B]non\-portable extension\f[R], the opening brace of a
 \f[B]define\f[R] statement may appear on the next line.
 .PP
-As a \f[B]non-portable extension\f[R], the return statement may also be
+As a \f[B]non\-portable extension\f[R], the return statement may also be
 in one of the following forms:
 .IP "1." 3
 \f[B]return\f[R]
@@ -1439,18 +1408,15 @@ equivalent to \f[B]return (0)\f[R], unless the function is a
 \f[B]void\f[R] function (see the \f[I]Void Functions\f[R] subsection
 below).
 .SS Void Functions
-.PP
 Functions can also be \f[B]void\f[R] functions, defined as follows:
 .IP
-.nf
-\f[C]
+.EX
 define void I(I,...,I){
     auto I,...,I
     S;...;S
     return
 }
-\f[R]
-.fi
+.EE
 .PP
 They can only be used as standalone expressions, where such an
 expression would be printed alone, except in a print statement.
@@ -1464,17 +1430,14 @@ possible to have variables, arrays, and functions named \f[B]void\f[R].
 The word \[lq]void\[rq] is only treated specially right after the
 \f[B]define\f[R] keyword.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SS Array References
-.PP
 For any array in the parameter list, if the array is declared in the
 form
 .IP
-.nf
-\f[C]
+.EX
 *I[]
-\f[R]
-.fi
+.EE
 .PP
 it is a \f[B]reference\f[R].
 Any changes to the array in the function are reflected, when the
@@ -1482,17 +1445,15 @@ function returns, to the array that was passed in.
 .PP
 Other than this, all function arguments are passed by value.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH LIBRARY
-.PP
 All of the functions below, including the functions in the extended math
 library (see the \f[I]Extended Library\f[R] subsection below), are
-available when the \f[B]-l\f[R] or \f[B]--mathlib\f[R] command-line
+available when the \f[B]\-l\f[R] or \f[B]\-\-mathlib\f[R] command\-line
 flags are given, except that the extended math library is not available
-when the \f[B]-s\f[R] option, the \f[B]-w\f[R] option, or equivalents
+when the \f[B]\-s\f[R] option, the \f[B]\-w\f[R] option, or equivalents
 are given.
 .SS Standard Library
-.PP
 The standard (see the \f[B]STANDARDS\f[R] section) defines the following
 functions for the math library:
 .TP
@@ -1545,13 +1506,12 @@ This is a transcendental function (see the \f[I]Transcendental
 Functions\f[R] subsection below).
 .RE
 .SS Extended Library
-.PP
 The extended library is \f[I]not\f[R] loaded when the
-\f[B]-s\f[R]/\f[B]--standard\f[R] or \f[B]-w\f[R]/\f[B]--warn\f[R]
+\f[B]\-s\f[R]/\f[B]\-\-standard\f[R] or \f[B]\-w\f[R]/\f[B]\-\-warn\f[R]
 options are given since they are not part of the library defined by the
 standard (see the \f[B]STANDARDS\f[R] section).
 .PP
-The extended library is a \f[B]non-portable extension\f[R].
+The extended library is a \f[B]non\-portable extension\f[R].
 .TP
 \f[B]p(x, y)\f[R]
 Calculates \f[B]x\f[R] to the power of \f[B]y\f[R], even if \f[B]y\f[R]
@@ -1579,6 +1539,14 @@ the rounding mode round away from \f[B]0\f[R]
 \f[B]f(x)\f[R]
 Returns the factorial of the truncated absolute value of \f[B]x\f[R].
 .TP
+\f[B]max(a, b)\f[R]
+Returns \f[B]a\f[R] if \f[B]a\f[R] is greater than \f[B]b\f[R];
+otherwise, returns \f[B]b\f[R].
+.TP
+\f[B]min(a, b)\f[R]
+Returns \f[B]a\f[R] if \f[B]a\f[R] is less than \f[B]b\f[R]; otherwise,
+returns \f[B]b\f[R].
+.TP
 \f[B]perm(n, k)\f[R]
 Returns the permutation of the truncated absolute value of \f[B]n\f[R]
 of the truncated absolute value of \f[B]k\f[R], if \f[B]k <= n\f[R].
@@ -1589,6 +1557,10 @@ Returns the combination of the truncated absolute value of \f[B]n\f[R]
 of the truncated absolute value of \f[B]k\f[R], if \f[B]k <= n\f[R].
 If not, it returns \f[B]0\f[R].
 .TP
+\f[B]fib(n)\f[R]
+Returns the Fibonacci number of the truncated absolute value of
+\f[B]n\f[R].
+.TP
 \f[B]l2(x)\f[R]
 Returns the logarithm base \f[B]2\f[R] of \f[B]x\f[R].
 .RS
@@ -1660,11 +1632,11 @@ Otherwise, if \f[B]x\f[R] is greater than \f[B]0\f[R], it returns
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is greater than
 or equal to \f[B]0\f[R], it returns \f[B]a(y/x)+pi\f[R].
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]a(y/x)-pi\f[R].
+\f[B]0\f[R], it returns \f[B]a(y/x)\-pi\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is greater than
 \f[B]0\f[R], it returns \f[B]pi/2\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]-pi/2\f[R].
+\f[B]0\f[R], it returns \f[B]\-pi/2\f[R].
 .RS
 .PP
 This function is the same as the \f[B]atan2()\f[R] function in many
@@ -1698,7 +1670,7 @@ Functions\f[R] subsection below).
 Returns the tangent of \f[B]x\f[R], which is assumed to be in radians.
 .RS
 .PP
-If \f[B]x\f[R] is equal to \f[B]1\f[R] or \f[B]-1\f[R], this raises an
+If \f[B]x\f[R] is equal to \f[B]1\f[R] or \f[B]\-1\f[R], this raises an
 error and causes bc(1) to reset (see the \f[B]RESET\f[R] section).
 .PP
 This is an alias of \f[B]t(x)\f[R].
@@ -1726,11 +1698,11 @@ Otherwise, if \f[B]x\f[R] is greater than \f[B]0\f[R], it returns
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is greater than
 or equal to \f[B]0\f[R], it returns \f[B]a(y/x)+pi\f[R].
 If \f[B]x\f[R] is less than \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]a(y/x)-pi\f[R].
+\f[B]0\f[R], it returns \f[B]a(y/x)\-pi\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is greater than
 \f[B]0\f[R], it returns \f[B]pi/2\f[R].
 If \f[B]x\f[R] is equal to \f[B]0\f[R], and \f[B]y\f[R] is less than
-\f[B]0\f[R], it returns \f[B]-pi/2\f[R].
+\f[B]0\f[R], it returns \f[B]\-pi/2\f[R].
 .RS
 .PP
 This function is the same as the \f[B]atan2()\f[R] function in many
@@ -1759,7 +1731,7 @@ Functions\f[R] subsection below).
 .RE
 .TP
 \f[B]frand(p)\f[R]
-Generates a pseudo-random number between \f[B]0\f[R] (inclusive) and
+Generates a pseudo\-random number between \f[B]0\f[R] (inclusive) and
 \f[B]1\f[R] (exclusive) with the number of decimal digits after the
 decimal point equal to the truncated absolute value of \f[B]p\f[R].
 If \f[B]p\f[R] is not \f[B]0\f[R], then calling this function will
@@ -1768,14 +1740,22 @@ If \f[B]p\f[R] is \f[B]0\f[R], then \f[B]0\f[R] is returned, and
 \f[B]seed\f[R] is \f[I]not\f[R] changed.
 .TP
 \f[B]ifrand(i, p)\f[R]
-Generates a pseudo-random number that is between \f[B]0\f[R] (inclusive)
-and the truncated absolute value of \f[B]i\f[R] (exclusive) with the
-number of decimal digits after the decimal point equal to the truncated
-absolute value of \f[B]p\f[R].
+Generates a pseudo\-random number that is between \f[B]0\f[R]
+(inclusive) and the truncated absolute value of \f[B]i\f[R] (exclusive)
+with the number of decimal digits after the decimal point equal to the
+truncated absolute value of \f[B]p\f[R].
 If the absolute value of \f[B]i\f[R] is greater than or equal to
 \f[B]2\f[R], and \f[B]p\f[R] is not \f[B]0\f[R], then calling this
 function will change the value of \f[B]seed\f[R]; otherwise, \f[B]0\f[R]
-is returned and \f[B]seed\f[R] is not changed.
+is returned, and \f[B]seed\f[R] is not changed.
+.TP
+\f[B]i2rand(a, b)\f[R]
+Takes the truncated value of \f[B]a\f[R] and \f[B]b\f[R] and uses them
+as inclusive bounds to enerate a pseudo\-random integer.
+If the difference of the truncated values of \f[B]a\f[R] and \f[B]b\f[R]
+is \f[B]0\f[R], then the truncated value is returned, and \f[B]seed\f[R]
+is \f[I]not\f[R] changed.
+Otherwise, this function will change the value of \f[B]seed\f[R].
 .TP
 \f[B]srand(x)\f[R]
 Returns \f[B]x\f[R] with its sign flipped with probability
@@ -1817,8 +1797,8 @@ If you want to use signed two\[cq]s complement arguments, use
 .TP
 \f[B]bshl(a, b)\f[R]
 Takes the truncated absolute value of both \f[B]a\f[R] and \f[B]b\f[R]
-and calculates and returns the result of \f[B]a\f[R] bit-shifted left by
-\f[B]b\f[R] places.
+and calculates and returns the result of \f[B]a\f[R] bit\-shifted left
+by \f[B]b\f[R] places.
 .RS
 .PP
 If you want to use signed two\[cq]s complement arguments, use
@@ -1828,7 +1808,7 @@ If you want to use signed two\[cq]s complement arguments, use
 \f[B]bshr(a, b)\f[R]
 Takes the truncated absolute value of both \f[B]a\f[R] and \f[B]b\f[R]
 and calculates and returns the truncated result of \f[B]a\f[R]
-bit-shifted right by \f[B]b\f[R] places.
+bit\-shifted right by \f[B]b\f[R] places.
 .RS
 .PP
 If you want to use signed two\[cq]s complement arguments, use
@@ -1847,7 +1827,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot8(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]8\f[R] binary digits (1 unsigned byte).
+though it has \f[B]8\f[R] binary digits (\f[B]1\f[R] unsigned byte).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1856,7 +1836,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot16(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]16\f[R] binary digits (2 unsigned bytes).
+though it has \f[B]16\f[R] binary digits (\f[B]2\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1865,7 +1845,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot32(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]32\f[R] binary digits (4 unsigned bytes).
+though it has \f[B]32\f[R] binary digits (\f[B]4\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1874,7 +1854,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]bnot64(x)\f[R]
 Does a bitwise not of the truncated absolute value of \f[B]x\f[R] as
-though it has \f[B]64\f[R] binary digits (8 unsigned bytes).
+though it has \f[B]64\f[R] binary digits (\f[B]8\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1892,7 +1872,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brevn(x, n)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has the same number of 8-bit bytes as the truncated absolute
+though it has the same number of 8\-bit bytes as the truncated absolute
 value of \f[B]n\f[R].
 .RS
 .PP
@@ -1902,7 +1882,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev8(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 8 binary digits (1 unsigned byte).
+though it has 8 binary digits (\f[B]1\f[R] unsigned byte).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1911,7 +1891,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev16(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 16 binary digits (2 unsigned bytes).
+though it has 16 binary digits (\f[B]2\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1920,7 +1900,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev32(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 32 binary digits (4 unsigned bytes).
+though it has 32 binary digits (\f[B]4\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1929,7 +1909,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brev64(x)\f[R]
 Runs a bit reversal on the truncated absolute value of \f[B]x\f[R] as
-though it has 64 binary digits (8 unsigned bytes).
+though it has 64 binary digits (\f[B]8\f[R] unsigned bytes).
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1947,11 +1927,11 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]broln(x, p, n)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has the same number of unsigned 8-bit bytes as
-the truncated absolute value of \f[B]n\f[R], by the number of places
+\f[B]x\f[R], as though it has the same number of unsigned 8\-bit bytes
+as the truncated absolute value of \f[B]n\f[R], by the number of places
 equal to the truncated absolute value of \f[B]p\f[R] modded by the
 \f[B]2\f[R] to the power of the number of binary digits in \f[B]n\f[R]
-8-bit bytes.
+8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -1982,7 +1962,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brol32(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has \f[B]32\f[R] binary digits (\f[B]2\f[R]
+\f[B]x\f[R], as though it has \f[B]32\f[R] binary digits (\f[B]4\f[R]
 unsigned bytes), by the number of places equal to the truncated absolute
 value of \f[B]p\f[R] modded by \f[B]2\f[R] to the power of \f[B]32\f[R].
 .RS
@@ -1993,7 +1973,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brol64(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has \f[B]64\f[R] binary digits (\f[B]2\f[R]
+\f[B]x\f[R], as though it has \f[B]64\f[R] binary digits (\f[B]8\f[R]
 unsigned bytes), by the number of places equal to the truncated absolute
 value of \f[B]p\f[R] modded by \f[B]2\f[R] to the power of \f[B]64\f[R].
 .RS
@@ -2005,9 +1985,9 @@ If you want to a use signed two\[cq]s complement argument, use
 \f[B]brol(x, p)\f[R]
 Does a left bitwise rotatation of the truncated absolute value of
 \f[B]x\f[R], as though it has the minimum number of power of two
-unsigned 8-bit bytes, by the number of places equal to the truncated
+unsigned 8\-bit bytes, by the number of places equal to the truncated
 absolute value of \f[B]p\f[R] modded by 2 to the power of the number of
-binary digits in the minimum number of 8-bit bytes.
+binary digits in the minimum number of 8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2016,11 +1996,11 @@ If you want to a use signed two\[cq]s complement argument, use
 .TP
 \f[B]brorn(x, p, n)\f[R]
 Does a right bitwise rotatation of the truncated absolute value of
-\f[B]x\f[R], as though it has the same number of unsigned 8-bit bytes as
-the truncated absolute value of \f[B]n\f[R], by the number of places
+\f[B]x\f[R], as though it has the same number of unsigned 8\-bit bytes
+as the truncated absolute value of \f[B]n\f[R], by the number of places
 equal to the truncated absolute value of \f[B]p\f[R] modded by the
 \f[B]2\f[R] to the power of the number of binary digits in \f[B]n\f[R]
-8-bit bytes.
+8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2074,9 +2054,9 @@ If you want to a use signed two\[cq]s complement argument, use
 \f[B]bror(x, p)\f[R]
 Does a right bitwise rotatation of the truncated absolute value of
 \f[B]x\f[R], as though it has the minimum number of power of two
-unsigned 8-bit bytes, by the number of places equal to the truncated
+unsigned 8\-bit bytes, by the number of places equal to the truncated
 absolute value of \f[B]p\f[R] modded by 2 to the power of the number of
-binary digits in the minimum number of 8-bit bytes.
+binary digits in the minimum number of 8\-bit bytes.
 .RS
 .PP
 If you want to a use signed two\[cq]s complement argument, use
@@ -2130,7 +2110,7 @@ If you want to a use signed two\[cq]s complement argument, use
 .RE
 .TP
 \f[B]bunrev(t)\f[R]
-Assumes \f[B]t\f[R] is a bitwise-reversed number with an extra set bit
+Assumes \f[B]t\f[R] is a bitwise\-reversed number with an extra set bit
 one place more significant than the real most significant bit (which was
 the least significant bit in the original number).
 This number is reversed and returned without the extra set bit.
@@ -2141,29 +2121,29 @@ meant to be used by users, but it can be.
 .RE
 .TP
 \f[B]plz(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed with a leading zero, regardless
-of the use of the \f[B]-z\f[R] option (see the \f[B]OPTIONS\f[R]
-section) and without a trailing newline.
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed with a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
+\f[B]OPTIONS\f[R] section) and without a trailing newline.
 .RS
 .PP
 Otherwise, \f[B]x\f[R] is printed normally, without a trailing newline.
 .RE
 .TP
 \f[B]plznl(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed with a leading zero, regardless
-of the use of the \f[B]-z\f[R] option (see the \f[B]OPTIONS\f[R]
-section) and with a trailing newline.
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed with a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
+\f[B]OPTIONS\f[R] section) and with a trailing newline.
 .RS
 .PP
 Otherwise, \f[B]x\f[R] is printed normally, with a trailing newline.
 .RE
 .TP
 \f[B]pnlz(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed without a leading zero,
-regardless of the use of the \f[B]-z\f[R] option (see the
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed without a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
 \f[B]OPTIONS\f[R] section) and without a trailing newline.
 .RS
 .PP
@@ -2171,9 +2151,9 @@ Otherwise, \f[B]x\f[R] is printed normally, without a trailing newline.
 .RE
 .TP
 \f[B]pnlznl(x)\f[R]
-If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that \f[B]-1\f[R]
-and less than \f[B]1\f[R], it is printed without a leading zero,
-regardless of the use of the \f[B]-z\f[R] option (see the
+If \f[B]x\f[R] is not equal to \f[B]0\f[R] and greater that
+\f[B]\-1\f[R] and less than \f[B]1\f[R], it is printed without a leading
+zero, regardless of the use of the \f[B]\-z\f[R] option (see the
 \f[B]OPTIONS\f[R] section) and with a trailing newline.
 .RS
 .PP
@@ -2185,22 +2165,22 @@ Returns the numbers of unsigned integer bytes required to hold the
 truncated absolute value of \f[B]x\f[R].
 .TP
 \f[B]sbytes(x)\f[R]
-Returns the numbers of signed, two\[cq]s-complement integer bytes
+Returns the numbers of signed, two\[cq]s\-complement integer bytes
 required to hold the truncated value of \f[B]x\f[R].
 .TP
 \f[B]s2u(x)\f[R]
-Returns \f[B]x\f[R] if it is non-negative.
+Returns \f[B]x\f[R] if it is non\-negative.
 If it \f[I]is\f[R] negative, then it calculates what \f[B]x\f[R] would
-be as a 2\[cq]s-complement signed integer and returns the non-negative
+be as a 2\[cq]s\-complement signed integer and returns the non\-negative
 integer that would have the same representation in binary.
 .TP
 \f[B]s2un(x,n)\f[R]
-Returns \f[B]x\f[R] if it is non-negative.
+Returns \f[B]x\f[R] if it is non\-negative.
 If it \f[I]is\f[R] negative, then it calculates what \f[B]x\f[R] would
-be as a 2\[cq]s-complement signed integer with \f[B]n\f[R] bytes and
-returns the non-negative integer that would have the same representation
-in binary.
-If \f[B]x\f[R] cannot fit into \f[B]n\f[R] 2\[cq]s-complement signed
+be as a 2\[cq]s\-complement signed integer with \f[B]n\f[R] bytes and
+returns the non\-negative integer that would have the same
+representation in binary.
+If \f[B]x\f[R] cannot fit into \f[B]n\f[R] 2\[cq]s\-complement signed
 bytes, it is truncated to fit.
 .TP
 \f[B]hex(x)\f[R]
@@ -2244,7 +2224,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in as few power of two bytes as
+a signed, two\[cq]s\-complement integer in as few power of two bytes as
 possible.
 Both outputs are split into bytes separated by spaces.
 .RS
@@ -2272,7 +2252,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]intn(x, n)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]n\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]n\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2300,7 +2280,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int8(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]1\f[R] byte.
+a signed, two\[cq]s\-complement integer in \f[B]1\f[R] byte.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2328,7 +2308,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int16(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]2\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]2\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2356,7 +2336,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int32(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]4\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]4\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2384,7 +2364,7 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 .TP
 \f[B]int64(x)\f[R]
 Outputs the representation, in binary and hexadecimal, of \f[B]x\f[R] as
-a signed, two\[cq]s-complement integer in \f[B]8\f[R] bytes.
+a signed, two\[cq]s\-complement integer in \f[B]8\f[R] bytes.
 Both outputs are split into bytes separated by spaces.
 .RS
 .PP
@@ -2431,14 +2411,13 @@ subsection of the \f[B]FUNCTIONS\f[R] section).
 \f[B]output_byte(x, i)\f[R]
 Outputs byte \f[B]i\f[R] of the truncated absolute value of \f[B]x\f[R],
 where \f[B]0\f[R] is the least significant byte and \f[B]number_of_bytes
-- 1\f[R] is the most significant byte.
+\- 1\f[R] is the most significant byte.
 .RS
 .PP
 This is a \f[B]void\f[R] function (see the \f[I]Void Functions\f[R]
 subsection of the \f[B]FUNCTIONS\f[R] section).
 .RE
 .SS Transcendental Functions
-.PP
 All transcendental functions can return slightly inaccurate results, up
 to 1 ULP (https://en.wikipedia.org/wiki/Unit_in_the_last_place).
 This is unavoidable, and the article at
@@ -2494,8 +2473,7 @@ The transcendental functions in the extended math library are:
 .IP \[bu] 2
 \f[B]d2r(x)\f[R]
 .SH RESET
-.PP
-When bc(1) encounters an error or a signal that it has a non-default
+When bc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
@@ -2515,7 +2493,6 @@ Note that this reset behavior is different from the GNU bc(1), which
 attempts to start executing the statement right after the one that
 caused an error.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This bc(1) does something different.
@@ -2538,7 +2515,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bc(1):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -2568,29 +2544,29 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]rand()\f[R]
 operand.
-Set at \f[B]2\[ha]BC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]BC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -2598,29 +2574,28 @@ Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
 The actual values can be queried with the \f[B]limits\f[R] statement.
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], bc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], bc(1) recognizes the following
 environment variables:
 .TP
 \f[B]POSIXLY_CORRECT\f[R]
 If this variable exists (no matter the contents), bc(1) behaves as if
-the \f[B]-s\f[R] option was given.
+the \f[B]\-s\f[R] option was given.
 .TP
 \f[B]BC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to bc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to bc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]BC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
@@ -2641,14 +2616,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]BC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]BC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), bc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), bc(1) will output lines to that length,
 including the backslash (\f[B]\[rs]\f[R]).
 The default line length is \f[B]70\f[R].
 .RS
@@ -2660,7 +2635,7 @@ newlines.
 .TP
 \f[B]BC_BANNER\f[R]
 If this environment variable exists and contains an integer, then a
-non-zero value activates the copyright banner when bc(1) is in
+non\-zero value activates the copyright banner when bc(1) is in
 interactive mode, while zero deactivates it.
 .RS
 .PP
@@ -2669,7 +2644,7 @@ section), then this environment variable has no effect because bc(1)
 does not print the banner when not in interactive mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_SIGINT_RESET\f[R]
@@ -2679,13 +2654,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when bc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes bc(1)
+variable exists and contains an integer, a non\-zero value makes bc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes bc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then bc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_TTY_MODE\f[R]
@@ -2694,11 +2669,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes bc(1) use
+exists and contains an integer, then a non\-zero value makes bc(1) use
 TTY mode, and zero makes bc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_PROMPT\f[R]
@@ -2707,46 +2682,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes bc(1) use a
-prompt, and zero or a non-integer makes bc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes bc(1) use a
+prompt, and zero or a non\-integer makes bc(1) not use a prompt.
 If this environment variable does not exist and \f[B]BC_TTY_MODE\f[R]
 does, then the value of the \f[B]BC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]BC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes bc(1) exit after executing the
-expressions and expression files, and a zero value makes bc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes bc(1) exit after executing
+the expressions and expression files, and a zero value makes bc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]BC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes bc(1) clamp digits that are
+contains an integer, a non\-zero value makes bc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the standard (see the
-\f[B]STANDARDS\f[R] section).
+This never applies to single\-digit numbers, as per the standard (see
+the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 bc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -2760,10 +2735,10 @@ since math errors will happen in the process of normal execution.
 .PP
 Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, using a negative number as a bound for the
-pseudo-random number generator, attempting to convert a negative number
+pseudo\-random number generator, attempting to convert a negative number
 to a hardware integer, overflow when converting a number to a hardware
 integer, overflow when calculating the size of a number, and attempting
-to use a non-integer where an integer is required.
+to use a non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]), places (\f[B]\[at]\f[R]), left shift
@@ -2785,7 +2760,7 @@ giving an invalid \f[B]auto\f[R] list, having a duplicate
 \f[B]auto\f[R]/function parameter, failing to find the end of a code
 block, attempting to return a value from a \f[B]void\f[R] function,
 attempting to use a variable as a reference, and using any extensions
-when the option \f[B]-s\f[R] or any equivalents were given.
+when the option \f[B]\-s\f[R] or any equivalents were given.
 .RE
 .TP
 \f[B]3\f[R]
@@ -2808,7 +2783,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (bc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, bc(1)
@@ -2819,18 +2794,18 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 bc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow bc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
 Per the standard (see the \f[B]STANDARDS\f[R] section), bc(1) has an
-interactive mode and a non-interactive mode.
+interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, bc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -2839,7 +2814,6 @@ bc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]BC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, bc(1) can turn on TTY mode, subject to some
@@ -2847,52 +2821,49 @@ settings.
 .PP
 If there is the environment variable \f[B]BC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, bc(1) will turn
+that environment variable contains a non\-zero integer, bc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]BC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then bc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then bc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]BC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) standard (see the \f[B]STANDARDS\f[R] section),
 and interactive mode requires only \f[B]stdin\f[R] and \f[B]stdout\f[R]
 to be connected to a terminal.
-.SS Command-Line History
-.PP
-Command-line history is only enabled if TTY mode is, i.e., that
+.SS Command\-Line History
+Command\-line history is only enabled if TTY mode is, i.e., that
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to
 a TTY and the \f[B]BC_TTY_MODE\f[R] environment variable (see the
 \f[B]ENVIRONMENT VARIABLES\f[R] section) and its default do not disable
 TTY mode.
 See the \f[B]COMMAND LINE HISTORY\f[R] section for more information.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]BC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]BC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]BC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]BC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]BC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause bc(1) to do one of two things.
 .PP
 If bc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -2901,7 +2872,7 @@ section), or the \f[B]BC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, bc(1) will exit.
 .PP
 However, if bc(1) is in interactive mode, and the
-\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]BC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then bc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -2927,12 +2898,11 @@ The one exception is \f[B]SIGHUP\f[R]; in that case, and only when bc(1)
 is in TTY mode (see the \f[B]TTY MODE\f[R] section), a \f[B]SIGHUP\f[R]
 will cause bc(1) to clean up and exit.
 .SH COMMAND LINE HISTORY
-.PP
-bc(1) supports interactive command-line editing.
+bc(1) supports interactive command\-line editing.
 .PP
 If bc(1) can be in TTY mode (see the \f[B]TTY MODE\f[R] section),
 history can be enabled.
-This means that command-line history can only be enabled when
+This means that command\-line history can only be enabled when
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY.
 .PP
@@ -2945,14 +2915,12 @@ the arrow keys.
 .PP
 \f[B]Note\f[R]: tabs are converted to 8 spaces.
 .SH SEE ALSO
-.PP
 dc(1)
 .SH STANDARDS
-.PP
-bc(1) is compliant with the IEEE Std 1003.1-2017
-(\[lq]POSIX.1-2017\[rq]) specification at
+bc(1) is compliant with the IEEE Std 1003.1\-2017
+(\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
-The flags \f[B]-efghiqsvVw\f[R], all long options, and the extensions
+The flags \f[B]\-efghiqsvVw\f[R], all long options, and the extensions
 noted above are extensions to that specification.
 .PP
 In addition, the behavior of the \f[B]quit\f[R] implements an
@@ -2965,13 +2933,13 @@ Note that the specification explicitly says that bc(1) only accepts
 numbers that use a period (\f[B].\f[R]) as a radix point, regardless of
 the value of \f[B]LC_NUMERIC\f[R].
 .SH BUGS
-.PP
 Before version \f[B]6.1.0\f[R], this bc(1) had incorrect behavior for
 the \f[B]quit\f[R] statement.
 .PP
 No other bugs are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bc/N.1.md b/manuals/bc/N.1.md
index 56a4b227..859c32e3 100644
--- a/manuals/bc/N.1.md
+++ b/manuals/bc/N.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -811,6 +811,9 @@ The operators will be described in more detail below.
 :   The **boolean not** operator returns **1** if the expression is **0**, or
     **0** otherwise.
 
+    **Warning**: This operator has a **different precedence** than the
+    equivalent operator in GNU bc(1) and other bc(1) implementations!
+
     This is a **non-portable extension**.
 
 **\$**
@@ -1068,7 +1071,7 @@ like any other expression that is printed.
 
 ## Stream Statement
 
-The "expressions in a **stream** statement may also be strings.
+The expressions in a **stream** statement may also be strings.
 
 If a **stream** statement is given a string, it prints the string as though the
 string had appeared as its own statement. In other words, the **stream**
@@ -1259,6 +1262,14 @@ The extended library is a **non-portable extension**.
 
 :   Returns the factorial of the truncated absolute value of **x**.
 
+**max(a, b)**
+
+:   Returns **a** if **a** is greater than **b**; otherwise, returns **b**.
+
+**min(a, b)**
+
+:   Returns **a** if **a** is less than **b**; otherwise, returns **b**.
+
 **perm(n, k)**
 
 :   Returns the permutation of the truncated absolute value of **n** of the
@@ -1269,6 +1280,10 @@ The extended library is a **non-portable extension**.
 :   Returns the combination of the truncated absolute value of **n** of the
     truncated absolute value of **k**, if **k \<= n**. If not, it returns **0**.
 
+**fib(n)**
+
+:   Returns the Fibonacci number of the truncated absolute value of **n**.
+
 **l2(x)**
 
 :   Returns the logarithm base **2** of **x**.
@@ -1431,7 +1446,15 @@ The extended library is a **non-portable extension**.
     digits after the decimal point equal to the truncated absolute value of
     **p**. If the absolute value of **i** is greater than or equal to **2**, and
     **p** is not **0**, then calling this function will change the value of
-    **seed**; otherwise, **0** is returned and **seed** is not changed.
+    **seed**; otherwise, **0** is returned, and **seed** is not changed.
+
+**i2rand(a, b)**
+
+:   Takes the truncated value of **a** and **b** and uses them as inclusive
+    bounds to enerate a pseudo-random integer. If the difference of the
+    truncated values of **a** and **b** is **0**, then the truncated value is
+    returned, and **seed** is *not* changed. Otherwise, this function will
+    change the value of **seed**.
 
 **srand(x)**
 
@@ -1493,7 +1516,7 @@ The extended library is a **non-portable extension**.
 **bnot8(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **8** binary digits (1 unsigned byte).
+    **8** binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1501,7 +1524,7 @@ The extended library is a **non-portable extension**.
 **bnot16(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **16** binary digits (2 unsigned bytes).
+    **16** binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1509,7 +1532,7 @@ The extended library is a **non-portable extension**.
 **bnot32(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **32** binary digits (4 unsigned bytes).
+    **32** binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1517,7 +1540,7 @@ The extended library is a **non-portable extension**.
 **bnot64(x)**
 
 :   Does a bitwise not of the truncated absolute value of **x** as though it has
-    **64** binary digits (8 unsigned bytes).
+    **64** binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1541,7 +1564,7 @@ The extended library is a **non-portable extension**.
 **brev8(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 8 binary digits (1 unsigned byte).
+    has 8 binary digits (**1** unsigned byte).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1549,7 +1572,7 @@ The extended library is a **non-portable extension**.
 **brev16(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 16 binary digits (2 unsigned bytes).
+    has 16 binary digits (**2** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1557,7 +1580,7 @@ The extended library is a **non-portable extension**.
 **brev32(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 32 binary digits (4 unsigned bytes).
+    has 32 binary digits (**4** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1565,7 +1588,7 @@ The extended library is a **non-portable extension**.
 **brev64(x)**
 
 :   Runs a bit reversal on the truncated absolute value of **x** as though it
-    has 64 binary digits (8 unsigned bytes).
+    has 64 binary digits (**8** unsigned bytes).
 
     If you want to a use signed two's complement argument, use **s2u(x)** to
     convert.
@@ -1612,7 +1635,7 @@ The extended library is a **non-portable extension**.
 **brol32(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **32** binary digits (**2** unsigned bytes), by the number of
+    though it has **32** binary digits (**4** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **32**.
 
@@ -1622,7 +1645,7 @@ The extended library is a **non-portable extension**.
 **brol64(x, p)**
 
 :   Does a left bitwise rotatation of the truncated absolute value of **x**, as
-    though it has **64** binary digits (**2** unsigned bytes), by the number of
+    though it has **64** binary digits (**8** unsigned bytes), by the number of
     places equal to the truncated absolute value of **p** modded by **2** to the
     power of **64**.
 
diff --git a/manuals/bcl.3 b/manuals/bcl.3
index cb65a2b8..f2791624 100644
--- a/manuals/bcl.3
+++ b/manuals/bcl.3
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,21 +25,18 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "BCL" "3" "February 2023" "Gavin D. Howard" "Libraries Manual"
+.TH "BCL" "3" "January 2024" "Gavin D. Howard" "Libraries Manual"
 .nh
 .ad l
 .SH NAME
-.PP
-bcl - library of arbitrary precision decimal arithmetic
+bcl \- library of arbitrary precision decimal arithmetic
 .SH SYNOPSIS
 .SS Use
-.PP
 \f[I]#include <bcl.h>\f[R]
 .PP
-Link with \f[I]-lbcl\f[R], and on POSIX systems, \f[I]-lpthread\f[R] is
-also required.
+Link with \f[I]\-lbcl\f[R], and on POSIX systems, \f[I]\-lpthread\f[R]
+is also required.
 .SS Setup
-.PP
 These items allow clients to set up bcl(3).
 .PP
 \f[B]BclError bcl_start(\f[R]\f[I]void\f[R]\f[B]);\f[R]
@@ -65,7 +62,6 @@ These items allow clients to set up bcl(3).
 .PP
 \f[B]void bcl_setDigitClamp(bool\f[R] \f[I]digitClamp\f[R]\f[B]);\f[R]
 .SS Contexts
-.PP
 These items will allow clients to handle contexts, which are isolated
 from each other.
 This allows more than one client to use bcl(3) in the same program.
@@ -101,16 +97,14 @@ size_t\f[R] \f[I]ibase\f[R]\f[B]);\f[R]
 \f[B]void bcl_ctxt_setObase(BclContext\f[R] \f[I]ctxt\f[R]\f[B],
 size_t\f[R] \f[I]obase\f[R]\f[B]);\f[R]
 .SS Errors
-.PP
 These items allow clients to handle errors.
 .PP
 \f[B]typedef enum BclError BclError;\f[R]
 .PP
 \f[B]BclError bcl_err(BclNumber\f[R] \f[I]n\f[R]\f[B]);\f[R]
 .SS Numbers
-.PP
 These items allow clients to manipulate and query the
-arbitrary-precision numbers managed by bcl(3).
+arbitrary\-precision numbers managed by bcl(3).
 .PP
 \f[B]typedef struct { size_t i; } BclNumber;\f[R]
 .PP
@@ -130,7 +124,6 @@ size_t\f[R] \f[I]scale\f[R]\f[B]);\f[R]
 .PP
 \f[B]size_t bcl_num_len(BclNumber\f[R] \f[I]n\f[R]\f[B]);\f[R]
 .SS Conversion
-.PP
 These items allow clients to convert numbers into and from strings and
 integers.
 .PP
@@ -149,7 +142,6 @@ integers.
 .PP
 \f[B]BclNumber bcl_bigdig2num(BclBigDig\f[R] \f[I]val\f[R]\f[B]);\f[R]
 .SS Math
-.PP
 These items allow clients to run math on numbers.
 .PP
 \f[B]BclNumber bcl_add(BclNumber\f[R] \f[I]a\f[R]\f[B], BclNumber\f[R]
@@ -218,7 +210,6 @@ BclNumber\f[R] \f[I]b\f[R]\f[B], BclNumber\f[R] \f[I]c\f[R]\f[B]);\f[R]
 \f[B]BclNumber bcl_modexp_keep(BclNumber\f[R] \f[I]a\f[R]\f[B],
 BclNumber\f[R] \f[I]b\f[R]\f[B], BclNumber\f[R] \f[I]c\f[R]\f[B]);\f[R]
 .SS Miscellaneous
-.PP
 These items are miscellaneous.
 .PP
 \f[B]void bcl_zero(BclNumber\f[R] \f[I]n\f[R]\f[B]);\f[R]
@@ -232,9 +223,8 @@ These items are miscellaneous.
 \f[I]s\f[R]\f[B]);\f[R]
 .PP
 \f[B]BclNumber bcl_dup(BclNumber\f[R] \f[I]s\f[R]\f[B]);\f[R]
-.SS Pseudo-Random Number Generator
-.PP
-These items allow clients to manipulate the seeded pseudo-random number
+.SS Pseudo\-Random Number Generator
+These items allow clients to manipulate the seeded pseudo\-random number
 generator in bcl(3).
 .PP
 \f[B]#define BCL_SEED_ULONGS\f[R]
@@ -275,9 +265,8 @@ size_t\f[R] \f[I]places\f[R]\f[B]);\f[R]
 \f[B]BclRandInt bcl_rand_bounded(BclRandInt\f[R]
 \f[I]bound\f[R]\f[B]);\f[R]
 .SH DESCRIPTION
-.PP
-bcl(3) is a library that implements arbitrary-precision decimal math, as
-standardized by POSIX
+bcl(3) is a library that implements arbitrary\-precision decimal math,
+as standardized by POSIX
 (https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html) in
 bc(1).
 .PP
@@ -372,7 +361,7 @@ a fatal error occurs.
 .PP
 If activated, clients do not need to check for fatal errors.
 .PP
-This value is \f[I]thread-local\f[R]; it applies to just the thread it
+This value is \f[I]thread\-local\f[R]; it applies to just the thread it
 is read on.
 .PP
 The default is \f[B]false\f[R].
@@ -386,7 +375,7 @@ If \f[I]abrt\f[R] is \f[B]true\f[R], bcl(3) will cause a
 \f[B]SIGABRT\f[R] on fatal errors after the call.
 .RS
 .PP
-This value is \f[I]thread-local\f[R]; it applies to just the thread it
+This value is \f[I]thread\-local\f[R]; it applies to just the thread it
 is set on.
 .PP
 If activated, clients do not need to check for fatal errors.
@@ -395,11 +384,11 @@ If activated, clients do not need to check for fatal errors.
 \f[B]bool bcl_leadingZeroes(\f[R]\f[I]void\f[R]\f[B])\f[R]
 Queries and returns the state of whether leading zeroes are added to
 strings returned by \f[B]bcl_string()\f[R] when numbers are greater than
-\f[B]-1\f[R], less than \f[B]1\f[R], and not equal to \f[B]0\f[R].
+\f[B]\-1\f[R], less than \f[B]1\f[R], and not equal to \f[B]0\f[R].
 If \f[B]true\f[R] is returned, then leading zeroes will be added.
 .RS
 .PP
-This value is \f[I]thread-local\f[R]; it applies to just the thread it
+This value is \f[I]thread\-local\f[R]; it applies to just the thread it
 is read on.
 .PP
 The default is \f[B]false\f[R].
@@ -407,13 +396,13 @@ The default is \f[B]false\f[R].
 .TP
 \f[B]void bcl_setLeadingZeroes(bool\f[R] \f[I]leadingZeroes\f[R]\f[B])\f[R]
 Sets the state of whether leading zeroes are added to strings returned
-by \f[B]bcl_string()\f[R] when numbers are greater than \f[B]-1\f[R],
+by \f[B]bcl_string()\f[R] when numbers are greater than \f[B]\-1\f[R],
 less than \f[B]1\f[R], and not equal to \f[B]0\f[R].
 If \f[I]leadingZeroes\f[R] is \f[B]true\f[R], leading zeroes will be
 added to strings returned by \f[B]bcl_string()\f[R].
 .RS
 .PP
-This value is \f[I]thread-local\f[R]; it applies to just the thread it
+This value is \f[I]thread\-local\f[R]; it applies to just the thread it
 is set on.
 .RE
 .TP
@@ -437,7 +426,7 @@ while with clamping on and an \f[B]ibase\f[R] of \f[B]3\f[R], the string
 \[lq]AB\[rq] would be equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-This value is \f[I]thread-local\f[R]; it applies to just the thread it
+This value is \f[I]thread\-local\f[R]; it applies to just the thread it
 is read on.
 .PP
 The default is \f[B]true\f[R].
@@ -450,16 +439,15 @@ For more information, see the
 \f[B]bcl_digitClamp(\f[R]\f[I]void\f[R]\f[B])\f[R] function.
 .RS
 .PP
-This value is \f[I]thread-local\f[R]; it applies to just the thread it
+This value is \f[I]thread\-local\f[R]; it applies to just the thread it
 is set on.
 .RE
 .TP
 \f[B]void bcl_gc(\f[R]\f[I]void\f[R]\f[B])\f[R]
-Garbage collects cached instances of arbitrary-precision numbers.
+Garbage collects cached instances of arbitrary\-precision numbers.
 This only frees the memory of numbers that are \f[I]not\f[R] in use, so
 it is safe to call at any time.
 .SS Contexts
-.PP
 All procedures that take a \f[B]BclContext\f[R] parameter a require a
 valid context as an argument.
 .TP
@@ -587,13 +575,12 @@ If there was no error, it will return \f[B]BCL_ERROR_NONE\f[R].
 There must be a valid current context.
 .RE
 .SS Numbers
-.PP
 All procedures in this section require a valid current context.
 .TP
 \f[B]BclNumber\f[R]
-A handle to an arbitrary-precision number.
+A handle to an arbitrary\-precision number.
 The actual number type is not exposed; the \f[B]BclNumber\f[R] handle is
-the only way clients can refer to instances of arbitrary-precision
+the only way clients can refer to instances of arbitrary\-precision
 numbers.
 .TP
 \f[B]BclNumber bcl_num_create(\f[R]\f[I]void\f[R]\f[B])\f[R]
@@ -651,7 +638,6 @@ Otherwise, this function can return:
 Returns the number of \f[I]significant decimal digits\f[R] in
 \f[I]n\f[R].
 .SS Conversion
-.PP
 All procedures in this section require a valid current context.
 .PP
 All procedures in this section without the \f[B]_keep\f[R] suffix in
@@ -664,7 +650,7 @@ Parses a number string according to the current context\[cq]s
 \f[B]ibase\f[R] and returns the resulting number.
 .RS
 .PP
-\f[I]val\f[R] must be non-\f[B]NULL\f[R] and a valid string.
+\f[I]val\f[R] must be non\-\f[B]NULL\f[R] and a valid string.
 See \f[B]BCL_ERROR_PARSE_INVALID_STR\f[R] in the \f[B]ERRORS\f[R]
 section for more information.
 .PP
@@ -748,7 +734,6 @@ Possible errors include:
 \f[B]BCL_ERROR_FATAL_ALLOC_ERR\f[R]
 .RE
 .SS Math
-.PP
 All procedures in this section require a valid current context.
 .PP
 All procedures in this section without the \f[B]_keep\f[R] suffix in
@@ -948,7 +933,7 @@ Possible errors include:
 .TP
 \f[B]BclNumber bcl_mod(BclNumber\f[R] \f[I]a\f[R]\f[B], BclNumber\f[R] \f[I]b\f[R]\f[B])\f[R]
 Divides \f[I]a\f[R] by \f[I]b\f[R] to the \f[I]scale\f[R] of the current
-context, computes the modulus \f[B]a-(a/b)*b\f[R], and returns the
+context, computes the modulus \f[B]a\-(a/b)*b\f[R], and returns the
 modulus.
 .RS
 .PP
@@ -975,7 +960,7 @@ Possible errors include:
 .TP
 \f[B]BclNumber bcl_mod_keep(BclNumber\f[R] \f[I]a\f[R]\f[B], BclNumber\f[R] \f[I]b\f[R]\f[B])\f[R]
 Divides \f[I]a\f[R] by \f[I]b\f[R] to the \f[I]scale\f[R] of the current
-context, computes the modulus \f[B]a-(a/b)*b\f[R], and returns the
+context, computes the modulus \f[B]a\-(a/b)*b\f[R], and returns the
 modulus.
 .RS
 .PP
@@ -1000,7 +985,7 @@ Possible errors include:
 Calculates \f[I]a\f[R] to the power of \f[I]b\f[R] to the
 \f[I]scale\f[R] of the current context.
 \f[I]b\f[R] must be an integer, but can be negative.
-If it is negative, \f[I]a\f[R] must be non-zero.
+If it is negative, \f[I]a\f[R] must be non\-zero.
 .RS
 .PP
 \f[I]b\f[R] must be an integer.
@@ -1036,7 +1021,7 @@ Possible errors include:
 Calculates \f[I]a\f[R] to the power of \f[I]b\f[R] to the
 \f[I]scale\f[R] of the current context.
 \f[I]b\f[R] must be an integer, but can be negative.
-If it is negative, \f[I]a\f[R] must be non-zero.
+If it is negative, \f[I]a\f[R] must be non\-zero.
 .RS
 .PP
 \f[I]b\f[R] must be an integer.
@@ -1369,11 +1354,11 @@ Possible errors include:
 .IP \[bu] 2
 \f[B]BCL_ERROR_FATAL_ALLOC_ERR\f[R]
 .RE
-.SS Pseudo-Random Number Generator
-.PP
-The pseudo-random number generator in bcl(3) is a \f[I]seeded\f[R] PRNG.
+.SS Pseudo\-Random Number Generator
+The pseudo\-random number generator in bcl(3) is a \f[I]seeded\f[R]
+PRNG.
 Given the same seed twice, it will produce the same sequence of
-pseudo-random numbers twice.
+pseudo\-random numbers twice.
 .PP
 By default, bcl(3) attempts to seed the PRNG with data from
 \f[B]/dev/urandom\f[R].
@@ -1400,7 +1385,7 @@ their name consume the given \f[B]BclNumber\f[R] arguments that are not
 given to pointer arguments.
 See the \f[B]Consumption and Propagation\f[R] subsection below.
 .PP
-The following items allow clients to use the pseudo-random number
+The following items allow clients to use the pseudo\-random number
 generator.
 All procedures require a valid current context.
 .TP
@@ -1430,7 +1415,7 @@ This is done by generating as many random numbers as necessary,
 multiplying them by certain exponents, and adding them all together.
 .RS
 .PP
-\f[I]a\f[R] must be an integer and non-negative.
+\f[I]a\f[R] must be an integer and non\-negative.
 .PP
 \f[I]a\f[R] is consumed; it cannot be used after the call.
 See the \f[B]Consumption and Propagation\f[R] subsection below.
@@ -1463,7 +1448,7 @@ This is done by generating as many random numbers as necessary,
 multiplying them by certain exponents, and adding them all together.
 .RS
 .PP
-\f[I]a\f[R] must be an integer and non-negative.
+\f[I]a\f[R] must be an integer and non\-negative.
 .PP
 This procedure requires a valid current context.
 .PP
@@ -1506,7 +1491,7 @@ decimal digits after the radix (decimal point).
 There are no limits on \f[I]a\f[R] or \f[I]places\f[R].
 .RS
 .PP
-\f[I]a\f[R] must be an integer and non-negative.
+\f[I]a\f[R] must be an integer and non\-negative.
 .PP
 \f[I]a\f[R] is consumed; it cannot be used after the call.
 See the \f[B]Consumption and Propagation\f[R] subsection below.
@@ -1534,7 +1519,7 @@ decimal digits after the radix (decimal point).
 There are no limits on \f[I]a\f[R] or \f[I]places\f[R].
 .RS
 .PP
-\f[I]a\f[R] must be an integer and non-negative.
+\f[I]a\f[R] must be an integer and non\-negative.
 .PP
 This procedure requires a valid current context.
 .PP
@@ -1644,18 +1629,15 @@ Bias is removed before returning the integer.
 This procedure cannot fail.
 .RE
 .SS Consumption and Propagation
-.PP
 Some functions are listed as consuming some or all of their arguments.
 This means that the arguments are freed, regardless of if there were
 errors or not.
 .PP
 This is to enable compact code like the following:
 .IP
-.nf
-\f[C]
+.EX
 BclNumber n = bcl_num_add(bcl_num_mul(a, b), bcl_num_div(c, d));
-\f[R]
-.fi
+.EE
 .PP
 If arguments to those functions were not consumed, memory would be
 leaked until reclaimed with \f[B]bcl_ctxt_freeNums(BclContext)\f[R].
@@ -1664,16 +1646,13 @@ When errors occur, they are propagated through.
 The result should always be checked with \f[B]bcl_err(BclNumber)\f[R],
 so the example above should properly be:
 .IP
-.nf
-\f[C]
+.EX
 BclNumber n = bcl_num_add(bcl_num_mul(a, b), bcl_num_div(c, d));
 if (bcl_err(n) != BCL_ERROR_NONE) {
     // Handle the error.
 }
-\f[R]
-.fi
+.EE
 .SH ERRORS
-.PP
 Most functions in bcl(3) return, directly or indirectly, any one of the
 error codes defined in \f[B]BclError\f[R].
 The complete list of codes is the following:
@@ -1692,8 +1671,8 @@ A negative number was given as an argument to a parameter that cannot
 accept negative numbers, such as for square roots.
 .TP
 \f[B]BCL_ERROR_MATH_NON_INTEGER\f[R]
-A non-integer was given as an argument to a parameter that cannot accept
-non-integer numbers, such as for the second parameter of
+A non\-integer was given as an argument to a parameter that cannot
+accept non\-integer numbers, such as for the second parameter of
 \f[B]bcl_num_pow()\f[R].
 .TP
 \f[B]BCL_ERROR_MATH_OVERFLOW\f[R]
@@ -1708,7 +1687,7 @@ An invalid number string was passed to a parsing function.
 .RS
 .PP
 A valid number string can only be one radix (period).
-In addition, any lowercase ASCII letters, symbols, or non-ASCII
+In addition, any lowercase ASCII letters, symbols, or non\-ASCII
 characters are invalid.
 It is allowed for the first character to be a dash.
 In that case, the number is considered to be negative.
@@ -1728,7 +1707,7 @@ of the current \f[B]ibase\f[R].
 For example, if \f[B]ibase\f[R] is \f[B]16\f[R] and bcl(3) is given the
 number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if bcl(3) is given the number string
-\f[B]10e-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
+\f[B]10e\-4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .RE
 .TP
 \f[B]BCL_ERROR_FATAL_ALLOC_ERR\f[R]
@@ -1761,19 +1740,17 @@ It is highly recommended that client libraries do \f[I]not\f[R] activate
 this behavior.
 .RE
 .SH ATTRIBUTES
-.PP
-bcl(3) is \f[I]MT-Safe\f[R]: it is safe to call any functions from more
+bcl(3) is \f[I]MT\-Safe\f[R]: it is safe to call any functions from more
 than one thread.
 However, is is \f[I]not\f[R] safe to pass any data between threads
 except for strings returned by \f[B]bcl_string()\f[R].
 .PP
-bcl(3) is not \f[I]async-signal-safe\f[R].
+bcl(3) is not \f[I]async\-signal\-safe\f[R].
 It was not possible to make bcl(3) safe with signals and also make it
 safe with multiple threads.
 If it is necessary to be able to interrupt bcl(3), spawn a separate
 thread to run the calculation.
 .SH PERFORMANCE
-.PP
 Most bc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 bcl(3) does something different.
@@ -1793,7 +1770,6 @@ checking.
 This integer type depends on the value of \f[B]BC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on bcl(3):
 .TP
 \f[B]BC_LONG_BIT\f[R]
@@ -1823,33 +1799,31 @@ Set at \f[B]BC_BASE_POW\f[R].
 .TP
 \f[B]BC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]BC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]BC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]BC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]bcl_rand_int()\f[R]
 function.
-Set at \f[B]2\[ha]BC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]BC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
 Set at \f[B]BC_OVERFLOW_MAX\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH SEE ALSO
-.PP
 bc(1) and dc(1)
 .SH STANDARDS
-.PP
 bcl(3) is compliant with the arithmetic defined in the IEEE Std
-1003.1-2017 (\[lq]POSIX.1-2017\[rq]) specification at
+1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html for
 bc(1).
 .PP
@@ -1858,10 +1832,10 @@ numbers that use a period (\f[B].\f[R]) as a radix point, regardless of
 the value of \f[B]LC_NUMERIC\f[R].
 This is also true of bcl(3).
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc.
 .SH AUTHORS
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/bcl.3.md b/manuals/bcl.3.md
index fa566d16..41c1c120 100644
--- a/manuals/bcl.3.md
+++ b/manuals/bcl.3.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
diff --git a/manuals/dc.1.md.in b/manuals/dc.1.md.in
index 9e1e6ccf..655a686f 100644
--- a/manuals/dc.1.md.in
+++ b/manuals/dc.1.md.in
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -1170,11 +1170,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/dc/A.1 b/manuals/dc/A.1
index bef54876..d59e0fa6 100644
--- a/manuals/dc/A.1
+++ b/manuals/dc/A.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,49 +25,45 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH Name
-.PP
-dc - arbitrary-precision decimal reverse-Polish notation calculator
+dc \- arbitrary\-precision decimal reverse\-Polish notation calculator
 .SH SYNOPSIS
-.PP
-\f[B]dc\f[R] [\f[B]-cChiPRvVx\f[R]] [\f[B]--version\f[R]]
-[\f[B]--help\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--interactive\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]]
-[\f[B]--extended-register\f[R]] [\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]dc\f[R] [\f[B]\-cChiPRvVx\f[R]] [\f[B]\-\-version\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-interactive\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-extended\-register\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
-[\f[B]-I\f[R] \f[I]ibase\f[R]] [\f[B]--ibase\f[R]=\f[I]ibase\f[R]]
-[\f[B]-O\f[R] \f[I]obase\f[R]] [\f[B]--obase\f[R]=\f[I]obase\f[R]]
-[\f[B]-S\f[R] \f[I]scale\f[R]] [\f[B]--scale\f[R]=\f[I]scale\f[R]]
-[\f[B]-E\f[R] \f[I]seed\f[R]] [\f[B]--seed\f[R]=\f[I]seed\f[R]]
+[\f[B]\-I\f[R] \f[I]ibase\f[R]] [\f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]]
+[\f[B]\-O\f[R] \f[I]obase\f[R]] [\f[B]\-\-obase\f[R]=\f[I]obase\f[R]]
+[\f[B]\-S\f[R] \f[I]scale\f[R]] [\f[B]\-\-scale\f[R]=\f[I]scale\f[R]]
+[\f[B]\-E\f[R] \f[I]seed\f[R]] [\f[B]\-\-seed\f[R]=\f[I]seed\f[R]]
 .SH DESCRIPTION
-.PP
-dc(1) is an arbitrary-precision calculator.
+dc(1) is an arbitrary\-precision calculator.
 It uses a stack (reverse Polish notation) to store numbers and results
 of computations.
 Arithmetic operations pop arguments off of the stack and push the
 results.
 .PP
-If no files are given on the command-line, then dc(1) reads from
+If no files are given on the command\-line, then dc(1) reads from
 \f[B]stdin\f[R] (see the \f[B]STDIN\f[R] section).
 Otherwise, those files are processed, and dc(1) will then exit.
 .PP
 If a user wants to set up a standard environment, they can use
 \f[B]DC_ENV_ARGS\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 For example, if a user wants the \f[B]scale\f[R] always set to
-\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]-e 10k\f[R],
+\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]\-e 10k\f[R],
 and this dc(1) will always start with a \f[B]scale\f[R] of \f[B]10\f[R].
 .SH OPTIONS
-.PP
 The following are the options that dc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -77,17 +73,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -98,17 +94,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-E\f[R] \f[I]seed\f[R], \f[B]--seed\f[R]=\f[I]seed\f[R]
+\f[B]\-E\f[R] \f[I]seed\f[R], \f[B]\-\-seed\f[R]=\f[I]seed\f[R]
 Sets the builtin variable \f[B]seed\f[R] to the value \f[I]seed\f[R]
 assuming that \f[I]seed\f[R] is in base 10.
 It is a fatal error if \f[I]seed\f[R] is not a valid number.
@@ -116,10 +112,10 @@ It is a fatal error if \f[I]seed\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
 If files are given as well (see below), the expressions and files are
@@ -128,44 +124,44 @@ This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]DC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
 If expressions are also given (see above), the expressions are evaluated
 in the order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -173,28 +169,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -202,10 +198,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -218,10 +214,10 @@ Most of those users would want to put this option in
 These options override the \f[B]DC_PROMPT\f[R] and \f[B]DC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -240,10 +236,10 @@ These options \f[I]do\f[R] override the \f[B]DC_PROMPT\f[R] and
 \f[B]DC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -251,35 +247,34 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .TP
-\f[B]-x\f[R] \f[B]--extended-register\f[R]
+\f[B]\-x\f[R] \f[B]\-\-extended\-register\f[R]
 Enables extended register mode.
 See the \f[I]Extended Register Mode\f[R] subsection of the
 \f[B]REGISTERS\f[R] section for more information.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes dc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes dc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files are given on the command-line and no files or expressions
-are given by the \f[B]-f\f[R], \f[B]--file\f[R], \f[B]-e\f[R], or
-\f[B]--expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
+If no files are given on the command\-line and no files or expressions
+are given by the \f[B]\-f\f[R], \f[B]\-\-file\f[R], \f[B]\-e\f[R], or
+\f[B]\-\-expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there is a caveat to this.
 .PP
@@ -289,8 +284,7 @@ ended.
 This means that, except for escaped brackets, all brackets must be
 balanced before dc(1) parses and executes.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -298,7 +292,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]dc >&-\f[R], it will quit with an error.
+\f[B]dc  >&\-\f[R], it will quit with an error.
 This is done so that dc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -306,13 +300,12 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]dc 2>&-\f[R], it will quit with an error.
+\f[B]dc  2>&\-\f[R], it will quit with an error.
 This is done so that dc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -320,7 +313,6 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
 Each item in the input source code, either a number (see the
 \f[B]NUMBERS\f[R] section) or a command (see the \f[B]COMMANDS\f[R]
 section), is processed and executed, in order.
@@ -349,8 +341,8 @@ notation, and if \f[B]obase\f[R] is \f[B]1\f[R], values are output in
 engineering notation.
 Otherwise, values are output in the specified base.
 .PP
-Outputting in scientific and engineering notations are \f[B]non-portable
-extensions\f[R].
+Outputting in scientific and engineering notations are
+\f[B]non\-portable extensions\f[R].
 .PP
 The \f[I]scale\f[R] of an expression is the number of digits in the
 result of the expression right of the decimal point, and \f[B]scale\f[R]
@@ -362,14 +354,14 @@ The max allowable value for \f[B]scale\f[R] can be queried in dc(1)
 programs with the \f[B]V\f[R] command.
 .PP
 \f[B]seed\f[R] is a register containing the current seed for the
-pseudo-random number generator.
+pseudo\-random number generator.
 If the current value of \f[B]seed\f[R] is queried and stored, then if it
-is assigned to \f[B]seed\f[R] later, the pseudo-random number generator
-is guaranteed to produce the same sequence of pseudo-random numbers that
-were generated after the value of \f[B]seed\f[R] was first queried.
+is assigned to \f[B]seed\f[R] later, the pseudo\-random number generator
+is guaranteed to produce the same sequence of pseudo\-random numbers
+that were generated after the value of \f[B]seed\f[R] was first queried.
 .PP
 Multiple values assigned to \f[B]seed\f[R] can produce the same sequence
-of pseudo-random numbers.
+of pseudo\-random numbers.
 Likewise, when a value is assigned to \f[B]seed\f[R], it is not
 guaranteed that querying \f[B]seed\f[R] immediately after will return
 the same value.
@@ -379,25 +371,23 @@ get receive a value of \f[B]0\f[R] or \f[B]1\f[R].
 The maximum integer returned by the \f[B]\[cq]\f[R] command can be
 queried with the \f[B]W\f[R] command.
 .PP
-\f[B]Note\f[R]: The values returned by the pseudo-random number
+\f[B]Note\f[R]: The values returned by the pseudo\-random number
 generator with the \f[B]\[cq]\f[R] and \f[B]\[lq]\f[R] commands are
 guaranteed to \f[B]NOT\f[R] be cryptographically secure.
-This is a consequence of using a seeded pseudo-random number generator.
+This is a consequence of using a seeded pseudo\-random number generator.
 However, they \f[I]are\f[R] guaranteed to be reproducible with identical
 \f[B]seed\f[R] values.
-This means that the pseudo-random values from dc(1) should only be used
-where a reproducible stream of pseudo-random numbers is
+This means that the pseudo\-random values from dc(1) should only be used
+where a reproducible stream of pseudo\-random numbers is
 \f[I]ESSENTIAL\f[R].
-In any other case, use a non-seeded pseudo-random number generator.
+In any other case, use a non\-seeded pseudo\-random number generator.
 .PP
-The pseudo-random number generator, \f[B]seed\f[R], and all associated
-operations are \f[B]non-portable extensions\f[R].
+The pseudo\-random number generator, \f[B]seed\f[R], and all associated
+operations are \f[B]non\-portable extensions\f[R].
 .SS Comments
-.PP
 Comments go from \f[B]#\f[R] until, and not including, the next newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH NUMBERS
-.PP
 Numbers are strings made up of digits, uppercase letters up to
 \f[B]F\f[R], and at most \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]DC_NUM_MAX\f[R] digits.
@@ -407,12 +397,12 @@ alphabet (i.e., \f[B]A\f[R] equals \f[B]10\f[R], or \f[B]9+1\f[R]).
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]DC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -430,7 +420,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -461,13 +451,11 @@ number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if dc(1) is given the number string
 \f[B]10e_4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .PP
-Accepting input as scientific notation is a \f[B]non-portable
+Accepting input as scientific notation is a \f[B]non\-portable
 extension\f[R].
 .SH COMMANDS
-.PP
 The valid commands are listed below.
 .SS Printing
-.PP
 These commands are used for printing.
 .PP
 Note that both scientific notation and engineering notation are
@@ -479,7 +467,7 @@ activated by assigning \f[B]1\f[R] to \f[B]obase\f[R] using
 To deactivate them, just assign a different value to \f[B]obase\f[R].
 .PP
 Printing numbers in scientific notation and/or engineering notation is a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .TP
 \f[B]p\f[R]
 Prints the value on top of the stack, whether number or string, and
@@ -499,12 +487,12 @@ Pops a value off the stack.
 .PP
 If the value is a number, it is truncated and the absolute value of the
 result is printed as though \f[B]obase\f[R] is \f[B]256\f[R] and each
-digit is interpreted as an 8-bit ASCII character, making it a byte
+digit is interpreted as an 8\-bit ASCII character, making it a byte
 stream.
 .PP
 If the value is a string, it is printed without a trailing newline.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]f\f[R]
@@ -515,7 +503,6 @@ without altering anything.
 Users should use this command when they get lost.
 .RE
 .SS Arithmetic
-.PP
 These are the commands used for arithmetic.
 .TP
 \f[B]+\f[R]
@@ -524,7 +511,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
 both operands.
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The top two values are popped off the stack, subtracted, and the result
 is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
@@ -545,7 +532,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
@@ -555,10 +542,10 @@ is pushed onto the stack.
 .PP
 Remaindering is equivalent to 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R], and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]\[ti]\f[R]
@@ -569,9 +556,9 @@ This is equivalent to \f[B]x y / x y %\f[R] except that \f[B]x\f[R] and
 \f[B]y\f[R] are only evaluated once.
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -582,7 +569,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .PP
 The first value popped off of the stack must be an integer, and if that
 value is negative, the second value popped off of the stack must be
-non-zero.
+non\-zero.
 .RE
 .TP
 \f[B]v\f[R]
@@ -591,7 +578,7 @@ the result is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The value popped off of the stack must be non-negative.
+The value popped off of the stack must be non\-negative.
 .RE
 .TP
 \f[B]_\f[R]
@@ -601,7 +588,7 @@ or other commands), then that number is input as a negative number.
 .PP
 Otherwise, the top value on the stack is popped and copied, and the copy
 is negated and pushed onto the stack.
-This behavior without a number is a \f[B]non-portable extension\f[R].
+This behavior without a number is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]b\f[R]
@@ -610,7 +597,7 @@ back onto the stack.
 Otherwise, its absolute value is pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]|\f[R]
@@ -619,12 +606,12 @@ is computed, and the result is pushed onto the stack.
 .RS
 .PP
 The first value popped is used as the reduction modulus and must be an
-integer and non-zero.
+integer and non\-zero.
 The second value popped is used as the exponent and must be an integer
-and non-negative.
+and non\-negative.
 The third value popped is the base and must be an integer.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]$\f[R]
@@ -632,7 +619,7 @@ The top value is popped off the stack and copied, and the copy is
 truncated and pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[at]\f[R]
@@ -642,9 +629,9 @@ extension.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]H\f[R]
@@ -653,9 +640,9 @@ left (radix shifted right) to the value of the first.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]h\f[R]
@@ -664,9 +651,9 @@ right (radix shifted left) to the value of the first.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]G\f[R]
@@ -674,7 +661,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]1\f[R] is pushed if they are equal, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]N\f[R]
@@ -682,7 +669,7 @@ The top value is popped off of the stack, and if it a \f[B]0\f[R], a
 \f[B]1\f[R] is pushed; otherwise, a \f[B]0\f[R] is pushed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B](\f[R]
@@ -691,7 +678,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]{\f[R]
@@ -700,7 +687,7 @@ The top two values are popped off of the stack, they are compared, and a
 or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B])\f[R]
@@ -709,7 +696,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]}\f[R]
@@ -718,42 +705,41 @@ The top two values are popped off of the stack, they are compared, and a
 second, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]M\f[R]
 The top two values are popped off of the stack.
-If they are both non-zero, a \f[B]1\f[R] is pushed onto the stack.
+If they are both non\-zero, a \f[B]1\f[R] is pushed onto the stack.
 If either of them is zero, or both of them are, then a \f[B]0\f[R] is
 pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]&&\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]m\f[R]
 The top two values are popped off of the stack.
-If at least one of them is non-zero, a \f[B]1\f[R] is pushed onto the
+If at least one of them is non\-zero, a \f[B]1\f[R] is pushed onto the
 stack.
 If both of them are zero, then a \f[B]0\f[R] is pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]||\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
-.SS Pseudo-Random Number Generator
-.PP
-dc(1) has a built-in pseudo-random number generator.
-These commands query the pseudo-random number generator.
+.SS Pseudo\-Random Number Generator
+dc(1) has a built\-in pseudo\-random number generator.
+These commands query the pseudo\-random number generator.
 (See Parameters for more information about the \f[B]seed\f[R] value that
-controls the pseudo-random number generator.)
+controls the pseudo\-random number generator.)
 .PP
-The pseudo-random number generator is guaranteed to \f[B]NOT\f[R] be
+The pseudo\-random number generator is guaranteed to \f[B]NOT\f[R] be
 cryptographically secure.
 .TP
 \f[B]\[cq]\f[R]
@@ -762,19 +748,19 @@ the \f[B]LIMITS\f[R] section).
 .RS
 .PP
 The generated integer is made as unbiased as possible, subject to the
-limitations of the pseudo-random number generator.
+limitations of the pseudo\-random number generator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[lq]\f[R]
 Pops a value off of the stack, which is used as an \f[B]exclusive\f[R]
 upper bound on the integer that will be generated.
-If the bound is negative or is a non-integer, an error is raised, and
+If the bound is negative or is a non\-integer, an error is raised, and
 dc(1) resets (see the \f[B]RESET\f[R] section) while \f[B]seed\f[R]
 remains unchanged.
 If the bound is larger than \f[B]DC_RAND_MAX\f[R], the higher bound is
-honored by generating several pseudo-random integers, multiplying them
+honored by generating several pseudo\-random integers, multiplying them
 by appropriate powers of \f[B]DC_RAND_MAX+1\f[R], and adding them
 together.
 Thus, the size of integer that can be generated with this command is
@@ -786,12 +772,11 @@ is \f[I]not\f[R] changed.
 .RS
 .PP
 The generated integer is made as unbiased as possible, subject to the
-limitations of the pseudo-random number generator.
+limitations of the pseudo\-random number generator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Stack Control
-.PP
 These commands control the stack.
 .TP
 \f[B]c\f[R]
@@ -807,7 +792,6 @@ Swaps (\[lq]reverses\[rq]) the two top items on the stack.
 \f[B]R\f[R]
 Pops (\[lq]removes\[rq]) the top value from the stack.
 .SS Register Control
-.PP
 These commands control registers (see the \f[B]REGISTERS\f[R] section).
 .TP
 \f[B]s\f[R]\f[I]r\f[R]
@@ -829,7 +813,6 @@ push it onto the main stack.
 The previous value in the stack for register \f[I]r\f[R], if any, is now
 accessible via the \f[B]l\f[R]\f[I]r\f[R] command.
 .SS Parameters
-.PP
 These commands control the values of \f[B]ibase\f[R], \f[B]obase\f[R],
 \f[B]scale\f[R], and \f[B]seed\f[R].
 Also see the \f[B]SYNTAX\f[R] section.
@@ -857,7 +840,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 .TP
 \f[B]k\f[R]
 Pops the value off of the top of the stack and uses it to set
-\f[B]scale\f[R], which must be non-negative.
+\f[B]scale\f[R], which must be non\-negative.
 .RS
 .PP
 If the value on top of the stack has any \f[I]scale\f[R], the
@@ -867,7 +850,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 \f[B]j\f[R]
 Pops the value off of the top of the stack and uses it to set
 \f[B]seed\f[R].
-The meaning of \f[B]seed\f[R] is dependent on the current pseudo-random
+The meaning of \f[B]seed\f[R] is dependent on the current pseudo\-random
 number generator but is guaranteed to not change except for new major
 versions.
 .RS
@@ -875,22 +858,22 @@ versions.
 The \f[I]scale\f[R] and sign of the value may be significant.
 .PP
 If a previously used \f[B]seed\f[R] value is used again, the
-pseudo-random number generator is guaranteed to produce the same
-sequence of pseudo-random numbers as it did when the \f[B]seed\f[R]
+pseudo\-random number generator is guaranteed to produce the same
+sequence of pseudo\-random numbers as it did when the \f[B]seed\f[R]
 value was previously used.
 .PP
 The exact value assigned to \f[B]seed\f[R] is not guaranteed to be
 returned if the \f[B]J\f[R] command is used.
 However, if \f[B]seed\f[R] \f[I]does\f[R] return a different value, both
 values, when assigned to \f[B]seed\f[R], are guaranteed to produce the
-same sequence of pseudo-random numbers.
+same sequence of pseudo\-random numbers.
 This means that certain values assigned to \f[B]seed\f[R] will not
-produce unique sequences of pseudo-random numbers.
+produce unique sequences of pseudo\-random numbers.
 .PP
 There is no limit to the length (number of significant decimal digits)
 or \f[I]scale\f[R] of the value that can be assigned to \f[B]seed\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]I\f[R]
@@ -906,7 +889,7 @@ Pushes the current value of \f[B]scale\f[R] onto the main stack.
 Pushes the current value of \f[B]seed\f[R] onto the main stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]T\f[R]
@@ -914,7 +897,7 @@ Pushes the maximum allowable value of \f[B]ibase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]U\f[R]
@@ -922,7 +905,7 @@ Pushes the maximum allowable value of \f[B]obase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]V\f[R]
@@ -930,18 +913,17 @@ Pushes the maximum allowable value of \f[B]scale\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]W\f[R]
 Pushes the maximum (inclusive) integer that can be generated with the
-\f[B]\[cq]\f[R] pseudo-random number generator command.
+\f[B]\[cq]\f[R] pseudo\-random number generator command.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Strings
-.PP
 The following commands control strings.
 .PP
 dc(1) can work with both numbers and strings, and registers (see the
@@ -979,16 +961,16 @@ The value on top of the stack is popped.
 If it is a number, it is truncated and its absolute value is taken.
 The result mod \f[B]256\f[R] is calculated.
 If that result is \f[B]0\f[R], push an empty string; otherwise, push a
-one-character string where the character is the result of the mod
+one\-character string where the character is the result of the mod
 interpreted as an ASCII character.
 .PP
 If it is a string, then a new string is made.
 If the original string is empty, the new string is empty.
 If it is not, then the first character of the original string is used to
-create the new string as a one-character string.
+create the new string as a one\-character string.
 The new string is then pushed onto the stack.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]x\f[R]
@@ -1024,7 +1006,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!>\f[R]\f[I]r\f[R]
@@ -1045,7 +1027,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]<\f[R]\f[I]r\f[R]
@@ -1066,7 +1048,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!<\f[R]\f[I]r\f[R]
@@ -1087,7 +1069,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]=\f[R]\f[I]r\f[R]
@@ -1108,7 +1090,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!=\f[R]\f[I]r\f[R]
@@ -1129,7 +1111,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]?\f[R]
@@ -1142,7 +1124,7 @@ the execution of the macro that executed it.
 If there are no macros, or only one macro executing, dc(1) exits.
 .TP
 \f[B]Q\f[R]
-Pops a value from the stack which must be non-negative and is used the
+Pops a value from the stack which must be non\-negative and is used the
 number of macro executions to pop off of the execution stack.
 If the number of levels to pop is greater than the number of executing
 macros, dc(1) exits.
@@ -1155,10 +1137,9 @@ to make dc(1) exit with the \f[B]Q\f[R] command, so the sequence
 \f[B],Q\f[R] will make dc(1) exit.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Status
-.PP
 These commands query status of the stack or its top value.
 .TP
 \f[B]Z\f[R]
@@ -1189,7 +1170,7 @@ If the value is a number, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a string), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]t\f[R]
@@ -1198,7 +1179,7 @@ If the value is a string, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a number), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]z\f[R]
@@ -1216,10 +1197,9 @@ register\[cq]s stack must always have at least one item; dc(1) will give
 an error and reset otherwise (see the \f[B]RESET\f[R] section).
 This means that this command will never push \f[B]0\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Arrays
-.PP
 These commands manipulate arrays.
 .TP
 \f[B]:\f[R]\f[I]r\f[R]
@@ -1236,10 +1216,9 @@ The selected value is then pushed onto the stack.
 Pushes the length of the array \f[I]r\f[R] onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Global Settings
-.PP
 These commands retrieve global settings.
 These are the only commands that require multiple specific characters,
 and all of them begin with the letter \f[B]g\f[R].
@@ -1259,10 +1238,9 @@ See the \f[I]Extended Register Mode\f[R] subsection of the
 .TP
 \f[B]gz\f[R]
 Pushes \f[B]0\f[R] onto the stack if the leading zero setting has not
-been enabled with the \f[B]-z\f[R] or \f[B]--leading-zeroes\f[R] options
-(see the \f[B]OPTIONS\f[R] section), non-zero otherwise.
+been enabled with the \f[B]\-z\f[R] or \f[B]\-\-leading\-zeroes\f[R]
+options (see the \f[B]OPTIONS\f[R] section), non\-zero otherwise.
 .SH REGISTERS
-.PP
 Registers are names that can store strings, numbers, and arrays.
 (Number/string registers do not interfere with array registers.)
 .PP
@@ -1272,45 +1250,45 @@ All registers, when first referenced, have one value (\f[B]0\f[R]) in
 their stack, and it is a runtime error to attempt to pop that item off
 of the register stack.
 .PP
-In non-extended register mode, a register name is just the single
+In non\-extended register mode, a register name is just the single
 character that follows any command that needs a register name.
 The only exceptions are: a newline (\f[B]`\[rs]n'\f[R]) and a left
 bracket (\f[B]`['\f[R]); it is a parse error for a newline or a left
 bracket to be used as a register name.
 .SS Extended Register Mode
-.PP
 Unlike most other dc(1) implentations, this dc(1) provides nearly
 unlimited amounts of registers, if extended register mode is enabled.
 .PP
-If extended register mode is enabled (\f[B]-x\f[R] or
-\f[B]--extended-register\f[R] command-line arguments are given), then
-normal single character registers are used \f[I]unless\f[R] the
+If extended register mode is enabled (\f[B]\-x\f[R] or
+\f[B]\-\-extended\-register\f[R] command\-line arguments are given),
+then normal single character registers are used \f[I]unless\f[R] the
 character immediately following a command that needs a register name is
 a space (according to \f[B]isspace()\f[R]) and not a newline
 (\f[B]`\[rs]n'\f[R]).
 .PP
 In that case, the register name is found according to the regex
-\f[B][a-z][a-z0-9_]*\f[R] (like bc(1) identifiers), and it is a parse
-error if the next non-space characters do not match that regex.
+\f[B][a\-z][a\-z0\-9_]*\f[R] (like bc(1) identifiers), and it is a parse
+error if the next non\-space characters do not match that regex.
 .SH RESET
-.PP
-When dc(1) encounters an error or a signal that it has a non-default
+When dc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
 First, any macros that are executing are stopped and popped off the
-stack.
+execution stack.
 The behavior is not unlike that of exceptions in programming languages.
 Then the execution point is set so that any code waiting to execute
 (after all macros returned) is skipped.
 .PP
+However, the stack of values is \f[I]not\f[R] cleared; in interactive
+mode, users can inspect the stack and manipulate it.
+.PP
 Thus, when dc(1) resets, it skips any remaining code waiting to be
 executed.
 Then, if it is interactive mode, and the error was not a fatal error
 (see the \f[B]EXIT STATUS\f[R] section), it asks for more input;
 otherwise, it exits with the appropriate return code.
 .SH PERFORMANCE
-.PP
 Most dc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This dc(1) does something different.
@@ -1330,7 +1308,6 @@ checking.
 This integer type depends on the value of \f[B]DC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on dc(1):
 .TP
 \f[B]DC_LONG_BIT\f[R]
@@ -1360,29 +1337,29 @@ Set at \f[B]DC_BASE_POW\f[R].
 .TP
 \f[B]DC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]DC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]\[cq]\f[R] command,
 if dc(1).
-Set at \f[B]2\[ha]DC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]DC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1390,28 +1367,27 @@ Set at \f[B]DC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], dc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], dc(1) recognizes the following
 environment variables:
 .TP
 \f[B]DC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to dc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to dc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]DC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
 functions that the user might want every time dc(1) runs.
-Another use would be to use the \f[B]-e\f[R] option to set
+Another use would be to use the \f[B]\-e\f[R] option to set
 \f[B]scale\f[R] to a value other than \f[B]0\f[R].
 .RS
 .PP
@@ -1429,14 +1405,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]DC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]DC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), dc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), dc(1) will output lines to that length,
 including the backslash newline combo.
 The default line length is \f[B]70\f[R].
 .RS
@@ -1453,13 +1429,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when dc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes dc(1)
+variable exists and contains an integer, a non\-zero value makes dc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes dc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then dc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_TTY_MODE\f[R]
@@ -1468,11 +1444,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes dc(1) use
+exists and contains an integer, then a non\-zero value makes dc(1) use
 TTY mode, and zero makes dc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_PROMPT\f[R]
@@ -1481,46 +1457,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes dc(1) use a
-prompt, and zero or a non-integer makes dc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes dc(1) use a
+prompt, and zero or a non\-integer makes dc(1) not use a prompt.
 If this environment variable does not exist and \f[B]DC_TTY_MODE\f[R]
 does, then the value of the \f[B]DC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]DC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes dc(1) exit after executing the
-expressions and expression files, and a zero value makes dc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes dc(1) exit after executing
+the expressions and expression files, and a zero value makes dc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes dc(1) clamp digits that are
+contains an integer, a non\-zero value makes dc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the bc(1) standard
+This never applies to single\-digit numbers, as per the bc(1) standard
 (see the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 dc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1534,10 +1510,10 @@ since math errors will happen in the process of normal execution.
 .PP
 Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, using a negative number as a bound for the
-pseudo-random number generator, attempting to convert a negative number
+pseudo\-random number generator, attempting to convert a negative number
 to a hardware integer, overflow when converting a number to a hardware
 integer, overflow when calculating the size of a number, and attempting
-to use a non-integer where an integer is required.
+to use a non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]), places (\f[B]\[at]\f[R]), left shift
@@ -1572,7 +1548,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (dc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, dc(1)
@@ -1583,17 +1559,17 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 dc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow dc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
-Like bc(1), dc(1) has an interactive mode and a non-interactive mode.
+Like bc(1), dc(1) has an interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, dc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1602,7 +1578,6 @@ dc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]DC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, dc(1) can turn on TTY mode, subject to some
@@ -1610,52 +1585,49 @@ settings.
 .PP
 If there is the environment variable \f[B]DC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, dc(1) will turn
+that environment variable contains a non\-zero integer, dc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]DC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then dc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then dc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]DC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) specification (see the \f[B]STANDARDS\f[R]
 section), and interactive mode requires only \f[B]stdin\f[R] and
 \f[B]stdout\f[R] to be connected to a terminal.
-.SS Command-Line History
-.PP
-Command-line history is only enabled if TTY mode is, i.e., that
+.SS Command\-Line History
+Command\-line history is only enabled if TTY mode is, i.e., that
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to
 a TTY and the \f[B]DC_TTY_MODE\f[R] environment variable (see the
 \f[B]ENVIRONMENT VARIABLES\f[R] section) and its default do not disable
 TTY mode.
 See the \f[B]COMMAND LINE HISTORY\f[R] section for more information.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]DC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]DC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]DC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]DC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]DC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause dc(1) to do one of two things.
 .PP
 If dc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1664,7 +1636,7 @@ section), or the \f[B]DC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, dc(1) will exit.
 .PP
 However, if dc(1) is in interactive mode, and the
-\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then dc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1690,12 +1662,11 @@ The one exception is \f[B]SIGHUP\f[R]; in that case, and only when dc(1)
 is in TTY mode (see the \f[B]TTY MODE\f[R] section), a \f[B]SIGHUP\f[R]
 will cause dc(1) to clean up and exit.
 .SH COMMAND LINE HISTORY
-.PP
-dc(1) supports interactive command-line editing.
+dc(1) supports interactive command\-line editing.
 .PP
 If dc(1) can be in TTY mode (see the \f[B]TTY MODE\f[R] section),
 history can be enabled.
-This means that command-line history can only be enabled when
+This means that command\-line history can only be enabled when
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY.
 .PP
@@ -1705,23 +1676,20 @@ section).
 .PP
 \f[B]Note\f[R]: tabs are converted to 8 spaces.
 .SH LOCALES
-.PP
 This dc(1) ships with support for adding error messages for different
 locales and thus, supports \f[B]LC_MESSAGES\f[R].
 .SH SEE ALSO
-.PP
 bc(1)
 .SH STANDARDS
-.PP
 The dc(1) utility operators and some behavior are compliant with the
-operators in the IEEE Std 1003.1-2017 (\[lq]POSIX.1-2017\[rq]) bc(1)
+operators in the IEEE Std 1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) bc(1)
 specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHOR
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/dc/A.1.md b/manuals/dc/A.1.md
index 44b1578b..ad0c5993 100644
--- a/manuals/dc/A.1.md
+++ b/manuals/dc/A.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -1130,11 +1130,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/dc/E.1 b/manuals/dc/E.1
index 41de5e08..a5febe44 100644
--- a/manuals/dc/E.1
+++ b/manuals/dc/E.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,45 +25,41 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH Name
-.PP
-dc - arbitrary-precision decimal reverse-Polish notation calculator
+dc \- arbitrary\-precision decimal reverse\-Polish notation calculator
 .SH SYNOPSIS
-.PP
-\f[B]dc\f[R] [\f[B]-cChiPRvVx\f[R]] [\f[B]--version\f[R]]
-[\f[B]--help\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--interactive\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]]
-[\f[B]--extended-register\f[R]] [\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]dc\f[R] [\f[B]\-cChiPRvVx\f[R]] [\f[B]\-\-version\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-interactive\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-extended\-register\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
 .SH DESCRIPTION
-.PP
-dc(1) is an arbitrary-precision calculator.
+dc(1) is an arbitrary\-precision calculator.
 It uses a stack (reverse Polish notation) to store numbers and results
 of computations.
 Arithmetic operations pop arguments off of the stack and push the
 results.
 .PP
-If no files are given on the command-line, then dc(1) reads from
+If no files are given on the command\-line, then dc(1) reads from
 \f[B]stdin\f[R] (see the \f[B]STDIN\f[R] section).
 Otherwise, those files are processed, and dc(1) will then exit.
 .PP
 If a user wants to set up a standard environment, they can use
 \f[B]DC_ENV_ARGS\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 For example, if a user wants the \f[B]scale\f[R] always set to
-\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]-e 10k\f[R],
+\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]\-e 10k\f[R],
 and this dc(1) will always start with a \f[B]scale\f[R] of \f[B]10\f[R].
 .SH OPTIONS
-.PP
 The following are the options that dc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -73,17 +69,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -94,17 +90,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
 If files are given as well (see below), the expressions and files are
@@ -113,44 +109,44 @@ This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]DC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
 If expressions are also given (see above), the expressions are evaluated
 in the order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -158,28 +154,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -187,10 +183,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -203,10 +199,10 @@ Most of those users would want to put this option in
 These options override the \f[B]DC_PROMPT\f[R] and \f[B]DC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -225,10 +221,10 @@ These options \f[I]do\f[R] override the \f[B]DC_PROMPT\f[R] and
 \f[B]DC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -236,35 +232,34 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .TP
-\f[B]-x\f[R] \f[B]--extended-register\f[R]
+\f[B]\-x\f[R] \f[B]\-\-extended\-register\f[R]
 Enables extended register mode.
 See the \f[I]Extended Register Mode\f[R] subsection of the
 \f[B]REGISTERS\f[R] section for more information.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes dc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes dc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files are given on the command-line and no files or expressions
-are given by the \f[B]-f\f[R], \f[B]--file\f[R], \f[B]-e\f[R], or
-\f[B]--expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
+If no files are given on the command\-line and no files or expressions
+are given by the \f[B]\-f\f[R], \f[B]\-\-file\f[R], \f[B]\-e\f[R], or
+\f[B]\-\-expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there is a caveat to this.
 .PP
@@ -274,8 +269,7 @@ ended.
 This means that, except for escaped brackets, all brackets must be
 balanced before dc(1) parses and executes.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -283,7 +277,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]dc >&-\f[R], it will quit with an error.
+\f[B]dc  >&\-\f[R], it will quit with an error.
 This is done so that dc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -291,13 +285,12 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]dc 2>&-\f[R], it will quit with an error.
+\f[B]dc  2>&\-\f[R], it will quit with an error.
 This is done so that dc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -305,7 +298,6 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
 Each item in the input source code, either a number (see the
 \f[B]NUMBERS\f[R] section) or a command (see the \f[B]COMMANDS\f[R]
 section), is processed and executed, in order.
@@ -340,11 +332,9 @@ precision of any operations (with exceptions).
 The max allowable value for \f[B]scale\f[R] can be queried in dc(1)
 programs with the \f[B]V\f[R] command.
 .SS Comments
-.PP
 Comments go from \f[B]#\f[R] until, and not including, the next newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH NUMBERS
-.PP
 Numbers are strings made up of digits, uppercase letters up to
 \f[B]F\f[R], and at most \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]DC_NUM_MAX\f[R] digits.
@@ -354,12 +344,12 @@ alphabet (i.e., \f[B]A\f[R] equals \f[B]10\f[R], or \f[B]9+1\f[R]).
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]DC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -377,7 +367,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -391,10 +381,8 @@ value of \f[B]ibase\f[R].
 If clamping is on, and the clamped value of a character is needed, use a
 leading zero, i.e., for \f[B]A\f[R], use \f[B]0A\f[R].
 .SH COMMANDS
-.PP
 The valid commands are listed below.
 .SS Printing
-.PP
 These commands are used for printing.
 .TP
 \f[B]p\f[R]
@@ -415,12 +403,12 @@ Pops a value off the stack.
 .PP
 If the value is a number, it is truncated and the absolute value of the
 result is printed as though \f[B]obase\f[R] is \f[B]256\f[R] and each
-digit is interpreted as an 8-bit ASCII character, making it a byte
+digit is interpreted as an 8\-bit ASCII character, making it a byte
 stream.
 .PP
 If the value is a string, it is printed without a trailing newline.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]f\f[R]
@@ -431,7 +419,6 @@ without altering anything.
 Users should use this command when they get lost.
 .RE
 .SS Arithmetic
-.PP
 These are the commands used for arithmetic.
 .TP
 \f[B]+\f[R]
@@ -440,7 +427,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
 both operands.
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The top two values are popped off the stack, subtracted, and the result
 is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
@@ -461,7 +448,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
@@ -471,10 +458,10 @@ is pushed onto the stack.
 .PP
 Remaindering is equivalent to 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R], and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]\[ti]\f[R]
@@ -485,9 +472,9 @@ This is equivalent to \f[B]x y / x y %\f[R] except that \f[B]x\f[R] and
 \f[B]y\f[R] are only evaluated once.
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -498,7 +485,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .PP
 The first value popped off of the stack must be an integer, and if that
 value is negative, the second value popped off of the stack must be
-non-zero.
+non\-zero.
 .RE
 .TP
 \f[B]v\f[R]
@@ -507,7 +494,7 @@ the result is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The value popped off of the stack must be non-negative.
+The value popped off of the stack must be non\-negative.
 .RE
 .TP
 \f[B]_\f[R]
@@ -517,7 +504,7 @@ or other commands), then that number is input as a negative number.
 .PP
 Otherwise, the top value on the stack is popped and copied, and the copy
 is negated and pushed onto the stack.
-This behavior without a number is a \f[B]non-portable extension\f[R].
+This behavior without a number is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]b\f[R]
@@ -526,7 +513,7 @@ back onto the stack.
 Otherwise, its absolute value is pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]|\f[R]
@@ -535,12 +522,12 @@ is computed, and the result is pushed onto the stack.
 .RS
 .PP
 The first value popped is used as the reduction modulus and must be an
-integer and non-zero.
+integer and non\-zero.
 The second value popped is used as the exponent and must be an integer
-and non-negative.
+and non\-negative.
 The third value popped is the base and must be an integer.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]G\f[R]
@@ -548,7 +535,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]1\f[R] is pushed if they are equal, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]N\f[R]
@@ -556,7 +543,7 @@ The top value is popped off of the stack, and if it a \f[B]0\f[R], a
 \f[B]1\f[R] is pushed; otherwise, a \f[B]0\f[R] is pushed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B](\f[R]
@@ -565,7 +552,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]{\f[R]
@@ -574,7 +561,7 @@ The top two values are popped off of the stack, they are compared, and a
 or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B])\f[R]
@@ -583,7 +570,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]}\f[R]
@@ -592,36 +579,35 @@ The top two values are popped off of the stack, they are compared, and a
 second, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]M\f[R]
 The top two values are popped off of the stack.
-If they are both non-zero, a \f[B]1\f[R] is pushed onto the stack.
+If they are both non\-zero, a \f[B]1\f[R] is pushed onto the stack.
 If either of them is zero, or both of them are, then a \f[B]0\f[R] is
 pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]&&\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]m\f[R]
 The top two values are popped off of the stack.
-If at least one of them is non-zero, a \f[B]1\f[R] is pushed onto the
+If at least one of them is non\-zero, a \f[B]1\f[R] is pushed onto the
 stack.
 If both of them are zero, then a \f[B]0\f[R] is pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]||\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Stack Control
-.PP
 These commands control the stack.
 .TP
 \f[B]c\f[R]
@@ -637,7 +623,6 @@ Swaps (\[lq]reverses\[rq]) the two top items on the stack.
 \f[B]R\f[R]
 Pops (\[lq]removes\[rq]) the top value from the stack.
 .SS Register Control
-.PP
 These commands control registers (see the \f[B]REGISTERS\f[R] section).
 .TP
 \f[B]s\f[R]\f[I]r\f[R]
@@ -659,7 +644,6 @@ push it onto the main stack.
 The previous value in the stack for register \f[I]r\f[R], if any, is now
 accessible via the \f[B]l\f[R]\f[I]r\f[R] command.
 .SS Parameters
-.PP
 These commands control the values of \f[B]ibase\f[R], \f[B]obase\f[R],
 and \f[B]scale\f[R].
 Also see the \f[B]SYNTAX\f[R] section.
@@ -686,7 +670,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 .TP
 \f[B]k\f[R]
 Pops the value off of the top of the stack and uses it to set
-\f[B]scale\f[R], which must be non-negative.
+\f[B]scale\f[R], which must be non\-negative.
 .RS
 .PP
 If the value on top of the stack has any \f[I]scale\f[R], the
@@ -707,7 +691,7 @@ Pushes the maximum allowable value of \f[B]ibase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]U\f[R]
@@ -715,7 +699,7 @@ Pushes the maximum allowable value of \f[B]obase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]V\f[R]
@@ -723,10 +707,9 @@ Pushes the maximum allowable value of \f[B]scale\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Strings
-.PP
 The following commands control strings.
 .PP
 dc(1) can work with both numbers and strings, and registers (see the
@@ -764,16 +747,16 @@ The value on top of the stack is popped.
 If it is a number, it is truncated and its absolute value is taken.
 The result mod \f[B]256\f[R] is calculated.
 If that result is \f[B]0\f[R], push an empty string; otherwise, push a
-one-character string where the character is the result of the mod
+one\-character string where the character is the result of the mod
 interpreted as an ASCII character.
 .PP
 If it is a string, then a new string is made.
 If the original string is empty, the new string is empty.
 If it is not, then the first character of the original string is used to
-create the new string as a one-character string.
+create the new string as a one\-character string.
 The new string is then pushed onto the stack.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]x\f[R]
@@ -809,7 +792,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!>\f[R]\f[I]r\f[R]
@@ -830,7 +813,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]<\f[R]\f[I]r\f[R]
@@ -851,7 +834,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!<\f[R]\f[I]r\f[R]
@@ -872,7 +855,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]=\f[R]\f[I]r\f[R]
@@ -893,7 +876,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!=\f[R]\f[I]r\f[R]
@@ -914,7 +897,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]?\f[R]
@@ -927,7 +910,7 @@ the execution of the macro that executed it.
 If there are no macros, or only one macro executing, dc(1) exits.
 .TP
 \f[B]Q\f[R]
-Pops a value from the stack which must be non-negative and is used the
+Pops a value from the stack which must be non\-negative and is used the
 number of macro executions to pop off of the execution stack.
 If the number of levels to pop is greater than the number of executing
 macros, dc(1) exits.
@@ -940,10 +923,9 @@ to make dc(1) exit with the \f[B]Q\f[R] command, so the sequence
 \f[B],Q\f[R] will make dc(1) exit.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Status
-.PP
 These commands query status of the stack or its top value.
 .TP
 \f[B]Z\f[R]
@@ -974,7 +956,7 @@ If the value is a number, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a string), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]t\f[R]
@@ -983,7 +965,7 @@ If the value is a string, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a number), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]z\f[R]
@@ -1001,10 +983,9 @@ register\[cq]s stack must always have at least one item; dc(1) will give
 an error and reset otherwise (see the \f[B]RESET\f[R] section).
 This means that this command will never push \f[B]0\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Arrays
-.PP
 These commands manipulate arrays.
 .TP
 \f[B]:\f[R]\f[I]r\f[R]
@@ -1021,10 +1002,9 @@ The selected value is then pushed onto the stack.
 Pushes the length of the array \f[I]r\f[R] onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Global Settings
-.PP
 These commands retrieve global settings.
 These are the only commands that require multiple specific characters,
 and all of them begin with the letter \f[B]g\f[R].
@@ -1044,10 +1024,9 @@ See the \f[I]Extended Register Mode\f[R] subsection of the
 .TP
 \f[B]gz\f[R]
 Pushes \f[B]0\f[R] onto the stack if the leading zero setting has not
-been enabled with the \f[B]-z\f[R] or \f[B]--leading-zeroes\f[R] options
-(see the \f[B]OPTIONS\f[R] section), non-zero otherwise.
+been enabled with the \f[B]\-z\f[R] or \f[B]\-\-leading\-zeroes\f[R]
+options (see the \f[B]OPTIONS\f[R] section), non\-zero otherwise.
 .SH REGISTERS
-.PP
 Registers are names that can store strings, numbers, and arrays.
 (Number/string registers do not interfere with array registers.)
 .PP
@@ -1057,45 +1036,45 @@ All registers, when first referenced, have one value (\f[B]0\f[R]) in
 their stack, and it is a runtime error to attempt to pop that item off
 of the register stack.
 .PP
-In non-extended register mode, a register name is just the single
+In non\-extended register mode, a register name is just the single
 character that follows any command that needs a register name.
 The only exceptions are: a newline (\f[B]`\[rs]n'\f[R]) and a left
 bracket (\f[B]`['\f[R]); it is a parse error for a newline or a left
 bracket to be used as a register name.
 .SS Extended Register Mode
-.PP
 Unlike most other dc(1) implentations, this dc(1) provides nearly
 unlimited amounts of registers, if extended register mode is enabled.
 .PP
-If extended register mode is enabled (\f[B]-x\f[R] or
-\f[B]--extended-register\f[R] command-line arguments are given), then
-normal single character registers are used \f[I]unless\f[R] the
+If extended register mode is enabled (\f[B]\-x\f[R] or
+\f[B]\-\-extended\-register\f[R] command\-line arguments are given),
+then normal single character registers are used \f[I]unless\f[R] the
 character immediately following a command that needs a register name is
 a space (according to \f[B]isspace()\f[R]) and not a newline
 (\f[B]`\[rs]n'\f[R]).
 .PP
 In that case, the register name is found according to the regex
-\f[B][a-z][a-z0-9_]*\f[R] (like bc(1) identifiers), and it is a parse
-error if the next non-space characters do not match that regex.
+\f[B][a\-z][a\-z0\-9_]*\f[R] (like bc(1) identifiers), and it is a parse
+error if the next non\-space characters do not match that regex.
 .SH RESET
-.PP
-When dc(1) encounters an error or a signal that it has a non-default
+When dc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
 First, any macros that are executing are stopped and popped off the
-stack.
+execution stack.
 The behavior is not unlike that of exceptions in programming languages.
 Then the execution point is set so that any code waiting to execute
 (after all macros returned) is skipped.
 .PP
+However, the stack of values is \f[I]not\f[R] cleared; in interactive
+mode, users can inspect the stack and manipulate it.
+.PP
 Thus, when dc(1) resets, it skips any remaining code waiting to be
 executed.
 Then, if it is interactive mode, and the error was not a fatal error
 (see the \f[B]EXIT STATUS\f[R] section), it asks for more input;
 otherwise, it exits with the appropriate return code.
 .SH PERFORMANCE
-.PP
 Most dc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This dc(1) does something different.
@@ -1115,7 +1094,6 @@ checking.
 This integer type depends on the value of \f[B]DC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on dc(1):
 .TP
 \f[B]DC_LONG_BIT\f[R]
@@ -1145,24 +1123,24 @@ Set at \f[B]DC_BASE_POW\f[R].
 .TP
 \f[B]DC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]DC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1170,28 +1148,27 @@ Set at \f[B]DC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], dc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], dc(1) recognizes the following
 environment variables:
 .TP
 \f[B]DC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to dc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to dc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]DC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
 functions that the user might want every time dc(1) runs.
-Another use would be to use the \f[B]-e\f[R] option to set
+Another use would be to use the \f[B]\-e\f[R] option to set
 \f[B]scale\f[R] to a value other than \f[B]0\f[R].
 .RS
 .PP
@@ -1209,14 +1186,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]DC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]DC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), dc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), dc(1) will output lines to that length,
 including the backslash newline combo.
 The default line length is \f[B]70\f[R].
 .RS
@@ -1233,13 +1210,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when dc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes dc(1)
+variable exists and contains an integer, a non\-zero value makes dc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes dc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then dc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_TTY_MODE\f[R]
@@ -1248,11 +1225,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes dc(1) use
+exists and contains an integer, then a non\-zero value makes dc(1) use
 TTY mode, and zero makes dc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_PROMPT\f[R]
@@ -1261,46 +1238,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes dc(1) use a
-prompt, and zero or a non-integer makes dc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes dc(1) use a
+prompt, and zero or a non\-integer makes dc(1) not use a prompt.
 If this environment variable does not exist and \f[B]DC_TTY_MODE\f[R]
 does, then the value of the \f[B]DC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]DC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes dc(1) exit after executing the
-expressions and expression files, and a zero value makes dc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes dc(1) exit after executing
+the expressions and expression files, and a zero value makes dc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes dc(1) clamp digits that are
+contains an integer, a non\-zero value makes dc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the bc(1) standard
+This never applies to single\-digit numbers, as per the bc(1) standard
 (see the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 dc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1316,7 +1293,7 @@ Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, attempting to convert a negative number to a hardware
 integer, overflow when converting a number to a hardware integer,
 overflow when calculating the size of a number, and attempting to use a
-non-integer where an integer is required.
+non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]) operator.
@@ -1350,7 +1327,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (dc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, dc(1)
@@ -1361,17 +1338,17 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 dc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow dc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
-Like bc(1), dc(1) has an interactive mode and a non-interactive mode.
+Like bc(1), dc(1) has an interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, dc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1380,7 +1357,6 @@ dc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]DC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, dc(1) can turn on TTY mode, subject to some
@@ -1388,52 +1364,49 @@ settings.
 .PP
 If there is the environment variable \f[B]DC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, dc(1) will turn
+that environment variable contains a non\-zero integer, dc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]DC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then dc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then dc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]DC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) specification (see the \f[B]STANDARDS\f[R]
 section), and interactive mode requires only \f[B]stdin\f[R] and
 \f[B]stdout\f[R] to be connected to a terminal.
-.SS Command-Line History
-.PP
-Command-line history is only enabled if TTY mode is, i.e., that
+.SS Command\-Line History
+Command\-line history is only enabled if TTY mode is, i.e., that
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to
 a TTY and the \f[B]DC_TTY_MODE\f[R] environment variable (see the
 \f[B]ENVIRONMENT VARIABLES\f[R] section) and its default do not disable
 TTY mode.
 See the \f[B]COMMAND LINE HISTORY\f[R] section for more information.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]DC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]DC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]DC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]DC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]DC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause dc(1) to do one of two things.
 .PP
 If dc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1442,7 +1415,7 @@ section), or the \f[B]DC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, dc(1) will exit.
 .PP
 However, if dc(1) is in interactive mode, and the
-\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then dc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1468,12 +1441,11 @@ The one exception is \f[B]SIGHUP\f[R]; in that case, and only when dc(1)
 is in TTY mode (see the \f[B]TTY MODE\f[R] section), a \f[B]SIGHUP\f[R]
 will cause dc(1) to clean up and exit.
 .SH COMMAND LINE HISTORY
-.PP
-dc(1) supports interactive command-line editing.
+dc(1) supports interactive command\-line editing.
 .PP
 If dc(1) can be in TTY mode (see the \f[B]TTY MODE\f[R] section),
 history can be enabled.
-This means that command-line history can only be enabled when
+This means that command\-line history can only be enabled when
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY.
 .PP
@@ -1483,23 +1455,20 @@ section).
 .PP
 \f[B]Note\f[R]: tabs are converted to 8 spaces.
 .SH LOCALES
-.PP
 This dc(1) ships with support for adding error messages for different
 locales and thus, supports \f[B]LC_MESSAGES\f[R].
 .SH SEE ALSO
-.PP
 bc(1)
 .SH STANDARDS
-.PP
 The dc(1) utility operators and some behavior are compliant with the
-operators in the IEEE Std 1003.1-2017 (\[lq]POSIX.1-2017\[rq]) bc(1)
+operators in the IEEE Std 1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) bc(1)
 specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHOR
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/dc/E.1.md b/manuals/dc/E.1.md
index 8a172d8a..54b87799 100644
--- a/manuals/dc/E.1.md
+++ b/manuals/dc/E.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -961,11 +961,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/dc/EH.1 b/manuals/dc/EH.1
index 08cb483d..61fbaa4e 100644
--- a/manuals/dc/EH.1
+++ b/manuals/dc/EH.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,45 +25,41 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH Name
-.PP
-dc - arbitrary-precision decimal reverse-Polish notation calculator
+dc \- arbitrary\-precision decimal reverse\-Polish notation calculator
 .SH SYNOPSIS
-.PP
-\f[B]dc\f[R] [\f[B]-cChiPRvVx\f[R]] [\f[B]--version\f[R]]
-[\f[B]--help\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--interactive\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]]
-[\f[B]--extended-register\f[R]] [\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]dc\f[R] [\f[B]\-cChiPRvVx\f[R]] [\f[B]\-\-version\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-interactive\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-extended\-register\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
 .SH DESCRIPTION
-.PP
-dc(1) is an arbitrary-precision calculator.
+dc(1) is an arbitrary\-precision calculator.
 It uses a stack (reverse Polish notation) to store numbers and results
 of computations.
 Arithmetic operations pop arguments off of the stack and push the
 results.
 .PP
-If no files are given on the command-line, then dc(1) reads from
+If no files are given on the command\-line, then dc(1) reads from
 \f[B]stdin\f[R] (see the \f[B]STDIN\f[R] section).
 Otherwise, those files are processed, and dc(1) will then exit.
 .PP
 If a user wants to set up a standard environment, they can use
 \f[B]DC_ENV_ARGS\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 For example, if a user wants the \f[B]scale\f[R] always set to
-\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]-e 10k\f[R],
+\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]\-e 10k\f[R],
 and this dc(1) will always start with a \f[B]scale\f[R] of \f[B]10\f[R].
 .SH OPTIONS
-.PP
 The following are the options that dc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -73,17 +69,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -94,17 +90,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
 If files are given as well (see below), the expressions and files are
@@ -113,44 +109,44 @@ This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]DC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
 If expressions are also given (see above), the expressions are evaluated
 in the order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -158,28 +154,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -187,10 +183,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -203,10 +199,10 @@ Most of those users would want to put this option in
 These options override the \f[B]DC_PROMPT\f[R] and \f[B]DC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -225,10 +221,10 @@ These options \f[I]do\f[R] override the \f[B]DC_PROMPT\f[R] and
 \f[B]DC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -236,35 +232,34 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .TP
-\f[B]-x\f[R] \f[B]--extended-register\f[R]
+\f[B]\-x\f[R] \f[B]\-\-extended\-register\f[R]
 Enables extended register mode.
 See the \f[I]Extended Register Mode\f[R] subsection of the
 \f[B]REGISTERS\f[R] section for more information.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes dc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes dc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files are given on the command-line and no files or expressions
-are given by the \f[B]-f\f[R], \f[B]--file\f[R], \f[B]-e\f[R], or
-\f[B]--expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
+If no files are given on the command\-line and no files or expressions
+are given by the \f[B]\-f\f[R], \f[B]\-\-file\f[R], \f[B]\-e\f[R], or
+\f[B]\-\-expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there is a caveat to this.
 .PP
@@ -274,8 +269,7 @@ ended.
 This means that, except for escaped brackets, all brackets must be
 balanced before dc(1) parses and executes.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -283,7 +277,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]dc >&-\f[R], it will quit with an error.
+\f[B]dc  >&\-\f[R], it will quit with an error.
 This is done so that dc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -291,13 +285,12 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]dc 2>&-\f[R], it will quit with an error.
+\f[B]dc  2>&\-\f[R], it will quit with an error.
 This is done so that dc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -305,7 +298,6 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
 Each item in the input source code, either a number (see the
 \f[B]NUMBERS\f[R] section) or a command (see the \f[B]COMMANDS\f[R]
 section), is processed and executed, in order.
@@ -340,11 +332,9 @@ precision of any operations (with exceptions).
 The max allowable value for \f[B]scale\f[R] can be queried in dc(1)
 programs with the \f[B]V\f[R] command.
 .SS Comments
-.PP
 Comments go from \f[B]#\f[R] until, and not including, the next newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH NUMBERS
-.PP
 Numbers are strings made up of digits, uppercase letters up to
 \f[B]F\f[R], and at most \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]DC_NUM_MAX\f[R] digits.
@@ -354,12 +344,12 @@ alphabet (i.e., \f[B]A\f[R] equals \f[B]10\f[R], or \f[B]9+1\f[R]).
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]DC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -377,7 +367,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -391,10 +381,8 @@ value of \f[B]ibase\f[R].
 If clamping is on, and the clamped value of a character is needed, use a
 leading zero, i.e., for \f[B]A\f[R], use \f[B]0A\f[R].
 .SH COMMANDS
-.PP
 The valid commands are listed below.
 .SS Printing
-.PP
 These commands are used for printing.
 .TP
 \f[B]p\f[R]
@@ -415,12 +403,12 @@ Pops a value off the stack.
 .PP
 If the value is a number, it is truncated and the absolute value of the
 result is printed as though \f[B]obase\f[R] is \f[B]256\f[R] and each
-digit is interpreted as an 8-bit ASCII character, making it a byte
+digit is interpreted as an 8\-bit ASCII character, making it a byte
 stream.
 .PP
 If the value is a string, it is printed without a trailing newline.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]f\f[R]
@@ -431,7 +419,6 @@ without altering anything.
 Users should use this command when they get lost.
 .RE
 .SS Arithmetic
-.PP
 These are the commands used for arithmetic.
 .TP
 \f[B]+\f[R]
@@ -440,7 +427,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
 both operands.
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The top two values are popped off the stack, subtracted, and the result
 is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
@@ -461,7 +448,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
@@ -471,10 +458,10 @@ is pushed onto the stack.
 .PP
 Remaindering is equivalent to 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R], and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]\[ti]\f[R]
@@ -485,9 +472,9 @@ This is equivalent to \f[B]x y / x y %\f[R] except that \f[B]x\f[R] and
 \f[B]y\f[R] are only evaluated once.
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -498,7 +485,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .PP
 The first value popped off of the stack must be an integer, and if that
 value is negative, the second value popped off of the stack must be
-non-zero.
+non\-zero.
 .RE
 .TP
 \f[B]v\f[R]
@@ -507,7 +494,7 @@ the result is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The value popped off of the stack must be non-negative.
+The value popped off of the stack must be non\-negative.
 .RE
 .TP
 \f[B]_\f[R]
@@ -517,7 +504,7 @@ or other commands), then that number is input as a negative number.
 .PP
 Otherwise, the top value on the stack is popped and copied, and the copy
 is negated and pushed onto the stack.
-This behavior without a number is a \f[B]non-portable extension\f[R].
+This behavior without a number is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]b\f[R]
@@ -526,7 +513,7 @@ back onto the stack.
 Otherwise, its absolute value is pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]|\f[R]
@@ -535,12 +522,12 @@ is computed, and the result is pushed onto the stack.
 .RS
 .PP
 The first value popped is used as the reduction modulus and must be an
-integer and non-zero.
+integer and non\-zero.
 The second value popped is used as the exponent and must be an integer
-and non-negative.
+and non\-negative.
 The third value popped is the base and must be an integer.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]G\f[R]
@@ -548,7 +535,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]1\f[R] is pushed if they are equal, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]N\f[R]
@@ -556,7 +543,7 @@ The top value is popped off of the stack, and if it a \f[B]0\f[R], a
 \f[B]1\f[R] is pushed; otherwise, a \f[B]0\f[R] is pushed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B](\f[R]
@@ -565,7 +552,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]{\f[R]
@@ -574,7 +561,7 @@ The top two values are popped off of the stack, they are compared, and a
 or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B])\f[R]
@@ -583,7 +570,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]}\f[R]
@@ -592,36 +579,35 @@ The top two values are popped off of the stack, they are compared, and a
 second, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]M\f[R]
 The top two values are popped off of the stack.
-If they are both non-zero, a \f[B]1\f[R] is pushed onto the stack.
+If they are both non\-zero, a \f[B]1\f[R] is pushed onto the stack.
 If either of them is zero, or both of them are, then a \f[B]0\f[R] is
 pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]&&\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]m\f[R]
 The top two values are popped off of the stack.
-If at least one of them is non-zero, a \f[B]1\f[R] is pushed onto the
+If at least one of them is non\-zero, a \f[B]1\f[R] is pushed onto the
 stack.
 If both of them are zero, then a \f[B]0\f[R] is pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]||\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Stack Control
-.PP
 These commands control the stack.
 .TP
 \f[B]c\f[R]
@@ -637,7 +623,6 @@ Swaps (\[lq]reverses\[rq]) the two top items on the stack.
 \f[B]R\f[R]
 Pops (\[lq]removes\[rq]) the top value from the stack.
 .SS Register Control
-.PP
 These commands control registers (see the \f[B]REGISTERS\f[R] section).
 .TP
 \f[B]s\f[R]\f[I]r\f[R]
@@ -659,7 +644,6 @@ push it onto the main stack.
 The previous value in the stack for register \f[I]r\f[R], if any, is now
 accessible via the \f[B]l\f[R]\f[I]r\f[R] command.
 .SS Parameters
-.PP
 These commands control the values of \f[B]ibase\f[R], \f[B]obase\f[R],
 and \f[B]scale\f[R].
 Also see the \f[B]SYNTAX\f[R] section.
@@ -686,7 +670,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 .TP
 \f[B]k\f[R]
 Pops the value off of the top of the stack and uses it to set
-\f[B]scale\f[R], which must be non-negative.
+\f[B]scale\f[R], which must be non\-negative.
 .RS
 .PP
 If the value on top of the stack has any \f[I]scale\f[R], the
@@ -707,7 +691,7 @@ Pushes the maximum allowable value of \f[B]ibase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]U\f[R]
@@ -715,7 +699,7 @@ Pushes the maximum allowable value of \f[B]obase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]V\f[R]
@@ -723,10 +707,9 @@ Pushes the maximum allowable value of \f[B]scale\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Strings
-.PP
 The following commands control strings.
 .PP
 dc(1) can work with both numbers and strings, and registers (see the
@@ -764,16 +747,16 @@ The value on top of the stack is popped.
 If it is a number, it is truncated and its absolute value is taken.
 The result mod \f[B]256\f[R] is calculated.
 If that result is \f[B]0\f[R], push an empty string; otherwise, push a
-one-character string where the character is the result of the mod
+one\-character string where the character is the result of the mod
 interpreted as an ASCII character.
 .PP
 If it is a string, then a new string is made.
 If the original string is empty, the new string is empty.
 If it is not, then the first character of the original string is used to
-create the new string as a one-character string.
+create the new string as a one\-character string.
 The new string is then pushed onto the stack.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]x\f[R]
@@ -809,7 +792,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!>\f[R]\f[I]r\f[R]
@@ -830,7 +813,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]<\f[R]\f[I]r\f[R]
@@ -851,7 +834,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!<\f[R]\f[I]r\f[R]
@@ -872,7 +855,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]=\f[R]\f[I]r\f[R]
@@ -893,7 +876,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!=\f[R]\f[I]r\f[R]
@@ -914,7 +897,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]?\f[R]
@@ -927,7 +910,7 @@ the execution of the macro that executed it.
 If there are no macros, or only one macro executing, dc(1) exits.
 .TP
 \f[B]Q\f[R]
-Pops a value from the stack which must be non-negative and is used the
+Pops a value from the stack which must be non\-negative and is used the
 number of macro executions to pop off of the execution stack.
 If the number of levels to pop is greater than the number of executing
 macros, dc(1) exits.
@@ -940,10 +923,9 @@ to make dc(1) exit with the \f[B]Q\f[R] command, so the sequence
 \f[B],Q\f[R] will make dc(1) exit.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Status
-.PP
 These commands query status of the stack or its top value.
 .TP
 \f[B]Z\f[R]
@@ -974,7 +956,7 @@ If the value is a number, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a string), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]t\f[R]
@@ -983,7 +965,7 @@ If the value is a string, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a number), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]z\f[R]
@@ -1001,10 +983,9 @@ register\[cq]s stack must always have at least one item; dc(1) will give
 an error and reset otherwise (see the \f[B]RESET\f[R] section).
 This means that this command will never push \f[B]0\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Arrays
-.PP
 These commands manipulate arrays.
 .TP
 \f[B]:\f[R]\f[I]r\f[R]
@@ -1021,10 +1002,9 @@ The selected value is then pushed onto the stack.
 Pushes the length of the array \f[I]r\f[R] onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Global Settings
-.PP
 These commands retrieve global settings.
 These are the only commands that require multiple specific characters,
 and all of them begin with the letter \f[B]g\f[R].
@@ -1044,10 +1024,9 @@ See the \f[I]Extended Register Mode\f[R] subsection of the
 .TP
 \f[B]gz\f[R]
 Pushes \f[B]0\f[R] onto the stack if the leading zero setting has not
-been enabled with the \f[B]-z\f[R] or \f[B]--leading-zeroes\f[R] options
-(see the \f[B]OPTIONS\f[R] section), non-zero otherwise.
+been enabled with the \f[B]\-z\f[R] or \f[B]\-\-leading\-zeroes\f[R]
+options (see the \f[B]OPTIONS\f[R] section), non\-zero otherwise.
 .SH REGISTERS
-.PP
 Registers are names that can store strings, numbers, and arrays.
 (Number/string registers do not interfere with array registers.)
 .PP
@@ -1057,45 +1036,45 @@ All registers, when first referenced, have one value (\f[B]0\f[R]) in
 their stack, and it is a runtime error to attempt to pop that item off
 of the register stack.
 .PP
-In non-extended register mode, a register name is just the single
+In non\-extended register mode, a register name is just the single
 character that follows any command that needs a register name.
 The only exceptions are: a newline (\f[B]`\[rs]n'\f[R]) and a left
 bracket (\f[B]`['\f[R]); it is a parse error for a newline or a left
 bracket to be used as a register name.
 .SS Extended Register Mode
-.PP
 Unlike most other dc(1) implentations, this dc(1) provides nearly
 unlimited amounts of registers, if extended register mode is enabled.
 .PP
-If extended register mode is enabled (\f[B]-x\f[R] or
-\f[B]--extended-register\f[R] command-line arguments are given), then
-normal single character registers are used \f[I]unless\f[R] the
+If extended register mode is enabled (\f[B]\-x\f[R] or
+\f[B]\-\-extended\-register\f[R] command\-line arguments are given),
+then normal single character registers are used \f[I]unless\f[R] the
 character immediately following a command that needs a register name is
 a space (according to \f[B]isspace()\f[R]) and not a newline
 (\f[B]`\[rs]n'\f[R]).
 .PP
 In that case, the register name is found according to the regex
-\f[B][a-z][a-z0-9_]*\f[R] (like bc(1) identifiers), and it is a parse
-error if the next non-space characters do not match that regex.
+\f[B][a\-z][a\-z0\-9_]*\f[R] (like bc(1) identifiers), and it is a parse
+error if the next non\-space characters do not match that regex.
 .SH RESET
-.PP
-When dc(1) encounters an error or a signal that it has a non-default
+When dc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
 First, any macros that are executing are stopped and popped off the
-stack.
+execution stack.
 The behavior is not unlike that of exceptions in programming languages.
 Then the execution point is set so that any code waiting to execute
 (after all macros returned) is skipped.
 .PP
+However, the stack of values is \f[I]not\f[R] cleared; in interactive
+mode, users can inspect the stack and manipulate it.
+.PP
 Thus, when dc(1) resets, it skips any remaining code waiting to be
 executed.
 Then, if it is interactive mode, and the error was not a fatal error
 (see the \f[B]EXIT STATUS\f[R] section), it asks for more input;
 otherwise, it exits with the appropriate return code.
 .SH PERFORMANCE
-.PP
 Most dc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This dc(1) does something different.
@@ -1115,7 +1094,6 @@ checking.
 This integer type depends on the value of \f[B]DC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on dc(1):
 .TP
 \f[B]DC_LONG_BIT\f[R]
@@ -1145,24 +1123,24 @@ Set at \f[B]DC_BASE_POW\f[R].
 .TP
 \f[B]DC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]DC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1170,28 +1148,27 @@ Set at \f[B]DC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], dc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], dc(1) recognizes the following
 environment variables:
 .TP
 \f[B]DC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to dc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to dc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]DC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
 functions that the user might want every time dc(1) runs.
-Another use would be to use the \f[B]-e\f[R] option to set
+Another use would be to use the \f[B]\-e\f[R] option to set
 \f[B]scale\f[R] to a value other than \f[B]0\f[R].
 .RS
 .PP
@@ -1209,14 +1186,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]DC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]DC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), dc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), dc(1) will output lines to that length,
 including the backslash newline combo.
 The default line length is \f[B]70\f[R].
 .RS
@@ -1233,13 +1210,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when dc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes dc(1)
+variable exists and contains an integer, a non\-zero value makes dc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes dc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then dc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_TTY_MODE\f[R]
@@ -1248,11 +1225,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes dc(1) use
+exists and contains an integer, then a non\-zero value makes dc(1) use
 TTY mode, and zero makes dc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_PROMPT\f[R]
@@ -1261,46 +1238,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes dc(1) use a
-prompt, and zero or a non-integer makes dc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes dc(1) use a
+prompt, and zero or a non\-integer makes dc(1) not use a prompt.
 If this environment variable does not exist and \f[B]DC_TTY_MODE\f[R]
 does, then the value of the \f[B]DC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]DC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes dc(1) exit after executing the
-expressions and expression files, and a zero value makes dc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes dc(1) exit after executing
+the expressions and expression files, and a zero value makes dc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes dc(1) clamp digits that are
+contains an integer, a non\-zero value makes dc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the bc(1) standard
+This never applies to single\-digit numbers, as per the bc(1) standard
 (see the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 dc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1316,7 +1293,7 @@ Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, attempting to convert a negative number to a hardware
 integer, overflow when converting a number to a hardware integer,
 overflow when calculating the size of a number, and attempting to use a
-non-integer where an integer is required.
+non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]) operator.
@@ -1350,7 +1327,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (dc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, dc(1)
@@ -1361,17 +1338,17 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 dc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow dc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
-Like bc(1), dc(1) has an interactive mode and a non-interactive mode.
+Like bc(1), dc(1) has an interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, dc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1380,7 +1357,6 @@ dc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]DC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, dc(1) can turn on TTY mode, subject to some
@@ -1388,44 +1364,42 @@ settings.
 .PP
 If there is the environment variable \f[B]DC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, dc(1) will turn
+that environment variable contains a non\-zero integer, dc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]DC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then dc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then dc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]DC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) specification (see the \f[B]STANDARDS\f[R]
 section), and interactive mode requires only \f[B]stdin\f[R] and
 \f[B]stdout\f[R] to be connected to a terminal.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]DC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]DC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]DC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]DC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]DC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause dc(1) to do one of two things.
 .PP
 If dc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1434,7 +1408,7 @@ section), or the \f[B]DC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, dc(1) will exit.
 .PP
 However, if dc(1) is in interactive mode, and the
-\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then dc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1457,23 +1431,20 @@ the user to continue.
 \f[B]SIGTERM\f[R] and \f[B]SIGQUIT\f[R] cause dc(1) to clean up and
 exit, and it uses the default handler for all other signals.
 .SH LOCALES
-.PP
 This dc(1) ships with support for adding error messages for different
 locales and thus, supports \f[B]LC_MESSAGES\f[R].
 .SH SEE ALSO
-.PP
 bc(1)
 .SH STANDARDS
-.PP
 The dc(1) utility operators and some behavior are compliant with the
-operators in the IEEE Std 1003.1-2017 (\[lq]POSIX.1-2017\[rq]) bc(1)
+operators in the IEEE Std 1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) bc(1)
 specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHOR
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/dc/EH.1.md b/manuals/dc/EH.1.md
index 1c5b6f56..6398477a 100644
--- a/manuals/dc/EH.1.md
+++ b/manuals/dc/EH.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -961,11 +961,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/dc/EHN.1 b/manuals/dc/EHN.1
index efeb0bba..974cb3c8 100644
--- a/manuals/dc/EHN.1
+++ b/manuals/dc/EHN.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,45 +25,41 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH Name
-.PP
-dc - arbitrary-precision decimal reverse-Polish notation calculator
+dc \- arbitrary\-precision decimal reverse\-Polish notation calculator
 .SH SYNOPSIS
-.PP
-\f[B]dc\f[R] [\f[B]-cChiPRvVx\f[R]] [\f[B]--version\f[R]]
-[\f[B]--help\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--interactive\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]]
-[\f[B]--extended-register\f[R]] [\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]dc\f[R] [\f[B]\-cChiPRvVx\f[R]] [\f[B]\-\-version\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-interactive\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-extended\-register\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
 .SH DESCRIPTION
-.PP
-dc(1) is an arbitrary-precision calculator.
+dc(1) is an arbitrary\-precision calculator.
 It uses a stack (reverse Polish notation) to store numbers and results
 of computations.
 Arithmetic operations pop arguments off of the stack and push the
 results.
 .PP
-If no files are given on the command-line, then dc(1) reads from
+If no files are given on the command\-line, then dc(1) reads from
 \f[B]stdin\f[R] (see the \f[B]STDIN\f[R] section).
 Otherwise, those files are processed, and dc(1) will then exit.
 .PP
 If a user wants to set up a standard environment, they can use
 \f[B]DC_ENV_ARGS\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 For example, if a user wants the \f[B]scale\f[R] always set to
-\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]-e 10k\f[R],
+\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]\-e 10k\f[R],
 and this dc(1) will always start with a \f[B]scale\f[R] of \f[B]10\f[R].
 .SH OPTIONS
-.PP
 The following are the options that dc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -73,17 +69,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -94,17 +90,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
 If files are given as well (see below), the expressions and files are
@@ -113,44 +109,44 @@ This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]DC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
 If expressions are also given (see above), the expressions are evaluated
 in the order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -158,28 +154,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -187,10 +183,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -203,10 +199,10 @@ Most of those users would want to put this option in
 These options override the \f[B]DC_PROMPT\f[R] and \f[B]DC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -225,10 +221,10 @@ These options \f[I]do\f[R] override the \f[B]DC_PROMPT\f[R] and
 \f[B]DC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -236,35 +232,34 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .TP
-\f[B]-x\f[R] \f[B]--extended-register\f[R]
+\f[B]\-x\f[R] \f[B]\-\-extended\-register\f[R]
 Enables extended register mode.
 See the \f[I]Extended Register Mode\f[R] subsection of the
 \f[B]REGISTERS\f[R] section for more information.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes dc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes dc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files are given on the command-line and no files or expressions
-are given by the \f[B]-f\f[R], \f[B]--file\f[R], \f[B]-e\f[R], or
-\f[B]--expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
+If no files are given on the command\-line and no files or expressions
+are given by the \f[B]\-f\f[R], \f[B]\-\-file\f[R], \f[B]\-e\f[R], or
+\f[B]\-\-expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there is a caveat to this.
 .PP
@@ -274,8 +269,7 @@ ended.
 This means that, except for escaped brackets, all brackets must be
 balanced before dc(1) parses and executes.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -283,7 +277,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]dc >&-\f[R], it will quit with an error.
+\f[B]dc  >&\-\f[R], it will quit with an error.
 This is done so that dc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -291,13 +285,12 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]dc 2>&-\f[R], it will quit with an error.
+\f[B]dc  2>&\-\f[R], it will quit with an error.
 This is done so that dc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -305,7 +298,6 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
 Each item in the input source code, either a number (see the
 \f[B]NUMBERS\f[R] section) or a command (see the \f[B]COMMANDS\f[R]
 section), is processed and executed, in order.
@@ -340,11 +332,9 @@ precision of any operations (with exceptions).
 The max allowable value for \f[B]scale\f[R] can be queried in dc(1)
 programs with the \f[B]V\f[R] command.
 .SS Comments
-.PP
 Comments go from \f[B]#\f[R] until, and not including, the next newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH NUMBERS
-.PP
 Numbers are strings made up of digits, uppercase letters up to
 \f[B]F\f[R], and at most \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]DC_NUM_MAX\f[R] digits.
@@ -354,12 +344,12 @@ alphabet (i.e., \f[B]A\f[R] equals \f[B]10\f[R], or \f[B]9+1\f[R]).
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]DC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -377,7 +367,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -391,10 +381,8 @@ value of \f[B]ibase\f[R].
 If clamping is on, and the clamped value of a character is needed, use a
 leading zero, i.e., for \f[B]A\f[R], use \f[B]0A\f[R].
 .SH COMMANDS
-.PP
 The valid commands are listed below.
 .SS Printing
-.PP
 These commands are used for printing.
 .TP
 \f[B]p\f[R]
@@ -415,12 +403,12 @@ Pops a value off the stack.
 .PP
 If the value is a number, it is truncated and the absolute value of the
 result is printed as though \f[B]obase\f[R] is \f[B]256\f[R] and each
-digit is interpreted as an 8-bit ASCII character, making it a byte
+digit is interpreted as an 8\-bit ASCII character, making it a byte
 stream.
 .PP
 If the value is a string, it is printed without a trailing newline.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]f\f[R]
@@ -431,7 +419,6 @@ without altering anything.
 Users should use this command when they get lost.
 .RE
 .SS Arithmetic
-.PP
 These are the commands used for arithmetic.
 .TP
 \f[B]+\f[R]
@@ -440,7 +427,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
 both operands.
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The top two values are popped off the stack, subtracted, and the result
 is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
@@ -461,7 +448,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
@@ -471,10 +458,10 @@ is pushed onto the stack.
 .PP
 Remaindering is equivalent to 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R], and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]\[ti]\f[R]
@@ -485,9 +472,9 @@ This is equivalent to \f[B]x y / x y %\f[R] except that \f[B]x\f[R] and
 \f[B]y\f[R] are only evaluated once.
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -498,7 +485,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .PP
 The first value popped off of the stack must be an integer, and if that
 value is negative, the second value popped off of the stack must be
-non-zero.
+non\-zero.
 .RE
 .TP
 \f[B]v\f[R]
@@ -507,7 +494,7 @@ the result is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The value popped off of the stack must be non-negative.
+The value popped off of the stack must be non\-negative.
 .RE
 .TP
 \f[B]_\f[R]
@@ -517,7 +504,7 @@ or other commands), then that number is input as a negative number.
 .PP
 Otherwise, the top value on the stack is popped and copied, and the copy
 is negated and pushed onto the stack.
-This behavior without a number is a \f[B]non-portable extension\f[R].
+This behavior without a number is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]b\f[R]
@@ -526,7 +513,7 @@ back onto the stack.
 Otherwise, its absolute value is pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]|\f[R]
@@ -535,12 +522,12 @@ is computed, and the result is pushed onto the stack.
 .RS
 .PP
 The first value popped is used as the reduction modulus and must be an
-integer and non-zero.
+integer and non\-zero.
 The second value popped is used as the exponent and must be an integer
-and non-negative.
+and non\-negative.
 The third value popped is the base and must be an integer.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]G\f[R]
@@ -548,7 +535,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]1\f[R] is pushed if they are equal, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]N\f[R]
@@ -556,7 +543,7 @@ The top value is popped off of the stack, and if it a \f[B]0\f[R], a
 \f[B]1\f[R] is pushed; otherwise, a \f[B]0\f[R] is pushed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B](\f[R]
@@ -565,7 +552,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]{\f[R]
@@ -574,7 +561,7 @@ The top two values are popped off of the stack, they are compared, and a
 or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B])\f[R]
@@ -583,7 +570,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]}\f[R]
@@ -592,36 +579,35 @@ The top two values are popped off of the stack, they are compared, and a
 second, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]M\f[R]
 The top two values are popped off of the stack.
-If they are both non-zero, a \f[B]1\f[R] is pushed onto the stack.
+If they are both non\-zero, a \f[B]1\f[R] is pushed onto the stack.
 If either of them is zero, or both of them are, then a \f[B]0\f[R] is
 pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]&&\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]m\f[R]
 The top two values are popped off of the stack.
-If at least one of them is non-zero, a \f[B]1\f[R] is pushed onto the
+If at least one of them is non\-zero, a \f[B]1\f[R] is pushed onto the
 stack.
 If both of them are zero, then a \f[B]0\f[R] is pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]||\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Stack Control
-.PP
 These commands control the stack.
 .TP
 \f[B]c\f[R]
@@ -637,7 +623,6 @@ Swaps (\[lq]reverses\[rq]) the two top items on the stack.
 \f[B]R\f[R]
 Pops (\[lq]removes\[rq]) the top value from the stack.
 .SS Register Control
-.PP
 These commands control registers (see the \f[B]REGISTERS\f[R] section).
 .TP
 \f[B]s\f[R]\f[I]r\f[R]
@@ -659,7 +644,6 @@ push it onto the main stack.
 The previous value in the stack for register \f[I]r\f[R], if any, is now
 accessible via the \f[B]l\f[R]\f[I]r\f[R] command.
 .SS Parameters
-.PP
 These commands control the values of \f[B]ibase\f[R], \f[B]obase\f[R],
 and \f[B]scale\f[R].
 Also see the \f[B]SYNTAX\f[R] section.
@@ -686,7 +670,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 .TP
 \f[B]k\f[R]
 Pops the value off of the top of the stack and uses it to set
-\f[B]scale\f[R], which must be non-negative.
+\f[B]scale\f[R], which must be non\-negative.
 .RS
 .PP
 If the value on top of the stack has any \f[I]scale\f[R], the
@@ -707,7 +691,7 @@ Pushes the maximum allowable value of \f[B]ibase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]U\f[R]
@@ -715,7 +699,7 @@ Pushes the maximum allowable value of \f[B]obase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]V\f[R]
@@ -723,10 +707,9 @@ Pushes the maximum allowable value of \f[B]scale\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Strings
-.PP
 The following commands control strings.
 .PP
 dc(1) can work with both numbers and strings, and registers (see the
@@ -764,16 +747,16 @@ The value on top of the stack is popped.
 If it is a number, it is truncated and its absolute value is taken.
 The result mod \f[B]256\f[R] is calculated.
 If that result is \f[B]0\f[R], push an empty string; otherwise, push a
-one-character string where the character is the result of the mod
+one\-character string where the character is the result of the mod
 interpreted as an ASCII character.
 .PP
 If it is a string, then a new string is made.
 If the original string is empty, the new string is empty.
 If it is not, then the first character of the original string is used to
-create the new string as a one-character string.
+create the new string as a one\-character string.
 The new string is then pushed onto the stack.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]x\f[R]
@@ -809,7 +792,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!>\f[R]\f[I]r\f[R]
@@ -830,7 +813,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]<\f[R]\f[I]r\f[R]
@@ -851,7 +834,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!<\f[R]\f[I]r\f[R]
@@ -872,7 +855,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]=\f[R]\f[I]r\f[R]
@@ -893,7 +876,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!=\f[R]\f[I]r\f[R]
@@ -914,7 +897,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]?\f[R]
@@ -927,7 +910,7 @@ the execution of the macro that executed it.
 If there are no macros, or only one macro executing, dc(1) exits.
 .TP
 \f[B]Q\f[R]
-Pops a value from the stack which must be non-negative and is used the
+Pops a value from the stack which must be non\-negative and is used the
 number of macro executions to pop off of the execution stack.
 If the number of levels to pop is greater than the number of executing
 macros, dc(1) exits.
@@ -940,10 +923,9 @@ to make dc(1) exit with the \f[B]Q\f[R] command, so the sequence
 \f[B],Q\f[R] will make dc(1) exit.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Status
-.PP
 These commands query status of the stack or its top value.
 .TP
 \f[B]Z\f[R]
@@ -974,7 +956,7 @@ If the value is a number, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a string), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]t\f[R]
@@ -983,7 +965,7 @@ If the value is a string, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a number), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]z\f[R]
@@ -1001,10 +983,9 @@ register\[cq]s stack must always have at least one item; dc(1) will give
 an error and reset otherwise (see the \f[B]RESET\f[R] section).
 This means that this command will never push \f[B]0\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Arrays
-.PP
 These commands manipulate arrays.
 .TP
 \f[B]:\f[R]\f[I]r\f[R]
@@ -1021,10 +1002,9 @@ The selected value is then pushed onto the stack.
 Pushes the length of the array \f[I]r\f[R] onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Global Settings
-.PP
 These commands retrieve global settings.
 These are the only commands that require multiple specific characters,
 and all of them begin with the letter \f[B]g\f[R].
@@ -1044,10 +1024,9 @@ See the \f[I]Extended Register Mode\f[R] subsection of the
 .TP
 \f[B]gz\f[R]
 Pushes \f[B]0\f[R] onto the stack if the leading zero setting has not
-been enabled with the \f[B]-z\f[R] or \f[B]--leading-zeroes\f[R] options
-(see the \f[B]OPTIONS\f[R] section), non-zero otherwise.
+been enabled with the \f[B]\-z\f[R] or \f[B]\-\-leading\-zeroes\f[R]
+options (see the \f[B]OPTIONS\f[R] section), non\-zero otherwise.
 .SH REGISTERS
-.PP
 Registers are names that can store strings, numbers, and arrays.
 (Number/string registers do not interfere with array registers.)
 .PP
@@ -1057,45 +1036,45 @@ All registers, when first referenced, have one value (\f[B]0\f[R]) in
 their stack, and it is a runtime error to attempt to pop that item off
 of the register stack.
 .PP
-In non-extended register mode, a register name is just the single
+In non\-extended register mode, a register name is just the single
 character that follows any command that needs a register name.
 The only exceptions are: a newline (\f[B]`\[rs]n'\f[R]) and a left
 bracket (\f[B]`['\f[R]); it is a parse error for a newline or a left
 bracket to be used as a register name.
 .SS Extended Register Mode
-.PP
 Unlike most other dc(1) implentations, this dc(1) provides nearly
 unlimited amounts of registers, if extended register mode is enabled.
 .PP
-If extended register mode is enabled (\f[B]-x\f[R] or
-\f[B]--extended-register\f[R] command-line arguments are given), then
-normal single character registers are used \f[I]unless\f[R] the
+If extended register mode is enabled (\f[B]\-x\f[R] or
+\f[B]\-\-extended\-register\f[R] command\-line arguments are given),
+then normal single character registers are used \f[I]unless\f[R] the
 character immediately following a command that needs a register name is
 a space (according to \f[B]isspace()\f[R]) and not a newline
 (\f[B]`\[rs]n'\f[R]).
 .PP
 In that case, the register name is found according to the regex
-\f[B][a-z][a-z0-9_]*\f[R] (like bc(1) identifiers), and it is a parse
-error if the next non-space characters do not match that regex.
+\f[B][a\-z][a\-z0\-9_]*\f[R] (like bc(1) identifiers), and it is a parse
+error if the next non\-space characters do not match that regex.
 .SH RESET
-.PP
-When dc(1) encounters an error or a signal that it has a non-default
+When dc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
 First, any macros that are executing are stopped and popped off the
-stack.
+execution stack.
 The behavior is not unlike that of exceptions in programming languages.
 Then the execution point is set so that any code waiting to execute
 (after all macros returned) is skipped.
 .PP
+However, the stack of values is \f[I]not\f[R] cleared; in interactive
+mode, users can inspect the stack and manipulate it.
+.PP
 Thus, when dc(1) resets, it skips any remaining code waiting to be
 executed.
 Then, if it is interactive mode, and the error was not a fatal error
 (see the \f[B]EXIT STATUS\f[R] section), it asks for more input;
 otherwise, it exits with the appropriate return code.
 .SH PERFORMANCE
-.PP
 Most dc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This dc(1) does something different.
@@ -1115,7 +1094,6 @@ checking.
 This integer type depends on the value of \f[B]DC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on dc(1):
 .TP
 \f[B]DC_LONG_BIT\f[R]
@@ -1145,24 +1123,24 @@ Set at \f[B]DC_BASE_POW\f[R].
 .TP
 \f[B]DC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]DC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1170,28 +1148,27 @@ Set at \f[B]DC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], dc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], dc(1) recognizes the following
 environment variables:
 .TP
 \f[B]DC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to dc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to dc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]DC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
 functions that the user might want every time dc(1) runs.
-Another use would be to use the \f[B]-e\f[R] option to set
+Another use would be to use the \f[B]\-e\f[R] option to set
 \f[B]scale\f[R] to a value other than \f[B]0\f[R].
 .RS
 .PP
@@ -1209,14 +1186,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]DC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]DC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), dc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), dc(1) will output lines to that length,
 including the backslash newline combo.
 The default line length is \f[B]70\f[R].
 .RS
@@ -1233,13 +1210,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when dc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes dc(1)
+variable exists and contains an integer, a non\-zero value makes dc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes dc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then dc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_TTY_MODE\f[R]
@@ -1248,11 +1225,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes dc(1) use
+exists and contains an integer, then a non\-zero value makes dc(1) use
 TTY mode, and zero makes dc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_PROMPT\f[R]
@@ -1261,46 +1238,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes dc(1) use a
-prompt, and zero or a non-integer makes dc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes dc(1) use a
+prompt, and zero or a non\-integer makes dc(1) not use a prompt.
 If this environment variable does not exist and \f[B]DC_TTY_MODE\f[R]
 does, then the value of the \f[B]DC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]DC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes dc(1) exit after executing the
-expressions and expression files, and a zero value makes dc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes dc(1) exit after executing
+the expressions and expression files, and a zero value makes dc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes dc(1) clamp digits that are
+contains an integer, a non\-zero value makes dc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the bc(1) standard
+This never applies to single\-digit numbers, as per the bc(1) standard
 (see the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 dc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1316,7 +1293,7 @@ Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, attempting to convert a negative number to a hardware
 integer, overflow when converting a number to a hardware integer,
 overflow when calculating the size of a number, and attempting to use a
-non-integer where an integer is required.
+non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]) operator.
@@ -1350,7 +1327,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (dc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, dc(1)
@@ -1361,17 +1338,17 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 dc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow dc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
-Like bc(1), dc(1) has an interactive mode and a non-interactive mode.
+Like bc(1), dc(1) has an interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, dc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1380,7 +1357,6 @@ dc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]DC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, dc(1) can turn on TTY mode, subject to some
@@ -1388,44 +1364,42 @@ settings.
 .PP
 If there is the environment variable \f[B]DC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, dc(1) will turn
+that environment variable contains a non\-zero integer, dc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]DC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then dc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then dc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]DC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) specification (see the \f[B]STANDARDS\f[R]
 section), and interactive mode requires only \f[B]stdin\f[R] and
 \f[B]stdout\f[R] to be connected to a terminal.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]DC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]DC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]DC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]DC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]DC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause dc(1) to do one of two things.
 .PP
 If dc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1434,7 +1408,7 @@ section), or the \f[B]DC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, dc(1) will exit.
 .PP
 However, if dc(1) is in interactive mode, and the
-\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then dc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1457,19 +1431,17 @@ the user to continue.
 \f[B]SIGTERM\f[R] and \f[B]SIGQUIT\f[R] cause dc(1) to clean up and
 exit, and it uses the default handler for all other signals.
 .SH SEE ALSO
-.PP
 bc(1)
 .SH STANDARDS
-.PP
 The dc(1) utility operators and some behavior are compliant with the
-operators in the IEEE Std 1003.1-2017 (\[lq]POSIX.1-2017\[rq]) bc(1)
+operators in the IEEE Std 1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) bc(1)
 specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHOR
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/dc/EHN.1.md b/manuals/dc/EHN.1.md
index 8a3c6d2b..51e30849 100644
--- a/manuals/dc/EHN.1.md
+++ b/manuals/dc/EHN.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -961,11 +961,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/dc/EN.1 b/manuals/dc/EN.1
index ce1e6b9b..5ce8defc 100644
--- a/manuals/dc/EN.1
+++ b/manuals/dc/EN.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,45 +25,41 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH Name
-.PP
-dc - arbitrary-precision decimal reverse-Polish notation calculator
+dc \- arbitrary\-precision decimal reverse\-Polish notation calculator
 .SH SYNOPSIS
-.PP
-\f[B]dc\f[R] [\f[B]-cChiPRvVx\f[R]] [\f[B]--version\f[R]]
-[\f[B]--help\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--interactive\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]]
-[\f[B]--extended-register\f[R]] [\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]dc\f[R] [\f[B]\-cChiPRvVx\f[R]] [\f[B]\-\-version\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-interactive\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-extended\-register\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
 .SH DESCRIPTION
-.PP
-dc(1) is an arbitrary-precision calculator.
+dc(1) is an arbitrary\-precision calculator.
 It uses a stack (reverse Polish notation) to store numbers and results
 of computations.
 Arithmetic operations pop arguments off of the stack and push the
 results.
 .PP
-If no files are given on the command-line, then dc(1) reads from
+If no files are given on the command\-line, then dc(1) reads from
 \f[B]stdin\f[R] (see the \f[B]STDIN\f[R] section).
 Otherwise, those files are processed, and dc(1) will then exit.
 .PP
 If a user wants to set up a standard environment, they can use
 \f[B]DC_ENV_ARGS\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 For example, if a user wants the \f[B]scale\f[R] always set to
-\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]-e 10k\f[R],
+\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]\-e 10k\f[R],
 and this dc(1) will always start with a \f[B]scale\f[R] of \f[B]10\f[R].
 .SH OPTIONS
-.PP
 The following are the options that dc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -73,17 +69,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -94,17 +90,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
 If files are given as well (see below), the expressions and files are
@@ -113,44 +109,44 @@ This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]DC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
 If expressions are also given (see above), the expressions are evaluated
 in the order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -158,28 +154,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -187,10 +183,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -203,10 +199,10 @@ Most of those users would want to put this option in
 These options override the \f[B]DC_PROMPT\f[R] and \f[B]DC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -225,10 +221,10 @@ These options \f[I]do\f[R] override the \f[B]DC_PROMPT\f[R] and
 \f[B]DC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -236,35 +232,34 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .TP
-\f[B]-x\f[R] \f[B]--extended-register\f[R]
+\f[B]\-x\f[R] \f[B]\-\-extended\-register\f[R]
 Enables extended register mode.
 See the \f[I]Extended Register Mode\f[R] subsection of the
 \f[B]REGISTERS\f[R] section for more information.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes dc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes dc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files are given on the command-line and no files or expressions
-are given by the \f[B]-f\f[R], \f[B]--file\f[R], \f[B]-e\f[R], or
-\f[B]--expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
+If no files are given on the command\-line and no files or expressions
+are given by the \f[B]\-f\f[R], \f[B]\-\-file\f[R], \f[B]\-e\f[R], or
+\f[B]\-\-expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there is a caveat to this.
 .PP
@@ -274,8 +269,7 @@ ended.
 This means that, except for escaped brackets, all brackets must be
 balanced before dc(1) parses and executes.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -283,7 +277,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]dc >&-\f[R], it will quit with an error.
+\f[B]dc  >&\-\f[R], it will quit with an error.
 This is done so that dc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -291,13 +285,12 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]dc 2>&-\f[R], it will quit with an error.
+\f[B]dc  2>&\-\f[R], it will quit with an error.
 This is done so that dc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -305,7 +298,6 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
 Each item in the input source code, either a number (see the
 \f[B]NUMBERS\f[R] section) or a command (see the \f[B]COMMANDS\f[R]
 section), is processed and executed, in order.
@@ -340,11 +332,9 @@ precision of any operations (with exceptions).
 The max allowable value for \f[B]scale\f[R] can be queried in dc(1)
 programs with the \f[B]V\f[R] command.
 .SS Comments
-.PP
 Comments go from \f[B]#\f[R] until, and not including, the next newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH NUMBERS
-.PP
 Numbers are strings made up of digits, uppercase letters up to
 \f[B]F\f[R], and at most \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]DC_NUM_MAX\f[R] digits.
@@ -354,12 +344,12 @@ alphabet (i.e., \f[B]A\f[R] equals \f[B]10\f[R], or \f[B]9+1\f[R]).
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]DC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -377,7 +367,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -391,10 +381,8 @@ value of \f[B]ibase\f[R].
 If clamping is on, and the clamped value of a character is needed, use a
 leading zero, i.e., for \f[B]A\f[R], use \f[B]0A\f[R].
 .SH COMMANDS
-.PP
 The valid commands are listed below.
 .SS Printing
-.PP
 These commands are used for printing.
 .TP
 \f[B]p\f[R]
@@ -415,12 +403,12 @@ Pops a value off the stack.
 .PP
 If the value is a number, it is truncated and the absolute value of the
 result is printed as though \f[B]obase\f[R] is \f[B]256\f[R] and each
-digit is interpreted as an 8-bit ASCII character, making it a byte
+digit is interpreted as an 8\-bit ASCII character, making it a byte
 stream.
 .PP
 If the value is a string, it is printed without a trailing newline.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]f\f[R]
@@ -431,7 +419,6 @@ without altering anything.
 Users should use this command when they get lost.
 .RE
 .SS Arithmetic
-.PP
 These are the commands used for arithmetic.
 .TP
 \f[B]+\f[R]
@@ -440,7 +427,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
 both operands.
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The top two values are popped off the stack, subtracted, and the result
 is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
@@ -461,7 +448,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
@@ -471,10 +458,10 @@ is pushed onto the stack.
 .PP
 Remaindering is equivalent to 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R], and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]\[ti]\f[R]
@@ -485,9 +472,9 @@ This is equivalent to \f[B]x y / x y %\f[R] except that \f[B]x\f[R] and
 \f[B]y\f[R] are only evaluated once.
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -498,7 +485,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .PP
 The first value popped off of the stack must be an integer, and if that
 value is negative, the second value popped off of the stack must be
-non-zero.
+non\-zero.
 .RE
 .TP
 \f[B]v\f[R]
@@ -507,7 +494,7 @@ the result is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The value popped off of the stack must be non-negative.
+The value popped off of the stack must be non\-negative.
 .RE
 .TP
 \f[B]_\f[R]
@@ -517,7 +504,7 @@ or other commands), then that number is input as a negative number.
 .PP
 Otherwise, the top value on the stack is popped and copied, and the copy
 is negated and pushed onto the stack.
-This behavior without a number is a \f[B]non-portable extension\f[R].
+This behavior without a number is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]b\f[R]
@@ -526,7 +513,7 @@ back onto the stack.
 Otherwise, its absolute value is pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]|\f[R]
@@ -535,12 +522,12 @@ is computed, and the result is pushed onto the stack.
 .RS
 .PP
 The first value popped is used as the reduction modulus and must be an
-integer and non-zero.
+integer and non\-zero.
 The second value popped is used as the exponent and must be an integer
-and non-negative.
+and non\-negative.
 The third value popped is the base and must be an integer.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]G\f[R]
@@ -548,7 +535,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]1\f[R] is pushed if they are equal, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]N\f[R]
@@ -556,7 +543,7 @@ The top value is popped off of the stack, and if it a \f[B]0\f[R], a
 \f[B]1\f[R] is pushed; otherwise, a \f[B]0\f[R] is pushed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B](\f[R]
@@ -565,7 +552,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]{\f[R]
@@ -574,7 +561,7 @@ The top two values are popped off of the stack, they are compared, and a
 or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B])\f[R]
@@ -583,7 +570,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]}\f[R]
@@ -592,36 +579,35 @@ The top two values are popped off of the stack, they are compared, and a
 second, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]M\f[R]
 The top two values are popped off of the stack.
-If they are both non-zero, a \f[B]1\f[R] is pushed onto the stack.
+If they are both non\-zero, a \f[B]1\f[R] is pushed onto the stack.
 If either of them is zero, or both of them are, then a \f[B]0\f[R] is
 pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]&&\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]m\f[R]
 The top two values are popped off of the stack.
-If at least one of them is non-zero, a \f[B]1\f[R] is pushed onto the
+If at least one of them is non\-zero, a \f[B]1\f[R] is pushed onto the
 stack.
 If both of them are zero, then a \f[B]0\f[R] is pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]||\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Stack Control
-.PP
 These commands control the stack.
 .TP
 \f[B]c\f[R]
@@ -637,7 +623,6 @@ Swaps (\[lq]reverses\[rq]) the two top items on the stack.
 \f[B]R\f[R]
 Pops (\[lq]removes\[rq]) the top value from the stack.
 .SS Register Control
-.PP
 These commands control registers (see the \f[B]REGISTERS\f[R] section).
 .TP
 \f[B]s\f[R]\f[I]r\f[R]
@@ -659,7 +644,6 @@ push it onto the main stack.
 The previous value in the stack for register \f[I]r\f[R], if any, is now
 accessible via the \f[B]l\f[R]\f[I]r\f[R] command.
 .SS Parameters
-.PP
 These commands control the values of \f[B]ibase\f[R], \f[B]obase\f[R],
 and \f[B]scale\f[R].
 Also see the \f[B]SYNTAX\f[R] section.
@@ -686,7 +670,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 .TP
 \f[B]k\f[R]
 Pops the value off of the top of the stack and uses it to set
-\f[B]scale\f[R], which must be non-negative.
+\f[B]scale\f[R], which must be non\-negative.
 .RS
 .PP
 If the value on top of the stack has any \f[I]scale\f[R], the
@@ -707,7 +691,7 @@ Pushes the maximum allowable value of \f[B]ibase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]U\f[R]
@@ -715,7 +699,7 @@ Pushes the maximum allowable value of \f[B]obase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]V\f[R]
@@ -723,10 +707,9 @@ Pushes the maximum allowable value of \f[B]scale\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Strings
-.PP
 The following commands control strings.
 .PP
 dc(1) can work with both numbers and strings, and registers (see the
@@ -764,16 +747,16 @@ The value on top of the stack is popped.
 If it is a number, it is truncated and its absolute value is taken.
 The result mod \f[B]256\f[R] is calculated.
 If that result is \f[B]0\f[R], push an empty string; otherwise, push a
-one-character string where the character is the result of the mod
+one\-character string where the character is the result of the mod
 interpreted as an ASCII character.
 .PP
 If it is a string, then a new string is made.
 If the original string is empty, the new string is empty.
 If it is not, then the first character of the original string is used to
-create the new string as a one-character string.
+create the new string as a one\-character string.
 The new string is then pushed onto the stack.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]x\f[R]
@@ -809,7 +792,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!>\f[R]\f[I]r\f[R]
@@ -830,7 +813,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]<\f[R]\f[I]r\f[R]
@@ -851,7 +834,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!<\f[R]\f[I]r\f[R]
@@ -872,7 +855,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]=\f[R]\f[I]r\f[R]
@@ -893,7 +876,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!=\f[R]\f[I]r\f[R]
@@ -914,7 +897,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]?\f[R]
@@ -927,7 +910,7 @@ the execution of the macro that executed it.
 If there are no macros, or only one macro executing, dc(1) exits.
 .TP
 \f[B]Q\f[R]
-Pops a value from the stack which must be non-negative and is used the
+Pops a value from the stack which must be non\-negative and is used the
 number of macro executions to pop off of the execution stack.
 If the number of levels to pop is greater than the number of executing
 macros, dc(1) exits.
@@ -940,10 +923,9 @@ to make dc(1) exit with the \f[B]Q\f[R] command, so the sequence
 \f[B],Q\f[R] will make dc(1) exit.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Status
-.PP
 These commands query status of the stack or its top value.
 .TP
 \f[B]Z\f[R]
@@ -974,7 +956,7 @@ If the value is a number, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a string), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]t\f[R]
@@ -983,7 +965,7 @@ If the value is a string, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a number), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]z\f[R]
@@ -1001,10 +983,9 @@ register\[cq]s stack must always have at least one item; dc(1) will give
 an error and reset otherwise (see the \f[B]RESET\f[R] section).
 This means that this command will never push \f[B]0\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Arrays
-.PP
 These commands manipulate arrays.
 .TP
 \f[B]:\f[R]\f[I]r\f[R]
@@ -1021,10 +1002,9 @@ The selected value is then pushed onto the stack.
 Pushes the length of the array \f[I]r\f[R] onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Global Settings
-.PP
 These commands retrieve global settings.
 These are the only commands that require multiple specific characters,
 and all of them begin with the letter \f[B]g\f[R].
@@ -1044,10 +1024,9 @@ See the \f[I]Extended Register Mode\f[R] subsection of the
 .TP
 \f[B]gz\f[R]
 Pushes \f[B]0\f[R] onto the stack if the leading zero setting has not
-been enabled with the \f[B]-z\f[R] or \f[B]--leading-zeroes\f[R] options
-(see the \f[B]OPTIONS\f[R] section), non-zero otherwise.
+been enabled with the \f[B]\-z\f[R] or \f[B]\-\-leading\-zeroes\f[R]
+options (see the \f[B]OPTIONS\f[R] section), non\-zero otherwise.
 .SH REGISTERS
-.PP
 Registers are names that can store strings, numbers, and arrays.
 (Number/string registers do not interfere with array registers.)
 .PP
@@ -1057,45 +1036,45 @@ All registers, when first referenced, have one value (\f[B]0\f[R]) in
 their stack, and it is a runtime error to attempt to pop that item off
 of the register stack.
 .PP
-In non-extended register mode, a register name is just the single
+In non\-extended register mode, a register name is just the single
 character that follows any command that needs a register name.
 The only exceptions are: a newline (\f[B]`\[rs]n'\f[R]) and a left
 bracket (\f[B]`['\f[R]); it is a parse error for a newline or a left
 bracket to be used as a register name.
 .SS Extended Register Mode
-.PP
 Unlike most other dc(1) implentations, this dc(1) provides nearly
 unlimited amounts of registers, if extended register mode is enabled.
 .PP
-If extended register mode is enabled (\f[B]-x\f[R] or
-\f[B]--extended-register\f[R] command-line arguments are given), then
-normal single character registers are used \f[I]unless\f[R] the
+If extended register mode is enabled (\f[B]\-x\f[R] or
+\f[B]\-\-extended\-register\f[R] command\-line arguments are given),
+then normal single character registers are used \f[I]unless\f[R] the
 character immediately following a command that needs a register name is
 a space (according to \f[B]isspace()\f[R]) and not a newline
 (\f[B]`\[rs]n'\f[R]).
 .PP
 In that case, the register name is found according to the regex
-\f[B][a-z][a-z0-9_]*\f[R] (like bc(1) identifiers), and it is a parse
-error if the next non-space characters do not match that regex.
+\f[B][a\-z][a\-z0\-9_]*\f[R] (like bc(1) identifiers), and it is a parse
+error if the next non\-space characters do not match that regex.
 .SH RESET
-.PP
-When dc(1) encounters an error or a signal that it has a non-default
+When dc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
 First, any macros that are executing are stopped and popped off the
-stack.
+execution stack.
 The behavior is not unlike that of exceptions in programming languages.
 Then the execution point is set so that any code waiting to execute
 (after all macros returned) is skipped.
 .PP
+However, the stack of values is \f[I]not\f[R] cleared; in interactive
+mode, users can inspect the stack and manipulate it.
+.PP
 Thus, when dc(1) resets, it skips any remaining code waiting to be
 executed.
 Then, if it is interactive mode, and the error was not a fatal error
 (see the \f[B]EXIT STATUS\f[R] section), it asks for more input;
 otherwise, it exits with the appropriate return code.
 .SH PERFORMANCE
-.PP
 Most dc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This dc(1) does something different.
@@ -1115,7 +1094,6 @@ checking.
 This integer type depends on the value of \f[B]DC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on dc(1):
 .TP
 \f[B]DC_LONG_BIT\f[R]
@@ -1145,24 +1123,24 @@ Set at \f[B]DC_BASE_POW\f[R].
 .TP
 \f[B]DC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]DC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1170,28 +1148,27 @@ Set at \f[B]DC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], dc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], dc(1) recognizes the following
 environment variables:
 .TP
 \f[B]DC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to dc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to dc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]DC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
 functions that the user might want every time dc(1) runs.
-Another use would be to use the \f[B]-e\f[R] option to set
+Another use would be to use the \f[B]\-e\f[R] option to set
 \f[B]scale\f[R] to a value other than \f[B]0\f[R].
 .RS
 .PP
@@ -1209,14 +1186,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]DC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]DC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), dc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), dc(1) will output lines to that length,
 including the backslash newline combo.
 The default line length is \f[B]70\f[R].
 .RS
@@ -1233,13 +1210,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when dc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes dc(1)
+variable exists and contains an integer, a non\-zero value makes dc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes dc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then dc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_TTY_MODE\f[R]
@@ -1248,11 +1225,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes dc(1) use
+exists and contains an integer, then a non\-zero value makes dc(1) use
 TTY mode, and zero makes dc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_PROMPT\f[R]
@@ -1261,46 +1238,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes dc(1) use a
-prompt, and zero or a non-integer makes dc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes dc(1) use a
+prompt, and zero or a non\-integer makes dc(1) not use a prompt.
 If this environment variable does not exist and \f[B]DC_TTY_MODE\f[R]
 does, then the value of the \f[B]DC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]DC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes dc(1) exit after executing the
-expressions and expression files, and a zero value makes dc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes dc(1) exit after executing
+the expressions and expression files, and a zero value makes dc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes dc(1) clamp digits that are
+contains an integer, a non\-zero value makes dc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the bc(1) standard
+This never applies to single\-digit numbers, as per the bc(1) standard
 (see the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 dc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1316,7 +1293,7 @@ Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, attempting to convert a negative number to a hardware
 integer, overflow when converting a number to a hardware integer,
 overflow when calculating the size of a number, and attempting to use a
-non-integer where an integer is required.
+non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]) operator.
@@ -1350,7 +1327,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (dc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, dc(1)
@@ -1361,17 +1338,17 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 dc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow dc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
-Like bc(1), dc(1) has an interactive mode and a non-interactive mode.
+Like bc(1), dc(1) has an interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, dc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1380,7 +1357,6 @@ dc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]DC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, dc(1) can turn on TTY mode, subject to some
@@ -1388,52 +1364,49 @@ settings.
 .PP
 If there is the environment variable \f[B]DC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, dc(1) will turn
+that environment variable contains a non\-zero integer, dc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]DC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then dc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then dc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]DC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) specification (see the \f[B]STANDARDS\f[R]
 section), and interactive mode requires only \f[B]stdin\f[R] and
 \f[B]stdout\f[R] to be connected to a terminal.
-.SS Command-Line History
-.PP
-Command-line history is only enabled if TTY mode is, i.e., that
+.SS Command\-Line History
+Command\-line history is only enabled if TTY mode is, i.e., that
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to
 a TTY and the \f[B]DC_TTY_MODE\f[R] environment variable (see the
 \f[B]ENVIRONMENT VARIABLES\f[R] section) and its default do not disable
 TTY mode.
 See the \f[B]COMMAND LINE HISTORY\f[R] section for more information.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]DC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]DC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]DC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]DC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]DC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause dc(1) to do one of two things.
 .PP
 If dc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1442,7 +1415,7 @@ section), or the \f[B]DC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, dc(1) will exit.
 .PP
 However, if dc(1) is in interactive mode, and the
-\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then dc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1468,12 +1441,11 @@ The one exception is \f[B]SIGHUP\f[R]; in that case, and only when dc(1)
 is in TTY mode (see the \f[B]TTY MODE\f[R] section), a \f[B]SIGHUP\f[R]
 will cause dc(1) to clean up and exit.
 .SH COMMAND LINE HISTORY
-.PP
-dc(1) supports interactive command-line editing.
+dc(1) supports interactive command\-line editing.
 .PP
 If dc(1) can be in TTY mode (see the \f[B]TTY MODE\f[R] section),
 history can be enabled.
-This means that command-line history can only be enabled when
+This means that command\-line history can only be enabled when
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY.
 .PP
@@ -1483,19 +1455,17 @@ section).
 .PP
 \f[B]Note\f[R]: tabs are converted to 8 spaces.
 .SH SEE ALSO
-.PP
 bc(1)
 .SH STANDARDS
-.PP
 The dc(1) utility operators and some behavior are compliant with the
-operators in the IEEE Std 1003.1-2017 (\[lq]POSIX.1-2017\[rq]) bc(1)
+operators in the IEEE Std 1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) bc(1)
 specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHOR
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/dc/EN.1.md b/manuals/dc/EN.1.md
index f8deee53..ab9647a1 100644
--- a/manuals/dc/EN.1.md
+++ b/manuals/dc/EN.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -961,11 +961,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/dc/H.1 b/manuals/dc/H.1
index 8baa0b74..82c1bbd5 100644
--- a/manuals/dc/H.1
+++ b/manuals/dc/H.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,49 +25,45 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH Name
-.PP
-dc - arbitrary-precision decimal reverse-Polish notation calculator
+dc \- arbitrary\-precision decimal reverse\-Polish notation calculator
 .SH SYNOPSIS
-.PP
-\f[B]dc\f[R] [\f[B]-cChiPRvVx\f[R]] [\f[B]--version\f[R]]
-[\f[B]--help\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--interactive\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]]
-[\f[B]--extended-register\f[R]] [\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]dc\f[R] [\f[B]\-cChiPRvVx\f[R]] [\f[B]\-\-version\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-interactive\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-extended\-register\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
-[\f[B]-I\f[R] \f[I]ibase\f[R]] [\f[B]--ibase\f[R]=\f[I]ibase\f[R]]
-[\f[B]-O\f[R] \f[I]obase\f[R]] [\f[B]--obase\f[R]=\f[I]obase\f[R]]
-[\f[B]-S\f[R] \f[I]scale\f[R]] [\f[B]--scale\f[R]=\f[I]scale\f[R]]
-[\f[B]-E\f[R] \f[I]seed\f[R]] [\f[B]--seed\f[R]=\f[I]seed\f[R]]
+[\f[B]\-I\f[R] \f[I]ibase\f[R]] [\f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]]
+[\f[B]\-O\f[R] \f[I]obase\f[R]] [\f[B]\-\-obase\f[R]=\f[I]obase\f[R]]
+[\f[B]\-S\f[R] \f[I]scale\f[R]] [\f[B]\-\-scale\f[R]=\f[I]scale\f[R]]
+[\f[B]\-E\f[R] \f[I]seed\f[R]] [\f[B]\-\-seed\f[R]=\f[I]seed\f[R]]
 .SH DESCRIPTION
-.PP
-dc(1) is an arbitrary-precision calculator.
+dc(1) is an arbitrary\-precision calculator.
 It uses a stack (reverse Polish notation) to store numbers and results
 of computations.
 Arithmetic operations pop arguments off of the stack and push the
 results.
 .PP
-If no files are given on the command-line, then dc(1) reads from
+If no files are given on the command\-line, then dc(1) reads from
 \f[B]stdin\f[R] (see the \f[B]STDIN\f[R] section).
 Otherwise, those files are processed, and dc(1) will then exit.
 .PP
 If a user wants to set up a standard environment, they can use
 \f[B]DC_ENV_ARGS\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 For example, if a user wants the \f[B]scale\f[R] always set to
-\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]-e 10k\f[R],
+\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]\-e 10k\f[R],
 and this dc(1) will always start with a \f[B]scale\f[R] of \f[B]10\f[R].
 .SH OPTIONS
-.PP
 The following are the options that dc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -77,17 +73,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -98,17 +94,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-E\f[R] \f[I]seed\f[R], \f[B]--seed\f[R]=\f[I]seed\f[R]
+\f[B]\-E\f[R] \f[I]seed\f[R], \f[B]\-\-seed\f[R]=\f[I]seed\f[R]
 Sets the builtin variable \f[B]seed\f[R] to the value \f[I]seed\f[R]
 assuming that \f[I]seed\f[R] is in base 10.
 It is a fatal error if \f[I]seed\f[R] is not a valid number.
@@ -116,10 +112,10 @@ It is a fatal error if \f[I]seed\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
 If files are given as well (see below), the expressions and files are
@@ -128,44 +124,44 @@ This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]DC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
 If expressions are also given (see above), the expressions are evaluated
 in the order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -173,28 +169,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -202,10 +198,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -218,10 +214,10 @@ Most of those users would want to put this option in
 These options override the \f[B]DC_PROMPT\f[R] and \f[B]DC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -240,10 +236,10 @@ These options \f[I]do\f[R] override the \f[B]DC_PROMPT\f[R] and
 \f[B]DC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -251,35 +247,34 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .TP
-\f[B]-x\f[R] \f[B]--extended-register\f[R]
+\f[B]\-x\f[R] \f[B]\-\-extended\-register\f[R]
 Enables extended register mode.
 See the \f[I]Extended Register Mode\f[R] subsection of the
 \f[B]REGISTERS\f[R] section for more information.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes dc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes dc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files are given on the command-line and no files or expressions
-are given by the \f[B]-f\f[R], \f[B]--file\f[R], \f[B]-e\f[R], or
-\f[B]--expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
+If no files are given on the command\-line and no files or expressions
+are given by the \f[B]\-f\f[R], \f[B]\-\-file\f[R], \f[B]\-e\f[R], or
+\f[B]\-\-expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there is a caveat to this.
 .PP
@@ -289,8 +284,7 @@ ended.
 This means that, except for escaped brackets, all brackets must be
 balanced before dc(1) parses and executes.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -298,7 +292,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]dc >&-\f[R], it will quit with an error.
+\f[B]dc  >&\-\f[R], it will quit with an error.
 This is done so that dc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -306,13 +300,12 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]dc 2>&-\f[R], it will quit with an error.
+\f[B]dc  2>&\-\f[R], it will quit with an error.
 This is done so that dc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -320,7 +313,6 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
 Each item in the input source code, either a number (see the
 \f[B]NUMBERS\f[R] section) or a command (see the \f[B]COMMANDS\f[R]
 section), is processed and executed, in order.
@@ -349,8 +341,8 @@ notation, and if \f[B]obase\f[R] is \f[B]1\f[R], values are output in
 engineering notation.
 Otherwise, values are output in the specified base.
 .PP
-Outputting in scientific and engineering notations are \f[B]non-portable
-extensions\f[R].
+Outputting in scientific and engineering notations are
+\f[B]non\-portable extensions\f[R].
 .PP
 The \f[I]scale\f[R] of an expression is the number of digits in the
 result of the expression right of the decimal point, and \f[B]scale\f[R]
@@ -362,14 +354,14 @@ The max allowable value for \f[B]scale\f[R] can be queried in dc(1)
 programs with the \f[B]V\f[R] command.
 .PP
 \f[B]seed\f[R] is a register containing the current seed for the
-pseudo-random number generator.
+pseudo\-random number generator.
 If the current value of \f[B]seed\f[R] is queried and stored, then if it
-is assigned to \f[B]seed\f[R] later, the pseudo-random number generator
-is guaranteed to produce the same sequence of pseudo-random numbers that
-were generated after the value of \f[B]seed\f[R] was first queried.
+is assigned to \f[B]seed\f[R] later, the pseudo\-random number generator
+is guaranteed to produce the same sequence of pseudo\-random numbers
+that were generated after the value of \f[B]seed\f[R] was first queried.
 .PP
 Multiple values assigned to \f[B]seed\f[R] can produce the same sequence
-of pseudo-random numbers.
+of pseudo\-random numbers.
 Likewise, when a value is assigned to \f[B]seed\f[R], it is not
 guaranteed that querying \f[B]seed\f[R] immediately after will return
 the same value.
@@ -379,25 +371,23 @@ get receive a value of \f[B]0\f[R] or \f[B]1\f[R].
 The maximum integer returned by the \f[B]\[cq]\f[R] command can be
 queried with the \f[B]W\f[R] command.
 .PP
-\f[B]Note\f[R]: The values returned by the pseudo-random number
+\f[B]Note\f[R]: The values returned by the pseudo\-random number
 generator with the \f[B]\[cq]\f[R] and \f[B]\[lq]\f[R] commands are
 guaranteed to \f[B]NOT\f[R] be cryptographically secure.
-This is a consequence of using a seeded pseudo-random number generator.
+This is a consequence of using a seeded pseudo\-random number generator.
 However, they \f[I]are\f[R] guaranteed to be reproducible with identical
 \f[B]seed\f[R] values.
-This means that the pseudo-random values from dc(1) should only be used
-where a reproducible stream of pseudo-random numbers is
+This means that the pseudo\-random values from dc(1) should only be used
+where a reproducible stream of pseudo\-random numbers is
 \f[I]ESSENTIAL\f[R].
-In any other case, use a non-seeded pseudo-random number generator.
+In any other case, use a non\-seeded pseudo\-random number generator.
 .PP
-The pseudo-random number generator, \f[B]seed\f[R], and all associated
-operations are \f[B]non-portable extensions\f[R].
+The pseudo\-random number generator, \f[B]seed\f[R], and all associated
+operations are \f[B]non\-portable extensions\f[R].
 .SS Comments
-.PP
 Comments go from \f[B]#\f[R] until, and not including, the next newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH NUMBERS
-.PP
 Numbers are strings made up of digits, uppercase letters up to
 \f[B]F\f[R], and at most \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]DC_NUM_MAX\f[R] digits.
@@ -407,12 +397,12 @@ alphabet (i.e., \f[B]A\f[R] equals \f[B]10\f[R], or \f[B]9+1\f[R]).
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]DC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -430,7 +420,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -461,13 +451,11 @@ number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if dc(1) is given the number string
 \f[B]10e_4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .PP
-Accepting input as scientific notation is a \f[B]non-portable
+Accepting input as scientific notation is a \f[B]non\-portable
 extension\f[R].
 .SH COMMANDS
-.PP
 The valid commands are listed below.
 .SS Printing
-.PP
 These commands are used for printing.
 .PP
 Note that both scientific notation and engineering notation are
@@ -479,7 +467,7 @@ activated by assigning \f[B]1\f[R] to \f[B]obase\f[R] using
 To deactivate them, just assign a different value to \f[B]obase\f[R].
 .PP
 Printing numbers in scientific notation and/or engineering notation is a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .TP
 \f[B]p\f[R]
 Prints the value on top of the stack, whether number or string, and
@@ -499,12 +487,12 @@ Pops a value off the stack.
 .PP
 If the value is a number, it is truncated and the absolute value of the
 result is printed as though \f[B]obase\f[R] is \f[B]256\f[R] and each
-digit is interpreted as an 8-bit ASCII character, making it a byte
+digit is interpreted as an 8\-bit ASCII character, making it a byte
 stream.
 .PP
 If the value is a string, it is printed without a trailing newline.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]f\f[R]
@@ -515,7 +503,6 @@ without altering anything.
 Users should use this command when they get lost.
 .RE
 .SS Arithmetic
-.PP
 These are the commands used for arithmetic.
 .TP
 \f[B]+\f[R]
@@ -524,7 +511,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
 both operands.
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The top two values are popped off the stack, subtracted, and the result
 is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
@@ -545,7 +532,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
@@ -555,10 +542,10 @@ is pushed onto the stack.
 .PP
 Remaindering is equivalent to 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R], and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]\[ti]\f[R]
@@ -569,9 +556,9 @@ This is equivalent to \f[B]x y / x y %\f[R] except that \f[B]x\f[R] and
 \f[B]y\f[R] are only evaluated once.
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -582,7 +569,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .PP
 The first value popped off of the stack must be an integer, and if that
 value is negative, the second value popped off of the stack must be
-non-zero.
+non\-zero.
 .RE
 .TP
 \f[B]v\f[R]
@@ -591,7 +578,7 @@ the result is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The value popped off of the stack must be non-negative.
+The value popped off of the stack must be non\-negative.
 .RE
 .TP
 \f[B]_\f[R]
@@ -601,7 +588,7 @@ or other commands), then that number is input as a negative number.
 .PP
 Otherwise, the top value on the stack is popped and copied, and the copy
 is negated and pushed onto the stack.
-This behavior without a number is a \f[B]non-portable extension\f[R].
+This behavior without a number is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]b\f[R]
@@ -610,7 +597,7 @@ back onto the stack.
 Otherwise, its absolute value is pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]|\f[R]
@@ -619,12 +606,12 @@ is computed, and the result is pushed onto the stack.
 .RS
 .PP
 The first value popped is used as the reduction modulus and must be an
-integer and non-zero.
+integer and non\-zero.
 The second value popped is used as the exponent and must be an integer
-and non-negative.
+and non\-negative.
 The third value popped is the base and must be an integer.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]$\f[R]
@@ -632,7 +619,7 @@ The top value is popped off the stack and copied, and the copy is
 truncated and pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[at]\f[R]
@@ -642,9 +629,9 @@ extension.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]H\f[R]
@@ -653,9 +640,9 @@ left (radix shifted right) to the value of the first.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]h\f[R]
@@ -664,9 +651,9 @@ right (radix shifted left) to the value of the first.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]G\f[R]
@@ -674,7 +661,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]1\f[R] is pushed if they are equal, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]N\f[R]
@@ -682,7 +669,7 @@ The top value is popped off of the stack, and if it a \f[B]0\f[R], a
 \f[B]1\f[R] is pushed; otherwise, a \f[B]0\f[R] is pushed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B](\f[R]
@@ -691,7 +678,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]{\f[R]
@@ -700,7 +687,7 @@ The top two values are popped off of the stack, they are compared, and a
 or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B])\f[R]
@@ -709,7 +696,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]}\f[R]
@@ -718,42 +705,41 @@ The top two values are popped off of the stack, they are compared, and a
 second, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]M\f[R]
 The top two values are popped off of the stack.
-If they are both non-zero, a \f[B]1\f[R] is pushed onto the stack.
+If they are both non\-zero, a \f[B]1\f[R] is pushed onto the stack.
 If either of them is zero, or both of them are, then a \f[B]0\f[R] is
 pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]&&\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]m\f[R]
 The top two values are popped off of the stack.
-If at least one of them is non-zero, a \f[B]1\f[R] is pushed onto the
+If at least one of them is non\-zero, a \f[B]1\f[R] is pushed onto the
 stack.
 If both of them are zero, then a \f[B]0\f[R] is pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]||\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
-.SS Pseudo-Random Number Generator
-.PP
-dc(1) has a built-in pseudo-random number generator.
-These commands query the pseudo-random number generator.
+.SS Pseudo\-Random Number Generator
+dc(1) has a built\-in pseudo\-random number generator.
+These commands query the pseudo\-random number generator.
 (See Parameters for more information about the \f[B]seed\f[R] value that
-controls the pseudo-random number generator.)
+controls the pseudo\-random number generator.)
 .PP
-The pseudo-random number generator is guaranteed to \f[B]NOT\f[R] be
+The pseudo\-random number generator is guaranteed to \f[B]NOT\f[R] be
 cryptographically secure.
 .TP
 \f[B]\[cq]\f[R]
@@ -762,19 +748,19 @@ the \f[B]LIMITS\f[R] section).
 .RS
 .PP
 The generated integer is made as unbiased as possible, subject to the
-limitations of the pseudo-random number generator.
+limitations of the pseudo\-random number generator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[lq]\f[R]
 Pops a value off of the stack, which is used as an \f[B]exclusive\f[R]
 upper bound on the integer that will be generated.
-If the bound is negative or is a non-integer, an error is raised, and
+If the bound is negative or is a non\-integer, an error is raised, and
 dc(1) resets (see the \f[B]RESET\f[R] section) while \f[B]seed\f[R]
 remains unchanged.
 If the bound is larger than \f[B]DC_RAND_MAX\f[R], the higher bound is
-honored by generating several pseudo-random integers, multiplying them
+honored by generating several pseudo\-random integers, multiplying them
 by appropriate powers of \f[B]DC_RAND_MAX+1\f[R], and adding them
 together.
 Thus, the size of integer that can be generated with this command is
@@ -786,12 +772,11 @@ is \f[I]not\f[R] changed.
 .RS
 .PP
 The generated integer is made as unbiased as possible, subject to the
-limitations of the pseudo-random number generator.
+limitations of the pseudo\-random number generator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Stack Control
-.PP
 These commands control the stack.
 .TP
 \f[B]c\f[R]
@@ -807,7 +792,6 @@ Swaps (\[lq]reverses\[rq]) the two top items on the stack.
 \f[B]R\f[R]
 Pops (\[lq]removes\[rq]) the top value from the stack.
 .SS Register Control
-.PP
 These commands control registers (see the \f[B]REGISTERS\f[R] section).
 .TP
 \f[B]s\f[R]\f[I]r\f[R]
@@ -829,7 +813,6 @@ push it onto the main stack.
 The previous value in the stack for register \f[I]r\f[R], if any, is now
 accessible via the \f[B]l\f[R]\f[I]r\f[R] command.
 .SS Parameters
-.PP
 These commands control the values of \f[B]ibase\f[R], \f[B]obase\f[R],
 \f[B]scale\f[R], and \f[B]seed\f[R].
 Also see the \f[B]SYNTAX\f[R] section.
@@ -857,7 +840,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 .TP
 \f[B]k\f[R]
 Pops the value off of the top of the stack and uses it to set
-\f[B]scale\f[R], which must be non-negative.
+\f[B]scale\f[R], which must be non\-negative.
 .RS
 .PP
 If the value on top of the stack has any \f[I]scale\f[R], the
@@ -867,7 +850,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 \f[B]j\f[R]
 Pops the value off of the top of the stack and uses it to set
 \f[B]seed\f[R].
-The meaning of \f[B]seed\f[R] is dependent on the current pseudo-random
+The meaning of \f[B]seed\f[R] is dependent on the current pseudo\-random
 number generator but is guaranteed to not change except for new major
 versions.
 .RS
@@ -875,22 +858,22 @@ versions.
 The \f[I]scale\f[R] and sign of the value may be significant.
 .PP
 If a previously used \f[B]seed\f[R] value is used again, the
-pseudo-random number generator is guaranteed to produce the same
-sequence of pseudo-random numbers as it did when the \f[B]seed\f[R]
+pseudo\-random number generator is guaranteed to produce the same
+sequence of pseudo\-random numbers as it did when the \f[B]seed\f[R]
 value was previously used.
 .PP
 The exact value assigned to \f[B]seed\f[R] is not guaranteed to be
 returned if the \f[B]J\f[R] command is used.
 However, if \f[B]seed\f[R] \f[I]does\f[R] return a different value, both
 values, when assigned to \f[B]seed\f[R], are guaranteed to produce the
-same sequence of pseudo-random numbers.
+same sequence of pseudo\-random numbers.
 This means that certain values assigned to \f[B]seed\f[R] will not
-produce unique sequences of pseudo-random numbers.
+produce unique sequences of pseudo\-random numbers.
 .PP
 There is no limit to the length (number of significant decimal digits)
 or \f[I]scale\f[R] of the value that can be assigned to \f[B]seed\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]I\f[R]
@@ -906,7 +889,7 @@ Pushes the current value of \f[B]scale\f[R] onto the main stack.
 Pushes the current value of \f[B]seed\f[R] onto the main stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]T\f[R]
@@ -914,7 +897,7 @@ Pushes the maximum allowable value of \f[B]ibase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]U\f[R]
@@ -922,7 +905,7 @@ Pushes the maximum allowable value of \f[B]obase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]V\f[R]
@@ -930,18 +913,17 @@ Pushes the maximum allowable value of \f[B]scale\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]W\f[R]
 Pushes the maximum (inclusive) integer that can be generated with the
-\f[B]\[cq]\f[R] pseudo-random number generator command.
+\f[B]\[cq]\f[R] pseudo\-random number generator command.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Strings
-.PP
 The following commands control strings.
 .PP
 dc(1) can work with both numbers and strings, and registers (see the
@@ -979,16 +961,16 @@ The value on top of the stack is popped.
 If it is a number, it is truncated and its absolute value is taken.
 The result mod \f[B]256\f[R] is calculated.
 If that result is \f[B]0\f[R], push an empty string; otherwise, push a
-one-character string where the character is the result of the mod
+one\-character string where the character is the result of the mod
 interpreted as an ASCII character.
 .PP
 If it is a string, then a new string is made.
 If the original string is empty, the new string is empty.
 If it is not, then the first character of the original string is used to
-create the new string as a one-character string.
+create the new string as a one\-character string.
 The new string is then pushed onto the stack.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]x\f[R]
@@ -1024,7 +1006,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!>\f[R]\f[I]r\f[R]
@@ -1045,7 +1027,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]<\f[R]\f[I]r\f[R]
@@ -1066,7 +1048,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!<\f[R]\f[I]r\f[R]
@@ -1087,7 +1069,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]=\f[R]\f[I]r\f[R]
@@ -1108,7 +1090,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!=\f[R]\f[I]r\f[R]
@@ -1129,7 +1111,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]?\f[R]
@@ -1142,7 +1124,7 @@ the execution of the macro that executed it.
 If there are no macros, or only one macro executing, dc(1) exits.
 .TP
 \f[B]Q\f[R]
-Pops a value from the stack which must be non-negative and is used the
+Pops a value from the stack which must be non\-negative and is used the
 number of macro executions to pop off of the execution stack.
 If the number of levels to pop is greater than the number of executing
 macros, dc(1) exits.
@@ -1155,10 +1137,9 @@ to make dc(1) exit with the \f[B]Q\f[R] command, so the sequence
 \f[B],Q\f[R] will make dc(1) exit.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Status
-.PP
 These commands query status of the stack or its top value.
 .TP
 \f[B]Z\f[R]
@@ -1189,7 +1170,7 @@ If the value is a number, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a string), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]t\f[R]
@@ -1198,7 +1179,7 @@ If the value is a string, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a number), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]z\f[R]
@@ -1216,10 +1197,9 @@ register\[cq]s stack must always have at least one item; dc(1) will give
 an error and reset otherwise (see the \f[B]RESET\f[R] section).
 This means that this command will never push \f[B]0\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Arrays
-.PP
 These commands manipulate arrays.
 .TP
 \f[B]:\f[R]\f[I]r\f[R]
@@ -1236,10 +1216,9 @@ The selected value is then pushed onto the stack.
 Pushes the length of the array \f[I]r\f[R] onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Global Settings
-.PP
 These commands retrieve global settings.
 These are the only commands that require multiple specific characters,
 and all of them begin with the letter \f[B]g\f[R].
@@ -1259,10 +1238,9 @@ See the \f[I]Extended Register Mode\f[R] subsection of the
 .TP
 \f[B]gz\f[R]
 Pushes \f[B]0\f[R] onto the stack if the leading zero setting has not
-been enabled with the \f[B]-z\f[R] or \f[B]--leading-zeroes\f[R] options
-(see the \f[B]OPTIONS\f[R] section), non-zero otherwise.
+been enabled with the \f[B]\-z\f[R] or \f[B]\-\-leading\-zeroes\f[R]
+options (see the \f[B]OPTIONS\f[R] section), non\-zero otherwise.
 .SH REGISTERS
-.PP
 Registers are names that can store strings, numbers, and arrays.
 (Number/string registers do not interfere with array registers.)
 .PP
@@ -1272,45 +1250,45 @@ All registers, when first referenced, have one value (\f[B]0\f[R]) in
 their stack, and it is a runtime error to attempt to pop that item off
 of the register stack.
 .PP
-In non-extended register mode, a register name is just the single
+In non\-extended register mode, a register name is just the single
 character that follows any command that needs a register name.
 The only exceptions are: a newline (\f[B]`\[rs]n'\f[R]) and a left
 bracket (\f[B]`['\f[R]); it is a parse error for a newline or a left
 bracket to be used as a register name.
 .SS Extended Register Mode
-.PP
 Unlike most other dc(1) implentations, this dc(1) provides nearly
 unlimited amounts of registers, if extended register mode is enabled.
 .PP
-If extended register mode is enabled (\f[B]-x\f[R] or
-\f[B]--extended-register\f[R] command-line arguments are given), then
-normal single character registers are used \f[I]unless\f[R] the
+If extended register mode is enabled (\f[B]\-x\f[R] or
+\f[B]\-\-extended\-register\f[R] command\-line arguments are given),
+then normal single character registers are used \f[I]unless\f[R] the
 character immediately following a command that needs a register name is
 a space (according to \f[B]isspace()\f[R]) and not a newline
 (\f[B]`\[rs]n'\f[R]).
 .PP
 In that case, the register name is found according to the regex
-\f[B][a-z][a-z0-9_]*\f[R] (like bc(1) identifiers), and it is a parse
-error if the next non-space characters do not match that regex.
+\f[B][a\-z][a\-z0\-9_]*\f[R] (like bc(1) identifiers), and it is a parse
+error if the next non\-space characters do not match that regex.
 .SH RESET
-.PP
-When dc(1) encounters an error or a signal that it has a non-default
+When dc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
 First, any macros that are executing are stopped and popped off the
-stack.
+execution stack.
 The behavior is not unlike that of exceptions in programming languages.
 Then the execution point is set so that any code waiting to execute
 (after all macros returned) is skipped.
 .PP
+However, the stack of values is \f[I]not\f[R] cleared; in interactive
+mode, users can inspect the stack and manipulate it.
+.PP
 Thus, when dc(1) resets, it skips any remaining code waiting to be
 executed.
 Then, if it is interactive mode, and the error was not a fatal error
 (see the \f[B]EXIT STATUS\f[R] section), it asks for more input;
 otherwise, it exits with the appropriate return code.
 .SH PERFORMANCE
-.PP
 Most dc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This dc(1) does something different.
@@ -1330,7 +1308,6 @@ checking.
 This integer type depends on the value of \f[B]DC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on dc(1):
 .TP
 \f[B]DC_LONG_BIT\f[R]
@@ -1360,29 +1337,29 @@ Set at \f[B]DC_BASE_POW\f[R].
 .TP
 \f[B]DC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]DC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]\[cq]\f[R] command,
 if dc(1).
-Set at \f[B]2\[ha]DC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]DC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1390,28 +1367,27 @@ Set at \f[B]DC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], dc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], dc(1) recognizes the following
 environment variables:
 .TP
 \f[B]DC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to dc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to dc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]DC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
 functions that the user might want every time dc(1) runs.
-Another use would be to use the \f[B]-e\f[R] option to set
+Another use would be to use the \f[B]\-e\f[R] option to set
 \f[B]scale\f[R] to a value other than \f[B]0\f[R].
 .RS
 .PP
@@ -1429,14 +1405,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]DC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]DC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), dc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), dc(1) will output lines to that length,
 including the backslash newline combo.
 The default line length is \f[B]70\f[R].
 .RS
@@ -1453,13 +1429,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when dc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes dc(1)
+variable exists and contains an integer, a non\-zero value makes dc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes dc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then dc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_TTY_MODE\f[R]
@@ -1468,11 +1444,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes dc(1) use
+exists and contains an integer, then a non\-zero value makes dc(1) use
 TTY mode, and zero makes dc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_PROMPT\f[R]
@@ -1481,46 +1457,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes dc(1) use a
-prompt, and zero or a non-integer makes dc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes dc(1) use a
+prompt, and zero or a non\-integer makes dc(1) not use a prompt.
 If this environment variable does not exist and \f[B]DC_TTY_MODE\f[R]
 does, then the value of the \f[B]DC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]DC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes dc(1) exit after executing the
-expressions and expression files, and a zero value makes dc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes dc(1) exit after executing
+the expressions and expression files, and a zero value makes dc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes dc(1) clamp digits that are
+contains an integer, a non\-zero value makes dc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the bc(1) standard
+This never applies to single\-digit numbers, as per the bc(1) standard
 (see the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 dc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1534,10 +1510,10 @@ since math errors will happen in the process of normal execution.
 .PP
 Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, using a negative number as a bound for the
-pseudo-random number generator, attempting to convert a negative number
+pseudo\-random number generator, attempting to convert a negative number
 to a hardware integer, overflow when converting a number to a hardware
 integer, overflow when calculating the size of a number, and attempting
-to use a non-integer where an integer is required.
+to use a non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]), places (\f[B]\[at]\f[R]), left shift
@@ -1572,7 +1548,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (dc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, dc(1)
@@ -1583,17 +1559,17 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 dc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow dc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
-Like bc(1), dc(1) has an interactive mode and a non-interactive mode.
+Like bc(1), dc(1) has an interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, dc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1602,7 +1578,6 @@ dc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]DC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, dc(1) can turn on TTY mode, subject to some
@@ -1610,44 +1585,42 @@ settings.
 .PP
 If there is the environment variable \f[B]DC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, dc(1) will turn
+that environment variable contains a non\-zero integer, dc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]DC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then dc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then dc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]DC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) specification (see the \f[B]STANDARDS\f[R]
 section), and interactive mode requires only \f[B]stdin\f[R] and
 \f[B]stdout\f[R] to be connected to a terminal.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]DC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]DC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]DC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]DC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]DC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause dc(1) to do one of two things.
 .PP
 If dc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1656,7 +1629,7 @@ section), or the \f[B]DC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, dc(1) will exit.
 .PP
 However, if dc(1) is in interactive mode, and the
-\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then dc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1679,23 +1652,20 @@ the user to continue.
 \f[B]SIGTERM\f[R] and \f[B]SIGQUIT\f[R] cause dc(1) to clean up and
 exit, and it uses the default handler for all other signals.
 .SH LOCALES
-.PP
 This dc(1) ships with support for adding error messages for different
 locales and thus, supports \f[B]LC_MESSAGES\f[R].
 .SH SEE ALSO
-.PP
 bc(1)
 .SH STANDARDS
-.PP
 The dc(1) utility operators and some behavior are compliant with the
-operators in the IEEE Std 1003.1-2017 (\[lq]POSIX.1-2017\[rq]) bc(1)
+operators in the IEEE Std 1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) bc(1)
 specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHOR
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/dc/H.1.md b/manuals/dc/H.1.md
index 7166c155..64c7142b 100644
--- a/manuals/dc/H.1.md
+++ b/manuals/dc/H.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -1130,11 +1130,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/dc/HN.1 b/manuals/dc/HN.1
index 2a392630..c3f8c8ab 100644
--- a/manuals/dc/HN.1
+++ b/manuals/dc/HN.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,49 +25,45 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH Name
-.PP
-dc - arbitrary-precision decimal reverse-Polish notation calculator
+dc \- arbitrary\-precision decimal reverse\-Polish notation calculator
 .SH SYNOPSIS
-.PP
-\f[B]dc\f[R] [\f[B]-cChiPRvVx\f[R]] [\f[B]--version\f[R]]
-[\f[B]--help\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--interactive\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]]
-[\f[B]--extended-register\f[R]] [\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]dc\f[R] [\f[B]\-cChiPRvVx\f[R]] [\f[B]\-\-version\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-interactive\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-extended\-register\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
-[\f[B]-I\f[R] \f[I]ibase\f[R]] [\f[B]--ibase\f[R]=\f[I]ibase\f[R]]
-[\f[B]-O\f[R] \f[I]obase\f[R]] [\f[B]--obase\f[R]=\f[I]obase\f[R]]
-[\f[B]-S\f[R] \f[I]scale\f[R]] [\f[B]--scale\f[R]=\f[I]scale\f[R]]
-[\f[B]-E\f[R] \f[I]seed\f[R]] [\f[B]--seed\f[R]=\f[I]seed\f[R]]
+[\f[B]\-I\f[R] \f[I]ibase\f[R]] [\f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]]
+[\f[B]\-O\f[R] \f[I]obase\f[R]] [\f[B]\-\-obase\f[R]=\f[I]obase\f[R]]
+[\f[B]\-S\f[R] \f[I]scale\f[R]] [\f[B]\-\-scale\f[R]=\f[I]scale\f[R]]
+[\f[B]\-E\f[R] \f[I]seed\f[R]] [\f[B]\-\-seed\f[R]=\f[I]seed\f[R]]
 .SH DESCRIPTION
-.PP
-dc(1) is an arbitrary-precision calculator.
+dc(1) is an arbitrary\-precision calculator.
 It uses a stack (reverse Polish notation) to store numbers and results
 of computations.
 Arithmetic operations pop arguments off of the stack and push the
 results.
 .PP
-If no files are given on the command-line, then dc(1) reads from
+If no files are given on the command\-line, then dc(1) reads from
 \f[B]stdin\f[R] (see the \f[B]STDIN\f[R] section).
 Otherwise, those files are processed, and dc(1) will then exit.
 .PP
 If a user wants to set up a standard environment, they can use
 \f[B]DC_ENV_ARGS\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 For example, if a user wants the \f[B]scale\f[R] always set to
-\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]-e 10k\f[R],
+\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]\-e 10k\f[R],
 and this dc(1) will always start with a \f[B]scale\f[R] of \f[B]10\f[R].
 .SH OPTIONS
-.PP
 The following are the options that dc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -77,17 +73,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -98,17 +94,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-E\f[R] \f[I]seed\f[R], \f[B]--seed\f[R]=\f[I]seed\f[R]
+\f[B]\-E\f[R] \f[I]seed\f[R], \f[B]\-\-seed\f[R]=\f[I]seed\f[R]
 Sets the builtin variable \f[B]seed\f[R] to the value \f[I]seed\f[R]
 assuming that \f[I]seed\f[R] is in base 10.
 It is a fatal error if \f[I]seed\f[R] is not a valid number.
@@ -116,10 +112,10 @@ It is a fatal error if \f[I]seed\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
 If files are given as well (see below), the expressions and files are
@@ -128,44 +124,44 @@ This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]DC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
 If expressions are also given (see above), the expressions are evaluated
 in the order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -173,28 +169,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -202,10 +198,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -218,10 +214,10 @@ Most of those users would want to put this option in
 These options override the \f[B]DC_PROMPT\f[R] and \f[B]DC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -240,10 +236,10 @@ These options \f[I]do\f[R] override the \f[B]DC_PROMPT\f[R] and
 \f[B]DC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -251,35 +247,34 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .TP
-\f[B]-x\f[R] \f[B]--extended-register\f[R]
+\f[B]\-x\f[R] \f[B]\-\-extended\-register\f[R]
 Enables extended register mode.
 See the \f[I]Extended Register Mode\f[R] subsection of the
 \f[B]REGISTERS\f[R] section for more information.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes dc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes dc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files are given on the command-line and no files or expressions
-are given by the \f[B]-f\f[R], \f[B]--file\f[R], \f[B]-e\f[R], or
-\f[B]--expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
+If no files are given on the command\-line and no files or expressions
+are given by the \f[B]\-f\f[R], \f[B]\-\-file\f[R], \f[B]\-e\f[R], or
+\f[B]\-\-expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there is a caveat to this.
 .PP
@@ -289,8 +284,7 @@ ended.
 This means that, except for escaped brackets, all brackets must be
 balanced before dc(1) parses and executes.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -298,7 +292,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]dc >&-\f[R], it will quit with an error.
+\f[B]dc  >&\-\f[R], it will quit with an error.
 This is done so that dc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -306,13 +300,12 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]dc 2>&-\f[R], it will quit with an error.
+\f[B]dc  2>&\-\f[R], it will quit with an error.
 This is done so that dc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -320,7 +313,6 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
 Each item in the input source code, either a number (see the
 \f[B]NUMBERS\f[R] section) or a command (see the \f[B]COMMANDS\f[R]
 section), is processed and executed, in order.
@@ -349,8 +341,8 @@ notation, and if \f[B]obase\f[R] is \f[B]1\f[R], values are output in
 engineering notation.
 Otherwise, values are output in the specified base.
 .PP
-Outputting in scientific and engineering notations are \f[B]non-portable
-extensions\f[R].
+Outputting in scientific and engineering notations are
+\f[B]non\-portable extensions\f[R].
 .PP
 The \f[I]scale\f[R] of an expression is the number of digits in the
 result of the expression right of the decimal point, and \f[B]scale\f[R]
@@ -362,14 +354,14 @@ The max allowable value for \f[B]scale\f[R] can be queried in dc(1)
 programs with the \f[B]V\f[R] command.
 .PP
 \f[B]seed\f[R] is a register containing the current seed for the
-pseudo-random number generator.
+pseudo\-random number generator.
 If the current value of \f[B]seed\f[R] is queried and stored, then if it
-is assigned to \f[B]seed\f[R] later, the pseudo-random number generator
-is guaranteed to produce the same sequence of pseudo-random numbers that
-were generated after the value of \f[B]seed\f[R] was first queried.
+is assigned to \f[B]seed\f[R] later, the pseudo\-random number generator
+is guaranteed to produce the same sequence of pseudo\-random numbers
+that were generated after the value of \f[B]seed\f[R] was first queried.
 .PP
 Multiple values assigned to \f[B]seed\f[R] can produce the same sequence
-of pseudo-random numbers.
+of pseudo\-random numbers.
 Likewise, when a value is assigned to \f[B]seed\f[R], it is not
 guaranteed that querying \f[B]seed\f[R] immediately after will return
 the same value.
@@ -379,25 +371,23 @@ get receive a value of \f[B]0\f[R] or \f[B]1\f[R].
 The maximum integer returned by the \f[B]\[cq]\f[R] command can be
 queried with the \f[B]W\f[R] command.
 .PP
-\f[B]Note\f[R]: The values returned by the pseudo-random number
+\f[B]Note\f[R]: The values returned by the pseudo\-random number
 generator with the \f[B]\[cq]\f[R] and \f[B]\[lq]\f[R] commands are
 guaranteed to \f[B]NOT\f[R] be cryptographically secure.
-This is a consequence of using a seeded pseudo-random number generator.
+This is a consequence of using a seeded pseudo\-random number generator.
 However, they \f[I]are\f[R] guaranteed to be reproducible with identical
 \f[B]seed\f[R] values.
-This means that the pseudo-random values from dc(1) should only be used
-where a reproducible stream of pseudo-random numbers is
+This means that the pseudo\-random values from dc(1) should only be used
+where a reproducible stream of pseudo\-random numbers is
 \f[I]ESSENTIAL\f[R].
-In any other case, use a non-seeded pseudo-random number generator.
+In any other case, use a non\-seeded pseudo\-random number generator.
 .PP
-The pseudo-random number generator, \f[B]seed\f[R], and all associated
-operations are \f[B]non-portable extensions\f[R].
+The pseudo\-random number generator, \f[B]seed\f[R], and all associated
+operations are \f[B]non\-portable extensions\f[R].
 .SS Comments
-.PP
 Comments go from \f[B]#\f[R] until, and not including, the next newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH NUMBERS
-.PP
 Numbers are strings made up of digits, uppercase letters up to
 \f[B]F\f[R], and at most \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]DC_NUM_MAX\f[R] digits.
@@ -407,12 +397,12 @@ alphabet (i.e., \f[B]A\f[R] equals \f[B]10\f[R], or \f[B]9+1\f[R]).
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]DC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -430,7 +420,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -461,13 +451,11 @@ number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if dc(1) is given the number string
 \f[B]10e_4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .PP
-Accepting input as scientific notation is a \f[B]non-portable
+Accepting input as scientific notation is a \f[B]non\-portable
 extension\f[R].
 .SH COMMANDS
-.PP
 The valid commands are listed below.
 .SS Printing
-.PP
 These commands are used for printing.
 .PP
 Note that both scientific notation and engineering notation are
@@ -479,7 +467,7 @@ activated by assigning \f[B]1\f[R] to \f[B]obase\f[R] using
 To deactivate them, just assign a different value to \f[B]obase\f[R].
 .PP
 Printing numbers in scientific notation and/or engineering notation is a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .TP
 \f[B]p\f[R]
 Prints the value on top of the stack, whether number or string, and
@@ -499,12 +487,12 @@ Pops a value off the stack.
 .PP
 If the value is a number, it is truncated and the absolute value of the
 result is printed as though \f[B]obase\f[R] is \f[B]256\f[R] and each
-digit is interpreted as an 8-bit ASCII character, making it a byte
+digit is interpreted as an 8\-bit ASCII character, making it a byte
 stream.
 .PP
 If the value is a string, it is printed without a trailing newline.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]f\f[R]
@@ -515,7 +503,6 @@ without altering anything.
 Users should use this command when they get lost.
 .RE
 .SS Arithmetic
-.PP
 These are the commands used for arithmetic.
 .TP
 \f[B]+\f[R]
@@ -524,7 +511,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
 both operands.
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The top two values are popped off the stack, subtracted, and the result
 is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
@@ -545,7 +532,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
@@ -555,10 +542,10 @@ is pushed onto the stack.
 .PP
 Remaindering is equivalent to 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R], and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]\[ti]\f[R]
@@ -569,9 +556,9 @@ This is equivalent to \f[B]x y / x y %\f[R] except that \f[B]x\f[R] and
 \f[B]y\f[R] are only evaluated once.
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -582,7 +569,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .PP
 The first value popped off of the stack must be an integer, and if that
 value is negative, the second value popped off of the stack must be
-non-zero.
+non\-zero.
 .RE
 .TP
 \f[B]v\f[R]
@@ -591,7 +578,7 @@ the result is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The value popped off of the stack must be non-negative.
+The value popped off of the stack must be non\-negative.
 .RE
 .TP
 \f[B]_\f[R]
@@ -601,7 +588,7 @@ or other commands), then that number is input as a negative number.
 .PP
 Otherwise, the top value on the stack is popped and copied, and the copy
 is negated and pushed onto the stack.
-This behavior without a number is a \f[B]non-portable extension\f[R].
+This behavior without a number is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]b\f[R]
@@ -610,7 +597,7 @@ back onto the stack.
 Otherwise, its absolute value is pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]|\f[R]
@@ -619,12 +606,12 @@ is computed, and the result is pushed onto the stack.
 .RS
 .PP
 The first value popped is used as the reduction modulus and must be an
-integer and non-zero.
+integer and non\-zero.
 The second value popped is used as the exponent and must be an integer
-and non-negative.
+and non\-negative.
 The third value popped is the base and must be an integer.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]$\f[R]
@@ -632,7 +619,7 @@ The top value is popped off the stack and copied, and the copy is
 truncated and pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[at]\f[R]
@@ -642,9 +629,9 @@ extension.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]H\f[R]
@@ -653,9 +640,9 @@ left (radix shifted right) to the value of the first.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]h\f[R]
@@ -664,9 +651,9 @@ right (radix shifted left) to the value of the first.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]G\f[R]
@@ -674,7 +661,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]1\f[R] is pushed if they are equal, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]N\f[R]
@@ -682,7 +669,7 @@ The top value is popped off of the stack, and if it a \f[B]0\f[R], a
 \f[B]1\f[R] is pushed; otherwise, a \f[B]0\f[R] is pushed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B](\f[R]
@@ -691,7 +678,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]{\f[R]
@@ -700,7 +687,7 @@ The top two values are popped off of the stack, they are compared, and a
 or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B])\f[R]
@@ -709,7 +696,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]}\f[R]
@@ -718,42 +705,41 @@ The top two values are popped off of the stack, they are compared, and a
 second, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]M\f[R]
 The top two values are popped off of the stack.
-If they are both non-zero, a \f[B]1\f[R] is pushed onto the stack.
+If they are both non\-zero, a \f[B]1\f[R] is pushed onto the stack.
 If either of them is zero, or both of them are, then a \f[B]0\f[R] is
 pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]&&\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]m\f[R]
 The top two values are popped off of the stack.
-If at least one of them is non-zero, a \f[B]1\f[R] is pushed onto the
+If at least one of them is non\-zero, a \f[B]1\f[R] is pushed onto the
 stack.
 If both of them are zero, then a \f[B]0\f[R] is pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]||\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
-.SS Pseudo-Random Number Generator
-.PP
-dc(1) has a built-in pseudo-random number generator.
-These commands query the pseudo-random number generator.
+.SS Pseudo\-Random Number Generator
+dc(1) has a built\-in pseudo\-random number generator.
+These commands query the pseudo\-random number generator.
 (See Parameters for more information about the \f[B]seed\f[R] value that
-controls the pseudo-random number generator.)
+controls the pseudo\-random number generator.)
 .PP
-The pseudo-random number generator is guaranteed to \f[B]NOT\f[R] be
+The pseudo\-random number generator is guaranteed to \f[B]NOT\f[R] be
 cryptographically secure.
 .TP
 \f[B]\[cq]\f[R]
@@ -762,19 +748,19 @@ the \f[B]LIMITS\f[R] section).
 .RS
 .PP
 The generated integer is made as unbiased as possible, subject to the
-limitations of the pseudo-random number generator.
+limitations of the pseudo\-random number generator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[lq]\f[R]
 Pops a value off of the stack, which is used as an \f[B]exclusive\f[R]
 upper bound on the integer that will be generated.
-If the bound is negative or is a non-integer, an error is raised, and
+If the bound is negative or is a non\-integer, an error is raised, and
 dc(1) resets (see the \f[B]RESET\f[R] section) while \f[B]seed\f[R]
 remains unchanged.
 If the bound is larger than \f[B]DC_RAND_MAX\f[R], the higher bound is
-honored by generating several pseudo-random integers, multiplying them
+honored by generating several pseudo\-random integers, multiplying them
 by appropriate powers of \f[B]DC_RAND_MAX+1\f[R], and adding them
 together.
 Thus, the size of integer that can be generated with this command is
@@ -786,12 +772,11 @@ is \f[I]not\f[R] changed.
 .RS
 .PP
 The generated integer is made as unbiased as possible, subject to the
-limitations of the pseudo-random number generator.
+limitations of the pseudo\-random number generator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Stack Control
-.PP
 These commands control the stack.
 .TP
 \f[B]c\f[R]
@@ -807,7 +792,6 @@ Swaps (\[lq]reverses\[rq]) the two top items on the stack.
 \f[B]R\f[R]
 Pops (\[lq]removes\[rq]) the top value from the stack.
 .SS Register Control
-.PP
 These commands control registers (see the \f[B]REGISTERS\f[R] section).
 .TP
 \f[B]s\f[R]\f[I]r\f[R]
@@ -829,7 +813,6 @@ push it onto the main stack.
 The previous value in the stack for register \f[I]r\f[R], if any, is now
 accessible via the \f[B]l\f[R]\f[I]r\f[R] command.
 .SS Parameters
-.PP
 These commands control the values of \f[B]ibase\f[R], \f[B]obase\f[R],
 \f[B]scale\f[R], and \f[B]seed\f[R].
 Also see the \f[B]SYNTAX\f[R] section.
@@ -857,7 +840,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 .TP
 \f[B]k\f[R]
 Pops the value off of the top of the stack and uses it to set
-\f[B]scale\f[R], which must be non-negative.
+\f[B]scale\f[R], which must be non\-negative.
 .RS
 .PP
 If the value on top of the stack has any \f[I]scale\f[R], the
@@ -867,7 +850,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 \f[B]j\f[R]
 Pops the value off of the top of the stack and uses it to set
 \f[B]seed\f[R].
-The meaning of \f[B]seed\f[R] is dependent on the current pseudo-random
+The meaning of \f[B]seed\f[R] is dependent on the current pseudo\-random
 number generator but is guaranteed to not change except for new major
 versions.
 .RS
@@ -875,22 +858,22 @@ versions.
 The \f[I]scale\f[R] and sign of the value may be significant.
 .PP
 If a previously used \f[B]seed\f[R] value is used again, the
-pseudo-random number generator is guaranteed to produce the same
-sequence of pseudo-random numbers as it did when the \f[B]seed\f[R]
+pseudo\-random number generator is guaranteed to produce the same
+sequence of pseudo\-random numbers as it did when the \f[B]seed\f[R]
 value was previously used.
 .PP
 The exact value assigned to \f[B]seed\f[R] is not guaranteed to be
 returned if the \f[B]J\f[R] command is used.
 However, if \f[B]seed\f[R] \f[I]does\f[R] return a different value, both
 values, when assigned to \f[B]seed\f[R], are guaranteed to produce the
-same sequence of pseudo-random numbers.
+same sequence of pseudo\-random numbers.
 This means that certain values assigned to \f[B]seed\f[R] will not
-produce unique sequences of pseudo-random numbers.
+produce unique sequences of pseudo\-random numbers.
 .PP
 There is no limit to the length (number of significant decimal digits)
 or \f[I]scale\f[R] of the value that can be assigned to \f[B]seed\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]I\f[R]
@@ -906,7 +889,7 @@ Pushes the current value of \f[B]scale\f[R] onto the main stack.
 Pushes the current value of \f[B]seed\f[R] onto the main stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]T\f[R]
@@ -914,7 +897,7 @@ Pushes the maximum allowable value of \f[B]ibase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]U\f[R]
@@ -922,7 +905,7 @@ Pushes the maximum allowable value of \f[B]obase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]V\f[R]
@@ -930,18 +913,17 @@ Pushes the maximum allowable value of \f[B]scale\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]W\f[R]
 Pushes the maximum (inclusive) integer that can be generated with the
-\f[B]\[cq]\f[R] pseudo-random number generator command.
+\f[B]\[cq]\f[R] pseudo\-random number generator command.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Strings
-.PP
 The following commands control strings.
 .PP
 dc(1) can work with both numbers and strings, and registers (see the
@@ -979,16 +961,16 @@ The value on top of the stack is popped.
 If it is a number, it is truncated and its absolute value is taken.
 The result mod \f[B]256\f[R] is calculated.
 If that result is \f[B]0\f[R], push an empty string; otherwise, push a
-one-character string where the character is the result of the mod
+one\-character string where the character is the result of the mod
 interpreted as an ASCII character.
 .PP
 If it is a string, then a new string is made.
 If the original string is empty, the new string is empty.
 If it is not, then the first character of the original string is used to
-create the new string as a one-character string.
+create the new string as a one\-character string.
 The new string is then pushed onto the stack.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]x\f[R]
@@ -1024,7 +1006,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!>\f[R]\f[I]r\f[R]
@@ -1045,7 +1027,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]<\f[R]\f[I]r\f[R]
@@ -1066,7 +1048,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!<\f[R]\f[I]r\f[R]
@@ -1087,7 +1069,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]=\f[R]\f[I]r\f[R]
@@ -1108,7 +1090,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!=\f[R]\f[I]r\f[R]
@@ -1129,7 +1111,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]?\f[R]
@@ -1142,7 +1124,7 @@ the execution of the macro that executed it.
 If there are no macros, or only one macro executing, dc(1) exits.
 .TP
 \f[B]Q\f[R]
-Pops a value from the stack which must be non-negative and is used the
+Pops a value from the stack which must be non\-negative and is used the
 number of macro executions to pop off of the execution stack.
 If the number of levels to pop is greater than the number of executing
 macros, dc(1) exits.
@@ -1155,10 +1137,9 @@ to make dc(1) exit with the \f[B]Q\f[R] command, so the sequence
 \f[B],Q\f[R] will make dc(1) exit.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Status
-.PP
 These commands query status of the stack or its top value.
 .TP
 \f[B]Z\f[R]
@@ -1189,7 +1170,7 @@ If the value is a number, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a string), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]t\f[R]
@@ -1198,7 +1179,7 @@ If the value is a string, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a number), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]z\f[R]
@@ -1216,10 +1197,9 @@ register\[cq]s stack must always have at least one item; dc(1) will give
 an error and reset otherwise (see the \f[B]RESET\f[R] section).
 This means that this command will never push \f[B]0\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Arrays
-.PP
 These commands manipulate arrays.
 .TP
 \f[B]:\f[R]\f[I]r\f[R]
@@ -1236,10 +1216,9 @@ The selected value is then pushed onto the stack.
 Pushes the length of the array \f[I]r\f[R] onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Global Settings
-.PP
 These commands retrieve global settings.
 These are the only commands that require multiple specific characters,
 and all of them begin with the letter \f[B]g\f[R].
@@ -1259,10 +1238,9 @@ See the \f[I]Extended Register Mode\f[R] subsection of the
 .TP
 \f[B]gz\f[R]
 Pushes \f[B]0\f[R] onto the stack if the leading zero setting has not
-been enabled with the \f[B]-z\f[R] or \f[B]--leading-zeroes\f[R] options
-(see the \f[B]OPTIONS\f[R] section), non-zero otherwise.
+been enabled with the \f[B]\-z\f[R] or \f[B]\-\-leading\-zeroes\f[R]
+options (see the \f[B]OPTIONS\f[R] section), non\-zero otherwise.
 .SH REGISTERS
-.PP
 Registers are names that can store strings, numbers, and arrays.
 (Number/string registers do not interfere with array registers.)
 .PP
@@ -1272,45 +1250,45 @@ All registers, when first referenced, have one value (\f[B]0\f[R]) in
 their stack, and it is a runtime error to attempt to pop that item off
 of the register stack.
 .PP
-In non-extended register mode, a register name is just the single
+In non\-extended register mode, a register name is just the single
 character that follows any command that needs a register name.
 The only exceptions are: a newline (\f[B]`\[rs]n'\f[R]) and a left
 bracket (\f[B]`['\f[R]); it is a parse error for a newline or a left
 bracket to be used as a register name.
 .SS Extended Register Mode
-.PP
 Unlike most other dc(1) implentations, this dc(1) provides nearly
 unlimited amounts of registers, if extended register mode is enabled.
 .PP
-If extended register mode is enabled (\f[B]-x\f[R] or
-\f[B]--extended-register\f[R] command-line arguments are given), then
-normal single character registers are used \f[I]unless\f[R] the
+If extended register mode is enabled (\f[B]\-x\f[R] or
+\f[B]\-\-extended\-register\f[R] command\-line arguments are given),
+then normal single character registers are used \f[I]unless\f[R] the
 character immediately following a command that needs a register name is
 a space (according to \f[B]isspace()\f[R]) and not a newline
 (\f[B]`\[rs]n'\f[R]).
 .PP
 In that case, the register name is found according to the regex
-\f[B][a-z][a-z0-9_]*\f[R] (like bc(1) identifiers), and it is a parse
-error if the next non-space characters do not match that regex.
+\f[B][a\-z][a\-z0\-9_]*\f[R] (like bc(1) identifiers), and it is a parse
+error if the next non\-space characters do not match that regex.
 .SH RESET
-.PP
-When dc(1) encounters an error or a signal that it has a non-default
+When dc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
 First, any macros that are executing are stopped and popped off the
-stack.
+execution stack.
 The behavior is not unlike that of exceptions in programming languages.
 Then the execution point is set so that any code waiting to execute
 (after all macros returned) is skipped.
 .PP
+However, the stack of values is \f[I]not\f[R] cleared; in interactive
+mode, users can inspect the stack and manipulate it.
+.PP
 Thus, when dc(1) resets, it skips any remaining code waiting to be
 executed.
 Then, if it is interactive mode, and the error was not a fatal error
 (see the \f[B]EXIT STATUS\f[R] section), it asks for more input;
 otherwise, it exits with the appropriate return code.
 .SH PERFORMANCE
-.PP
 Most dc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This dc(1) does something different.
@@ -1330,7 +1308,6 @@ checking.
 This integer type depends on the value of \f[B]DC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on dc(1):
 .TP
 \f[B]DC_LONG_BIT\f[R]
@@ -1360,29 +1337,29 @@ Set at \f[B]DC_BASE_POW\f[R].
 .TP
 \f[B]DC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]DC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]\[cq]\f[R] command,
 if dc(1).
-Set at \f[B]2\[ha]DC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]DC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1390,28 +1367,27 @@ Set at \f[B]DC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], dc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], dc(1) recognizes the following
 environment variables:
 .TP
 \f[B]DC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to dc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to dc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]DC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
 functions that the user might want every time dc(1) runs.
-Another use would be to use the \f[B]-e\f[R] option to set
+Another use would be to use the \f[B]\-e\f[R] option to set
 \f[B]scale\f[R] to a value other than \f[B]0\f[R].
 .RS
 .PP
@@ -1429,14 +1405,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]DC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]DC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), dc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), dc(1) will output lines to that length,
 including the backslash newline combo.
 The default line length is \f[B]70\f[R].
 .RS
@@ -1453,13 +1429,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when dc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes dc(1)
+variable exists and contains an integer, a non\-zero value makes dc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes dc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then dc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_TTY_MODE\f[R]
@@ -1468,11 +1444,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes dc(1) use
+exists and contains an integer, then a non\-zero value makes dc(1) use
 TTY mode, and zero makes dc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_PROMPT\f[R]
@@ -1481,46 +1457,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes dc(1) use a
-prompt, and zero or a non-integer makes dc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes dc(1) use a
+prompt, and zero or a non\-integer makes dc(1) not use a prompt.
 If this environment variable does not exist and \f[B]DC_TTY_MODE\f[R]
 does, then the value of the \f[B]DC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]DC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes dc(1) exit after executing the
-expressions and expression files, and a zero value makes dc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes dc(1) exit after executing
+the expressions and expression files, and a zero value makes dc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes dc(1) clamp digits that are
+contains an integer, a non\-zero value makes dc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the bc(1) standard
+This never applies to single\-digit numbers, as per the bc(1) standard
 (see the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 dc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1534,10 +1510,10 @@ since math errors will happen in the process of normal execution.
 .PP
 Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, using a negative number as a bound for the
-pseudo-random number generator, attempting to convert a negative number
+pseudo\-random number generator, attempting to convert a negative number
 to a hardware integer, overflow when converting a number to a hardware
 integer, overflow when calculating the size of a number, and attempting
-to use a non-integer where an integer is required.
+to use a non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]), places (\f[B]\[at]\f[R]), left shift
@@ -1572,7 +1548,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (dc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, dc(1)
@@ -1583,17 +1559,17 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 dc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow dc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
-Like bc(1), dc(1) has an interactive mode and a non-interactive mode.
+Like bc(1), dc(1) has an interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, dc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1602,7 +1578,6 @@ dc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]DC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, dc(1) can turn on TTY mode, subject to some
@@ -1610,44 +1585,42 @@ settings.
 .PP
 If there is the environment variable \f[B]DC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, dc(1) will turn
+that environment variable contains a non\-zero integer, dc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]DC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then dc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then dc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]DC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) specification (see the \f[B]STANDARDS\f[R]
 section), and interactive mode requires only \f[B]stdin\f[R] and
 \f[B]stdout\f[R] to be connected to a terminal.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]DC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]DC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]DC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]DC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]DC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause dc(1) to do one of two things.
 .PP
 If dc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1656,7 +1629,7 @@ section), or the \f[B]DC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, dc(1) will exit.
 .PP
 However, if dc(1) is in interactive mode, and the
-\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then dc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1679,19 +1652,17 @@ the user to continue.
 \f[B]SIGTERM\f[R] and \f[B]SIGQUIT\f[R] cause dc(1) to clean up and
 exit, and it uses the default handler for all other signals.
 .SH SEE ALSO
-.PP
 bc(1)
 .SH STANDARDS
-.PP
 The dc(1) utility operators and some behavior are compliant with the
-operators in the IEEE Std 1003.1-2017 (\[lq]POSIX.1-2017\[rq]) bc(1)
+operators in the IEEE Std 1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) bc(1)
 specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHOR
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/dc/HN.1.md b/manuals/dc/HN.1.md
index 6239a12b..28b9dadd 100644
--- a/manuals/dc/HN.1.md
+++ b/manuals/dc/HN.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -1130,11 +1130,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/dc/N.1 b/manuals/dc/N.1
index b7b501fb..6e2baa58 100644
--- a/manuals/dc/N.1
+++ b/manuals/dc/N.1
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
@@ -25,49 +25,45 @@
 .\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 .\" POSSIBILITY OF SUCH DAMAGE.
 .\"
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
 .SH Name
-.PP
-dc - arbitrary-precision decimal reverse-Polish notation calculator
+dc \- arbitrary\-precision decimal reverse\-Polish notation calculator
 .SH SYNOPSIS
-.PP
-\f[B]dc\f[R] [\f[B]-cChiPRvVx\f[R]] [\f[B]--version\f[R]]
-[\f[B]--help\f[R]] [\f[B]--digit-clamp\f[R]]
-[\f[B]--no-digit-clamp\f[R]] [\f[B]--interactive\f[R]]
-[\f[B]--no-prompt\f[R]] [\f[B]--no-read-prompt\f[R]]
-[\f[B]--extended-register\f[R]] [\f[B]-e\f[R] \f[I]expr\f[R]]
-[\f[B]--expression\f[R]=\f[I]expr\f[R]\&...]
-[\f[B]-f\f[R] \f[I]file\f[R]\&...]
-[\f[B]--file\f[R]=\f[I]file\f[R]\&...]
+\f[B]dc\f[R] [\f[B]\-cChiPRvVx\f[R]] [\f[B]\-\-version\f[R]]
+[\f[B]\-\-help\f[R]] [\f[B]\-\-digit\-clamp\f[R]]
+[\f[B]\-\-no\-digit\-clamp\f[R]] [\f[B]\-\-interactive\f[R]]
+[\f[B]\-\-no\-prompt\f[R]] [\f[B]\-\-no\-read\-prompt\f[R]]
+[\f[B]\-\-extended\-register\f[R]] [\f[B]\-e\f[R] \f[I]expr\f[R]]
+[\f[B]\-\-expression\f[R]=\f[I]expr\f[R]\&...]
+[\f[B]\-f\f[R] \f[I]file\f[R]\&...]
+[\f[B]\-\-file\f[R]=\f[I]file\f[R]\&...]
 [\f[I]file\f[R]\&...]
-[\f[B]-I\f[R] \f[I]ibase\f[R]] [\f[B]--ibase\f[R]=\f[I]ibase\f[R]]
-[\f[B]-O\f[R] \f[I]obase\f[R]] [\f[B]--obase\f[R]=\f[I]obase\f[R]]
-[\f[B]-S\f[R] \f[I]scale\f[R]] [\f[B]--scale\f[R]=\f[I]scale\f[R]]
-[\f[B]-E\f[R] \f[I]seed\f[R]] [\f[B]--seed\f[R]=\f[I]seed\f[R]]
+[\f[B]\-I\f[R] \f[I]ibase\f[R]] [\f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]]
+[\f[B]\-O\f[R] \f[I]obase\f[R]] [\f[B]\-\-obase\f[R]=\f[I]obase\f[R]]
+[\f[B]\-S\f[R] \f[I]scale\f[R]] [\f[B]\-\-scale\f[R]=\f[I]scale\f[R]]
+[\f[B]\-E\f[R] \f[I]seed\f[R]] [\f[B]\-\-seed\f[R]=\f[I]seed\f[R]]
 .SH DESCRIPTION
-.PP
-dc(1) is an arbitrary-precision calculator.
+dc(1) is an arbitrary\-precision calculator.
 It uses a stack (reverse Polish notation) to store numbers and results
 of computations.
 Arithmetic operations pop arguments off of the stack and push the
 results.
 .PP
-If no files are given on the command-line, then dc(1) reads from
+If no files are given on the command\-line, then dc(1) reads from
 \f[B]stdin\f[R] (see the \f[B]STDIN\f[R] section).
 Otherwise, those files are processed, and dc(1) will then exit.
 .PP
 If a user wants to set up a standard environment, they can use
 \f[B]DC_ENV_ARGS\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 For example, if a user wants the \f[B]scale\f[R] always set to
-\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]-e 10k\f[R],
+\f[B]10\f[R], they can set \f[B]DC_ENV_ARGS\f[R] to \f[B]\-e 10k\f[R],
 and this dc(1) will always start with a \f[B]scale\f[R] of \f[B]10\f[R].
 .SH OPTIONS
-.PP
 The following are the options that dc(1) accepts.
 .TP
-\f[B]-C\f[R], \f[B]--no-digit-clamp\f[R]
+\f[B]\-C\f[R], \f[B]\-\-no\-digit\-clamp\f[R]
 Disables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -77,17 +73,17 @@ digit\[cq]s value multiplied by the value of ibase raised to the power
 of the digit\[cq]s position, which starts from 0 at the least
 significant digit.
 .PP
-If this and/or the \f[B]-c\f[R] or \f[B]--digit-clamp\f[R] options are
-given multiple times, the last one given is used.
+If this and/or the \f[B]\-c\f[R] or \f[B]\-\-digit\-clamp\f[R] options
+are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-c\f[R], \f[B]--digit-clamp\f[R]
+\f[B]\-c\f[R], \f[B]\-\-digit\-clamp\f[R]
 Enables clamping of digits greater than or equal to the current
 \f[B]ibase\f[R] when parsing numbers.
 .RS
@@ -98,17 +94,17 @@ all multiplied by the value of ibase raised to the power of the
 digit\[cq]s position, which starts from 0 at the least significant
 digit.
 .PP
-If this and/or the \f[B]-C\f[R] or \f[B]--no-digit-clamp\f[R] options
-are given multiple times, the last one given is used.
+If this and/or the \f[B]\-C\f[R] or \f[B]\-\-no\-digit\-clamp\f[R]
+options are given multiple times, the last one given is used.
 .PP
 This option overrides the \f[B]DC_DIGIT_CLAMP\f[R] environment variable
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section) and the default, which
-can be queried with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+can be queried with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-E\f[R] \f[I]seed\f[R], \f[B]--seed\f[R]=\f[I]seed\f[R]
+\f[B]\-E\f[R] \f[I]seed\f[R], \f[B]\-\-seed\f[R]=\f[I]seed\f[R]
 Sets the builtin variable \f[B]seed\f[R] to the value \f[I]seed\f[R]
 assuming that \f[I]seed\f[R] is in base 10.
 It is a fatal error if \f[I]seed\f[R] is not a valid number.
@@ -116,10 +112,10 @@ It is a fatal error if \f[I]seed\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-e\f[R] \f[I]expr\f[R], \f[B]--expression\f[R]=\f[I]expr\f[R]
+\f[B]\-e\f[R] \f[I]expr\f[R], \f[B]\-\-expression\f[R]=\f[I]expr\f[R]
 Evaluates \f[I]expr\f[R].
 If multiple expressions are given, they are evaluated in order.
 If files are given as well (see below), the expressions and files are
@@ -128,44 +124,44 @@ This means that if a file is given before an expression, the file is
 read in and evaluated first.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R], whether on the command-line or in
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R], whether on the command\-line or in
 \f[B]DC_ENV_ARGS\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-f\f[R] \f[I]file\f[R], \f[B]--file\f[R]=\f[I]file\f[R]
+\f[B]\-f\f[R] \f[I]file\f[R], \f[B]\-\-file\f[R]=\f[I]file\f[R]
 Reads in \f[I]file\f[R] and evaluates it, line by line, as though it
 were read through \f[B]stdin\f[R].
 If expressions are also given (see above), the expressions are evaluated
 in the order given.
 .RS
 .PP
-If this option is given on the command-line (i.e., not in
+If this option is given on the command\-line (i.e., not in
 \f[B]DC_ENV_ARGS\f[R], see the \f[B]ENVIRONMENT VARIABLES\f[R] section),
 then after processing all expressions and files, dc(1) will exit, unless
-\f[B]-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
-\f[B]-f\f[R] or \f[B]--file\f[R].
-However, if any other \f[B]-e\f[R], \f[B]--expression\f[R],
-\f[B]-f\f[R], or \f[B]--file\f[R] arguments are given after
-\f[B]-f-\f[R] or equivalent is given, dc(1) will give a fatal error and
-exit.
+\f[B]\-\f[R] (\f[B]stdin\f[R]) was given as an argument at least once to
+\f[B]\-f\f[R] or \f[B]\-\-file\f[R].
+However, if any other \f[B]\-e\f[R], \f[B]\-\-expression\f[R],
+\f[B]\-f\f[R], or \f[B]\-\-file\f[R] arguments are given after
+\f[B]\-f\-\f[R] or equivalent is given, dc(1) will give a fatal error
+and exit.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-h\f[R], \f[B]--help\f[R]
+\f[B]\-h\f[R], \f[B]\-\-help\f[R]
 Prints a usage message and exits.
 .TP
-\f[B]-I\f[R] \f[I]ibase\f[R], \f[B]--ibase\f[R]=\f[I]ibase\f[R]
+\f[B]\-I\f[R] \f[I]ibase\f[R], \f[B]\-\-ibase\f[R]=\f[I]ibase\f[R]
 Sets the builtin variable \f[B]ibase\f[R] to the value \f[I]ibase\f[R]
 assuming that \f[I]ibase\f[R] is in base 10.
 It is a fatal error if \f[I]ibase\f[R] is not a valid number.
@@ -173,28 +169,28 @@ It is a fatal error if \f[I]ibase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-i\f[R], \f[B]--interactive\f[R]
+\f[B]\-i\f[R], \f[B]\-\-interactive\f[R]
 Forces interactive mode.
 (See the \f[B]INTERACTIVE MODE\f[R] section.)
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-L\f[R], \f[B]--no-line-length\f[R]
+\f[B]\-L\f[R], \f[B]\-\-no\-line\-length\f[R]
 Disables line length checking and prints numbers without backslashes and
 newlines.
 In other words, this option sets \f[B]BC_LINE_LENGTH\f[R] to \f[B]0\f[R]
 (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-O\f[R] \f[I]obase\f[R], \f[B]--obase\f[R]=\f[I]obase\f[R]
+\f[B]\-O\f[R] \f[I]obase\f[R], \f[B]\-\-obase\f[R]=\f[I]obase\f[R]
 Sets the builtin variable \f[B]obase\f[R] to the value \f[I]obase\f[R]
 assuming that \f[I]obase\f[R] is in base 10.
 It is a fatal error if \f[I]obase\f[R] is not a valid number.
@@ -202,10 +198,10 @@ It is a fatal error if \f[I]obase\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-P\f[R], \f[B]--no-prompt\f[R]
+\f[B]\-P\f[R], \f[B]\-\-no\-prompt\f[R]
 Disables the prompt in TTY mode.
 (The prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -218,10 +214,10 @@ Most of those users would want to put this option in
 These options override the \f[B]DC_PROMPT\f[R] and \f[B]DC_TTY_MODE\f[R]
 environment variables (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-R\f[R], \f[B]--no-read-prompt\f[R]
+\f[B]\-R\f[R], \f[B]\-\-no\-read\-prompt\f[R]
 Disables the read prompt in TTY mode.
 (The read prompt is only enabled in TTY mode.
 See the \f[B]TTY MODE\f[R] section.)
@@ -240,10 +236,10 @@ These options \f[I]do\f[R] override the \f[B]DC_PROMPT\f[R] and
 \f[B]DC_TTY_MODE\f[R] environment variables (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), but only for the read prompt.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-S\f[R] \f[I]scale\f[R], \f[B]--scale\f[R]=\f[I]scale\f[R]
+\f[B]\-S\f[R] \f[I]scale\f[R], \f[B]\-\-scale\f[R]=\f[I]scale\f[R]
 Sets the builtin variable \f[B]scale\f[R] to the value \f[I]scale\f[R]
 assuming that \f[I]scale\f[R] is in base 10.
 It is a fatal error if \f[I]scale\f[R] is not a valid number.
@@ -251,35 +247,34 @@ It is a fatal error if \f[I]scale\f[R] is not a valid number.
 .PP
 If multiple instances of this option are given, the last is used.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-v\f[R], \f[B]-V\f[R], \f[B]--version\f[R]
+\f[B]\-v\f[R], \f[B]\-V\f[R], \f[B]\-\-version\f[R]
 Print the version information (copyright header) and exits.
 .TP
-\f[B]-x\f[R] \f[B]--extended-register\f[R]
+\f[B]\-x\f[R] \f[B]\-\-extended\-register\f[R]
 Enables extended register mode.
 See the \f[I]Extended Register Mode\f[R] subsection of the
 \f[B]REGISTERS\f[R] section for more information.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
-\f[B]-z\f[R], \f[B]--leading-zeroes\f[R]
-Makes dc(1) print all numbers greater than \f[B]-1\f[R] and less than
+\f[B]\-z\f[R], \f[B]\-\-leading\-zeroes\f[R]
+Makes dc(1) print all numbers greater than \f[B]\-1\f[R] and less than
 \f[B]1\f[R], and not equal to \f[B]0\f[R], with a leading zero.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .PP
-All long options are \f[B]non-portable extensions\f[R].
+All long options are \f[B]non\-portable extensions\f[R].
 .SH STDIN
-.PP
-If no files are given on the command-line and no files or expressions
-are given by the \f[B]-f\f[R], \f[B]--file\f[R], \f[B]-e\f[R], or
-\f[B]--expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
+If no files are given on the command\-line and no files or expressions
+are given by the \f[B]\-f\f[R], \f[B]\-\-file\f[R], \f[B]\-e\f[R], or
+\f[B]\-\-expression\f[R] options, then dc(1) reads from \f[B]stdin\f[R].
 .PP
 However, there is a caveat to this.
 .PP
@@ -289,8 +284,7 @@ ended.
 This means that, except for escaped brackets, all brackets must be
 balanced before dc(1) parses and executes.
 .SH STDOUT
-.PP
-Any non-error output is written to \f[B]stdout\f[R].
+Any non\-error output is written to \f[B]stdout\f[R].
 In addition, if history (see the \f[B]HISTORY\f[R] section) and the
 prompt (see the \f[B]TTY MODE\f[R] section) are enabled, both are output
 to \f[B]stdout\f[R].
@@ -298,7 +292,7 @@ to \f[B]stdout\f[R].
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stdout\f[R], so if \f[B]stdout\f[R] is closed, as in
-\f[B]dc >&-\f[R], it will quit with an error.
+\f[B]dc  >&\-\f[R], it will quit with an error.
 This is done so that dc(1) can report problems when \f[B]stdout\f[R] is
 redirected to a file.
 .PP
@@ -306,13 +300,12 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stdout\f[R] to \f[B]/dev/null\f[R].
 .SH STDERR
-.PP
 Any error output is written to \f[B]stderr\f[R].
 .PP
 \f[B]Note\f[R]: Unlike other dc(1) implementations, this dc(1) will
 issue a fatal error (see the \f[B]EXIT STATUS\f[R] section) if it cannot
 write to \f[B]stderr\f[R], so if \f[B]stderr\f[R] is closed, as in
-\f[B]dc 2>&-\f[R], it will quit with an error.
+\f[B]dc  2>&\-\f[R], it will quit with an error.
 This is done so that dc(1) can exit with an error code when
 \f[B]stderr\f[R] is redirected to a file.
 .PP
@@ -320,7 +313,6 @@ If there are scripts that depend on the behavior of other dc(1)
 implementations, it is recommended that those scripts be changed to
 redirect \f[B]stderr\f[R] to \f[B]/dev/null\f[R].
 .SH SYNTAX
-.PP
 Each item in the input source code, either a number (see the
 \f[B]NUMBERS\f[R] section) or a command (see the \f[B]COMMANDS\f[R]
 section), is processed and executed, in order.
@@ -349,8 +341,8 @@ notation, and if \f[B]obase\f[R] is \f[B]1\f[R], values are output in
 engineering notation.
 Otherwise, values are output in the specified base.
 .PP
-Outputting in scientific and engineering notations are \f[B]non-portable
-extensions\f[R].
+Outputting in scientific and engineering notations are
+\f[B]non\-portable extensions\f[R].
 .PP
 The \f[I]scale\f[R] of an expression is the number of digits in the
 result of the expression right of the decimal point, and \f[B]scale\f[R]
@@ -362,14 +354,14 @@ The max allowable value for \f[B]scale\f[R] can be queried in dc(1)
 programs with the \f[B]V\f[R] command.
 .PP
 \f[B]seed\f[R] is a register containing the current seed for the
-pseudo-random number generator.
+pseudo\-random number generator.
 If the current value of \f[B]seed\f[R] is queried and stored, then if it
-is assigned to \f[B]seed\f[R] later, the pseudo-random number generator
-is guaranteed to produce the same sequence of pseudo-random numbers that
-were generated after the value of \f[B]seed\f[R] was first queried.
+is assigned to \f[B]seed\f[R] later, the pseudo\-random number generator
+is guaranteed to produce the same sequence of pseudo\-random numbers
+that were generated after the value of \f[B]seed\f[R] was first queried.
 .PP
 Multiple values assigned to \f[B]seed\f[R] can produce the same sequence
-of pseudo-random numbers.
+of pseudo\-random numbers.
 Likewise, when a value is assigned to \f[B]seed\f[R], it is not
 guaranteed that querying \f[B]seed\f[R] immediately after will return
 the same value.
@@ -379,25 +371,23 @@ get receive a value of \f[B]0\f[R] or \f[B]1\f[R].
 The maximum integer returned by the \f[B]\[cq]\f[R] command can be
 queried with the \f[B]W\f[R] command.
 .PP
-\f[B]Note\f[R]: The values returned by the pseudo-random number
+\f[B]Note\f[R]: The values returned by the pseudo\-random number
 generator with the \f[B]\[cq]\f[R] and \f[B]\[lq]\f[R] commands are
 guaranteed to \f[B]NOT\f[R] be cryptographically secure.
-This is a consequence of using a seeded pseudo-random number generator.
+This is a consequence of using a seeded pseudo\-random number generator.
 However, they \f[I]are\f[R] guaranteed to be reproducible with identical
 \f[B]seed\f[R] values.
-This means that the pseudo-random values from dc(1) should only be used
-where a reproducible stream of pseudo-random numbers is
+This means that the pseudo\-random values from dc(1) should only be used
+where a reproducible stream of pseudo\-random numbers is
 \f[I]ESSENTIAL\f[R].
-In any other case, use a non-seeded pseudo-random number generator.
+In any other case, use a non\-seeded pseudo\-random number generator.
 .PP
-The pseudo-random number generator, \f[B]seed\f[R], and all associated
-operations are \f[B]non-portable extensions\f[R].
+The pseudo\-random number generator, \f[B]seed\f[R], and all associated
+operations are \f[B]non\-portable extensions\f[R].
 .SS Comments
-.PP
 Comments go from \f[B]#\f[R] until, and not including, the next newline.
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .SH NUMBERS
-.PP
 Numbers are strings made up of digits, uppercase letters up to
 \f[B]F\f[R], and at most \f[B]1\f[R] period for a radix.
 Numbers can have up to \f[B]DC_NUM_MAX\f[R] digits.
@@ -407,12 +397,12 @@ alphabet (i.e., \f[B]A\f[R] equals \f[B]10\f[R], or \f[B]9+1\f[R]).
 If a digit or letter makes no sense with the current value of
 \f[B]ibase\f[R] (i.e., they are greater than or equal to the current
 value of \f[B]ibase\f[R]), then the behavior depends on the existence of
-the \f[B]-c\f[R]/\f[B]--digit-clamp\f[R] or
-\f[B]-C\f[R]/\f[B]--no-digit-clamp\f[R] options (see the
+the \f[B]\-c\f[R]/\f[B]\-\-digit\-clamp\f[R] or
+\f[B]\-C\f[R]/\f[B]\-\-no\-digit\-clamp\f[R] options (see the
 \f[B]OPTIONS\f[R] section), the existence and setting of the
 \f[B]DC_DIGIT_CLAMP\f[R] environment variable (see the \f[B]ENVIRONMENT
 VARIABLES\f[R] section), or the default, which can be queried with the
-\f[B]-h\f[R]/\f[B]--help\f[R] option.
+\f[B]\-h\f[R]/\f[B]\-\-help\f[R] option.
 .PP
 If clamping is off, then digits or letters that are greater than or
 equal to the current value of \f[B]ibase\f[R] are not changed.
@@ -430,7 +420,7 @@ This means that, with an \f[B]ibase\f[R] of \f[B]3\f[R], the number
 \f[B]AB\f[R] is equal to \f[B]3\[ha]1*2+3\[ha]0*2\f[R], which is
 \f[B]3\f[R] times \f[B]2\f[R] plus \f[B]2\f[R], or \f[B]8\f[R].
 .PP
-There is one exception to clamping: single-character numbers (i.e.,
+There is one exception to clamping: single\-character numbers (i.e.,
 \f[B]A\f[R] alone).
 Such numbers are never clamped and always take the value they would have
 in the highest possible \f[B]ibase\f[R].
@@ -461,13 +451,11 @@ number string \f[B]FFeA\f[R], the resulting decimal number will be
 \f[B]2550000000000\f[R], and if dc(1) is given the number string
 \f[B]10e_4\f[R], the resulting decimal number will be \f[B]0.0016\f[R].
 .PP
-Accepting input as scientific notation is a \f[B]non-portable
+Accepting input as scientific notation is a \f[B]non\-portable
 extension\f[R].
 .SH COMMANDS
-.PP
 The valid commands are listed below.
 .SS Printing
-.PP
 These commands are used for printing.
 .PP
 Note that both scientific notation and engineering notation are
@@ -479,7 +467,7 @@ activated by assigning \f[B]1\f[R] to \f[B]obase\f[R] using
 To deactivate them, just assign a different value to \f[B]obase\f[R].
 .PP
 Printing numbers in scientific notation and/or engineering notation is a
-\f[B]non-portable extension\f[R].
+\f[B]non\-portable extension\f[R].
 .TP
 \f[B]p\f[R]
 Prints the value on top of the stack, whether number or string, and
@@ -499,12 +487,12 @@ Pops a value off the stack.
 .PP
 If the value is a number, it is truncated and the absolute value of the
 result is printed as though \f[B]obase\f[R] is \f[B]256\f[R] and each
-digit is interpreted as an 8-bit ASCII character, making it a byte
+digit is interpreted as an 8\-bit ASCII character, making it a byte
 stream.
 .PP
 If the value is a string, it is printed without a trailing newline.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]f\f[R]
@@ -515,7 +503,6 @@ without altering anything.
 Users should use this command when they get lost.
 .RE
 .SS Arithmetic
-.PP
 These are the commands used for arithmetic.
 .TP
 \f[B]+\f[R]
@@ -524,7 +511,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
 both operands.
 .TP
-\f[B]-\f[R]
+\f[B]\-\f[R]
 The top two values are popped off the stack, subtracted, and the result
 is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to the max \f[I]scale\f[R] of
@@ -545,7 +532,7 @@ pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]%\f[R]
@@ -555,10 +542,10 @@ is pushed onto the stack.
 .PP
 Remaindering is equivalent to 1) Computing \f[B]a/b\f[R] to current
 \f[B]scale\f[R], and 2) Using the result of step 1 to calculate
-\f[B]a-(a/b)*b\f[R] to \f[I]scale\f[R]
+\f[B]a\-(a/b)*b\f[R] to \f[I]scale\f[R]
 \f[B]max(scale+scale(b),scale(a))\f[R].
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .RE
 .TP
 \f[B]\[ti]\f[R]
@@ -569,9 +556,9 @@ This is equivalent to \f[B]x y / x y %\f[R] except that \f[B]x\f[R] and
 \f[B]y\f[R] are only evaluated once.
 .RS
 .PP
-The first value popped off of the stack must be non-zero.
+The first value popped off of the stack must be non\-zero.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[ha]\f[R]
@@ -582,7 +569,7 @@ The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .PP
 The first value popped off of the stack must be an integer, and if that
 value is negative, the second value popped off of the stack must be
-non-zero.
+non\-zero.
 .RE
 .TP
 \f[B]v\f[R]
@@ -591,7 +578,7 @@ the result is pushed onto the stack.
 The \f[I]scale\f[R] of the result is equal to \f[B]scale\f[R].
 .RS
 .PP
-The value popped off of the stack must be non-negative.
+The value popped off of the stack must be non\-negative.
 .RE
 .TP
 \f[B]_\f[R]
@@ -601,7 +588,7 @@ or other commands), then that number is input as a negative number.
 .PP
 Otherwise, the top value on the stack is popped and copied, and the copy
 is negated and pushed onto the stack.
-This behavior without a number is a \f[B]non-portable extension\f[R].
+This behavior without a number is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]b\f[R]
@@ -610,7 +597,7 @@ back onto the stack.
 Otherwise, its absolute value is pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]|\f[R]
@@ -619,12 +606,12 @@ is computed, and the result is pushed onto the stack.
 .RS
 .PP
 The first value popped is used as the reduction modulus and must be an
-integer and non-zero.
+integer and non\-zero.
 The second value popped is used as the exponent and must be an integer
-and non-negative.
+and non\-negative.
 The third value popped is the base and must be an integer.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]$\f[R]
@@ -632,7 +619,7 @@ The top value is popped off the stack and copied, and the copy is
 truncated and pushed onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[at]\f[R]
@@ -642,9 +629,9 @@ extension.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]H\f[R]
@@ -653,9 +640,9 @@ left (radix shifted right) to the value of the first.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]h\f[R]
@@ -664,9 +651,9 @@ right (radix shifted left) to the value of the first.
 .RS
 .PP
 The first value popped off of the stack must be an integer and
-non-negative.
+non\-negative.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]G\f[R]
@@ -674,7 +661,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]1\f[R] is pushed if they are equal, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]N\f[R]
@@ -682,7 +669,7 @@ The top value is popped off of the stack, and if it a \f[B]0\f[R], a
 \f[B]1\f[R] is pushed; otherwise, a \f[B]0\f[R] is pushed.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B](\f[R]
@@ -691,7 +678,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]{\f[R]
@@ -700,7 +687,7 @@ The top two values are popped off of the stack, they are compared, and a
 or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B])\f[R]
@@ -709,7 +696,7 @@ The top two values are popped off of the stack, they are compared, and a
 \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]}\f[R]
@@ -718,42 +705,41 @@ The top two values are popped off of the stack, they are compared, and a
 second, or \f[B]0\f[R] otherwise.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]M\f[R]
 The top two values are popped off of the stack.
-If they are both non-zero, a \f[B]1\f[R] is pushed onto the stack.
+If they are both non\-zero, a \f[B]1\f[R] is pushed onto the stack.
 If either of them is zero, or both of them are, then a \f[B]0\f[R] is
 pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]&&\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]m\f[R]
 The top two values are popped off of the stack.
-If at least one of them is non-zero, a \f[B]1\f[R] is pushed onto the
+If at least one of them is non\-zero, a \f[B]1\f[R] is pushed onto the
 stack.
 If both of them are zero, then a \f[B]0\f[R] is pushed onto the stack.
 .RS
 .PP
 This is like the \f[B]||\f[R] operator in bc(1), and it is \f[I]not\f[R]
-a short-circuit operator.
+a short\-circuit operator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
-.SS Pseudo-Random Number Generator
-.PP
-dc(1) has a built-in pseudo-random number generator.
-These commands query the pseudo-random number generator.
+.SS Pseudo\-Random Number Generator
+dc(1) has a built\-in pseudo\-random number generator.
+These commands query the pseudo\-random number generator.
 (See Parameters for more information about the \f[B]seed\f[R] value that
-controls the pseudo-random number generator.)
+controls the pseudo\-random number generator.)
 .PP
-The pseudo-random number generator is guaranteed to \f[B]NOT\f[R] be
+The pseudo\-random number generator is guaranteed to \f[B]NOT\f[R] be
 cryptographically secure.
 .TP
 \f[B]\[cq]\f[R]
@@ -762,19 +748,19 @@ the \f[B]LIMITS\f[R] section).
 .RS
 .PP
 The generated integer is made as unbiased as possible, subject to the
-limitations of the pseudo-random number generator.
+limitations of the pseudo\-random number generator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]\[lq]\f[R]
 Pops a value off of the stack, which is used as an \f[B]exclusive\f[R]
 upper bound on the integer that will be generated.
-If the bound is negative or is a non-integer, an error is raised, and
+If the bound is negative or is a non\-integer, an error is raised, and
 dc(1) resets (see the \f[B]RESET\f[R] section) while \f[B]seed\f[R]
 remains unchanged.
 If the bound is larger than \f[B]DC_RAND_MAX\f[R], the higher bound is
-honored by generating several pseudo-random integers, multiplying them
+honored by generating several pseudo\-random integers, multiplying them
 by appropriate powers of \f[B]DC_RAND_MAX+1\f[R], and adding them
 together.
 Thus, the size of integer that can be generated with this command is
@@ -786,12 +772,11 @@ is \f[I]not\f[R] changed.
 .RS
 .PP
 The generated integer is made as unbiased as possible, subject to the
-limitations of the pseudo-random number generator.
+limitations of the pseudo\-random number generator.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Stack Control
-.PP
 These commands control the stack.
 .TP
 \f[B]c\f[R]
@@ -807,7 +792,6 @@ Swaps (\[lq]reverses\[rq]) the two top items on the stack.
 \f[B]R\f[R]
 Pops (\[lq]removes\[rq]) the top value from the stack.
 .SS Register Control
-.PP
 These commands control registers (see the \f[B]REGISTERS\f[R] section).
 .TP
 \f[B]s\f[R]\f[I]r\f[R]
@@ -829,7 +813,6 @@ push it onto the main stack.
 The previous value in the stack for register \f[I]r\f[R], if any, is now
 accessible via the \f[B]l\f[R]\f[I]r\f[R] command.
 .SS Parameters
-.PP
 These commands control the values of \f[B]ibase\f[R], \f[B]obase\f[R],
 \f[B]scale\f[R], and \f[B]seed\f[R].
 Also see the \f[B]SYNTAX\f[R] section.
@@ -857,7 +840,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 .TP
 \f[B]k\f[R]
 Pops the value off of the top of the stack and uses it to set
-\f[B]scale\f[R], which must be non-negative.
+\f[B]scale\f[R], which must be non\-negative.
 .RS
 .PP
 If the value on top of the stack has any \f[I]scale\f[R], the
@@ -867,7 +850,7 @@ If the value on top of the stack has any \f[I]scale\f[R], the
 \f[B]j\f[R]
 Pops the value off of the top of the stack and uses it to set
 \f[B]seed\f[R].
-The meaning of \f[B]seed\f[R] is dependent on the current pseudo-random
+The meaning of \f[B]seed\f[R] is dependent on the current pseudo\-random
 number generator but is guaranteed to not change except for new major
 versions.
 .RS
@@ -875,22 +858,22 @@ versions.
 The \f[I]scale\f[R] and sign of the value may be significant.
 .PP
 If a previously used \f[B]seed\f[R] value is used again, the
-pseudo-random number generator is guaranteed to produce the same
-sequence of pseudo-random numbers as it did when the \f[B]seed\f[R]
+pseudo\-random number generator is guaranteed to produce the same
+sequence of pseudo\-random numbers as it did when the \f[B]seed\f[R]
 value was previously used.
 .PP
 The exact value assigned to \f[B]seed\f[R] is not guaranteed to be
 returned if the \f[B]J\f[R] command is used.
 However, if \f[B]seed\f[R] \f[I]does\f[R] return a different value, both
 values, when assigned to \f[B]seed\f[R], are guaranteed to produce the
-same sequence of pseudo-random numbers.
+same sequence of pseudo\-random numbers.
 This means that certain values assigned to \f[B]seed\f[R] will not
-produce unique sequences of pseudo-random numbers.
+produce unique sequences of pseudo\-random numbers.
 .PP
 There is no limit to the length (number of significant decimal digits)
 or \f[I]scale\f[R] of the value that can be assigned to \f[B]seed\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]I\f[R]
@@ -906,7 +889,7 @@ Pushes the current value of \f[B]scale\f[R] onto the main stack.
 Pushes the current value of \f[B]seed\f[R] onto the main stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]T\f[R]
@@ -914,7 +897,7 @@ Pushes the maximum allowable value of \f[B]ibase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]U\f[R]
@@ -922,7 +905,7 @@ Pushes the maximum allowable value of \f[B]obase\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]V\f[R]
@@ -930,18 +913,17 @@ Pushes the maximum allowable value of \f[B]scale\f[R] onto the main
 stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]W\f[R]
 Pushes the maximum (inclusive) integer that can be generated with the
-\f[B]\[cq]\f[R] pseudo-random number generator command.
+\f[B]\[cq]\f[R] pseudo\-random number generator command.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Strings
-.PP
 The following commands control strings.
 .PP
 dc(1) can work with both numbers and strings, and registers (see the
@@ -979,16 +961,16 @@ The value on top of the stack is popped.
 If it is a number, it is truncated and its absolute value is taken.
 The result mod \f[B]256\f[R] is calculated.
 If that result is \f[B]0\f[R], push an empty string; otherwise, push a
-one-character string where the character is the result of the mod
+one\-character string where the character is the result of the mod
 interpreted as an ASCII character.
 .PP
 If it is a string, then a new string is made.
 If the original string is empty, the new string is empty.
 If it is not, then the first character of the original string is used to
-create the new string as a one-character string.
+create the new string as a one\-character string.
 The new string is then pushed onto the stack.
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]x\f[R]
@@ -1024,7 +1006,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!>\f[R]\f[I]r\f[R]
@@ -1045,7 +1027,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]<\f[R]\f[I]r\f[R]
@@ -1066,7 +1048,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!<\f[R]\f[I]r\f[R]
@@ -1087,7 +1069,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]=\f[R]\f[I]r\f[R]
@@ -1108,7 +1090,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]!=\f[R]\f[I]r\f[R]
@@ -1129,7 +1111,7 @@ fails.
 If either or both of the values are not numbers, dc(1) will raise an
 error and reset (see the \f[B]RESET\f[R] section).
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]?\f[R]
@@ -1142,7 +1124,7 @@ the execution of the macro that executed it.
 If there are no macros, or only one macro executing, dc(1) exits.
 .TP
 \f[B]Q\f[R]
-Pops a value from the stack which must be non-negative and is used the
+Pops a value from the stack which must be non\-negative and is used the
 number of macro executions to pop off of the execution stack.
 If the number of levels to pop is greater than the number of executing
 macros, dc(1) exits.
@@ -1155,10 +1137,9 @@ to make dc(1) exit with the \f[B]Q\f[R] command, so the sequence
 \f[B],Q\f[R] will make dc(1) exit.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Status
-.PP
 These commands query status of the stack or its top value.
 .TP
 \f[B]Z\f[R]
@@ -1189,7 +1170,7 @@ If the value is a number, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a string), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]t\f[R]
@@ -1198,7 +1179,7 @@ If the value is a string, this pushes \f[B]1\f[R] onto the stack.
 Otherwise (if it is a number), it pushes \f[B]0\f[R].
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .TP
 \f[B]z\f[R]
@@ -1216,10 +1197,9 @@ register\[cq]s stack must always have at least one item; dc(1) will give
 an error and reset otherwise (see the \f[B]RESET\f[R] section).
 This means that this command will never push \f[B]0\f[R].
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Arrays
-.PP
 These commands manipulate arrays.
 .TP
 \f[B]:\f[R]\f[I]r\f[R]
@@ -1236,10 +1216,9 @@ The selected value is then pushed onto the stack.
 Pushes the length of the array \f[I]r\f[R] onto the stack.
 .RS
 .PP
-This is a \f[B]non-portable extension\f[R].
+This is a \f[B]non\-portable extension\f[R].
 .RE
 .SS Global Settings
-.PP
 These commands retrieve global settings.
 These are the only commands that require multiple specific characters,
 and all of them begin with the letter \f[B]g\f[R].
@@ -1259,10 +1238,9 @@ See the \f[I]Extended Register Mode\f[R] subsection of the
 .TP
 \f[B]gz\f[R]
 Pushes \f[B]0\f[R] onto the stack if the leading zero setting has not
-been enabled with the \f[B]-z\f[R] or \f[B]--leading-zeroes\f[R] options
-(see the \f[B]OPTIONS\f[R] section), non-zero otherwise.
+been enabled with the \f[B]\-z\f[R] or \f[B]\-\-leading\-zeroes\f[R]
+options (see the \f[B]OPTIONS\f[R] section), non\-zero otherwise.
 .SH REGISTERS
-.PP
 Registers are names that can store strings, numbers, and arrays.
 (Number/string registers do not interfere with array registers.)
 .PP
@@ -1272,45 +1250,45 @@ All registers, when first referenced, have one value (\f[B]0\f[R]) in
 their stack, and it is a runtime error to attempt to pop that item off
 of the register stack.
 .PP
-In non-extended register mode, a register name is just the single
+In non\-extended register mode, a register name is just the single
 character that follows any command that needs a register name.
 The only exceptions are: a newline (\f[B]`\[rs]n'\f[R]) and a left
 bracket (\f[B]`['\f[R]); it is a parse error for a newline or a left
 bracket to be used as a register name.
 .SS Extended Register Mode
-.PP
 Unlike most other dc(1) implentations, this dc(1) provides nearly
 unlimited amounts of registers, if extended register mode is enabled.
 .PP
-If extended register mode is enabled (\f[B]-x\f[R] or
-\f[B]--extended-register\f[R] command-line arguments are given), then
-normal single character registers are used \f[I]unless\f[R] the
+If extended register mode is enabled (\f[B]\-x\f[R] or
+\f[B]\-\-extended\-register\f[R] command\-line arguments are given),
+then normal single character registers are used \f[I]unless\f[R] the
 character immediately following a command that needs a register name is
 a space (according to \f[B]isspace()\f[R]) and not a newline
 (\f[B]`\[rs]n'\f[R]).
 .PP
 In that case, the register name is found according to the regex
-\f[B][a-z][a-z0-9_]*\f[R] (like bc(1) identifiers), and it is a parse
-error if the next non-space characters do not match that regex.
+\f[B][a\-z][a\-z0\-9_]*\f[R] (like bc(1) identifiers), and it is a parse
+error if the next non\-space characters do not match that regex.
 .SH RESET
-.PP
-When dc(1) encounters an error or a signal that it has a non-default
+When dc(1) encounters an error or a signal that it has a non\-default
 handler for, it resets.
 This means that several things happen.
 .PP
 First, any macros that are executing are stopped and popped off the
-stack.
+execution stack.
 The behavior is not unlike that of exceptions in programming languages.
 Then the execution point is set so that any code waiting to execute
 (after all macros returned) is skipped.
 .PP
+However, the stack of values is \f[I]not\f[R] cleared; in interactive
+mode, users can inspect the stack and manipulate it.
+.PP
 Thus, when dc(1) resets, it skips any remaining code waiting to be
 executed.
 Then, if it is interactive mode, and the error was not a fatal error
 (see the \f[B]EXIT STATUS\f[R] section), it asks for more input;
 otherwise, it exits with the appropriate return code.
 .SH PERFORMANCE
-.PP
 Most dc(1) implementations use \f[B]char\f[R] types to calculate the
 value of \f[B]1\f[R] decimal digit at a time, but that can be slow.
 This dc(1) does something different.
@@ -1330,7 +1308,6 @@ checking.
 This integer type depends on the value of \f[B]DC_LONG_BIT\f[R], but is
 always at least twice as large as the integer type used to store digits.
 .SH LIMITS
-.PP
 The following are the limits on dc(1):
 .TP
 \f[B]DC_LONG_BIT\f[R]
@@ -1360,29 +1337,29 @@ Set at \f[B]DC_BASE_POW\f[R].
 .TP
 \f[B]DC_DIM_MAX\f[R]
 The maximum size of arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .TP
 \f[B]DC_SCALE_MAX\f[R]
 The maximum \f[B]scale\f[R].
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_STRING_MAX\f[R]
 The maximum length of strings.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NAME_MAX\f[R]
 The maximum length of identifiers.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_NUM_MAX\f[R]
 The maximum length of a number (in decimal digits), which includes
 digits after the decimal point.
-Set at \f[B]DC_OVERFLOW_MAX-1\f[R].
+Set at \f[B]DC_OVERFLOW_MAX\-1\f[R].
 .TP
 \f[B]DC_RAND_MAX\f[R]
 The maximum integer (inclusive) returned by the \f[B]\[cq]\f[R] command,
 if dc(1).
-Set at \f[B]2\[ha]DC_LONG_BIT-1\f[R].
+Set at \f[B]2\[ha]DC_LONG_BIT\-1\f[R].
 .TP
 Exponent
 The maximum allowable exponent (positive or negative).
@@ -1390,28 +1367,27 @@ Set at \f[B]DC_OVERFLOW_MAX\f[R].
 .TP
 Number of vars
 The maximum number of vars/arrays.
-Set at \f[B]SIZE_MAX-1\f[R].
+Set at \f[B]SIZE_MAX\-1\f[R].
 .PP
-These limits are meant to be effectively non-existent; the limits are so
-large (at least on 64-bit machines) that there should not be any point
-at which they become a problem.
+These limits are meant to be effectively non\-existent; the limits are
+so large (at least on 64\-bit machines) that there should not be any
+point at which they become a problem.
 In fact, memory should be exhausted before these limits should be hit.
 .SH ENVIRONMENT VARIABLES
-.PP
-As \f[B]non-portable extensions\f[R], dc(1) recognizes the following
+As \f[B]non\-portable extensions\f[R], dc(1) recognizes the following
 environment variables:
 .TP
 \f[B]DC_ENV_ARGS\f[R]
-This is another way to give command-line arguments to dc(1).
-They should be in the same format as all other command-line arguments.
+This is another way to give command\-line arguments to dc(1).
+They should be in the same format as all other command\-line arguments.
 These are always processed first, so any files given in
 \f[B]DC_ENV_ARGS\f[R] will be processed before arguments and files given
-on the command-line.
+on the command\-line.
 This gives the user the ability to set up \[lq]standard\[rq] options and
 files to be used at every invocation.
 The most useful thing for such files to contain would be useful
 functions that the user might want every time dc(1) runs.
-Another use would be to use the \f[B]-e\f[R] option to set
+Another use would be to use the \f[B]\-e\f[R] option to set
 \f[B]scale\f[R] to a value other than \f[B]0\f[R].
 .RS
 .PP
@@ -1429,14 +1405,14 @@ you can use double quotes as the outside quotes, as in \f[B]\[lq]some
 quotes.
 However, handling a file with both kinds of quotes in
 \f[B]DC_ENV_ARGS\f[R] is not supported due to the complexity of the
-parsing, though such files are still supported on the command-line where
-the parsing is done by the shell.
+parsing, though such files are still supported on the command\-line
+where the parsing is done by the shell.
 .RE
 .TP
 \f[B]DC_LINE_LENGTH\f[R]
 If this environment variable exists and contains an integer that is
 greater than \f[B]1\f[R] and is less than \f[B]UINT16_MAX\f[R]
-(\f[B]2\[ha]16-1\f[R]), dc(1) will output lines to that length,
+(\f[B]2\[ha]16\-1\f[R]), dc(1) will output lines to that length,
 including the backslash newline combo.
 The default line length is \f[B]70\f[R].
 .RS
@@ -1453,13 +1429,13 @@ exits on \f[B]SIGINT\f[R] when not in interactive mode.
 .RS
 .PP
 However, when dc(1) is in interactive mode, then if this environment
-variable exists and contains an integer, a non-zero value makes dc(1)
+variable exists and contains an integer, a non\-zero value makes dc(1)
 reset on \f[B]SIGINT\f[R], rather than exit, and zero makes dc(1) exit.
 If this environment variable exists and is \f[I]not\f[R] an integer,
 then dc(1) will exit on \f[B]SIGINT\f[R].
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_TTY_MODE\f[R]
@@ -1468,11 +1444,11 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, then a non-zero value makes dc(1) use
+exists and contains an integer, then a non\-zero value makes dc(1) use
 TTY mode, and zero makes dc(1) not use TTY mode.
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_PROMPT\f[R]
@@ -1481,46 +1457,46 @@ section), then this environment variable has no effect.
 .RS
 .PP
 However, when TTY mode is available, then if this environment variable
-exists and contains an integer, a non-zero value makes dc(1) use a
-prompt, and zero or a non-integer makes dc(1) not use a prompt.
+exists and contains an integer, a non\-zero value makes dc(1) use a
+prompt, and zero or a non\-integer makes dc(1) not use a prompt.
 If this environment variable does not exist and \f[B]DC_TTY_MODE\f[R]
 does, then the value of the \f[B]DC_TTY_MODE\f[R] environment variable
 is used.
 .PP
 This environment variable and the \f[B]DC_TTY_MODE\f[R] environment
 variable override the default, which can be queried with the
-\f[B]-h\f[R] or \f[B]--help\f[R] options.
+\f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_EXPR_EXIT\f[R]
-If any expressions or expression files are given on the command-line
-with \f[B]-e\f[R], \f[B]--expression\f[R], \f[B]-f\f[R], or
-\f[B]--file\f[R], then if this environment variable exists and contains
-an integer, a non-zero value makes dc(1) exit after executing the
-expressions and expression files, and a zero value makes dc(1) not exit.
+If any expressions or expression files are given on the command\-line
+with \f[B]\-e\f[R], \f[B]\-\-expression\f[R], \f[B]\-f\f[R], or
+\f[B]\-\-file\f[R], then if this environment variable exists and
+contains an integer, a non\-zero value makes dc(1) exit after executing
+the expressions and expression files, and a zero value makes dc(1) not
+exit.
 .RS
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .TP
 \f[B]DC_DIGIT_CLAMP\f[R]
 When parsing numbers and if this environment variable exists and
-contains an integer, a non-zero value makes dc(1) clamp digits that are
+contains an integer, a non\-zero value makes dc(1) clamp digits that are
 greater than or equal to the current \f[B]ibase\f[R] so that all such
 digits are considered equal to the \f[B]ibase\f[R] minus 1, and a zero
 value disables such clamping so that those digits are always equal to
 their value, which is multiplied by the power of the \f[B]ibase\f[R].
 .RS
 .PP
-This never applies to single-digit numbers, as per the bc(1) standard
+This never applies to single\-digit numbers, as per the bc(1) standard
 (see the \f[B]STANDARDS\f[R] section).
 .PP
 This environment variable overrides the default, which can be queried
-with the \f[B]-h\f[R] or \f[B]--help\f[R] options.
+with the \f[B]\-h\f[R] or \f[B]\-\-help\f[R] options.
 .RE
 .SH EXIT STATUS
-.PP
 dc(1) returns the following exit statuses:
 .TP
 \f[B]0\f[R]
@@ -1534,10 +1510,10 @@ since math errors will happen in the process of normal execution.
 .PP
 Math errors include divide by \f[B]0\f[R], taking the square root of a
 negative number, using a negative number as a bound for the
-pseudo-random number generator, attempting to convert a negative number
+pseudo\-random number generator, attempting to convert a negative number
 to a hardware integer, overflow when converting a number to a hardware
 integer, overflow when calculating the size of a number, and attempting
-to use a non-integer where an integer is required.
+to use a non\-integer where an integer is required.
 .PP
 Converting to a hardware integer happens for the second operand of the
 power (\f[B]\[ha]\f[R]), places (\f[B]\[at]\f[R]), left shift
@@ -1572,7 +1548,7 @@ A fatal error occurred.
 Fatal errors include memory allocation errors, I/O errors, failing to
 open files, attempting to use files that do not have only ASCII
 characters (dc(1) only accepts ASCII characters), attempting to open a
-directory as a file, and giving invalid command-line options.
+directory as a file, and giving invalid command\-line options.
 .RE
 .PP
 The exit status \f[B]4\f[R] is special; when a fatal error occurs, dc(1)
@@ -1583,17 +1559,17 @@ interactive mode (see the \f[B]INTERACTIVE MODE\f[R] section), since
 dc(1) resets its state (see the \f[B]RESET\f[R] section) and accepts
 more input when one of those errors occurs in interactive mode.
 This is also the case when interactive mode is forced by the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .PP
 These exit statuses allow dc(1) to be used in shell scripting with error
 checking, and its normal behavior can be forced by using the
-\f[B]-i\f[R] flag or \f[B]--interactive\f[R] option.
+\f[B]\-i\f[R] flag or \f[B]\-\-interactive\f[R] option.
 .SH INTERACTIVE MODE
-.PP
-Like bc(1), dc(1) has an interactive mode and a non-interactive mode.
+Like bc(1), dc(1) has an interactive mode and a non\-interactive mode.
 Interactive mode is turned on automatically when both \f[B]stdin\f[R]
-and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]-i\f[R] flag
-and \f[B]--interactive\f[R] option can turn it on in other situations.
+and \f[B]stdout\f[R] are hooked to a terminal, but the \f[B]\-i\f[R]
+flag and \f[B]\-\-interactive\f[R] option can turn it on in other
+situations.
 .PP
 In interactive mode, dc(1) attempts to recover from errors (see the
 \f[B]RESET\f[R] section), and in normal execution, flushes
@@ -1602,7 +1578,6 @@ dc(1) may also reset on \f[B]SIGINT\f[R] instead of exit, depending on
 the contents of, or default for, the \f[B]DC_SIGINT_RESET\f[R]
 environment variable (see the \f[B]ENVIRONMENT VARIABLES\f[R] section).
 .SH TTY MODE
-.PP
 If \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY, then \[lq]TTY mode\[rq] is considered to be
 available, and thus, dc(1) can turn on TTY mode, subject to some
@@ -1610,52 +1585,49 @@ settings.
 .PP
 If there is the environment variable \f[B]DC_TTY_MODE\f[R] in the
 environment (see the \f[B]ENVIRONMENT VARIABLES\f[R] section), then if
-that environment variable contains a non-zero integer, dc(1) will turn
+that environment variable contains a non\-zero integer, dc(1) will turn
 on TTY mode when \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R]
 are all connected to a TTY.
 If the \f[B]DC_TTY_MODE\f[R] environment variable exists but is
-\f[I]not\f[R] a non-zero integer, then dc(1) will not turn TTY mode on.
+\f[I]not\f[R] a non\-zero integer, then dc(1) will not turn TTY mode on.
 .PP
 If the environment variable \f[B]DC_TTY_MODE\f[R] does \f[I]not\f[R]
 exist, the default setting is used.
-The default setting can be queried with the \f[B]-h\f[R] or
-\f[B]--help\f[R] options.
+The default setting can be queried with the \f[B]\-h\f[R] or
+\f[B]\-\-help\f[R] options.
 .PP
 TTY mode is different from interactive mode because interactive mode is
 required in the bc(1) specification (see the \f[B]STANDARDS\f[R]
 section), and interactive mode requires only \f[B]stdin\f[R] and
 \f[B]stdout\f[R] to be connected to a terminal.
-.SS Command-Line History
-.PP
-Command-line history is only enabled if TTY mode is, i.e., that
+.SS Command\-Line History
+Command\-line history is only enabled if TTY mode is, i.e., that
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to
 a TTY and the \f[B]DC_TTY_MODE\f[R] environment variable (see the
 \f[B]ENVIRONMENT VARIABLES\f[R] section) and its default do not disable
 TTY mode.
 See the \f[B]COMMAND LINE HISTORY\f[R] section for more information.
 .SS Prompt
-.PP
 If TTY mode is available, then a prompt can be enabled.
 Like TTY mode itself, it can be turned on or off with an environment
 variable: \f[B]DC_PROMPT\f[R] (see the \f[B]ENVIRONMENT VARIABLES\f[R]
 section).
 .PP
-If the environment variable \f[B]DC_PROMPT\f[R] exists and is a non-zero
-integer, then the prompt is turned on when \f[B]stdin\f[R],
+If the environment variable \f[B]DC_PROMPT\f[R] exists and is a
+non\-zero integer, then the prompt is turned on when \f[B]stdin\f[R],
 \f[B]stdout\f[R], and \f[B]stderr\f[R] are connected to a TTY and the
-\f[B]-P\f[R] and \f[B]--no-prompt\f[R] options were not used.
+\f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options were not used.
 The read prompt will be turned on under the same conditions, except that
-the \f[B]-R\f[R] and \f[B]--no-read-prompt\f[R] options must also not be
-used.
+the \f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options must also
+not be used.
 .PP
 However, if \f[B]DC_PROMPT\f[R] does not exist, the prompt can be
 enabled or disabled with the \f[B]DC_TTY_MODE\f[R] environment variable,
-the \f[B]-P\f[R] and \f[B]--no-prompt\f[R] options, and the \f[B]-R\f[R]
-and \f[B]--no-read-prompt\f[R] options.
+the \f[B]\-P\f[R] and \f[B]\-\-no\-prompt\f[R] options, and the
+\f[B]\-R\f[R] and \f[B]\-\-no\-read\-prompt\f[R] options.
 See the \f[B]ENVIRONMENT VARIABLES\f[R] and \f[B]OPTIONS\f[R] sections
 for more details.
 .SH SIGNAL HANDLING
-.PP
 Sending a \f[B]SIGINT\f[R] will cause dc(1) to do one of two things.
 .PP
 If dc(1) is not in interactive mode (see the \f[B]INTERACTIVE MODE\f[R]
@@ -1664,7 +1636,7 @@ section), or the \f[B]DC_SIGINT_RESET\f[R] environment variable (see the
 an integer or it is zero, dc(1) will exit.
 .PP
 However, if dc(1) is in interactive mode, and the
-\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non-zero,
+\f[B]DC_SIGINT_RESET\f[R] or its default is an integer and non\-zero,
 then dc(1) will stop executing the current input and reset (see the
 \f[B]RESET\f[R] section) upon receiving a \f[B]SIGINT\f[R].
 .PP
@@ -1690,12 +1662,11 @@ The one exception is \f[B]SIGHUP\f[R]; in that case, and only when dc(1)
 is in TTY mode (see the \f[B]TTY MODE\f[R] section), a \f[B]SIGHUP\f[R]
 will cause dc(1) to clean up and exit.
 .SH COMMAND LINE HISTORY
-.PP
-dc(1) supports interactive command-line editing.
+dc(1) supports interactive command\-line editing.
 .PP
 If dc(1) can be in TTY mode (see the \f[B]TTY MODE\f[R] section),
 history can be enabled.
-This means that command-line history can only be enabled when
+This means that command\-line history can only be enabled when
 \f[B]stdin\f[R], \f[B]stdout\f[R], and \f[B]stderr\f[R] are all
 connected to a TTY.
 .PP
@@ -1705,19 +1676,17 @@ section).
 .PP
 \f[B]Note\f[R]: tabs are converted to 8 spaces.
 .SH SEE ALSO
-.PP
 bc(1)
 .SH STANDARDS
-.PP
 The dc(1) utility operators and some behavior are compliant with the
-operators in the IEEE Std 1003.1-2017 (\[lq]POSIX.1-2017\[rq]) bc(1)
+operators in the IEEE Std 1003.1\-2017 (\[lq]POSIX.1\-2017\[rq]) bc(1)
 specification at
 https://pubs.opengroup.org/onlinepubs/9699919799/utilities/bc.html .
 .SH BUGS
-.PP
 None are known.
 Report bugs at https://git.gavinhoward.com/gavin/bc .
 .SH AUTHOR
-.PP
-Gavin D.
-Howard <gavin@gavinhoward.com> and contributors.
+Gavin D. Howard \c
+.MT gavin@gavinhoward.com
+.ME \c
+\ and contributors.
diff --git a/manuals/dc/N.1.md b/manuals/dc/N.1.md
index 8795d947..22ea9c96 100644
--- a/manuals/dc/N.1.md
+++ b/manuals/dc/N.1.md
@@ -2,7 +2,7 @@
 
 SPDX-License-Identifier: BSD-2-Clause
 
-Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:
@@ -1130,11 +1130,14 @@ the next non-space characters do not match that regex.
 When dc(1) encounters an error or a signal that it has a non-default handler
 for, it resets. This means that several things happen.
 
-First, any macros that are executing are stopped and popped off the stack.
-The behavior is not unlike that of exceptions in programming languages. Then
-the execution point is set so that any code waiting to execute (after all
+First, any macros that are executing are stopped and popped off the execution
+stack. The behavior is not unlike that of exceptions in programming languages.
+Then the execution point is set so that any code waiting to execute (after all
 macros returned) is skipped.
 
+However, the stack of values is *not* cleared; in interactive mode, users can
+inspect the stack and manipulate it.
+
 Thus, when dc(1) resets, it skips any remaining code waiting to be executed.
 Then, if it is interactive mode, and the error was not a fatal error (see the
 **EXIT STATUS** section), it asks for more input; otherwise, it exits with the
diff --git a/manuals/development.md b/manuals/development.md
index aea41e2d..ab125f9c 100644
--- a/manuals/development.md
+++ b/manuals/development.md
@@ -1,6 +1,6 @@
 # Development
 
-Updated: 27 Mar 2023
+Updated: 22 Dec 2023
 
 This document is meant for the day when I (Gavin D. Howard) get [hit by a
 bus][1]. In other words, it's meant to make the [bus factor][1] a non-issue.
@@ -65,8 +65,8 @@ about things like fuzzing, [`scan-build`][19], [valgrind][20],
 [AddressSanitizer][21] (and the other sanitizers), and many other things.
 
 One of my happiest moments was when my `bc` was made the default in FreeBSD.
-Another happiest moment was when I found out that my `bc` had shipped with Mac
-OSX Ventura, without my knowledge.
+Another happiest moment was when I found out that my `bc` had shipped with macOS
+Ventura, without my knowledge.
 
 But since I believe in [finishing the software I write][22], I have done less
 work on `bc` over time, though there are still times when I put a lot of effort
@@ -565,6 +565,26 @@ heavy functions in `lib.bc`.
 
 The file to generate the benchmark to benchmark multiplication in `bc`.
 
+##### `newton_raphson_div_large.bc`
+
+The file to generate the benchmark to benchmark the Newton-Raphson division in
+[GitHub PR #72][229] with large numbers.
+
+##### `newton_raphson_div_small.bc`
+
+The file to generate the benchmark to benchmark the Newton-Raphson division in
+[GitHub PR #72][229] with small numbers.
+
+##### `newton_raphson_sqrt_large.bc`
+
+The file to generate the benchmark to benchmark the Newton-Raphson square root
+in [GitHub PR #72][229] with large numbers.
+
+##### `newton_raphson_sqrt_small.bc`
+
+The file to generate the benchmark to benchmark the Newton-Raphson square root
+in [GitHub PR #72][229] with small numbers.
+
 ##### `postfix_incdec.bc`
 
 The file to generate the benchmark to benchmark `bc` using postfix increment and
@@ -2485,6 +2505,10 @@ print.bc
 
 :   Tests printing even harder than the print standard test.
 
+print2
+
+:   Tests printing at the extreme edge of line length in various bases.
+
 multiply.bc
 
 :   Tests multiplication even harder than the multiply standard test.
@@ -2638,7 +2662,7 @@ This split is convenient, however, because the tests in each directory are
 treated differently.
 
 The error tests in the standard test directory, which include `errors.txt` for
-both calculators, `posix_errors.txt` for `bc`, and `read_errors.txt` for `dc`,
+both calculators, `posix_errors.txt` for `bc`, and `read_errors.txt` for both,
 are run by [`tests/errors.sh`][226]. It reads them line-by-line and shoves the
 data through `stdin`. Each line is considered a separate test. For this reason,
 there can't be any blank lines in the error files in the standard tests
@@ -5227,3 +5251,4 @@ However, where possible, errors are returned directly.
 [226]: #errorssh
 [227]: #errorsh
 [228]: #vectorc
+[229]: https://github.com/gavinhoward/bc/pull/72
diff --git a/manuals/header.txt b/manuals/header.txt
index 4bec1706..3e28c3b5 100644
--- a/manuals/header.txt
+++ b/manuals/header.txt
@@ -1,7 +1,7 @@
 .\"
 .\" SPDX-License-Identifier: BSD-2-Clause
 .\"
-.\" Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+.\" Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 .\"
 .\" Redistribution and use in source and binary forms, with or without
 .\" modification, are permitted provided that the following conditions are met:
diff --git a/manuals/header_bc.txt b/manuals/header_bc.txt
index 1f69d328..f33eca47 100644
--- a/manuals/header_bc.txt
+++ b/manuals/header_bc.txt
@@ -1,3 +1,3 @@
-.TH "BC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "BC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
diff --git a/manuals/header_bcl.txt b/manuals/header_bcl.txt
index 3b436817..a82057dc 100644
--- a/manuals/header_bcl.txt
+++ b/manuals/header_bcl.txt
@@ -1,3 +1,3 @@
-.TH "BCL" "3" "February 2023" "Gavin D. Howard" "Libraries Manual"
+.TH "BCL" "3" "January 2024" "Gavin D. Howard" "Libraries Manual"
 .nh
 .ad l
diff --git a/manuals/header_dc.txt b/manuals/header_dc.txt
index db82bfb6..3b73bfa5 100644
--- a/manuals/header_dc.txt
+++ b/manuals/header_dc.txt
@@ -1,3 +1,3 @@
-.TH "DC" "1" "February 2023" "Gavin D. Howard" "General Commands Manual"
+.TH "DC" "1" "August 2024" "Gavin D. Howard" "General Commands Manual"
 .nh
 .ad l
diff --git a/scripts/afl.py b/scripts/afl.py
index e2b68880..8f7cc356 100755
--- a/scripts/afl.py
+++ b/scripts/afl.py
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/alloc.sh b/scripts/alloc.sh
index aff3505d..3be4b7af 100755
--- a/scripts/alloc.sh
+++ b/scripts/alloc.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/benchmark.sh b/scripts/benchmark.sh
index b1a0c6e2..1ab0f93c 100755
--- a/scripts/benchmark.sh
+++ b/scripts/benchmark.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -38,6 +38,7 @@ usage() {
 		printf '%s\n\n' "$1"
 	fi
 	printf 'usage: %s [-n<runs>] [-p<pause>] dir benchmark...\n' "$0" 1>&2
+	printf '    -d will delete the generated benchmark(s).\n'
 	printf '    -n runs is how many runs to run the benchmark, default 10.\n'
 	printf '    -p pause is how many seconds to pause before running the benchmarks.\n'
 	printf '\n'
@@ -69,11 +70,13 @@ scriptdir=$(dirname "$script")
 
 runs=10
 pause=0
+delete=0
 
 # Process command-line arguments.
-while getopts "n:p:" opt; do
+while getopts "dn:p:" opt; do
 
 	case "$opt" in
+		d) delete=1 ;;
 		n) runs="$OPTARG" ;;
 		p) pause="$OPTARG" ;;
 		?) usage "Invalid option: $opt" ;;
@@ -138,11 +141,12 @@ fi
 # Generate all of the benchmarks.
 for b in $benchmarks; do
 
-	if [ ! -f "./benchmarks/$d/$b.txt" ]; then
+	if [ "$delete" -ne 0 ] || [ ! -f "./benchmarks/$d/$b.txt" ]; then
 		printf 'Benchmarking generation of benchmarks/%s/%s.txt...\n' "$d" "$b" >&2
 		printf '%s\n' "$halt" | /usr/bin/time -v bin/$d $opts "./benchmarks/$d/$b.$d" \
 			> "./benchmarks/$d/$b.txt"
 	fi
+
 done
 
 # We use this format to make things easier to use with ministat.
diff --git a/scripts/bitfuncgen.c b/scripts/bitfuncgen.c
index b7f18cfd..192d8424 100644
--- a/scripts/bitfuncgen.c
+++ b/scripts/bitfuncgen.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/scripts/exec-install.sh b/scripts/exec-install.sh
index 8180b29c..581b6bd1 100755
--- a/scripts/exec-install.sh
+++ b/scripts/exec-install.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/format.sh b/scripts/format.sh
index dd227555..f76aed37 100755
--- a/scripts/format.sh
+++ b/scripts/format.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/functions.sh b/scripts/functions.sh
index 8ae76585..1599fea4 100755
--- a/scripts/functions.sh
+++ b/scripts/functions.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/fuzz_prep.sh b/scripts/fuzz_prep.sh
index 1198b7f4..7e313b8c 100755
--- a/scripts/fuzz_prep.sh
+++ b/scripts/fuzz_prep.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -77,7 +77,7 @@ cd "$scriptdir/.."
 
 set -e
 
-CFLAGS="-flto -fstack-protector-all -fsanitize=shadow-call-stack -ffixed-x18 -fsanitize=cfi -fvisibility=hidden"
+CFLAGS="-flto -fstack-protector-all -fsanitize=shadow-call-stack -fvisibility=hidden"
 
 if [ "$asan" -ne 0 ]; then
 	CFLAGS="$CFLAGS -fsanitize=address"
@@ -87,6 +87,8 @@ fi
 export AFL_LLVM_LAF_SPLIT_SWITCHES=1
 export AFL_LLVM_LAF_TRANSFORM_COMPARES=1
 export AFL_LLVM_LAF_SPLIT_COMPARES=1
+export AFL_LLVM_LTO_CALLER=1
+export AFL_LLVM_LTO_CALLER_DEPTH=5
 
 # We want a debug build because asserts are counted as crashes too.
 CC="$CC" CFLAGS="$CFLAGS" ./configure.sh -gO3 -z
diff --git a/scripts/karatsuba.py b/scripts/karatsuba.py
index 9c94ffe4..63788798 100755
--- a/scripts/karatsuba.py
+++ b/scripts/karatsuba.py
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/link.sh b/scripts/link.sh
index 7d95f866..772de27a 100755
--- a/scripts/link.sh
+++ b/scripts/link.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/lint.sh b/scripts/lint.sh
index 5a217204..14cdc5c3 100755
--- a/scripts/lint.sh
+++ b/scripts/lint.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/locale_install.sh b/scripts/locale_install.sh
index 3816f54e..e891bf57 100755
--- a/scripts/locale_install.sh
+++ b/scripts/locale_install.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/locale_uninstall.sh b/scripts/locale_uninstall.sh
index dfa3899d..1bf292b8 100755
--- a/scripts/locale_uninstall.sh
+++ b/scripts/locale_uninstall.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/manpage.sh b/scripts/manpage.sh
index fa8a8da8..4b1431b0 100755
--- a/scripts/manpage.sh
+++ b/scripts/manpage.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/os.c b/scripts/os.c
new file mode 100644
index 00000000..212a6177
--- /dev/null
+++ b/scripts/os.c
@@ -0,0 +1,59 @@
+/*
+ * *****************************************************************************
+ *
+ * SPDX-License-Identifier: BSD-2-Clause
+ *
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions are met:
+ *
+ * * Redistributions of source code must retain the above copyright notice, this
+ *   list of conditions and the following disclaimer.
+ *
+ * * Redistributions in binary form must reproduce the above copyright notice,
+ *   this list of conditions and the following disclaimer in the documentation
+ *   and/or other materials provided with the distribution.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
+ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+ * POSSIBILITY OF SUCH DAMAGE.
+ *
+ * *****************************************************************************
+ *
+ * File for testing compilation on different platforms.
+ *
+ */
+
+// This is used by configure.sh to test for OpenBSD.
+#ifdef BC_TEST_OPENBSD
+#ifdef __OpenBSD__
+#error On OpenBSD without _BSD_SOURCE
+#endif // __OpenBSD__
+#endif // BC_TEST_OPENBSD
+
+// This is used by configure.sh to test for FreeBSD.
+#ifdef BC_TEST_FREEBSD
+#ifdef __FreeBSD__
+#error On FreeBSD with _POSIX_C_SOURCE
+#endif // __FreeBSD__
+#endif // BC_TEST_FREEBSD
+
+// This is used by configure.sh to test for macOS.
+#ifdef BC_TEST_APPLE
+#ifdef __APPLE__
+#error On macOS without _DARWIN_C_SOURCE
+#endif // __APPLE__
+#endif // BC_TEST_APPLE
+
+extern int test;
+
+int test;
diff --git a/scripts/package.sh b/scripts/package.sh
index d0d049df..f2f22611 100755
--- a/scripts/package.sh
+++ b/scripts/package.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -263,3 +263,15 @@ printf '\n'
 shasum "$projver.tar.xz"
 printf '\n'
 shasum "$projver-windows.zip"
+
+mkdir -p "releases/$projver"
+mv $projver* "releases/$projver"
+
+# Clean up old Windows stuff.
+if [ -d windows ]; then
+	rm -rf windows
+fi
+
+if [ -f vs.zip ]; then
+	rm -rf vs.zip
+fi
diff --git a/scripts/radamsa.sh b/scripts/radamsa.sh
index dd192b55..6b4f34f5 100755
--- a/scripts/radamsa.sh
+++ b/scripts/radamsa.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/randmath.py b/scripts/randmath.py
index 25b26b1b..63b3c1de 100755
--- a/scripts/randmath.py
+++ b/scripts/randmath.py
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/scripts/release.sh b/scripts/release.sh
index a5db2044..62682481 100755
--- a/scripts/release.sh
+++ b/scripts/release.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -27,13 +27,17 @@
 # POSSIBILITY OF SUCH DAMAGE.
 #
 
+# For macOS from Ventura on, run using the following:
+#
+# scripts/release.sh 1 1 0 1 0 0 0 0 1 0 1 1 1 0 0 0 0
+#
 # For OpenBSD, run using the following:
 #
 # scripts/release.sh 1 0 0 1 0 0 0 0 1 0 0 0 0 0 0 1 0
 #
 # For FreeBSD, run using the following:
 #
-# scripts/release.sh 1 1 0 1 0 0 0 0 1 0 1 0 1 0 0 1 1
+# scripts/release.sh 1 1 0 1 1 0 0 0 1 0 1 0 1 0 0 1 1
 #
 # For Linux, run two separate ones (in different checkouts), like so:
 #
@@ -156,7 +160,7 @@ configure() {
 
 	header "$_configure_header"
 	CFLAGS="$_configure_CFLAGS" CC="$_configure_CC" GEN_HOST="$_configure_GEN_HOST" \
-		LONG_BIT="$_configure_LONG_BIT" "$real/configure.sh" $_configure_configure_flags > /dev/null
+		LONG_BIT="$_configure_LONG_BIT" "$real/configure.sh" $_configure_configure_flags > /dev/null 2> /dev/null
 }
 
 # Build with make. This function also captures and outputs any warnings if they
@@ -662,9 +666,10 @@ unset DC_EXPR_EXIT
 unset BC_DIGIT_CLAMP
 unset DC_DIGIT_CLAMP
 
+os=$(uname)
 # Set some strict warning flags. Clang's -Weverything can be way too strict, so
 # we actually have to turn off some things.
-clang_flags="-Weverything -Wno-padded -Wno-unsafe-buffer-usage"
+clang_flags="-Weverything -Wno-padded -Wno-unsafe-buffer-usage -Wno-poison-system-directories -Wno-switch-default"
 gcc_flags="-Wno-clobbered"
 
 # Common CFLAGS.
diff --git a/scripts/sqrt_frac_guess.bc b/scripts/sqrt_frac_guess.bc
new file mode 100644
index 00000000..acbcb368
--- /dev/null
+++ b/scripts/sqrt_frac_guess.bc
@@ -0,0 +1,126 @@
+#! /usr/bin/bc
+#
+# SPDX-License-Identifier: BSD-2-Clause
+#
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright notice, this
+#   list of conditions and the following disclaimer.
+#
+# * Redistributions in binary form must reproduce the above copyright notice,
+#   this list of conditions and the following disclaimer in the documentation
+#   and/or other materials provided with the distribution.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+#
+
+scale = 20
+
+# Adjust this number to try ranges below different powers of 10.
+shift = 4
+
+# Adjust this to try extra digits. For example, a value of one means that one
+# digit is checked (such as 0.09 through 0.01), a value of two means that two
+# digits are checked (0.090 through 0.010), etc.
+max = shift + 2
+
+n = (9 >> shift)
+inc = (1 >> max)
+stop = (1 >> shift)
+
+# Uncomment this to test the high part of the ranges.
+#n += (1 - (1 >> max + 5)) >> shift
+
+for (i = n; i >= stop; i -= inc)
+{
+	# This is the lower limit.
+	t1 = sqrt(1/(3*i))
+
+	# Start with the inverse.
+	t2 = (1/i)
+
+	# And take half its length of course.
+	l = length(t2$)/2
+
+	temp = i
+	odd = 0
+
+	# We go by powers of 10 below, but there is a degenerate case: an exact
+	# power of 10, for which length() will return one digit more. So we check
+	# for that and fix it.
+	while (temp < 1)
+	{
+		temp <<= 1
+		odd = !odd
+	}
+
+	if (temp == 1)
+	{
+		odd = !odd
+	}
+
+	print "i:  ", i, "\n"
+	print "t2: ", t2, "\n"
+	#print "l:  ", l, "\n"
+	print "odd: ", odd, "\n"
+
+	if (odd)
+	{
+		# Limit between 6 and 7.5.
+		limit1 = 6.7 >> (l$ * 2 + 1)
+
+		# Limit between 1.5 and 1.83-ish.
+		limit2 = 1.7 >> (l$ * 2 + 1)
+		print "limit1: ", limit1, "\n"
+		print "limit2: ", limit2, "\n"
+
+		if (i >= limit1)
+		{
+			t2 = (t2 >> l$)
+		}
+		else if (i >= limit2)
+		{
+			t2 = (t2 >> l$) / 2
+		}
+		else
+		{
+			t2 = (t2 >> l$) / 4
+		}
+	}
+	else
+	{
+		# Limit between 2.4 and 3.
+		limit = 2.7 >> (l$ * 2)
+		print "limit: ", limit, "\n"
+
+		if (i >= limit)
+		{
+			t2 = (t2 >> l$) * 2
+		}
+		else
+		{
+			t2 = (t2 >> l$)
+		}
+	}
+	#t2 = 1
+	t3 = sqrt(5/(3*i))
+	good = (t1 < t2 && t2 < t3)
+
+	print t1, " < ", t2, " < ", t3, ": ", good, "\n\n"
+	if (!good) sqrt(-1)
+}
+
+halt
diff --git a/scripts/sqrt_int_guess.bc b/scripts/sqrt_int_guess.bc
new file mode 100644
index 00000000..925b7af7
--- /dev/null
+++ b/scripts/sqrt_int_guess.bc
@@ -0,0 +1,94 @@
+#! /usr/bin/bc -l
+#
+# SPDX-License-Identifier: BSD-2-Clause
+#
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright notice, this
+#   list of conditions and the following disclaimer.
+#
+# * Redistributions in binary form must reproduce the above copyright notice,
+#   this list of conditions and the following disclaimer in the documentation
+#   and/or other materials provided with the distribution.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+#
+
+# Adjust this number to try ranges above different powers of 10.
+max = 0
+
+n = (1 << max)
+
+# Uncomment this to test the high part of the ranges.
+#n += (1 - (1 >> 10))
+
+n
+
+# Loop from the start number to the next power of 10.
+for (i = n; i < (n$ << 1); i += 1)
+{
+	# This is the lower limit.
+	t1 = sqrt(1/(3*i))
+
+	l = length(i$)/2
+
+	print "i: ", i, "\n"
+	#print "l: ", l, "\n"
+
+	if (l$ != l)
+	{
+		# Limit between 2.4 and 3.
+		limit = 2.7 << (l$ * 2)
+		#print "limit: ", limit, "\n"
+
+		if (i >= limit)
+		{
+			t2 = 1/(i >> (l$)) * 2
+		}
+		else
+		{
+			t2 = 1/(i >> (l$))
+		}
+	}
+	else
+	{
+		# Limit between 3.8-ish and 4.8
+		limit = 4.3 << (l$ * 2 - 1)
+		#print "limit: ", limit, "\n"
+
+		if (i >= limit)
+		{
+			t2 = 1/(i >> (l$ - 1)) * 8
+		}
+		else
+		{
+			t2 = 1/(i >> (l$ - 1)) * 4
+		}
+	}
+
+	# This is the upper limit.
+	t3 = sqrt(5/(3*i))
+
+	# This is true when the guess is in between the limits.
+	good = (t1 < t2 && t2 < t3)
+
+	print t1, " < ", t2, " < ", t3, ": ", good, "\n"
+
+	# Error if we have a problem.
+	if (!good) sqrt(-1)
+}
+
+halt
diff --git a/scripts/sqrt_random.bc b/scripts/sqrt_random.bc
new file mode 100644
index 00000000..1f58c2e3
--- /dev/null
+++ b/scripts/sqrt_random.bc
@@ -0,0 +1,129 @@
+#! /usr/bin/bc
+#
+# SPDX-License-Identifier: BSD-2-Clause
+#
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright notice, this
+#   list of conditions and the following disclaimer.
+#
+# * Redistributions in binary form must reproduce the above copyright notice,
+#   this list of conditions and the following disclaimer in the documentation
+#   and/or other materials provided with the distribution.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+#
+
+scale = 0
+
+bits = rand()
+
+# This extracts a bit and takes it out of the original value.
+#
+# Here, I am getting a bit to say whether we should have a value that is less
+# than 1.
+bits = divmod(bits, 2, negpow[])
+
+# Get a bit that will say whether the value should be an exact square.
+bits = divmod(bits, 2, square[])
+
+# See below. This is to help bias toward small numbers.
+pow = 4
+
+# I want to bias toward small numbers, so let's give a 50 percent chance to
+# values below 16 or so.
+bits = divmod(bits, 2, small[])
+
+# Let's keep raising the power limit by 2^4 when the bit is zero.
+while (!small[0])
+{
+	pow += 4
+	bits = divmod(bits, 2, small[])
+}
+
+limit = 2^pow
+
+# Okay, this is the starting number.
+num = irand(limit) + 1
+
+# Figure out if we should have (more) fractional digits.
+bits = divmod(bits, 2, extra_digits[])
+
+if (square[0])
+{
+	# Okay, I lied. If we need a perfect square, square now.
+	num *= num
+
+	# If we need extra digits, we need to multiply by an even power of 10.
+	if (extra_digits[0])
+	{
+		extra = (irand(8) + 1) * 2
+	}
+	else
+	{
+		extra = 0
+	}
+
+	# If we need a number less than 1, just take the inverse, which will still
+	# be a perfect square.
+	if (negpow[0])
+	{
+		scale = length(num) + 5
+		num = 1/num
+		scale = 0
+
+		num >>= extra
+	}
+	else
+	{
+		num <<= extra
+	}
+}
+else
+{
+	# Get this for later.
+	l = length(num)
+
+	# If we need extra digits.
+	if (extra_digits[0])
+	{
+		# Add up to 32 decimal places.
+		num += frand(irand(32) + 1)
+	}
+
+	# If we need a value less than 1...
+	if (negpow[0])
+	{
+		# Move right until the number is
+		num >>= l
+	}
+}
+
+bits = divmod(bits, 2, zero_scale[])
+
+# Do we want a zero scale?
+if (zero_scale[0])
+{
+	print "scale = 0\n"
+}
+else
+{
+	print "scale = 20\n"
+}
+
+print "sqrt(", num, ")\n"
+
+halt
diff --git a/scripts/sqrt_random.sh b/scripts/sqrt_random.sh
new file mode 100755
index 00000000..e107ef53
--- /dev/null
+++ b/scripts/sqrt_random.sh
@@ -0,0 +1,77 @@
+#! /bin/sh
+#
+# SPDX-License-Identifier: BSD-2-Clause
+#
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
+#
+# Redistribution and use in source and binary forms, with or without
+# modification, are permitted provided that the following conditions are met:
+#
+# * Redistributions of source code must retain the above copyright notice, this
+#   list of conditions and the following disclaimer.
+#
+# * Redistributions in binary form must reproduce the above copyright notice,
+#   this list of conditions and the following disclaimer in the documentation
+#   and/or other materials provided with the distribution.
+#
+# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
+# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+# POSSIBILITY OF SUCH DAMAGE.
+#
+
+scriptdir=$(dirname "$0")
+
+gnu=/usr/bin/bc
+gdh=/usr/local/bin/bc
+
+if [ "$#" -lt 1 ]; then
+	printf 'err: must provide path to new bc\n'
+	exit 1
+fi
+
+new="$1"
+shift
+
+unset BC_LINE_LENGTH && unset BC_ENV_ARGS
+
+gdh_fail_file="sqrt_fails.bc"
+new_fail_file="new_sqrt_fails.bc"
+
+rm -rf "$gdh_fail_file"
+rm -rf "$new_fail_file"
+
+while [ true ]; do
+
+	tst=$("$gdh" -l "$scriptdir/sqrt_random.bc")
+	err=$?
+
+	if [ "$err" -ne 0 ]; then
+		printf 'err: failed to create test\n'
+		exit 2
+	fi
+
+	good=$(printf '%s\n' "$tst" | "$gnu" -l)
+
+	gdh_out=$(printf '%s\n' "$tst" | "$gdh" -l)
+	new_out=$(printf '%s\n' "$tst" | "$new" -l)
+
+	gdh_good=$(printf '%s == %s\n' "$good" "$gdh_out" | "$gnu")
+	new_good=$(printf '%s == %s\n' "$good" "$new_out" | "$gnu")
+
+	if [ "$gdh_good" -eq 0 ]; then
+		printf '%s\n' "$tst" >> "$gdh_fail_file"
+	fi
+
+	if [ "$new_good" -eq 0 ]; then
+		printf '%s\n' "$tst" >> "$new_fail_file"
+	fi
+
+done
diff --git a/scripts/test_settings.sh b/scripts/test_settings.sh
index 22678c79..bcebc8d0 100755
--- a/scripts/test_settings.sh
+++ b/scripts/test_settings.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/src/args.c b/src/args.c
index 9cb8165f..6eba802d 100644
--- a/src/args.c
+++ b/src/args.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -149,7 +149,7 @@ bc_args_redefine(const char* keyword)
 #endif // BC_ENABLED
 
 void
-bc_args(int argc, char* argv[], bool exit_exprs, BcBigDig* scale,
+bc_args(int argc, const char* argv[], bool exit_exprs, BcBigDig* scale,
         BcBigDig* ibase, BcBigDig* obase)
 {
 	int c;
@@ -157,7 +157,7 @@ bc_args(int argc, char* argv[], bool exit_exprs, BcBigDig* scale,
 	bool do_exit = false, version = false;
 	BcOpt opts;
 #if BC_ENABLE_EXTRA_MATH
-	char* seed = NULL;
+	const char* seed = NULL;
 #endif // BC_ENABLE_EXTRA_MATH
 
 	BC_SIG_ASSERT_LOCKED;
diff --git a/src/bc.c b/src/bc.c
index 385c18b7..572e42b1 100644
--- a/src/bc.c
+++ b/src/bc.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -45,8 +45,8 @@
  * @param argc  The number of arguments.
  * @param argv  The arguments.
  */
-void
-bc_main(int argc, char* argv[])
+BcStatus
+bc_main(int argc, const char* argv[])
 {
 	// All of these just set bc-specific items in BcVm.
 
@@ -59,6 +59,7 @@ bc_main(int argc, char* argv[])
 	vm->parse = bc_parse_parse;
 	vm->expr = bc_parse_expr;
 
-	bc_vm_boot(argc, argv);
+	return bc_vm_boot(argc, argv);
 }
+
 #endif // BC_ENABLED
diff --git a/src/bc_fuzzer.c b/src/bc_fuzzer.c
new file mode 100644
index 00000000..7d7b3292
--- /dev/null
+++ b/src/bc_fuzzer.c
@@ -0,0 +1,112 @@
+/*
+ * *****************************************************************************
+ *
+ * SPDX-License-Identifier: BSD-2-Clause
+ *
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions are met:
+ *
+ * * Redistributions of source code must retain the above copyright notice, this
+ *   list of conditions and the following disclaimer.
+ *
+ * * Redistributions in binary form must reproduce the above copyright notice,
+ *   this list of conditions and the following disclaimer in the documentation
+ *   and/or other materials provided with the distribution.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
+ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+ * POSSIBILITY OF SUCH DAMAGE.
+ *
+ * *****************************************************************************
+ *
+ * The entry point for libFuzzer when fuzzing bc.
+ *
+ */
+
+#include <setjmp.h>
+#include <string.h>
+
+#include <version.h>
+#include <status.h>
+#include <ossfuzz.h>
+#include <vm.h>
+#include <bc.h>
+#include <dc.h>
+
+uint8_t* bc_fuzzer_data;
+
+/// A boolean about whether we should use -c (false) or -C (true).
+static bool bc_C;
+
+int
+LLVMFuzzerInitialize(int* argc, char*** argv)
+{
+	BC_UNUSED(argc);
+
+	if (argv == NULL || *argv == NULL)
+	{
+		bc_C = false;
+	}
+	else
+	{
+		char* name;
+
+		// Get the basename
+		name = strrchr((*argv)[0], BC_FILE_SEP);
+		name = name == NULL ? (*argv)[0] : name + 1;
+
+		// Figure out which to use.
+		bc_C = (strcmp(name, "bc_fuzzer_C") == 0);
+	}
+
+	return 0;
+}
+
+int
+LLVMFuzzerTestOneInput(const uint8_t* Data, size_t Size)
+{
+	BcStatus s;
+
+	// I've already tested empty input, so just ignore.
+	if (Size == 0 || Data[0] == '\0') return 0;
+
+	// Clear the global. This is to ensure a clean start.
+	memset(vm, 0, sizeof(BcVm));
+
+	// Make sure to set the name.
+	vm->name = "bc";
+
+	BC_SIG_LOCK;
+
+	// We *must* do this here. Otherwise, other code could not jump out all of
+	// the way.
+	bc_vec_init(&vm->jmp_bufs, sizeof(sigjmp_buf), BC_DTOR_NONE);
+
+	BC_SETJMP_LOCKED(vm, exit);
+
+	// Create a string with the data.
+	bc_fuzzer_data = bc_vm_malloc(Size + 1);
+	memcpy(bc_fuzzer_data, Data, Size);
+	bc_fuzzer_data[Size] = '\0';
+
+	s = bc_main((int) (bc_fuzzer_args_len - 1),
+	            bc_C ? bc_fuzzer_args_C : bc_fuzzer_args_c);
+
+exit:
+
+	BC_SIG_MAYLOCK;
+
+	free(bc_fuzzer_data);
+
+	return s == BC_STATUS_SUCCESS || s == BC_STATUS_QUIT ? 0 : -1;
+}
diff --git a/src/bc_lex.c b/src/bc_lex.c
index 5c9d2c53..f83eaf73 100644
--- a/src/bc_lex.c
+++ b/src/bc_lex.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -115,7 +115,9 @@ bc_lex_string(BcLex* l)
 		buf = l->buf;
 		got_more = false;
 
+#if !BC_ENABLE_OSSFUZZ
 		assert(vm->mode != BC_MODE_STDIN || buf == vm->buffer.v);
+#endif // !BC_ENABLE_OSSFUZZ
 
 		// Fortunately for us, bc doesn't escape quotes. Instead, the equivalent
 		// is '\q', which makes this loop simpler.
diff --git a/src/bc_parse.c b/src/bc_parse.c
index 4cf886ef..cf439870 100644
--- a/src/bc_parse.c
+++ b/src/bc_parse.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -2002,7 +2002,8 @@ bc_parse_expr_err(BcParse* p, uint8_t flags, BcParseNext next)
 	BcLexType top, t;
 	size_t nexprs, ops_bgn;
 	uint32_t i, nparens, nrelops;
-	bool pfirst, rprn, done, get_token, assign, bin_last, incdec, can_assign;
+	bool pfirst, rprn, array_last, done, get_token, assign;
+	bool bin_last, incdec, can_assign;
 
 	// One of these *must* be true.
 	assert(!(flags & BC_PARSE_PRINT) || !(flags & BC_PARSE_NEEDVAL));
@@ -2019,6 +2020,7 @@ bc_parse_expr_err(BcParse* p, uint8_t flags, BcParseNext next)
 	// - nrelops is the number of relational operators that appear in the expr.
 	// - nexprs is the number of unused expressions.
 	// - rprn is a right paren encountered last.
+	// - array_last is an array item encountered last.
 	// - done means the expression has been fully parsed.
 	// - get_token is true when a token is needed at the end of an iteration.
 	// - assign is true when an assignment statement was parsed last.
@@ -2030,7 +2032,7 @@ bc_parse_expr_err(BcParse* p, uint8_t flags, BcParseNext next)
 	nparens = nrelops = 0;
 	nexprs = 0;
 	ops_bgn = p->ops.len;
-	rprn = done = get_token = assign = incdec = can_assign = false;
+	rprn = array_last = done = get_token = assign = incdec = can_assign = false;
 	bin_last = true;
 
 	// We want to eat newlines if newlines are not a valid ending token.
@@ -2046,6 +2048,14 @@ bc_parse_expr_err(BcParse* p, uint8_t flags, BcParseNext next)
 	// This is the Shunting-Yard algorithm loop.
 	for (; !done && BC_PARSE_EXPR(t); t = p->l.t)
 	{
+		// Make sure an array expression is not mixed with any others. However,
+		// a right parenthesis may end the expression, so we will need to take
+		// care of that right there.
+		if (BC_ERR(array_last && t != BC_LEX_RPAREN))
+		{
+			bc_parse_err(p, BC_ERR_PARSE_EXPR);
+		}
+
 		switch (t)
 		{
 			case BC_LEX_OP_INC:
@@ -2221,6 +2231,14 @@ bc_parse_expr_err(BcParse* p, uint8_t flags, BcParseNext next)
 					break;
 				}
 
+				// Now that we know the right paren has not ended the
+				// expression, make sure an array expression is not mixed with
+				// any others.
+				if (BC_ERR(array_last))
+				{
+					bc_parse_err(p, BC_ERR_PARSE_EXPR);
+				}
+
 				nparens -= 1;
 				rprn = true;
 				get_token = bin_last = incdec = false;
@@ -2263,6 +2281,7 @@ bc_parse_expr_err(BcParse* p, uint8_t flags, BcParseNext next)
 				bc_parse_name(p, &prev, &can_assign, flags & ~BC_PARSE_NOCALL);
 
 				rprn = (prev == BC_INST_CALL);
+				array_last = (prev == BC_INST_ARRAY);
 				nexprs += 1;
 				flags &= ~(BC_PARSE_ARRAY);
 
diff --git a/src/data.c b/src/data.c
index b57e1fc4..bb1a6796 100644
--- a/src/data.c
+++ b/src/data.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -70,7 +70,7 @@ const uchar dc_sig_msg_len = (uchar) (sizeof(dc_sig_msg) - 1);
 
 /// The copyright banner.
 const char bc_copyright[] =
-	"Copyright (c) 2018-2023 Gavin D. Howard and contributors\n"
+	"Copyright (c) 2018-2024 Gavin D. Howard and contributors\n"
 	"Report bugs at: https://git.gavinhoward.com/gavin/bc\n\n"
 	"This is free software with ABSOLUTELY NO WARRANTY.\n";
 
@@ -174,6 +174,65 @@ const BcOptLong bc_args_lopt[] = {
 
 };
 
+#if BC_ENABLE_OSSFUZZ
+
+const char* bc_fuzzer_args_c[] = {
+	"bc",
+	"-lqc",
+	"-e",
+	"seed = 82507683022933941343198991100880559238.7080266844215897551270760113"
+	"4734858017748592704189096562163085637164174146616055338762825421827784"
+	"566630725748836994171142578125",
+	NULL,
+};
+
+const char* dc_fuzzer_args_c[] = {
+	"dc",
+	"-xc",
+	"-e",
+	"82507683022933941343198991100880559238.7080266844215897551270760113"
+	"4734858017748592704189096562163085637164174146616055338762825421827784"
+	"566630725748836994171142578125j",
+	NULL,
+};
+
+const char* bc_fuzzer_args_C[] = {
+	"bc",
+	"-lqC",
+	"-e",
+	"seed = 82507683022933941343198991100880559238.7080266844215897551270760113"
+	"4734858017748592704189096562163085637164174146616055338762825421827784"
+	"566630725748836994171142578125",
+	NULL,
+};
+
+const char* dc_fuzzer_args_C[] = {
+	"dc",
+	"-xC",
+	"-e",
+	"82507683022933941343198991100880559238.7080266844215897551270760113"
+	"4734858017748592704189096562163085637164174146616055338762825421827784"
+	"566630725748836994171142578125j",
+	NULL,
+};
+
+const size_t bc_fuzzer_args_len = sizeof(bc_fuzzer_args_c) / sizeof(char*);
+
+#if BC_C11
+
+_Static_assert(sizeof(bc_fuzzer_args_C) / sizeof(char*) == bc_fuzzer_args_len,
+               "Wrong number of bc fuzzer args");
+
+_Static_assert(sizeof(dc_fuzzer_args_c) / sizeof(char*) == bc_fuzzer_args_len,
+               "Wrong number of dc fuzzer args");
+
+_Static_assert(sizeof(dc_fuzzer_args_C) / sizeof(char*) == bc_fuzzer_args_len,
+               "Wrong number of dc fuzzer args");
+
+#endif // BC_C11
+
+#endif // BC_ENABLE_OSSFUZZ
+
 // clang-format off
 
 /// The default error category strings.
diff --git a/src/dc.c b/src/dc.c
index 255bf2e6..37419acd 100644
--- a/src/dc.c
+++ b/src/dc.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -45,8 +45,8 @@
  * @param argc  The number of arguments.
  * @param argv  The arguments.
  */
-void
-dc_main(int argc, char* argv[])
+BcStatus
+dc_main(int argc, const char* argv[])
 {
 	// All of these just set dc-specific items in BcVm.
 
@@ -59,6 +59,7 @@ dc_main(int argc, char* argv[])
 	vm->parse = dc_parse_parse;
 	vm->expr = dc_parse_expr;
 
-	bc_vm_boot(argc, argv);
+	return bc_vm_boot(argc, argv);
 }
+
 #endif // DC_ENABLED
diff --git a/src/dc_fuzzer.c b/src/dc_fuzzer.c
new file mode 100644
index 00000000..adaf486a
--- /dev/null
+++ b/src/dc_fuzzer.c
@@ -0,0 +1,112 @@
+/*
+ * *****************************************************************************
+ *
+ * SPDX-License-Identifier: BSD-2-Clause
+ *
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions are met:
+ *
+ * * Redistributions of source code must retain the above copyright notice, this
+ *   list of conditions and the following disclaimer.
+ *
+ * * Redistributions in binary form must reproduce the above copyright notice,
+ *   this list of conditions and the following disclaimer in the documentation
+ *   and/or other materials provided with the distribution.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
+ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
+ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
+ * POSSIBILITY OF SUCH DAMAGE.
+ *
+ * *****************************************************************************
+ *
+ * The entry point for libFuzzer when fuzzing dc.
+ *
+ */
+
+#include <setjmp.h>
+#include <string.h>
+
+#include <version.h>
+#include <status.h>
+#include <ossfuzz.h>
+#include <vm.h>
+#include <bc.h>
+#include <dc.h>
+
+uint8_t* bc_fuzzer_data;
+
+/// A boolean about whether we should use -c (false) or -C (true).
+static bool dc_C;
+
+int
+LLVMFuzzerInitialize(int* argc, char*** argv)
+{
+	BC_UNUSED(argc);
+
+	if (argv == NULL || *argv == NULL)
+	{
+		dc_C = false;
+	}
+	else
+	{
+		char* name;
+
+		// Get the basename
+		name = strrchr((*argv)[0], BC_FILE_SEP);
+		name = name == NULL ? (*argv)[0] : name + 1;
+
+		// Figure out which to use.
+		dc_C = (strcmp(name, "dc_fuzzer_C") == 0);
+	}
+
+	return 0;
+}
+
+int
+LLVMFuzzerTestOneInput(const uint8_t* Data, size_t Size)
+{
+	BcStatus s;
+
+	// I've already tested empty input, so just ignore.
+	if (Size == 0 || Data[0] == '\0') return 0;
+
+	// Clear the global. This is to ensure a clean start.
+	memset(vm, 0, sizeof(BcVm));
+
+	// Make sure to set the name.
+	vm->name = "dc";
+
+	BC_SIG_LOCK;
+
+	// We *must* do this here. Otherwise, other code could not jump out all of
+	// the way.
+	bc_vec_init(&vm->jmp_bufs, sizeof(sigjmp_buf), BC_DTOR_NONE);
+
+	BC_SETJMP_LOCKED(vm, exit);
+
+	// Create a string with the data.
+	bc_fuzzer_data = bc_vm_malloc(Size + 1);
+	memcpy(bc_fuzzer_data, Data, Size);
+	bc_fuzzer_data[Size] = '\0';
+
+	s = dc_main((int) (bc_fuzzer_args_len - 1),
+	            dc_C ? dc_fuzzer_args_C : dc_fuzzer_args_c);
+
+exit:
+
+	BC_SIG_MAYLOCK;
+
+	free(bc_fuzzer_data);
+
+	return s == BC_STATUS_SUCCESS || s == BC_STATUS_QUIT ? 0 : -1;
+}
diff --git a/src/dc_lex.c b/src/dc_lex.c
index 963e3f13..d5131b45 100644
--- a/src/dc_lex.c
+++ b/src/dc_lex.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -114,7 +114,9 @@ dc_lex_string(BcLex* l)
 		nls = 0;
 		got_more = false;
 
+#if !BC_ENABLE_OSSFUZZ
 		assert(l->mode != BC_MODE_STDIN || l->buf == vm->buffer.v);
+#endif // !BC_ENABLE_OSSFUZZ
 
 		// This is the meat. As long as we don't run into the NUL byte, and we
 		// have "depth", which means we haven't completely balanced brackets
diff --git a/src/dc_parse.c b/src/dc_parse.c
index 2a6f387a..19961204 100644
--- a/src/dc_parse.c
+++ b/src/dc_parse.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/src/file.c b/src/file.c
index c038c447..697fca8c 100644
--- a/src/file.c
+++ b/src/file.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -200,8 +200,13 @@ bc_file_flush(BcFile* restrict f, BcFlushType type)
 			BC_SIG_TRYUNLOCK(lock);
 			BC_JMP;
 		}
+		// Make sure to handle non-fatal I/O properly.
+		else if (!f->errors_fatal)
+		{
+			bc_vm_fatalError(BC_ERR_FATAL_IO_ERR);
+		}
 		// Blow up on fatal error. Okay, not blow up, just quit.
-		else bc_vm_fatalError(BC_ERR_FATAL_IO_ERR);
+		else exit(BC_STATUS_ERROR_FATAL);
 	}
 
 	BC_SIG_TRYUNLOCK(lock);
@@ -238,8 +243,13 @@ bc_file_write(BcFile* restrict f, BcFlushType type, const char* buf, size_t n)
 				BC_SIG_TRYUNLOCK(lock);
 				BC_JMP;
 			}
+			// Make sure to handle non-fatal I/O properly.
+			else if (!f->errors_fatal)
+			{
+				bc_vm_fatalError(BC_ERR_FATAL_IO_ERR);
+			}
 			// Blow up on fatal error. Okay, not blow up, just quit.
-			else bc_vm_fatalError(BC_ERR_FATAL_IO_ERR);
+			else exit(BC_STATUS_ERROR_FATAL);
 		}
 	}
 	else
@@ -281,17 +291,26 @@ bc_file_vprintf(BcFile* restrict f, const char* fmt, va_list args)
 
 		// This mess is to silence a warning.
 #if BC_CLANG
+#pragma clang diagnostic push
 #pragma clang diagnostic ignored "-Wformat-nonliteral"
 #endif // BC_CLANG
 		r = vfprintf(f->f, fmt, args);
 #if BC_CLANG
-#pragma clang diagnostic warning "-Wformat-nonliteral"
+#pragma clang diagnostic pop
 #endif // BC_CLANG
 
 		// Just print and propagate the error.
 		if (BC_ERR(r < 0))
 		{
-			bc_vm_fatalError(BC_ERR_FATAL_IO_ERR);
+			// Make sure to handle non-fatal I/O properly.
+			if (!f->errors_fatal)
+			{
+				bc_vm_fatalError(BC_ERR_FATAL_IO_ERR);
+			}
+			else
+			{
+				exit(BC_STATUS_ERROR_FATAL);
+			}
 		}
 	}
 
@@ -418,7 +437,7 @@ bc_file_putchar(BcFile* restrict f, BcFlushType type, uchar c)
 		// This is here to prevent a stack overflow from unbounded recursion.
 		if (f->f == stderr) exit(BC_STATUS_ERROR_FATAL);
 
-		bc_vm_fatalError(BC_ERR_FATAL_IO_ERR);
+		bc_err(BC_ERR_FATAL_IO_ERR);
 	}
 
 #else // BC_ENABLE_LINE_LIB
@@ -438,16 +457,17 @@ bc_file_putchar(BcFile* restrict f, BcFlushType type, uchar c)
 #if BC_ENABLE_LINE_LIB
 
 void
-bc_file_init(BcFile* f, FILE* file)
+bc_file_init(BcFile* f, FILE* file, bool errors_fatal)
 {
 	BC_SIG_ASSERT_LOCKED;
 	f->f = file;
+	f->errors_fatal = errors_fatal;
 }
 
 #else // BC_ENABLE_LINE_LIB
 
 void
-bc_file_init(BcFile* f, int fd, char* buf, size_t cap)
+bc_file_init(BcFile* f, int fd, char* buf, size_t cap, bool errors_fatal)
 {
 	BC_SIG_ASSERT_LOCKED;
 
@@ -455,6 +475,7 @@ bc_file_init(BcFile* f, int fd, char* buf, size_t cap)
 	f->buf = buf;
 	f->len = 0;
 	f->cap = cap;
+	f->errors_fatal = errors_fatal;
 }
 
 #endif // BC_ENABLE_LINE_LIB
diff --git a/src/history.c b/src/history.c
index 924b62b4..32a19f71 100644
--- a/src/history.c
+++ b/src/history.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -264,7 +264,18 @@ bc_history_line(BcHistory* h, BcVec* vec, const char* prompt)
 	errno = EINTR;
 
 	// Get the line.
-	while (line == NULL && len == -1 && errno == EINTR)
+	//
+	// XXX: Why have a macro here? Because macOS needs to be special. Honestly,
+	// it's starting to feel special like Windows at this point. Anyway, the
+	// second SIGWINCH signal of multiple will  return a valid line length on
+	// macOS, so we need to allow for that on macOS. However, FreeBSD's editline
+	// is different and will mess up the terminal if we do it that way.
+	//
+	// There is one limitation with this, however: Ctrl+D won't work on macOS.
+	// But it's because of macOS that this problem exists, and I can't really do
+	// anything about it. So macOS should fix their broken editline; once they
+	// do, I'll fix Ctrl+D on macOS.
+	while (BC_HISTORY_INVALID_LINE(line, len))
 	{
 		line = el_gets(h->el, &len);
 		bc_history_use_prompt = false;
diff --git a/src/lang.c b/src/lang.c
index b1c7d480..7968bcbd 100644
--- a/src/lang.c
+++ b/src/lang.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -136,7 +136,7 @@ bc_func_reset(BcFunc* f)
 #endif // BC_ENABLED
 }
 
-#if BC_DEBUG
+#if BC_DEBUG || BC_ENABLE_MEMCHECK
 void
 bc_func_free(void* func)
 {
@@ -155,7 +155,7 @@ bc_func_free(void* func)
 	}
 #endif // BC_ENABLED
 }
-#endif // BC_DEBUG
+#endif // BC_DEBUG || BC_ENABLE_MEMCHECK
 
 void
 bc_array_init(BcVec* a, bool nums)
diff --git a/src/lex.c b/src/lex.c
index 7dc1fb03..37e52c33 100644
--- a/src/lex.c
+++ b/src/lex.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -79,7 +79,9 @@ bc_lex_comment(BcLex* l)
 		got_more = false;
 
 		// If we are in stdin mode, the buffer must be the one used for stdin.
+#if !BC_ENABLE_OSSFUZZ
 		assert(vm->mode != BC_MODE_STDIN || buf == vm->buffer.v);
+#endif // !BC_ENABLE_OSSFUZZ
 
 		// Find the end of the comment.
 		for (i = l->i; !end; i += !end)
@@ -93,11 +95,13 @@ bc_lex_comment(BcLex* l)
 			// If this is true, we need to request more data.
 			if (BC_ERR(!c || buf[i + 1] == '\0'))
 			{
+#if !BC_ENABLE_OSSFUZZ
 				// Read more, if possible.
 				if (!vm->eof && l->mode != BC_MODE_FILE)
 				{
 					got_more = bc_lex_readLine(l);
 				}
+#endif // !BC_ENABLE_OSSFUZZ
 
 				break;
 			}
@@ -363,12 +367,16 @@ bc_lex_readLine(BcLex* l)
 			break;
 		}
 
+#if !BC_ENABLE_OSSFUZZ
+
 		case BC_MODE_STDIN:
 		{
 			good = bc_vm_readLine(false);
 			break;
 		}
 
+#endif // !BC_ENABLE_OSSFUZZ
+
 #ifdef __GNUC__
 #ifndef __clang__
 		default:
diff --git a/src/library.c b/src/library.c
index cc32a3a3..5451e916 100644
--- a/src/library.c
+++ b/src/library.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/src/main.c b/src/main.c
index 7809925d..da4c2715 100644
--- a/src/main.c
+++ b/src/main.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -54,8 +54,9 @@
 #include <dc.h>
 
 int
-main(int argc, char* argv[])
+main(int argc, const char* argv[])
 {
+	BcStatus s;
 	char* name;
 	size_t len = strlen(BC_EXECPREFIX);
 
@@ -99,19 +100,29 @@ main(int argc, char* argv[])
 
 	BC_SETJMP_LOCKED(vm, exit);
 
+#if BC_CLANG
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wcast-qual"
+#endif // BC_CLANG
 #if !DC_ENABLED
-	bc_main(argc, argv);
+	s = bc_main(argc, (const char**) argv);
 #elif !BC_ENABLED
-	dc_main(argc, argv);
+	s = dc_main(argc, (const char**) argv);
 #else
 	// BC_IS_BC uses vm->name, which was set above. So we're good.
-	if (BC_IS_BC) bc_main(argc, argv);
-	else dc_main(argc, argv);
+	if (BC_IS_BC) s = bc_main(argc, (const char**) argv);
+	else s = dc_main(argc, (const char**) argv);
 #endif
+#if BC_CLANG
+#pragma clang diagnostic pop
+#endif // BC_CLANG
+
+	vm->status = (sig_atomic_t) s;
 
 exit:
 	BC_SIG_MAYLOCK;
 
-	// Ensure we exit appropriately.
-	return bc_vm_atexit((int) vm->status);
+	s = bc_vm_atexit((BcStatus) vm->status);
+
+	return (int) s;
 }
diff --git a/src/num.c b/src/num.c
index e45aa62d..83f84edb 100644
--- a/src/num.c
+++ b/src/num.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -214,6 +214,26 @@ bc_num_zeroDigits(const BcDig* n)
 	return BC_BASE_DIGS - bc_num_log10((size_t) *n);
 }
 
+/**
+ * Returns the power of 10 that the least significant limb should be multiplied
+ * by to put its digits in the right place. For example, if the scale only
+ * reaches 8 places into the limb, this will return 1 (because it should be
+ * multiplied by 10^1) to put the number in the correct place.
+ * @param scale  The scale.
+ * @return       The power of 10 that the least significant limb should be
+ *               multiplied by
+ */
+static inline size_t
+bc_num_leastSigPow(size_t scale)
+{
+	size_t digs;
+
+	digs = scale % BC_BASE_DIGS;
+	digs = digs != 0 ? BC_BASE_DIGS - digs : 0;
+
+	return bc_num_pow10[digs];
+}
+
 /**
  * Return the total number of integer digits in a number. This is the opposite
  * of scale, like bc_num_int() is the opposite of rdx.
@@ -254,6 +274,37 @@ bc_num_nonZeroLen(const BcNum* restrict n)
 	return i + 1;
 }
 
+#if BC_ENABLE_EXTRA_MATH
+
+/**
+ * Returns the power of 10 that a number with an absolute value less than 1
+ * needs to be multiplied by in order to be greater than 1 or less than -1.
+ * @param n  The number.
+ * @return   The power of 10 that a number greater than 1 and less than -1 must
+ *           be multiplied by to be greater than 1 or less than -1.
+ */
+static size_t
+bc_num_negPow10(const BcNum* restrict n)
+{
+	// Figure out how many limbs after the decimal point is zero.
+	size_t i, places, idx = bc_num_nonZeroLen(n) - 1;
+
+	places = 1;
+
+	// Figure out how much in the last limb is zero.
+	for (i = BC_BASE_DIGS - 1; i < BC_BASE_DIGS; --i)
+	{
+		if (bc_num_pow10[i] > (BcBigDig) n->num[idx]) places += 1;
+		else break;
+	}
+
+	// Calculate the combination of zero limbs and zero digits in the last
+	// limb.
+	return places + (BC_NUM_RDX_VAL(n) - (idx + 1)) * BC_BASE_DIGS;
+}
+
+#endif // BC_ENABLE_EXTRA_MATH
+
 /**
  * Performs a one-limb add with a carry.
  * @param a      The first limb.
@@ -547,10 +598,8 @@ bc_num_truncate(BcNum* restrict n, size_t places)
 		size_t pow;
 
 		// This calculates how many decimal digits are in the least significant
-		// limb.
-		pow = n->scale % BC_BASE_DIGS;
-		pow = pow ? BC_BASE_DIGS - pow : 0;
-		pow = bc_num_pow10[pow];
+		// limb, then gets the power for that.
+		pow = bc_num_leastSigPow(n->scale);
 
 		n->len -= places_rdx;
 
@@ -1911,6 +1960,9 @@ bc_num_d(BcNum* a, BcNum* b, BcNum* restrict c, size_t scale)
 	// actual algorithm easier to understand because it can assume a lot of
 	// things. Thus, you should view all of this setup code as establishing
 	// assumptions for bc_num_d_long(), where the actual division happens.
+	//
+	// But in short, this setup makes it so bc_num_d_long() can pretend the
+	// numbers are integers.
 	if (cpardx == cpa.len) cpa.len = bc_num_nonZeroLen(&cpa);
 	if (BC_NUM_RDX_VAL_NP(cpb) == cpb.len) cpb.len = bc_num_nonZeroLen(&cpb);
 	cpb.scale = 0;
@@ -2860,21 +2912,11 @@ bc_num_printExponent(const BcNum* restrict n, bool eng, bool newline)
 	// number is all fractional or not, obviously.
 	if (neg)
 	{
-		// Figure out how many limbs after the decimal point is zero.
-		size_t i, idx = bc_num_nonZeroLen(n) - 1;
+		// Figure out the negative power of 10.
+		places = bc_num_negPow10(n);
 
-		places = 1;
-
-		// Figure out how much in the last limb is zero.
-		for (i = BC_BASE_DIGS - 1; i < BC_BASE_DIGS; --i)
-		{
-			if (bc_num_pow10[i] > (BcBigDig) n->num[idx]) places += 1;
-			else break;
-		}
-
-		// Calculate the combination of zero limbs and zero digits in the last
-		// limb.
-		places += (nrdx - (idx + 1)) * BC_BASE_DIGS;
+		// Figure out how many digits mod 3 there are (important for
+		// engineering mode).
 		mod = places % 3;
 
 		// Calculate places if we are in engineering mode.
@@ -3207,12 +3249,30 @@ bc_num_printNum(BcNum* restrict n, BcBigDig base, size_t len,
 		assert(ptr != NULL);
 
 		// While the first three arguments should be self-explanatory, the last
-		// needs explaining. I don't want to print a newline when the last digit
-		// to be printed could take the place of the backslash rather than being
-		// pushed, as a single character, to the next line. That's what that
-		// last argument does for bc.
+		// needs explaining. I don't want to print a backslash+newline when the
+		// last digit to be printed could take the place of the backslash rather
+		// than being pushed, as a single character, to the next line. That's
+		// what that last argument does for bc.
+		//
+		// First, it needs to check if newlines are completely disabled. If they
+		// are not disabled, it needs to check the next part.
+		//
+		// If the number has a scale, then because we are printing just the
+		// integer part, there will be at least two more characters (a radix
+		// point plus at least one digit). So if there is a scale, a backslash
+		// is necessary.
+		//
+		// Finally, the last condition checks to see if we are at the end of the
+		// stack. If we are *not* (i.e., the index is not one less than the
+		// stack length), then a backslash is necessary because there is at
+		// least one more character for at least one more digit). Otherwise, if
+		// the index is equal to one less than the stack length, we want to
+		// disable backslash printing.
+		//
+		// The function that prints bases 17 and above will take care of not
+		// printing a backslash in the right case.
 		print(*ptr, len, false,
-		      !newline || (n->scale != 0 || i == stack.len - 1));
+		      !newline || (n->scale != 0 || i < stack.len - 1));
 	}
 
 	// We are done if there is no fractional part.
@@ -4091,13 +4151,14 @@ bc_num_sqrt(BcNum* restrict a, BcNum* restrict b, size_t scale)
 
 	// Square root needs half of the length of the parameter.
 	req = bc_vm_growSize(BC_MAX(rdx, BC_NUM_RDX_VAL(a)), len >> 1);
+	req = bc_vm_growSize(req, 1);
 
 	BC_SIG_LOCK;
 
 	// Unlike the binary operators, this function is the only single parameter
 	// function and is expected to initialize the result. This means that it
 	// expects that b is *NOT* preallocated. We allocate it here.
-	bc_num_init(b, bc_vm_growSize(req, 1));
+	bc_num_init(b, req);
 
 	BC_SIG_UNLOCK;
 
@@ -4130,13 +4191,12 @@ bc_num_sqrt(BcNum* restrict a, BcNum* restrict b, size_t scale)
 	bc_num_init(&num2, len);
 	bc_num_setup(&half, half_digs, sizeof(half_digs) / sizeof(BcDig));
 
-	// There is a division by two in the formula. We setup a number that's 1/2
+	// There is a division by two in the formula. We set up a number that's 1/2
 	// so that we can use multiplication instead of heavy division.
-	bc_num_one(&half);
+	bc_num_setToZero(&half, 1);
 	half.num[0] = BC_BASE_POW / 2;
 	half.len = 1;
 	BC_NUM_RDX_SET_NP(half, 1);
-	half.scale = 1;
 
 	bc_num_init(&f, len);
 	bc_num_init(&fprime, len);
@@ -4156,8 +4216,9 @@ bc_num_sqrt(BcNum* restrict a, BcNum* restrict b, size_t scale)
 	pow = bc_num_intDigits(a);
 
 	// The code in this if statement calculates the initial estimate. First, if
-	// a is less than 0, then 0 is a good estimate. Otherwise, we want something
-	// in the same ballpark. That ballpark is pow.
+	// a is less than 1, then 0 is a good estimate. Otherwise, we want something
+	// in the same ballpark. That ballpark is half of pow because the result
+	// will have half the digits.
 	if (pow)
 	{
 		// An odd number is served by starting with 2^((pow-1)/2), and an even
diff --git a/src/opt.c b/src/opt.c
index dada7442..a1c8e813 100644
--- a/src/opt.c
+++ b/src/opt.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -143,8 +143,8 @@ static int
 bc_opt_parseShort(BcOpt* o, const BcOptLong* longopts)
 {
 	int type;
-	char* next;
-	char* option = o->argv[o->optind];
+	const char* next;
+	const char* option = o->argv[o->optind];
 	int ret = -1;
 
 	// Make sure to clear these.
@@ -273,8 +273,8 @@ bc_opt_longoptsMatch(const char* name, const char* option)
  * @param option  The option to find the argument of.
  * @return        A pointer to the argument of the option, or NULL if none.
  */
-static char*
-bc_opt_longoptsArg(char* option)
+static const char*
+bc_opt_longoptsArg(const char* option)
 {
 	// Find the end or equals sign.
 	for (; *option && *option != '='; ++option)
@@ -290,7 +290,7 @@ int
 bc_opt_parse(BcOpt* o, const BcOptLong* longopts)
 {
 	size_t i;
-	char* option;
+	const char* option;
 	bool empty;
 
 	// This just eats empty options.
@@ -332,7 +332,7 @@ bc_opt_parse(BcOpt* o, const BcOptLong* longopts)
 		// If we have a match...
 		if (bc_opt_longoptsMatch(name, option))
 		{
-			char* arg;
+			const char* arg;
 
 			// Get the option char and the argument.
 			o->optopt = longopts[i].val;
@@ -385,7 +385,7 @@ bc_opt_parse(BcOpt* o, const BcOptLong* longopts)
 }
 
 void
-bc_opt_init(BcOpt* o, char* argv[])
+bc_opt_init(BcOpt* o, const char* argv[])
 {
 	o->argv = argv;
 	o->optind = 1;
diff --git a/src/parse.c b/src/parse.c
index b02a195f..0107d4cd 100644
--- a/src/parse.c
+++ b/src/parse.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/src/program.c b/src/program.c
index 2f265891..469835d3 100644
--- a/src/program.c
+++ b/src/program.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -2803,7 +2803,7 @@ bc_program_insertFunc(BcProgram* p, const char* name)
 	return idx;
 }
 
-#if BC_DEBUG
+#if BC_DEBUG || BC_ENABLE_MEMCHECK
 void
 bc_program_free(BcProgram* p)
 {
@@ -2850,7 +2850,7 @@ bc_program_free(BcProgram* p)
 	if (BC_IS_DC) bc_vec_free(&p->tail_calls);
 #endif // DC_ENABLED
 }
-#endif // BC_DEBUG
+#endif // BC_DEBUG || BC_ENABLE_MEMCHECK
 
 void
 bc_program_init(BcProgram* p)
@@ -2977,9 +2977,8 @@ bc_program_reset(BcProgram* p)
 
 	BC_SIG_ASSERT_LOCKED;
 
-	// Pop all but the last execution and all results.
+	// Pop all but the last execution.
 	bc_vec_npop(&p->stack, p->stack.len - 1);
-	bc_vec_popAll(&p->results);
 
 #if DC_ENABLED
 	// We need to pop tail calls too.
@@ -2987,6 +2986,12 @@ bc_program_reset(BcProgram* p)
 #endif // DC_ENABLED
 
 #if BC_ENABLED
+	// Clear the stack if we are in bc. We have to do this in bc because bc's
+	// stack is implicit.
+	//
+	// XXX: We don't do this in dc because other dc implementations don't.
+	if (BC_IS_BC || !BC_I) bc_vec_popAll(&p->results);
+
 	// Clear the globals' stacks.
 	if (BC_G) bc_program_popGlobals(p, true);
 #endif // BC_ENABLED
@@ -3034,10 +3039,12 @@ bc_program_exec(BcProgram* p)
 #if BC_HAS_COMPUTED_GOTO
 
 #if BC_GCC
+#pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wpedantic"
 #endif // BC_GCC
 
 #if BC_CLANG
+#pragma clang diagnostic push
 #pragma clang diagnostic ignored "-Wgnu-label-as-value"
 #endif // BC_CLANG
 
@@ -3045,11 +3052,11 @@ bc_program_exec(BcProgram* p)
 	BC_PROG_LBLS_ASSERT;
 
 #if BC_CLANG
-#pragma clang diagnostic warning "-Wgnu-label-as-value"
+#pragma clang diagnostic pop
 #endif // BC_CLANG
 
 #if BC_GCC
-#pragma GCC diagnostic warning "-Wpedantic"
+#pragma GCC diagnostic pop
 #endif // BC_GCC
 
 	// BC_INST_INVALID is a marker for the end so that we don't have to have an
@@ -3080,10 +3087,12 @@ bc_program_exec(BcProgram* p)
 #if BC_HAS_COMPUTED_GOTO
 
 #if BC_GCC
+#pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wpedantic"
 #endif // BC_GCC
 
 #if BC_CLANG
+#pragma clang diagnostic push
 #pragma clang diagnostic ignored "-Wgnu-label-as-value"
 #endif // BC_CLANG
 
@@ -3706,11 +3715,11 @@ bc_program_exec(BcProgram* p)
 #if BC_HAS_COMPUTED_GOTO
 
 #if BC_CLANG
-#pragma clang diagnostic warning "-Wgnu-label-as-value"
+#pragma clang diagnostic pop
 #endif // BC_CLANG
 
 #if BC_GCC
-#pragma GCC diagnostic warning "-Wpedantic"
+#pragma GCC diagnostic pop
 #endif // BC_GCC
 
 #else // BC_HAS_COMPUTED_GOTO
@@ -3780,7 +3789,7 @@ bc_program_printStr(const BcProgram* p, const char* restrict code,
 	size_t idx = bc_program_index(code, bgn);
 	char* s;
 
-	s = *((char**) bc_vec_item(p->strs, idx));
+	s = *((char**) bc_vec_item(&p->strs, idx));
 
 	bc_vm_printf(" (\"%s\") ", s);
 }
@@ -3803,7 +3812,7 @@ bc_program_printInst(const BcProgram* p, const char* restrict code,
 	else if (inst == BC_INST_NUM)
 	{
 		size_t idx = bc_program_index(code, bgn);
-		BcConst* c = bc_vec_item(p->consts, idx);
+		BcConst* c = bc_vec_item(&p->consts, idx);
 		bc_vm_printf("(%s)", c->val);
 	}
 	else if (inst == BC_INST_CALL ||
diff --git a/src/rand.c b/src/rand.c
index 560e4942..0f995078 100644
--- a/src/rand.c
+++ b/src/rand.c
@@ -13,7 +13,7 @@
  * This code is under the following license:
  *
  * Copyright (c) 2014-2017 Melissa O'Neill and PCG Project contributors
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Permission is hereby granted, free of charge, to any person obtaining a copy
  * of this software and associated documentation files (the "Software"), to deal
diff --git a/src/read.c b/src/read.c
index de9e24ed..01d80484 100644
--- a/src/read.c
+++ b/src/read.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/src/vector.c b/src/vector.c
index 5995dc7d..4b49e619 100644
--- a/src/vector.c
+++ b/src/vector.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/src/vm.c b/src/vm.c
index 41da0fd9..b97fa376 100644
--- a/src/vm.c
+++ b/src/vm.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
@@ -66,6 +66,9 @@
 #if BC_ENABLE_LIBRARY
 #include <library.h>
 #endif // BC_ENABLE_LIBRARY
+#if BC_ENABLE_OSSFUZZ
+#include <ossfuzz.h>
+#endif // BC_ENABLE_OSSFUZZ
 
 #if !BC_ENABLE_LIBRARY
 
@@ -214,16 +217,17 @@ bc_vm_sigaction(void)
 	struct sigaction sa;
 
 	sigemptyset(&sa.sa_mask);
-	sa.sa_flags = 0;
+	sa.sa_flags = BC_ENABLE_EDITLINE ? 0 : SA_NODEFER;
 
 	// This mess is to silence a warning on Clang with regards to glibc's
 	// sigaction handler, which activates the warning here.
 #if BC_CLANG
+#pragma clang diagnostic push
 #pragma clang diagnostic ignored "-Wdisabled-macro-expansion"
 #endif // BC_CLANG
 	sa.sa_handler = bc_vm_sig;
 #if BC_CLANG
-#pragma clang diagnostic warning "-Wdisabled-macro-expansion"
+#pragma clang diagnostic pop
 #endif // BC_CLANG
 
 	sigaction(SIGTERM, &sa, NULL);
@@ -358,6 +362,7 @@ bc_vm_handleError(BcErr e, size_t line, ...)
 #endif // BC_DEBUG
 {
 	BcStatus s;
+	BcStatus fout_s;
 	va_list args;
 	uchar id = bc_err_ids[e];
 	const char* err_type = vm->err_ids[id];
@@ -383,14 +388,9 @@ bc_vm_handleError(BcErr e, size_t line, ...)
 	BC_SIG_TRYLOCK(lock);
 
 	// Make sure all of stdout is written first.
-	s = bc_file_flushErr(&vm->fout, bc_flush_err);
+	fout_s = bc_file_flushErr(&vm->fout, bc_flush_err);
 
-	// Just jump out if the flush failed; there's nothing we can do.
-	if (BC_ERR(s == BC_STATUS_ERROR_FATAL))
-	{
-		vm->status = (sig_atomic_t) s;
-		BC_JMP;
-	}
+	// XXX: Keep the status for later.
 
 	// Print the error message.
 	va_start(args, line);
@@ -429,18 +429,40 @@ bc_vm_handleError(BcErr e, size_t line, ...)
 
 	bc_file_puts(&vm->ferr, bc_flush_none, "\n");
 
+	// If flushing to stdout failed, try to print *that* error, as long as that
+	// was not the error already.
+	if (fout_s == BC_STATUS_ERROR_FATAL && e != BC_ERR_FATAL_IO_ERR)
+	{
+		bc_file_putchar(&vm->ferr, bc_flush_none, '\n');
+		bc_file_puts(&vm->ferr, bc_flush_none,
+		             vm->err_ids[bc_err_ids[BC_ERR_FATAL_IO_ERR]]);
+		bc_file_putchar(&vm->ferr, bc_flush_none, ' ');
+		bc_file_puts(&vm->ferr, bc_flush_none,
+		             vm->err_msgs[BC_ERR_FATAL_IO_ERR]);
+	}
+
 	s = bc_file_flushErr(&vm->ferr, bc_flush_err);
 
 #if !BC_ENABLE_MEMCHECK
+
 	// Because this function is called by a BC_NORETURN function when fatal
 	// errors happen, we need to make sure to exit on fatal errors. This will
 	// be faster anyway. This function *cannot jump when a fatal error occurs!*
-	if (BC_ERR(id == BC_ERR_IDX_FATAL || s == BC_STATUS_ERROR_FATAL))
+	if (BC_ERR(id == BC_ERR_IDX_FATAL || fout_s == BC_STATUS_ERROR_FATAL ||
+	           s == BC_STATUS_ERROR_FATAL))
 	{
-		exit(bc_vm_atexit((int) BC_STATUS_ERROR_FATAL));
+		exit((int) BC_STATUS_ERROR_FATAL);
 	}
+
 #else // !BC_ENABLE_MEMCHECK
-	if (BC_ERR(s == BC_STATUS_ERROR_FATAL)) vm->status = (sig_atomic_t) s;
+	if (BC_ERR(fout_s == BC_STATUS_ERROR_FATAL))
+	{
+		vm->status = (sig_atomic_t) fout_s;
+	}
+	else if (BC_ERR(s == BC_STATUS_ERROR_FATAL))
+	{
+		vm->status = (sig_atomic_t) s;
+	}
 	else
 #endif // !BC_ENABLE_MEMCHECK
 	{
@@ -656,7 +678,7 @@ bc_vm_shutdown(void)
 #endif // BC_ENABLE_HISTORY
 #endif // !BC_ENABLE_LIBRARY
 
-#if BC_DEBUG
+#if BC_DEBUG || BC_ENABLE_MEMCHECK
 #if !BC_ENABLE_LIBRARY
 	bc_vec_free(&vm->env_args);
 	free(vm->env_args_buffer);
@@ -676,7 +698,7 @@ bc_vm_shutdown(void)
 #endif // !BC_ENABLE_LIBRARY
 
 	bc_vm_freeTemps();
-#endif // BC_DEBUG
+#endif // BC_DEBUG || BC_ENABLE_MEMCHECK
 
 #if !BC_ENABLE_LIBRARY
 	// We always want to flush.
@@ -1122,6 +1144,8 @@ err:
 	BC_LONGJMP_CONT(vm);
 }
 
+#if !BC_ENABLE_OSSFUZZ
+
 bool
 bc_vm_readLine(bool clear)
 {
@@ -1258,6 +1282,8 @@ err:
 	BC_LONGJMP_CONT(vm);
 }
 
+#endif // BC_ENABLE_OSSFUZZ
+
 bool
 bc_vm_readBuf(bool clear)
 {
@@ -1477,6 +1503,8 @@ bc_vm_exec(void)
 	}
 #endif // BC_ENABLED
 
+	assert(!BC_ENABLE_OSSFUZZ || BC_EXPR_EXIT == 0);
+
 	// If there are expressions to execute...
 	if (vm->exprs.len)
 	{
@@ -1484,7 +1512,11 @@ bc_vm_exec(void)
 		bc_vm_exprs();
 
 		// Sometimes, executing expressions means we need to quit.
-		if (!vm->no_exprs && vm->exit_exprs && BC_EXPR_EXIT) return;
+		if (vm->status != BC_STATUS_SUCCESS ||
+		    (!vm->no_exprs && vm->exit_exprs && BC_EXPR_EXIT))
+		{
+			return;
+		}
 	}
 
 	// Process files.
@@ -1496,6 +1528,8 @@ bc_vm_exec(void)
 		has_file = true;
 #endif // DC_ENABLED
 		bc_vm_file(path);
+
+		if (vm->status != BC_STATUS_SUCCESS) return;
 	}
 
 #if BC_ENABLE_EXTRA_MATH
@@ -1524,12 +1558,25 @@ bc_vm_exec(void)
 	__AFL_INIT();
 #endif // BC_ENABLE_AFL
 
+#if BC_ENABLE_OSSFUZZ
+
+	if (BC_VM_RUN_STDIN(has_file))
+	{
+		// XXX: Yes, this is a hack to run the fuzzer for OSS-Fuzz, but it
+		// works.
+		bc_vm_load("<stdin>", (const char*) bc_fuzzer_data);
+	}
+
+#else // BC_ENABLE_OSSFUZZ
+
 	// Execute from stdin. bc always does.
 	if (BC_VM_RUN_STDIN(has_file)) bc_vm_stdin();
+
+#endif // BC_ENABLE_OSSFUZZ
 }
 
-void
-bc_vm_boot(int argc, char* argv[])
+BcStatus
+bc_vm_boot(int argc, const char* argv[])
 {
 	int ttyin, ttyout, ttyerr;
 	bool tty;
@@ -1572,8 +1619,8 @@ bc_vm_boot(int argc, char* argv[])
 #if BC_ENABLE_LINE_LIB
 
 	// Initialize the output file buffers.
-	bc_file_init(&vm->ferr, stderr);
-	bc_file_init(&vm->fout, stdout);
+	bc_file_init(&vm->ferr, stderr, true);
+	bc_file_init(&vm->fout, stdout, false);
 
 	// Set the input buffer.
 	vm->buf = output_bufs;
@@ -1583,8 +1630,9 @@ bc_vm_boot(int argc, char* argv[])
 	// Initialize the output file buffers. They each take portions of the global
 	// buffer. stdout gets more because it will probably have more data.
 	bc_file_init(&vm->ferr, STDERR_FILENO, output_bufs + BC_VM_STDOUT_BUF_SIZE,
-	             BC_VM_STDERR_BUF_SIZE);
-	bc_file_init(&vm->fout, STDOUT_FILENO, output_bufs, BC_VM_STDOUT_BUF_SIZE);
+	             BC_VM_STDERR_BUF_SIZE, true);
+	bc_file_init(&vm->fout, STDOUT_FILENO, output_bufs, BC_VM_STDOUT_BUF_SIZE,
+	             false);
 
 	// Set the input buffer to the rest of the global buffer.
 	vm->buf = output_bufs + BC_VM_STDOUT_BUF_SIZE + BC_VM_STDERR_BUF_SIZE;
@@ -1716,6 +1764,11 @@ bc_vm_boot(int argc, char* argv[])
 
 	// Start executing.
 	bc_vm_exec();
+
+	BC_SIG_LOCK;
+
+	// Exit.
+	return (BcStatus) vm->status;
 }
 #endif // !BC_ENABLE_LIBRARY
 
@@ -1786,11 +1839,11 @@ bc_vm_atexit(void)
 #endif // BC_DEBUG
 }
 #else // BC_ENABLE_LIBRARY
-int
-bc_vm_atexit(int status)
+BcStatus
+bc_vm_atexit(BcStatus status)
 {
 	// Set the status correctly.
-	int s = BC_STATUS_IS_ERROR(status) ? status : BC_STATUS_SUCCESS;
+	BcStatus s = BC_STATUS_IS_ERROR(status) ? status : BC_STATUS_SUCCESS;
 
 	bc_vm_shutdown();
 
diff --git a/tests/all.sh b/tests/all.sh
index 9174d398..28631c04 100755
--- a/tests/all.sh
+++ b/tests/all.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/bc/errors/37.txt b/tests/bc/errors/37.txt
new file mode 100644
index 00000000..e7c504dc
--- /dev/null
+++ b/tests/bc/errors/37.txt
@@ -0,0 +1,37 @@
+print f
+if(6)H
+if(6)streafoob#! /q
+
+define printarray(a[], len) {
+
+	auto i
+
+	for (i = 0; i < len; ++i) {
+		m[i]
+	}
+}
+
+define a2(a[], len) {
+
+	auto i
+
+	for (i = 0; i < len; ++i) {
+		a[i] = a[i] * a[i]
+	}
+
+	printarray(a[], len)
+}
+define a1(*a[], len) {
+
+	auto i
+
+	for (i = 0; i < len; ++i) {
+		a[i] = i
+	}
+
+	a2(a[], len)
+
+	printarray(a[], len)
+}
+len = 16
+a1(b[] ++ase^= , len)
diff --git a/tests/bc/errors/38.txt b/tests/bc/errors/38.txt
new file mode 100644
index 00000000..b0f9eb22
--- /dev/null
+++ b/tests/bc/errors/38.txt
@@ -0,0 +1,37 @@
+print f
+if(6)H
+if(6)streafoob#! /q
+
+define printarray(a[], len) {
+
+	auto i
+
+	for (i = 0; i < len; ++i) {
+		m[i]
+	}
+}
+
+define a2(a[], len) {
+
+	auto i
+
+	for (i = 0; i < len; ++i) {
+		a[i] = a[i] * a[i]
+	}
+
+	printarray(a[], len)
+}
+define a1(*a[], len) {
+
+	auto i
+
+	for (i = 0; i < len; ++i) {
+		a[i] = i
+	}
+
+	a2(a[], len)
+
+	printarray(a[], len)
+}
+len = 16
+a1((b[]) + ++ase^= , len)
diff --git a/tests/bc/scripts/all.txt b/tests/bc/scripts/all.txt
index a226bed5..7b49f7c4 100644
--- a/tests/bc/scripts/all.txt
+++ b/tests/bc/scripts/all.txt
@@ -3,6 +3,7 @@ divide.bc
 subtract.bc
 add.bc
 print.bc
+print2.bc
 parse.bc
 root.bc
 array.bc
@@ -19,3 +20,4 @@ strings2.bc
 ifs.bc
 ifs2.bc
 afl1.bc
+i2rand.bc
diff --git a/tests/bc/scripts/i2rand.bc b/tests/bc/scripts/i2rand.bc
new file mode 100644
index 00000000..4af770db
--- /dev/null
+++ b/tests/bc/scripts/i2rand.bc
@@ -0,0 +1,29 @@
+#! /usr/bin/bc -lq
+
+for (i = 0; i < 10; ++i)
+{
+	if (brand()) {
+		a = srand(ifrand(101, scale))
+	}
+	else {
+		a = srand(irand(101))
+	}
+
+	if (brand()) {
+		b = srand(ifrand(101, scale))
+	}
+	else {
+		b = srand(irand(101))
+	}
+
+	min = min(a$, b$)
+	max = max(a$, b$)
+
+	for (j = 0; j < 100; ++j)
+	{
+		r = i2rand(a, b)
+		r >= min && r <= max
+	}
+}
+
+halt
diff --git a/tests/bc/scripts/i2rand.txt b/tests/bc/scripts/i2rand.txt
new file mode 100644
index 00000000..e2bb702d
--- /dev/null
+++ b/tests/bc/scripts/i2rand.txt
@@ -0,0 +1,1000 @@
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
+1
diff --git a/tests/bc/scripts/print2.bc b/tests/bc/scripts/print2.bc
new file mode 100644
index 00000000..5f346692
--- /dev/null
+++ b/tests/bc/scripts/print2.bc
@@ -0,0 +1,63 @@
+#! /usr/bin/bc -q
+
+l = line_length()
+
+max = 128
+scale = 0
+
+obase=2
+2^99
+2^100
+2^105
+
+for (i = 2; i < max; ++i)
+{
+	obase=i
+	if (obase < 17)
+	{
+		1 * i^(l - 1)
+		1 * i^l
+		1 * i^(l + 1)
+	}
+	else if (obase >= 17 && obase <= 100)
+	{
+		l2 = l/3
+		1 * i^(l2 - 1)
+		1 * i^l2
+		1 * i^(l2 + 1)
+	}
+	else
+	{
+		l2 = l/4
+		1 * i^(l2 - 1)
+		1 * i^l2
+		1 * i^(l2 + 1)
+	}
+}
+
+if (maxobase() > 2^18)
+{
+	obase=2^18
+	1 * i^(100)
+	1 * i^(101)
+	1 * i^(103)
+}
+else
+{
+	print " 065536 000000 000000 000000 000000 000000 000000 000000 000000 0000\\\n"
+	print "00 000000 000000 000000 000000 000000 000000 000000 000000 000000 00\\\n"
+	print "0000 000000 000000 000000 000000 000000 000000 000000 000000 000000 \\\n"
+	print "000000 000000 000000 000000 000000 000000 000000 000000 000000 000000\n"
+	print " 000032 000000 000000 000000 000000 000000 000000 000000 000000 0000\\\n"
+	print "00 000000 000000 000000 000000 000000 000000 000000 000000 000000 00\\\n"
+	print "0000 000000 000000 000000 000000 000000 000000 000000 000000 000000 \\\n"
+	print "000000 000000 000000 000000 000000 000000 000000 000000 000000 00000\\\n"
+	print "0 000000\n"
+	print " 000002 000000 000000 000000 000000 000000 000000 000000 000000 0000\\\n"
+	print "00 000000 000000 000000 000000 000000 000000 000000 000000 000000 00\\\n"
+	print "0000 000000 000000 000000 000000 000000 000000 000000 000000 000000 \\\n"
+	print "000000 000000 000000 000000 000000 000000 000000 000000 000000 00000\\\n"
+	print "0 000000 000000\n"
+}
+
+halt
diff --git a/tests/bc/scripts/print2.txt b/tests/bc/scripts/print2.txt
new file mode 100644
index 00000000..208f0ed2
--- /dev/null
+++ b/tests/bc/scripts/print2.txt
@@ -0,0 +1,650 @@
+10000000000000000000000000000000000000000000000000000000000000000000\
+00000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00000000000000000000000000000000000000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+100000000000000000000000000000000000000000000000000000000000000000000
+10000000000000000000000000000000000000000000000000000000000000000000\
+00
+10000000000000000000000000000000000000000000000000000000000000000000\
+000
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00
+ 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0\
+0 00 00
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000
+ 001 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000\
+ 000 000
+ 065536 000000 000000 000000 000000 000000 000000 000000 000000 0000\
+00 000000 000000 000000 000000 000000 000000 000000 000000 000000 00\
+0000 000000 000000 000000 000000 000000 000000 000000 000000 000000 \
+000000 000000 000000 000000 000000 000000 000000 000000 000000 000000
+ 000032 000000 000000 000000 000000 000000 000000 000000 000000 0000\
+00 000000 000000 000000 000000 000000 000000 000000 000000 000000 00\
+0000 000000 000000 000000 000000 000000 000000 000000 000000 000000 \
+000000 000000 000000 000000 000000 000000 000000 000000 000000 00000\
+0 000000
+ 000002 000000 000000 000000 000000 000000 000000 000000 000000 0000\
+00 000000 000000 000000 000000 000000 000000 000000 000000 000000 00\
+0000 000000 000000 000000 000000 000000 000000 000000 000000 000000 \
+000000 000000 000000 000000 000000 000000 000000 000000 000000 00000\
+0 000000 000000
diff --git a/tests/bc/sqrt.txt b/tests/bc/sqrt.txt
index afd87ff0..f0d79a18 100644
--- a/tests/bc/sqrt.txt
+++ b/tests/bc/sqrt.txt
@@ -1,5 +1,7 @@
 scale = 20
 sqrt(0)
+sqrt(1)
+sqrt(1.00000000000)
 sqrt(2)
 sqrt(4)
 sqrt(9)
diff --git a/tests/bc/sqrt_results.txt b/tests/bc/sqrt_results.txt
index 10a4fa95..8ce821f1 100644
--- a/tests/bc/sqrt_results.txt
+++ b/tests/bc/sqrt_results.txt
@@ -1,4 +1,6 @@
 0
+1.00000000000000000000
+1.00000000000000000000
 1.41421356237309504880
 2.00000000000000000000
 3.00000000000000000000
diff --git a/tests/bc/timeconst.sh b/tests/bc/timeconst.sh
index fbd2909e..35bd80d5 100755
--- a/tests/bc/timeconst.sh
+++ b/tests/bc/timeconst.sh
@@ -1,6 +1,6 @@
 #! /bin/sh
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/bcl.c b/tests/bcl.c
index 5bb50c29..3a2df448 100644
--- a/tests/bcl.c
+++ b/tests/bcl.c
@@ -3,7 +3,7 @@
  *
  * SPDX-License-Identifier: BSD-2-Clause
  *
- * Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+ * Copyright (c) 2018-2024 Gavin D. Howard and contributors.
  *
  * Redistribution and use in source and binary forms, with or without
  * modification, are permitted provided that the following conditions are met:
diff --git a/tests/dc/scripts/easter.sh b/tests/dc/scripts/easter.sh
index 1f8e7aa7..ee8fa1d9 100755
--- a/tests/dc/scripts/easter.sh
+++ b/tests/dc/scripts/easter.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/error.sh b/tests/error.sh
index b87a3d35..15cbd557 100755
--- a/tests/error.sh
+++ b/tests/error.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/errors.sh b/tests/errors.sh
index 081beb72..47053f9c 100755
--- a/tests/errors.sh
+++ b/tests/errors.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/fuzzing/bc_afl.yaml b/tests/fuzzing/bc_afl.yaml
index 0f195208..9f40340b 100644
--- a/tests/fuzzing/bc_afl.yaml
+++ b/tests/fuzzing/bc_afl.yaml
@@ -15,6 +15,7 @@ windows:
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -25,12 +26,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 15
-        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p exploit -D -M bc11 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p fast -M bc11 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc12
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -41,12 +43,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 16
-        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p coe -S bc12 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p coe -z -S bc12 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc13
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -57,12 +60,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 17
-        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p fast -S bc13 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p exploit -z -S bc13 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc14
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -73,12 +77,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 18
-        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p explore -S bc14 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p explore -z -S bc14 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc15
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -89,12 +94,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 19
-        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p exploit -D -S bc15 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs1 -o tests/fuzzing/bc_outputs1 -p exploit -S bc15 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc21
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -105,12 +111,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 23
-        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p exploit -D -M bc21 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p fast -M bc21 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc22
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -121,12 +128,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 24
-        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p coe -S bc22 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p coe -z -S bc22 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc23
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -137,12 +145,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 25
-        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p fast -S bc23 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p exploit -z -S bc23 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc24
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -153,12 +162,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 26
-        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p explore -S bc24 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p explore -z -S bc24 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc25
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -169,12 +179,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 27
-        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p exploit -D -S bc25 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i tests/fuzzing/bc_inputs2 -o tests/fuzzing/bc_outputs2 -p exploit -S bc25 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: dc11
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -183,12 +194,13 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 28
-        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p exploit -D -M dc11 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p fast -M dc11 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
   - window_name: dc12
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -197,12 +209,13 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 29
-        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p coe -S dc12 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p coe -z -S dc12 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
   - window_name: dc13
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -211,12 +224,13 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 30
-        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p fast -S dc13 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p exploit -z -S dc13 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
   - window_name: dc14
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -225,12 +239,13 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 31
-        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p explore -S dc14 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p explore -z -S dc14 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
   - window_name: dc15
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -239,4 +254,4 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 32
-        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p exploit -D -S dc15 bin/dc -xC -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i tests/fuzzing/dc_inputs -o tests/fuzzing/dc_outputs -p exploit -S dc15 bin/dc -xC -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
diff --git a/tests/fuzzing/bc_afl_continue.yaml b/tests/fuzzing/bc_afl_continue.yaml
index 9d9efbe7..72088387 100644
--- a/tests/fuzzing/bc_afl_continue.yaml
+++ b/tests/fuzzing/bc_afl_continue.yaml
@@ -13,6 +13,7 @@ windows:
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -23,12 +24,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 4
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p exploit -D -M bc11 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p fast -M bc11 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc12
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -39,12 +41,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 5
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p coe -S bc12 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p coe -z -S bc12 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc13
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -55,12 +58,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 6
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p fast -S bc13 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p exploit -z -S bc13 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc14
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -71,12 +75,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 7
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p explore -S bc14 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p explore -z -S bc14 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc15
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -87,12 +92,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 9
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p exploit -D -S bc15 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs1 -p exploit -S bc15 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc21
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -103,12 +109,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 10
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p exploit -D -M bc21 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p fast -M bc21 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc22
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -119,12 +126,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 11
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p coe -S bc22 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p coe -z -S bc22 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc23
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -135,12 +143,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 12
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p fast -S bc23 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p exploit -z -S bc23 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc24
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -151,12 +160,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 13
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p explore -S bc24 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p explore -z -S bc24 bin/bc -lqc -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: bc25
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset POSIXLY_CORRECT
         - unset BC_BANNER
         - unset BC_ENV_ARGS
@@ -167,12 +177,13 @@ windows:
         - unset BC_EXPR_EXIT
         - unset BC_DIGIT_CLAMP
         - sleep 14
-        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p exploit -D -S bc25 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
+        - afl-fuzz -i- -o tests/fuzzing/bc_outputs2 -p exploit -S bc25 bin/bc -lqC -e "seed = 1280937142.20981723890730892738902938071028973408912703984712093" -f-
   - window_name: dc11
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -181,12 +192,13 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 15
-        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p exploit -D -M dc11 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p fast -M dc11 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
   - window_name: dc12
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -195,12 +207,13 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 16
-        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p coe -S dc12 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p coe -z -S dc12 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
   - window_name: dc13
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -209,12 +222,13 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 17
-        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p fast -S dc13 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p exploit -z -S dc13 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
   - window_name: dc14
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -223,12 +237,13 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 18
-        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p explore -S dc14 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p explore -z -S dc14 bin/dc -xc -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
   - window_name: dc15
     layout: even-horizontal
     panes:
       - shell_command:
         - export AFL_AUTORESUME=1
+        - export AFL_MAP_SIZE=5000000
         - unset DC_ENV_ARGS
         - unset DC_LINE_LENGTH
         - unset DC_SIGINT_RESET
@@ -237,4 +252,4 @@ windows:
         - unset DC_EXPR_EXIT
         - unset DC_DIGIT_CLAMP
         - sleep 19
-        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p exploit -D -S dc15 bin/dc -xC -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
+        - afl-fuzz -i- -o tests/fuzzing/dc_outputs -p exploit -S dc15 bin/dc -xC -e "1280937142.20981723890730892738902938071028973408912703984712093j" -f-
diff --git a/tests/history.py b/tests/history.py
index ced05fe7..a3b72238 100755
--- a/tests/history.py
+++ b/tests/history.py
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -126,8 +126,8 @@ def write_str(child, s):
 # Check the bc banner.
 # @param child  The child process.
 def bc_banner(child):
-	bc_banner1 = "bc [0-9]+\.[0-9]+\.[0-9]+\r\n"
-	bc_banner2 = "Copyright \(c\) 2018-[2-9][0-9][0-9][0-9] Gavin D. Howard and contributors\r\n"
+	bc_banner1 = "bc [0-9]+\\.[0-9]+\\.[0-9]+\r\n"
+	bc_banner2 = "Copyright \\(c\\) 2018-[2-9][0-9][0-9][0-9] Gavin D. Howard and contributors\r\n"
 	bc_banner3 = "Report bugs at: https://git.gavinhoward.com/gavin/bc\r\n\r\n"
 	bc_banner4 = "This is free software with ABSOLUTELY NO WARRANTY.\r\n\r\n"
 	expect(child, bc_banner1)
diff --git a/tests/history.sh b/tests/history.sh
index e68d568d..d06d3c6a 100755
--- a/tests/history.sh
+++ b/tests/history.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/other.sh b/tests/other.sh
index c3a739a3..1012fe91 100755
--- a/tests/other.sh
+++ b/tests/other.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -308,14 +308,14 @@ else
 
 	printf '0\n' > "$ext_reg_res"
 
-	"$exe" "$@" -e "gxpR" 2> /dev/null > "$ext_reg_out"
+	printf '%s\n' "$halt" | "$exe" "$@" -e "gxpR" 2> /dev/null > "$ext_reg_out"
 	err="$?"
 
 	checktest "$d" "$err" "Extended register command" "$ext_reg_out" "$ext_reg_res"
 
 	printf '1\n' > "$ext_reg_res"
 
-	"$exe" "$@" -x -e "gxpR" 2> /dev/null > "$ext_reg_out"
+	printf '%s\n' "$halt" | "$exe" "$@" -x -e "gxpR" 2> /dev/null > "$ext_reg_out"
 	err="$?"
 
 	checktest "$d" "$err" "Extended register command" "$ext_reg_out" "$ext_reg_res"
diff --git a/tests/read.sh b/tests/read.sh
index 4881c10d..fd4b9b67 100755
--- a/tests/read.sh
+++ b/tests/read.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/script.sh b/tests/script.sh
index c38cbabe..b1346ef0 100755
--- a/tests/script.sh
+++ b/tests/script.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
@@ -132,7 +132,7 @@ fi
 
 # Skip the tests that require extra math if we don't have it.
 if [ "$run_extra_tests" -eq 0 ]; then
-	if [ "$f" = "rand.bc" ] || [ "$f" = "root.bc" ]; then
+	if [ "$f" = "rand.bc" ] || [ "$f" = "root.bc" ] || [ "$f" = "i2rand.bc" ]; then
 		printf 'Skipping %s script: %s\n' "$d" "$f"
 		exit 0
 	fi
diff --git a/tests/scripts.sh b/tests/scripts.sh
index dda57e43..2c8af6c0 100755
--- a/tests/scripts.sh
+++ b/tests/scripts.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/stdin.sh b/tests/stdin.sh
index a650c5b9..7061e950 100755
--- a/tests/stdin.sh
+++ b/tests/stdin.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/tests/test.sh b/tests/test.sh
index 343705bf..7b5916f0 100755
--- a/tests/test.sh
+++ b/tests/test.sh
@@ -2,7 +2,7 @@
 #
 # SPDX-License-Identifier: BSD-2-Clause
 #
-# Copyright (c) 2018-2023 Gavin D. Howard and contributors.
+# Copyright (c) 2018-2024 Gavin D. Howard and contributors.
 #
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
diff --git a/vs/bc.vcxproj b/vs/bc.vcxproj
index 312af50e..c98ebc6e 100644
--- a/vs/bc.vcxproj
+++ b/vs/bc.vcxproj
@@ -29,26 +29,26 @@
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
     <ConfigurationType>Application</ConfigurationType>
     <UseDebugLibraries>true</UseDebugLibraries>
-    <PlatformToolset>v142</PlatformToolset>
+    <PlatformToolset>v143</PlatformToolset>
     <CharacterSet>Unicode</CharacterSet>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
     <ConfigurationType>Application</ConfigurationType>
     <UseDebugLibraries>false</UseDebugLibraries>
-    <PlatformToolset>v142</PlatformToolset>
+    <PlatformToolset>v143</PlatformToolset>
     <WholeProgramOptimization>true</WholeProgramOptimization>
     <CharacterSet>Unicode</CharacterSet>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
     <ConfigurationType>Application</ConfigurationType>
     <UseDebugLibraries>true</UseDebugLibraries>
-    <PlatformToolset>v142</PlatformToolset>
+    <PlatformToolset>v143</PlatformToolset>
     <CharacterSet>Unicode</CharacterSet>
   </PropertyGroup>
   <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
     <ConfigurationType>Application</ConfigurationType>
     <UseDebugLibraries>false</UseDebugLibraries>
-    <PlatformToolset>v142</PlatformToolset>
+    <PlatformToolset>v143</PlatformToolset>
     <WholeProgramOptimization>true</WholeProgramOptimization>
     <CharacterSet>Unicode</CharacterSet>
   </PropertyGroup>
@@ -100,9 +100,10 @@
   </PropertyGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <SDLCheck>true</SDLCheck>
-      <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=1;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=0;BC_ENABLE_EDITLINE=0;BC_ENABLE_READLINE=0;BUILD_TYPE=N;BC_DEFAULT_BANNER=1;BC_DEFAULT_SIGINT_RESET=0;DC_DEFAULT_SIGINT_RESET=0;BC_DEFAULT_TTY_MODE=1;DC_DEFAULT_TTY_MODE=1;BC_DEFAULT_PROMPT=1;DC_DEFAULT_PROMPT=1;BC_DEFAULT_EXPR_EXIT=1;DC_DEFAULT_EXPR_EXIT=1;BC_DEFAULT_DIGIT_CLAMP=1;DC_DEFAULT_DIGIT_CLAMP=1;WIN32;_DEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
+      <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=1;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=0;BC_ENABLE_EDITLINE=0;BC_ENABLE_READLINE=0;BC_ENABLE_OSSFUZZ=0;BUILD_TYPE=N;BC_DEFAULT_BANNER=1;BC_DEFAULT_SIGINT_RESET=0;DC_DEFAULT_SIGINT_RESET=0;BC_DEFAULT_TTY_MODE=1;DC_DEFAULT_TTY_MODE=1;BC_DEFAULT_PROMPT=1;DC_DEFAULT_PROMPT=1;BC_DEFAULT_EXPR_EXIT=1;DC_DEFAULT_EXPR_EXIT=1;BC_DEFAULT_DIGIT_CLAMP=1;DC_DEFAULT_DIGIT_CLAMP=1;WIN32;_DEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <AdditionalIncludeDirectories>..\include</AdditionalIncludeDirectories>
       <RuntimeLibrary>MultiThreadedDebug</RuntimeLibrary>
       <ConformanceMode>true</ConformanceMode>
@@ -119,11 +120,12 @@
   </ItemDefinitionGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <SDLCheck>true</SDLCheck>
-      <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=1;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=0;BC_ENABLE_EDITLINE=0;BC_ENABLE_READLINE=0;BUILD_TYPE=N;BC_DEFAULT_BANNER=1;BC_DEFAULT_SIGINT_RESET=0;DC_DEFAULT_SIGINT_RESET=0;BC_DEFAULT_TTY_MODE=1;DC_DEFAULT_TTY_MODE=1;BC_DEFAULT_PROMPT=1;DC_DEFAULT_PROMPT=1;BC_DEFAULT_EXPR_EXIT=1;DC_DEFAULT_EXPR_EXIT=1;BC_DEFAULT_DIGIT_CLAMP=1;DC_DEFAULT_DIGIT_CLAMP=1;WIN32;NDEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
+      <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=1;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=0;BC_ENABLE_EDITLINE=0;BC_ENABLE_READLINE=0;BC_ENABLE_OSSFUZZ=0;BUILD_TYPE=N;BC_DEFAULT_BANNER=1;BC_DEFAULT_SIGINT_RESET=0;DC_DEFAULT_SIGINT_RESET=0;BC_DEFAULT_TTY_MODE=1;DC_DEFAULT_TTY_MODE=1;BC_DEFAULT_PROMPT=1;DC_DEFAULT_PROMPT=1;BC_DEFAULT_EXPR_EXIT=1;DC_DEFAULT_EXPR_EXIT=1;BC_DEFAULT_DIGIT_CLAMP=1;DC_DEFAULT_DIGIT_CLAMP=1;WIN32;NDEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <AdditionalIncludeDirectories>..\include</AdditionalIncludeDirectories>
       <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
       <ConformanceMode>true</ConformanceMode>
@@ -142,9 +144,10 @@
   </ItemDefinitionGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <SDLCheck>true</SDLCheck>
-      <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=1;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=0;BC_ENABLE_EDITLINE=0;BC_ENABLE_READLINE=0;BUILD_TYPE=N;BC_DEFAULT_BANNER=1;BC_DEFAULT_SIGINT_RESET=0;DC_DEFAULT_SIGINT_RESET=0;BC_DEFAULT_TTY_MODE=1;DC_DEFAULT_TTY_MODE=1;BC_DEFAULT_PROMPT=1;DC_DEFAULT_PROMPT=1;BC_DEFAULT_EXPR_EXIT=1;DC_DEFAULT_EXPR_EXIT=1;BC_DEFAULT_DIGIT_CLAMP=1;DC_DEFAULT_DIGIT_CLAMP=1;_DEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
+      <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=1;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=0;BC_ENABLE_EDITLINE=0;BC_ENABLE_READLINE=0;BC_ENABLE_OSSFUZZ=0;BUILD_TYPE=N;BC_DEFAULT_BANNER=1;BC_DEFAULT_SIGINT_RESET=0;DC_DEFAULT_SIGINT_RESET=0;BC_DEFAULT_TTY_MODE=1;DC_DEFAULT_TTY_MODE=1;BC_DEFAULT_PROMPT=1;DC_DEFAULT_PROMPT=1;BC_DEFAULT_EXPR_EXIT=1;DC_DEFAULT_EXPR_EXIT=1;BC_DEFAULT_DIGIT_CLAMP=1;DC_DEFAULT_DIGIT_CLAMP=1;_DEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <AdditionalIncludeDirectories>..\include</AdditionalIncludeDirectories>
       <RuntimeLibrary>MultiThreadedDebug</RuntimeLibrary>
       <ConformanceMode>true</ConformanceMode>
@@ -161,10 +164,11 @@
   </ItemDefinitionGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <SDLCheck>true</SDLCheck>
-      <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=1;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=0;BC_ENABLE_EDITLINE=0;BC_ENABLE_READLINE=0;BUILD_TYPE=N;BC_DEFAULT_BANNER=1;BC_DEFAULT_SIGINT_RESET=0;DC_DEFAULT_SIGINT_RESET=0;BC_DEFAULT_TTY_MODE=1;DC_DEFAULT_TTY_MODE=1;BC_DEFAULT_PROMPT=1;DC_DEFAULT_PROMPT=1;BC_DEFAULT_EXPR_EXIT=1;DC_DEFAULT_EXPR_EXIT=1;BC_DEFAULT_DIGIT_CLAMP=1;DC_DEFAULT_DIGIT_CLAMP=1;NDEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
+      <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=1;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=0;BC_ENABLE_EDITLINE=0;BC_ENABLE_READLINE=0;BC_ENABLE_OSSFUZZ=0;BUILD_TYPE=N;BC_DEFAULT_BANNER=1;BC_DEFAULT_SIGINT_RESET=0;DC_DEFAULT_SIGINT_RESET=0;BC_DEFAULT_TTY_MODE=1;DC_DEFAULT_TTY_MODE=1;BC_DEFAULT_PROMPT=1;DC_DEFAULT_PROMPT=1;BC_DEFAULT_EXPR_EXIT=1;DC_DEFAULT_EXPR_EXIT=1;BC_DEFAULT_DIGIT_CLAMP=1;DC_DEFAULT_DIGIT_CLAMP=1;NDEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <AdditionalIncludeDirectories>..\include</AdditionalIncludeDirectories>
       <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
       <FunctionLevelLinking>true</FunctionLevelLinking>
@@ -295,4 +299,4 @@
   <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
   <ImportGroup Label="ExtensionTargets">
   </ImportGroup>
-</Project>
+</Project>
\ No newline at end of file
diff --git a/vs/bcl.vcxproj b/vs/bcl.vcxproj
index a8de10e9..f838cac7 100644
--- a/vs/bcl.vcxproj
+++ b/vs/bcl.vcxproj
@@ -130,6 +130,7 @@
   </PropertyGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <SDLCheck>true</SDLCheck>
       <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=0;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=1;WIN32;_DEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
@@ -143,6 +144,7 @@
   </ItemDefinitionGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='ReleaseMD|Win32'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
@@ -160,6 +162,7 @@
   </ItemDefinitionGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='ReleaseMT|Win32'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
@@ -178,6 +181,7 @@
   </ItemDefinitionGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <SDLCheck>true</SDLCheck>
       <PreprocessorDefinitions>BC_ENABLED=1;DC_ENABLED=1;BC_ENABLE_EXTRA_MATH=1;BC_ENABLE_HISTORY=0;BC_ENABLE_NLS=0;BC_DEBUG_CODE=0;BC_ENABLE_LIBRARY=1;_DEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
@@ -191,6 +195,7 @@
   </ItemDefinitionGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='ReleaseMD|x64'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
@@ -208,6 +213,7 @@
   </ItemDefinitionGroup>
   <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='ReleaseMT|x64'">
     <ClCompile>
+      <AdditionalOptions>/std:c17 /MP $(AdditionalOptions)</AdditionalOptions>
       <WarningLevel>Level3</WarningLevel>
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
```

